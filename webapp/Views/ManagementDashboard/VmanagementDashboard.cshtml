<script src="~/Scripts/util/jsUtilCambioGuardia.js"></script>
<!--LIBRERIA PARA DATEPICKER-->
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Roboto:wght@100;300;400&display=swap" rel="stylesheet">

<link href="~/Content/plugin/datapicker/datepicker3.css" rel="stylesheet" />
<script src="~/Scripts/plugin/datapicker/bootstrap-datepicker.js"></script>
<!--LIBRERIA PARA CARGA DE ARCHIVOS-->
<script src="~/Scripts/bootstrap-filestyle.min.js"></script>
@*<script src="sweetalert2/dist/sweetalert2.min.js"></script>*@
<script src="~/Scripts/plugin/jsPDF/html2canvas.js"></script>
<script src="~/Scripts/plugin/jsPDF/canvas2image.js"></script>

@*<script src="~/Scripts/bootstrap-filestyle.min.js"></script>*@
<script src="//cdn.jsdelivr.net/npm/sweetalert2@11"></script>
@*<link href="~/Content/GraficoLineaTiempo/FindTicketStyles.css" rel="stylesheet" />
    <link href="~/Content/Autocomplete/Autocomplete.css" rel="stylesheet" />*@
<link href="~/Scripts/plugin/bootstrap-toggle-master/css/bootstrap-toggle.css" rel="stylesheet" />
<script src="~/Scripts/plugin/bootstrap-toggle-master/js/bootstrap-toggle.min.js"></script>


<script type="text/javascript">

    function anular(e) {

        tecla = (document.all) ? e.keyCode : e.which;
        return (tecla != 13);
    }
</script>

<style>

        .tg {
            border-collapse: collapse;
            border-spacing: 0;
            width:100%;
        }

        .tg td {
            border-color: black;
            border-style: solid;
            border-width: 1px;
            font-family: Arial, sans-serif;
            font-size: 12px;
            overflow: hidden;
            padding: 0px 0px;
            word-break: normal;
        }

        .tg th {
            border-color: black;
            border-style: solid;
            border-width: 1px;
            font-family: Arial, sans-serif;
            font-size: 12px;
            font-weight: normal;
            overflow: hidden;
            padding: 0px 0px;
            word-break: normal;
        }

        .tg .tg-0lax {
            text-align: left;
            vertical-align: top
        }

    .panel-group {
        margin-bottom: 0;
    }

        .panel-group .panel {
            border-radius: 0;
            box-shadow: none;
        }

            .panel-group .panel .panel-heading {
                padding: 0;
            }

                .panel-group .panel .panel-heading h4 a {
                    background: #e0e0e0;
                    display: block;
                    font-size: 12px;
                    font-weight: bold;
                    padding: 15px;
                    text-decoration: none;
                    transition: 0.15s all ease-in-out;
                }

                    .panel-group .panel .panel-heading h4 a:hover, .panel-group .panel .panel-heading h4 a:not(.collapsed) {
                        background: #fff;
                        transition: 0.15s all ease-in-out;
                    }

                        .panel-group .panel .panel-heading h4 a:not(.collapsed) i:before {
                            content: "‾";
                        }

                    .panel-group .panel .panel-heading h4 a i {
                        color: #999;
                    }

            .panel-group .panel .panel-body {
                padding-top: 0;
            }

            .panel-group .panel .panel-heading + .panel-collapse > .list-group,
            .panel-group .panel .panel-heading + .panel-collapse > .panel-body {
                border-top: none;
            }

            .panel-group .panel + .panel {
                border-top: none;
                margin-top: 0;
            }

    .colorAzul {
        background-color: #C2E1F8 !important;
        font-weight: bold !important;
    }

    .colorVerde {
        background-color: #ced !important;
    }

    .colorRojo {
        background-color: #FE8475;
    }

    .colorAmarillo {
        background-color: #FFDF6A;
    }

    #GrillaPuntosATratarDetalleArchivos .k-grid-content {
        max-height: 50vh;
    }

    #GrillaPuntosATratarDetalleArchivos th.k-header {
        text-align: center;
        font-size: 12px;
        font-weight: bold;
        font-family: Arial;
    }

    .swal2-popup {
        font-size: 1em !important;
    }

    .tablaFilas {
        padding: 8px;
        background: #e8edff;
        border-bottom: 2px solid #fff;
        /*        color: #669;*/
        border-top: 2px solid transparent;
    }

    .tablaFilaAgrupada {
        padding: 8px;
        font-weight: bold;
        border-bottom: 2px solid #fff;
        /*        color: #669;*/
        border-top: 2px solid transparent;
    }

    .tablaCabecera {
        /*        font-size: 13px;*/
        font-weight: bold;
        padding: 8px;
        border-top: 4px solid #F41D1D;
        border-bottom: 4px solid #fff;
        color: #ffffff;
        background: #ea6153;
    }

    .montoGrafico {
        font-weight: bold;
        font-size: 20px;
    }

    /*.circulo {
        width: 42px;
        height: 42px;
        -moz-border-radius: 50%;
        -webkit-border-radius: 50%;
        border-radius: 50%;
        background: #5cb85c;
        font-weight: bold;
        border: #0F6BF9 2px solid;
        color: white;
        margin: 1px;
    }*/

    .circulo {
        background: #d24444;
        border-radius: 3em;
        -moz-border-radius: 2em;
        -webkit-border-radius: 2em;
        color: #ffffff;
        display: inline-block;
        font-weight: bold;
        line-height: 3em;
        /*margin-right: 15px;*/
        margin-left: -15px;
        text-align: center;
        /*border: #0F6BF9 2px solid;*/
        cursor: pointer;
        width: 2.9em;
        height: 3em;
    }


    .BtnUno {
        margin: 5px;
        height: 80px;
        width: 180px;
        background-color: #2480d9;
        font-size: 14px;
        box-shadow: 5px 5px 5px 1px rgba(0,0,0,0.6);
        cursor: pointer;
        transition: 0.7s;
        color: #fff;
        border:none;
        /*display: grid;*/
        /*border: 2px solid black;*/
        /*place-content: center;*/
    }

    .BtnUno:hover {
        background-color: #1e6cb7;
        /*color:black;*/
    }

    .BtnDos {
        margin: 5px;
        height: 80px;
        width: 180px;
        background-color: #e42e2e;
        font-size: 14px;
        box-shadow: 5px 5px 5px 1px rgba(0,0,0,0.6);
        cursor: pointer;
        transition: 0.7s;
        color: #fff;
        border: none;
        /*display: grid;*/
        /*border: 2px solid black;*/
        /*place-content: center;*/
    }

    .BtnUno:hover {
        background-color: #1e6cb7;
        color:#fff;
    }

    .BtnDos:hover {
        background-color: #c01818;
        color: #fff;
    }

    .BtnTres:hover {
        background-color: #13a66a;
        color: #fff;
    }

    .BtnCuatro:hover {
        background-color: #d1b02d;
        color:#fff;
    }

    .BtnCuatro:hover {
        background-color: #d1b02d;
        color: #fff;
    }

    .BtnCinco:hover {
        background-color: #4e5ca1;
        color: #fff;
    }

    .BtnSeis:hover {
        background-color: #ececec;
        /*color: #fff;*/
    }

    .BtnTres {
        margin: 5px;
        height: 80px;
        width: 180px;
        background-color: #09ba72;
        font-size: 14px;
        box-shadow: 5px 5px 5px 1px rgba(0,0,0,0.6);
        transition: 0.7s;
        color: #fff;
        border: none;
        /*display: grid;*/
        /*border: 2px solid black;*/
        /*place-content: center;*/
    }

    .BtnCuatro {
        margin: 5px;
        height: 80px;
        width: 180px;
        background-color: #f1c204;
        font-size: 14px;
        box-shadow: 5px 5px 5px 1px rgba(0,0,0,0.6);
        transition: 0.7s;
        color: #fff;
        border: none;
        /*display: grid;*/
        /*border: 2px solid black;*/
        /*place-content: center;*/
    }

    .BtnCinco {
        margin: 5px;
        height: 80px;
        width: 180px;
        background-color: #7986CB;
        font-size: 14px;
        box-shadow: 5px 5px 5px 1px rgba(0,0,0,0.6);
        transition: 0.7s;
        color: #fff;
        border: none;
        /*display: grid;*/
        /*border: 2px solid black;*/
        /*place-content: center;*/
    }

    .BtnSeis {
        margin: 5px;
        height: 80px;
        width: 180px;
        background-color: white;
        font-size: 14px;
        box-shadow: 5px 5px 5px 1px rgba(0,0,0,0.6);
        transition: 0.7s;
  /*      color: #fff;*/
        border: 2px black solid;
        /*display: grid;*/
        /*border: 2px solid black;*/
        /*place-content: center;*/
    }

    .BtnEvento {
        margin: 5px;
        height: 80px;
        width: 228px;
        background-color: #e2e2e2;
        /*box-shadow: 5px 5px 5px 1px rgba(0,0,0,0.6);*/
        color: black;
        border: solid 2px black;
        border-radius: 5px;
        transition: 0.7s;
        /*display: grid;*/
        /*border: 2px solid black;*/
        /*place-content: center;*/
    }

    .BtnEventoClick {
        margin: 5px;
        height: 80px;
        width: 320px;
        background-color: #00b1fc;
        font-size: 20px;
        box-shadow: 5px 5px 5px 1px rgba(0,0,0,0.6);
        color: #fff;
        border: solid 2px #00b1fc;
        border-radius: 5px;
        /*transition: 0.7s;*/
        /*display: grid;*/
        /*border: 2px solid black;*/
        /*place-content: center;*/
    }


    .BtnEvento:hover {
        box-shadow: 5px 5px 5px 1px rgba(0,0,0,0.6);
        /*border-color: #00b1fc;*/
    }

    .BtnMyTickets {
        margin: 5px;
        height: 80px;
        width: 228px;
        color: #fff;
        background-color: #9CCC65;
        font-size: 20px;
        /*box-shadow: 5px 5px 5px 1px rgba(0,0,0,0.6);*/
        border: solid 2px black;
        border-radius: 5px;
        transition: 0.7s;
        /*display: grid;*/
        /*border: 2px solid black;*/
        /*place-content: center;*/
    }

    .BtnMyTickets:hover {
        box-shadow: 5px 5px 5px 1px rgba(0,0,0,0.6);
        /*border-color: #00b1fc;*/
    }
    /*.BtnEvento:active{
        background-color: #00b1fc;
        border-color: #00b1fc;
    }*/

    /*#ContainerGeneral0{

        display: flex;
        justify-content: center;
        align-items:center;
        height: 100vh;
    }

    .radio-tile-group{
        display: flex;
        flex-wrap: wrap;
        justify-content:center;
    }

    .input-container{
        position: relative;
        height: 7em;
        width: 7em;
        margin: 0.5rem;
    }

    .input-container input{
        position: absolute;
        height: 100%;
        width: 100%;
        margin:0;
        cursor: pointer;
        z-index: 2;
        opacity:0;
    }

    .input-container .radio-tile{
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        height: 100%;
        border: 2px solid black;
        border-radius: 8px;
        transition: all 300ms ease;
    }

     .input-container img{
         color: red;
     }*/

    /*LINEA DE TIEMPO*/

    .timeline {
        position: relative;
        width: 80%;
        height: 2px;
        background-color: #ccc;
        margin: 25px auto   ;
    }

    .event {
        position: absolute;
        top: -10px;
        display: flex;
        flex-direction: column;
        align-items: center;
    }

    .dot1 {
        width: 30px;
        height: 30px;
        border-radius: 50%;
        background-color: #009688;
        border: 2px solid black;
    }

    .dot2 {
        width: 30px;
        height: 30px;
        border-radius: 50%;
        background-color: #009688;
        border: 2px solid black;
    }

    .dot3 {
        width: 30px;
        height: 30px;
        border-radius: 50%;
        background-color: #009688;
        border: 2px solid black;
    }

    .detail {
        font-size: 12px;
        margin-top: 5px;
        white-space: nowrap;
    }

</style>

<div id="content" style="background-color: white">

    <div class="row hidden">
        <section class="col-xs-12 col-sm-12 col-md-5 col-lg-4">
            <h5><strong> Tipo de Ticket </strong></h5>
        </section>
    </div>

    <div class="well" style="padding: 0px 20px 20px 0px; background-color: white;">

        <div class="row">
            <section class="col-xs-12 col-sm-12 col-md-5 col-lg-12">

                <h2 title="Eventos" style="margin-left:20px"><i class="fa fa-info-circle"></i> [Eventos]</h2>

                <div>
                    <section class="col-xs-12 col-md-2" style="margin-right: 3.5%">
                        <button tabindex="8" class="BtnEvento" type="button" id="BtnFallaSistema" style="cursor:pointer">
                            <strong>
                                <span style="font-size:35px; margin-right: 70px">
                                    <img width="35" src="~/Content/img/system.png" style="margin-right:30px">
                                    <span id="lblEventFallasistema">0</span>
                                </span>
                            </strong>
                            <div style="margin-left:13px;margin-bottom:10px">
                                <p style="font-size:17px">Falla Sistema</p>
                            </div>
                        </button>
                    </section>
                    <section class="col-xs-12 col-md-2" style="margin-right: 3.5%">
                        <button tabindex="8" class=" BtnEvento" type="button" id="BtnMantenimientoProgramado">
                            <strong>
                                <span style="font-size:35px; margin-right: 70px">
                                    <img width="35" src="~/Content/img/project.png" style="margin-right:30px">
                                    <span id="lblEventMantenimientoProgramado">0</span>
                                </span>
                            </strong>
                            <div style="margin-left:13px;margin-bottom:10px">
                                <p style="font-size:17px">Mant. Programado</p>
                            </div>
                        </button>
                    </section>
                    <section class="col-xs-12 col-md-2" style="margin-right: 3.5% ">
                        <button tabindex="8" class=" BtnEvento" type="button" id="BtnRequerimiento">
                            <strong>
                                <span style="font-size:35px; margin-right: 70px">
                                    <img width="35" src="~/Content/img/project-management.png" style="margin-right:30px">
                                    <span id="lblEventRequerimiento">0</span>
                                </span>
                            </strong>
                            <div style="margin-left:13px;margin-bottom:10px">
                                <p style="font-size:17px">Requerimiento</p>
                            </div>
                        </button>
                    </section>
                    <section class="col-xs-12 col-md-2" style="margin-right: 3.5%">
                        <button tabindex="8" class=" BtnEvento" type="button" id="BtnNuevoProyecto">
                            <strong>
                                <span style="font-size:35px; margin-right: 70px">
                                    <img width="35" src="~/Content/img/project.png" style="margin-right:30px">
                                    <span id="lblEventNuevoProyecto">0</span>
                                </span>
                            </strong>
                            <div style="margin-left:13px;margin-bottom:10px">
                                <p style="font-size:17px">Nuevo Proyecto</p>
                            </div>
                        </button>
                    </section>
                    <section class="col-xs-12 col-md-2">
                        <button tabindex="8" class="BtnMyTickets" type="button" id="BtnMytickets">
                            <img width="40" src="~/Content/img/MyTickets.png">
                            <span id="lblEventMyTickets" style="margin-right:20px">Mis Tickets</span>
                        </button>
                    </section>
                </div>
            </section>
        </div>

    </div>

    @*
        <div class="row">
            <section class="col-xs-12 col-sm-12 col-md-5 col-lg-4">
                <div style="width: 100%;">
                    <input tabindex="7" type="radio" name="rdoRadioFilterSearchTicket" id="rdoSearchDate" checked="checked">
                    <label style="color: #2F4050;"><strong>Por Fecha </strong></label>
                    <input tabindex="7" type="radio" name="rdoRadioFilterSearchTicket" id="rdoSearchTicket" style="margin-left:30px">
                    <label style="color: #2F4050"><strong>Por Ticket </strong></label>
                    <input tabindex="7" type="radio" name="rdoRadioFilterSearchTicket" id="rdoSearchStatus" style="margin-left:30px">
                    <label style="color: #2F4050"><strong>Por Estado </strong></label>
                </div>
            </section>
        </div>*@

    <div class="well" style="padding: 0px 30px 10px 10px; background-color: white; ">
        <div class="row wrapper">
            <div style="width: 100%;
                    display: flex;
                    flex-direction: row;
                    flex-wrap: nowrap;
                    justify-content: space-between;
                    text-align: center;
                    align-items: center;
                    margin-left:20px;
                ">
                <h2 title="Registro de Ticket"><i class="fa fa-info-circle"></i> [Dashboard]</h2>
                @*<button class="btn btn-primary" type="button" id="btnRegisterTicket" title="Registro de Ticket"><i class="fa fa-plus"></i> Registro de Ticket</button>*@
            </div>

            <div>
                <section class="col-xs-12 col-md-2">
                    <button class="BtnUno" type="button" id="BtnDashboardNewTicket" style="cursor:pointer">
                        <img width="30" src="~/Content/img/Add2_Ticket.png">
                        <span>Nuevo Ticket</span>
                    </button>
                </section>
                <section class="col-xs-12 col-md-2" style="margin-left: 3px">
                    <button class="BtnDos" type="button" id="BtnDashboardListTicket">
                        <img width="30" src="~/Content/img/Ticket.png">
                        <span style="margin-right:20px">Ticket</span>
                    </button>
                </section>
                <section class="col-xs-12 col-md-2" style="margin-left:3px">
                    <button class="BtnTres" type="button" id="BtnDashboardTickerReport">
                        <img width="30" src="~/Content/img/Icon-List2.png">
                        <span>Reportabilidad</span>
                    </button>
                </section>
                <section class="col-xs-12 col-md-2" style="margin-left:3px">
                    <button class="BtnCuatro" type="button" id="BtnDashboardFiles">
                        <img width="35" src="~/Content/img/Icon-Files.png">
                        <span>Archivos Ticket</span>
                    </button>
                </section>
                <section class="col-xs-12 col-md-2" style="margin-left:3px">
                    <button class="BtnCinco" type="button" id="BtnDashboardActivities">
                        <img width="35" src="~/Content/img/Icon-Actividades.png">
                        <span>Actividades</span>
                    </button>
                </section>
                <section class="col-xs-12 col-md-1">
                    <button class="BtnSeis" type="button" id="BtnDashboardValidityTicket">
                        @*<img width="35" src="~/Content/img/Icon-Actividades.png">
                            <span>Reporte Vigencia Ticket</span>*@
                        <p style="font-weight:bold;font-size:14px">Alerta Ticket:</p>
                        <span><strong style="color:red">T0059 </strong>: Quedan 4 horas</span>
                        <span><strong style="color:red">T0060 </strong>: Quedan 2 horas</span>
                    </button>
                </section>
            </div>
        </div>
    </div>

    <div class="well ContainerActivitiesCritized" style="padding: 0px 30px 30px 30px; background-color: white;">

        <nav style="display:flex">
            <h2 title="Titulo de Criticidad" style="float:left;"><i class="fa fa fa-bell-o"></i> [ Criticidad ]</h2>
            <h2 title="Titulo de Actividades" style="float:left;margin-left:530px"><i class="fa fa fa-bell-o"></i>  [ Actividades ]</h2>
        </nav>


        <div class="row wrapper">
            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">

                <div class="col-xs-12 col-sm-6 col-md-6 col-lg-2 ResumenLineaVida">
                    <!--EN PROCESO-->
                    <div class="col-xs-12" style="margin-bottom:50px; height:200px;">
                        <div class="ibox float-e-margins clearfix" style="border: 2px solid #E72F24; padding: 5px 5px 5px 5px; background-color:#FBFBFB;">
                            <div class="">
                                <h6 class="hidden-md hidden-sm" style="font-weight:bold; font-style:italic;">Alta</h6>
                            </div>

                            <div id="btnTicketAltaCaducidad" style="height:50px;margin-left:70px">
                                <h4 style="font-style:italic"><span class="circulo" id="txtCantidadTicketAltaCaducidad">0</span></h4>
                            </div>
                            <div class="" style="height:70px">
                                <div style="display: flex;flex-flow: row wrap;justify-content: space-between">
                                    <span class="widget-icon" style="width:50px;">
                                        <img width="60" src="~/Content/img/iconosDashboard/alert_alta.png" />
                                    </span>
                                    <h1 class="" style="margin:11px;font-weight:bold;font-style:italic;font-size:32px" id="txtCantidadAltaTicket">0</h1>
                                </div>
                                @*<div id="lblCotizacionesPorFacturar"><i class="fa fa-ticket">0 Por Facturar</i></div>*@
                                <div style="visibility:hidden"><i class="fa fa-ticket"></i></div>
                            </div>

                            <div id="lblCotizacionesPorFacturar">
                                @*<span>
                                        <i style="font-weight:bold">CD </i>
                                        <i style="font-weight:bold">->15 </i>
                                    </span>
                                    <button class="btn btn-xs" id="btnCriticidadCaducidad" style="padding:0px 5px 0px 5px;border:2px;border-radius:3px;margin-left:0px;background-color:#e46565"><i class="fa fa-lg fa-fw fas fa-eye"></i></button>
                                    <span>
                                        <i style="font-weight:bold">PR </i>
                                        <i style="font-weight:bold">->5 </i>
                                    </span>
                                    <button class="btn btn-xs" id="" style="padding:0px 5px 0px 5px;border:2px;border-radius:3px;margin-left:0px;background-color:#ddda4b"><i class="fa fa-lg fa-fw fas fa-eye"></i></button>
                                    <span>
                                        <i style="font-weight:bold">PD </i>
                                        <i style="font-weight:bold">->12 </i>
                                    </span>
                                    <button class="btn btn-xs" id="" style="padding:0px 5px 0px 5px;border:2px;border-radius:3px;margin-left:0px;background-color:#96e267"><i class="fa fa-lg fa-fw fas fa-eye"></i></button>*@
                            </div>

                            <div class="row" style="margin-top:15px">
                                <button class="pull-right" id="btnCriticidadAlta" style="        font-size: 14px;
        font-weight: bold;
        background-color: #E8694F;
        color: white;
        border-radius: 8px;
        margin-right: 20px">
                                    Ver Detalle
                                </button>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="col-xs-12 col-sm-6 col-md-6 col-lg-2 ResumenLineaVida">
                    <!--FACTURACIÓN-->
                    <div class="col-xs-12" style="margin-bottom:50px;height:200px;">
                        <div class="ibox float-e-margins clearfix" style="border: 2px solid #faf211;padding: 5px 5px 5px 5px;background-color: #FBFBFB;">
                            <div class="">
                                <h6 style="font-weight:bold; font-style:italic;">Media</h6>
                            </div>
                            <div id="btnTicketMediaCaducidad" style="height:50px;margin-left:70px">
                                <h4><span class="circulo" style="background:#FDE600" id="txtCantidadTicketMediaCaducidad"><i>0</i></span></h4>
                            </div>
                            <div class="" style="height:70px">
                                <div style="display:flex;flex-flow:row wrap; justify-content:space-between">
                                    <span class="widget-icon" style="width:50px;">
                                        <img width="60" src="~/Content/img/iconosDashboard/alert_media.png" />
                                    </span>
                                    <h1 class="" style="margin:11px;font-weight:bold;font-style:italic;font-size:32px" id="txtCantidadMediaTicket"><i>0</i></h1>
                                </div>
                                <div style="visibility:hidden"><i class="fa fa-ticket"></i></div>
                                <div style="visibility:hidden"><i class="fa fa-ticket"></i></div>
                            </div>
                            <div class="row" style="margin-top:15px">
                                <button class="pull-right" id="btnCriticidadMedia" style="font-size:14px; font-weight:bold; background-color:#FDE600; color:white; border-radius:8px;margin-right:20px">Ver Detalle</button>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="col-xs-12 col-sm-6 col-md-6 col-lg-2 ResumenLineaVida">
                    <!--ALERTAS-->
                    <div class="col-xs-12" style="margin-bottom:50px;height:200px;">
                        <div class="ibox float-e-margins clearfix" style="border: 2px solid #46B9A3; padding: 5px 5px 5px 5px; background-color: #FBFBFB;">
                            <div class="">
                                <h6 style="font-weight:bold; font-style:italic;">Baja</h6>
                            </div>
                            <div id="btnTicketBajaCaducidad" style="height:50px;margin-left:70px">
                                <h4><span class="circulo" style="background:#46a042" id="txtCantidadTicketBajaCaducidad"><i>0</i></span></h4>
                            </div>
                            <div class="" style="height:70px">
                                <div style="        display: flex;
                                            flex-flow: row wrap;
                                            justify-content: space-between
                                         ">
                                    <span class="widget-icon" style="width: 50px;">
                                        <img width="60" src="~/Content/img/iconosDashboard/alert_baja.png" />
                                    </span>
                                    <h1 class="" style="margin:11px;font-weight:bold;font-style:italic;font-size:32px" id="txtCantidadBajaTicket"><i>0</i></h1>
                                </div>
                            </div>
                            <div class="row" style="margin-top:15px">
                                <button class="pull-right" id="btnCriticidadBaja" style="font-size:14px; font-weight:bold; background-color:#37C278; color:white; border-radius:8px;margin-right:20px">Ver Detalle</button>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="col-xs-12 col-sm-6 col-md-6 col-lg-2 ResumenLineaVida">
                    <!--CONTRATO-->
                    <div class="col-xs-12" style="margin-bottom: 10px;height: 200px;">
                        <div class="ibox float-e-margins clearfix" style="border: 2px solid #E72F24; padding: 5px 20px 5px 10px; background-color:#FBFBFB;">
                            <div class="">
                                <h6 style="font-weight:bold;font-style:italic;margin-bottom:39px">Actividades Caducadas</h6>
                            </div>
                            <div class="" style="height:70px">
                                <div style="display:flex;flex-flow:row wrap; justify-content:space-between">
                                    <span class="widget-icon" style="width:50px;">
                                        <img width="50" src="~/Content/img/iconosDashboard/alert.png" />
                                    </span>
                                    <h1 class="" style="padding:0px;font-weight:bold; font-style:italic;" id="txtCantidadActividadesCaducadasGeneral">0</h1>
                                </div>
                                <div style="visibility:hidden"><i class="fa fa-ticket"></i></div>
                                <div style="visibility:hidden"><i class="fa fa-ticket"></i></div>
                            </div>
                            <div class="row" style="margin-top:15px">
                                <button class="pull-right" id="btnVerDetalleActividadesCaducadas" style="font-size:14px; font-weight:bold; padding:1px 5px 1px 5px; background-color:#E8694F; color:white; border-radius:8px;">Ver Detalle</button>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="col-xs-12 col-sm-6 col-md-6 col-lg-2 ResumenLineaVida">

                    <!--COTIZACIONES-->
                    <div class="col-xs-12" style="margin-bottom:20px;height:200px;">
                        <div class="ibox float-e-margins clearfix" style="border: 2px solid #faf211; padding: 0px 20px 5px 10px; background-color:#FBFBFB;">
                            <div class="">
                                <h6 style="font-weight:bold; font-style:italic;margin-bottom:29px;font-size:13px">Actividades Cumplidas en la semana</h6>
                            </div>
                            <div class="">
                                <div style="display:flex;flex-flow:row wrap; justify-content:space-between">
                                    <span class="widget-icon" style="width:50px;">
                                        <img width="50" src="~/Content/img/iconosDashboard/alert.png" />
                                    </span>
                                    <h1 class="" style="padding:0px;font-weight:bold; font-style:italic;" id="txtCantidadTotalCompletas">0</h1>
                                </div>
                                @*<div class="" id="lblCotizacionesAprobadas"><i class="fa fa-ticket"></i>0 Aprobados</div>
                                    <div class="" id="lblCotizacionesNoAprobadas"><i class="fa fa-ticket"></i>0 No Aprobados</div>*@
                            </div>
                            <div class="row" style="margin-top: 20px">
                                <button class="pull-right" id="btnVerDetalleCompletadas" style="font-size:14px; font-weight:bold; padding:1px 5px 1px 5px; background-color:#FDE600; color:white; border-radius:8px;">Ver Detalle</button>
                            </div>
                        </div>
                    </div>

                </div>

                <div class="col-xs-12 col-sm-6 col-md-6 col-lg-2 ResumenLineaVida">
                    <!--ORDENES SIN COTIZACIONES-->
                    <div class="col-xs-12" style="margin-bottom:10px; height:200px;">
                        <div class="ibox float-e-margins clearfix" style="border: 2px solid #46B9A3;padding: 5px 20px 10px 10px;background-color: #FBFBFB;">
                            <div class="">
                                <h6 style="font-weight:bold;font-style:italic;margin-bottom:19px;font-size:13px">Tickets y Actividades Pendientes</h6>
                            </div>
                            <div class="" style="height:70px">
                                <div style="display:flex;flex-flow:row wrap; justify-content:space-between">
                                    <span class="widget-icon" style="width:50px;">
                                        <img width="50" src="~/Content/img/iconosDashboard/Activity-Icon.png" />
                                    </span>
                                    <h1 class="hidden" style="padding:0px;font-weight:bold; font-style:italic;" id="txtCantidadTotalActividades">0</h1>
                                </div>
                                <div style="visibility:hidden"><i class="fa fa-ticket"></i></div>
                                @*<div style="visibility:hidden"><i class="fa fa-ticket"></i></div>*@
                            </div>
                            <div class="row" style="margin-top:15px">
                                <button class="pull-right" id="btnVerDetallePendientes" style="font-size: 14px;
                                     font-weight: bold;
                                     /*padding: 1px 5px 1px 5px;*/
                                     background-color: #02B492;
                                     color: white;
                                     border-radius: 8px;">
                                    Ver Detalle
                                </button>
                            </div>
                        </div>
                    </div>
                </div>


            </div>
        </div>

    </div>

    <div class="ContainerReportNew hidden">

        <div class="well" style="padding: 0px 30px 30px 30px; background-color: white;">

            <div class="row">

                @*<section class="col-xs-12 col-sm-12 col-md-5 col-lg-3" style="margin-top:35px;margin-right:40px">
                        <label style="color: #2F4050"><strong>Tipo :</strong></label>
                        <div style="width: 100%;">
                            <input tabindex="7" type="radio" name="RdoTypeTicket" id="rdoJustTicket" checked="checked">
                            <label style="color: #2F4050;"><strong>Tickets Generales </strong></label>
                            <input tabindex="7" type="radio" name="RdoTypeTicket" id="rdoJustUserActivities" style="margin-left:30px">
                            <label style="color: #2F4050"><strong>Usuario Actividades </strong></label>
                        </div>
                    </section>*@

                <section class="col-xs-12 col-sm-12 col-md-5 col-lg-4" style="margin-top:35px">
                    <label style="color: #2F4050"><strong>Estado :</strong></label>
                    <div style="width: 100%;">
                        <input tabindex="7" type="radio" name="rdoRadioFilterStatusTicket" id="rdoPendienteStatusTicket" checked="checked">
                        <label style="color: #2F4050;"><strong>Pendiente </strong></label>
                        <input tabindex="7" type="radio" name="rdoRadioFilterStatusTicket" id="rdoOperadoStatusTicket" style="margin-left:30px" />
                        <label style="color: #2F4050"><strong>Operado </strong></label>
                        <input tabindex="7" type="radio" name="rdoRadioFilterStatusTicket" id="rdoCompletadoStatusTicket" style="margin-left:30px">
                        <label style="color: #2F4050"><strong>Completado </strong></label>
                        <input tabindex="7" type="radio" name="rdoRadioFilterStatusTicket" id="rdoAmbosStatusTicket" style="margin-left:30px">
                        <label style="color: #2F4050"><strong>Ambos </strong></label>
                    </div>
                </section>

                <section class="col-xs-12 col-sm-12 col-md-3 col-lg-3" style="margin-top:35px">
                    <label style="color: #2F4050"><strong>Responsable : </strong></label>
                    <div class="form-group">
                        <select id="selectorResponsibleStatusTicket" class="selectpicker" multiple data-selected-text-format="count > 3" data-live-search="true" data-width="100%" title="Selección múltiple" data-actions-box="true"></select>
                    </div>
                </section>

                <section class="col-xs-4 col-sm-4 col-md-1 col-lg-1" style="margin-top:35px">
                    <div style="margin-top:25px">
                        <button style="margin:0px;" tabindex="9" disabled class="btn btn-primary pull-right" type="submit" id="btnBuscarStatusTicket"><i class="fa fa-search"></i> Buscar</button>
                    </div>
                </section>
            </div>
        </div>

        <div id="widget-grid1" class="ContenedorReportabilidadTicket">
            <div class="row">
                <article class="col-xs-12 col-sm-12 col-md-6 col-lg-12  sortable-grid">
                    @*<div class="col-xs-12 clearfix no-padding">*@

                    <div class="jarviswidget jarviswidget-color-white" id="wid-id-rga1" style="border: 2px solid #2F4050;">
                        <header>
                            @*<span class="widget-icon"> <i class="fa fa-bar-chart-o"></i> </span>*@
                            <span class="widget-icon" style="width:50px;">
                                <img width="50" src="../Content/img/gifs/gif05.gif" />
                            </span>
                            <h2>
                                Tabla General de Tickets
                                <i class="icon-append fa fa-info-circle" style="color:blue; cursor:pointer; width:15px; height:15px;" id=""></i>
                            </h2>
                        </header>
                        <div style="border:none;">

                            <div class="widget-body no-padding">

                                <div class="col-xs-12 clearfix no-padding">
                                    <div id="ContainerticketAndResponsible" class="hidden"></div>

                                    <div class="spiner-example" id="imgCargaContainerTicketAndResponsible">
                                        @Html.Partial("../MensajesParciales/_MensajeCargandoDashboard")
                                    </div>
                                    <div class="hidden" id="msjErrorContainerTicketAndResponsible" style="margin: 30px;">
                                        @Html.Partial("../MensajesParciales/_MensajeError")
                                    </div>
                                    <div class="hidden" id="msjVacioContainerTicketAndResponsible" style="margin: 30px;">
                                        @Html.Partial("../MensajesParciales/_MensajeVacio")
                                    </div>
                                    <div class="hidden" id="msjErrorListarContainerTicketAndResponsible" style="margin: 30px;">
                                        @Html.Partial("../MensajesParciales/_MensajeErrorListar")
                                    </div>
                                    <div class="hidden" id="msjSuperaLimiteContainerTicketAndResponsible" style="margin:30px;">
                                        @Html.Partial("../MensajesParciales/_MensajeLimiteGraficas")
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </article>
            </div>
        </div>

        <!--<div id="widget-grid1" class="ContenedorReportabilidadUsuarioActividad hidden">
        <div class="row">
            <article class="col-xs-12 col-sm-12 col-md-6 col-lg-12  sortable-grid">-->
        @*<div class="col-xs-12 clearfix no-padding">*@

        <!--<div class="jarviswidget jarviswidget-color-white" id="wid-id-rgaX" style="border: 2px solid #2F4050;">
        <header>-->
        @*<span class="widget-icon"> <i class="fa fa-bar-chart-o"></i> </span>*@
        <!--<span class="widget-icon" style="width:50px;">
                                <img width="50" src="../Content/img/gifs/gif05.gif" />
                            </span>
                            <h2>
                                Tabla General Usuario Actividades
                                <i class="icon-append fa fa-info-circle" style="color:blue; cursor:pointer; width:15px; height:15px;" id="btnInfoGraficoZ"></i>
                            </h2>
                        </header>
                        <div style="border:none;">

                            <div class="widget-body no-padding">

                                <div class="col-xs-12 clearfix no-padding">
                                    <div id="ContainerUserActivities" class="hidden"></div>

                                    <div class="spiner-example" id="imgCargaContainerUserActivities">
                                        @Html.Partial("../MensajesParciales/_MensajeCargandoDashboard")
                                    </div>
                                    <div class="hidden" id="msjErrorContainerUserActivities" style="margin: 30px;">
                                        @Html.Partial("../MensajesParciales/_MensajeError")
                                    </div>
                                    <div class="hidden" id="msjVacioContainerUserActivities" style="margin: 30px;">
                                        @Html.Partial("../MensajesParciales/_MensajeVacio")
                                    </div>
                                    <div class="hidden" id="msjErrorListarContainerUserActivities" style="margin: 30px;">
                                        @Html.Partial("../MensajesParciales/_MensajeErrorListar")
                                    </div>
                                    <div class="hidden" id="msjSuperaLimiteContainerUserActivities" style="margin:30px;">
                                        @Html.Partial("../MensajesParciales/_MensajeLimiteGraficas")
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </article>
            </div>
        </div>-->
    </div>

    @*<div class="well" style="padding: 0px 30px 30px 30px; background-color: white;">*@

<div class="row">

    <!--<section class="col-xs-12 col-sm-12 col-md-2 col-lg-3">
        <label style="color: #2F4050"><strong>Desde: </strong><strong class="CampoRequerido">*</strong></label>
        <div class="input-group date">
            <input type="text" class="form-control hasDatepicker" id="txtFechaInicioCycle" name="txtFechaInicioCycle" value="" data-dateformat="dd/mm/yy">
            <span class="input-group-addon"><i class="fa fa-calendar"></i></span>
        </div>
    </section>-->
    <!--FECHA FIN-->
    <!--<section class="col-xs-12 col-sm-12 col-md-2 col-lg-3">
        <label style="color: #2F4050"><strong>Hasta: </strong><strong class="CampoRequerido">*</strong></label>
        <div class="input-group date">
            <input type="text" class="form-control hasDatepicker" id="txtFechaFinalCycle" name="txtFechaFinalCycle" value="" data-dateformat="dd/mm/yy">
            <span class="input-group-addon"><i class="fa fa-calendar"></i></span>
        </div>
    </section>-->
    <section class="col-xs-12 col-sm-12 col-md-6 col-lg-3" style="padding: 0px 10px 0px 25px">
        <label style="color: #2F4050"><strong>Por Año: </strong><strong class="CampoRequerido">*</strong></label>
        <div style="width: 100%; display:flex; flex-flow:row nowrap;">
            <select id="selectorCycleAño" class="selectpicker" multiple data-selected-text-format="count > 3" data-live-search="true" data-width="100%" title="Seleccionar Ticket" data-size="5" data-max-options="1" data-actions-box="false" data-style="btn-info">
                <option value="2018">2018</option>
                <option value="2019">2019</option>
                <option value="2020">2020</option>
                <option value="2021">2021</option>
                <option value="2022">2022</option>
                <option value="2023">2023</option>
                <option value="2024" selected>2024</option>
            </select>
        </div>
    </section>

    <section class="col-xs-12 col-sm-12 col-md-6 col-lg-3" style="padding: 0px 10px 0px 25px">
        <label style="color: #2F4050"><strong>Por Mes: </strong><strong class="CampoRequerido">*</strong></label>
        <div style="width: 100%; display:flex; flex-flow:row nowrap;">
            <select id="selectorCycleMes" class="selectpicker" multiple data-selected-text-format="count > 3" data-live-search="true" data-width="100%" title="Seleccionar Ticket" data-size="5" data-max-options="2" data-actions-box="false" data-style="btn-info">
                <option value="1" selected>Enero</option>
                <option value="2">Febrero</option>
                <option value="3">Marzo</option>
                <option value="4">Abril</option>
                <option value="5">Mayo</option>
                <option value="6">Junio</option>
                <option value="7">Julio</option>
                <option value="8">Agosto</option>
                <option value="9">Setiembre</option>
                <option value="10">Octubre</option>
                <option value="11">Noviembre</option>
                <option value="12">Diciembre</option>
            </select>
        </div>
    </section>

    <section class="col-xs-4 col-sm-4 col-md-1 col-lg-1" style="margin-bottom:15px">
        <div style="margin-top:25px">
            <button style="margin:0px;" tabindex="9" disabled class="btn btn-primary pull-right" type="submit" id="btnBuscarCycle"><i class="fa fa-search"></i> Buscar</button>
        </div>
    </section>
</div>
    @*</div>*@

    <div id="widget-gridX">
        <div class="row">
            <article class="col-xs-12 col-sm-12 col-md-6 col-lg-12 sortable-grid">
                @*<div class="col-xs-12 clearfix no-padding">*@

                <div class="jarviswidget jarviswidget-color-white" id="wid-id-rgaX" style="border: 2px solid #2F4050;">
                    <header>
                        @*<span class="widget-icon"> <i class="fa fa-bar-chart-o"></i> </span>*@
                        <span class="widget-icon" style="width:50px;">
                            <img width="50" src="../Content/img/gifs/gif05.gif" />
                        </span>
                        <h2>
                            Gráfico de Estado de Tickets por Ciclo
                            <i class="icon-append fa fa-info-circle" style="color:blue; cursor:pointer; width:15px; height:15px;" id=""></i>
                        </h2>
                    </header>
                    <div style="border:none;">

                        <div class="widget-body no-padding">

                            <div class="col-xs-12 clearfix no-padding">
                                <div id="ContainerTickeStatustXCicle" class="hidden" style="width:100%; height:500px;"></div>
                                <div id="customTooltip" style="display: flex; flex-direction: column; flex-wrap: wrap; align-content: center; "></div>
                                <div class="spiner-example" id="imgCargaContainerTickeStatustXCicle">
                                    @Html.Partial("../MensajesParciales/_MensajeCargandoDashboard")
                                </div>
                                <div class="hidden" id="msjErrorContainerTickeStatustXCicle" style="margin: 30px;">
                                    @Html.Partial("../MensajesParciales/_MensajeError")
                                </div>
                                <div class="hidden" id="msjVacioContainerTickeStatustXCicle" style="margin: 30px;">
                                    @Html.Partial("../MensajesParciales/_MensajeVacio")
                                </div>
                                <div class="hidden" id="msjErrorListarContainerTickeStatustXCicle" style="margin: 30px;">
                                    @Html.Partial("../MensajesParciales/_MensajeErrorListar")
                                </div>
                                <div class="hidden" id="msjSuperaLimiteContainerTickeStatustXCicle" style="margin:30px;">
                                    @Html.Partial("../MensajesParciales/_MensajeLimiteGraficas")
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </article>
        </div>
    </div>

    <div class="row">
        <section class="col-xs-12 col-sm-12 col-md-5 col-lg-4">
            <div style="width: 100%;">
                <input tabindex="7" type="radio" name="rdoRadioPendienteCompleto" id="rdoPendiente" checked="checked">
                <label style="color: #2F4050;"><strong>Pendiente </strong></label>
                <input tabindex="7" type="radio" name="rdoRadioPendienteCompleto" id="rdoOperando" style="margin-left:30px">
                <label style="color: #2F4050;"><strong>Operando </strong></label>
                <input tabindex="7" type="radio" name="rdoRadioPendienteCompleto" id="rdoCompleto" style="margin-left:30px">
                <label style="color: #2F4050"><strong>Completado </strong></label>
                <input tabindex="7" type="radio" name="rdoRadioPendienteCompleto" id="rdoAmbos" style="margin-left:30px">
                <label style="color: #2F4050"><strong>Ambos </strong></label>
            </div>
        </section>
    </div>
    @*<div div class="well" style="padding: 0px 30px 30px 30px;background-color: white;">*@
    <div class="row" style="padding: 0px 30px 30px 0px">
        <!--FECHA INICIO-->
        <section class="col-xs-12 col-sm-12 col-md-2 col-lg-3">
            <label style="color: #2F4050"><strong>Desde: </strong><strong class="CampoRequerido">*</strong></label>
            <div class="input-group date">
                <input type="text" class="form-control hasDatepicker" id="txtFechaInicioDash" name="txtFechaInicioDash" value="" data-dateformat="dd/mm/yy">
                <span class="input-group-addon"><i class="fa fa-calendar"></i></span>
            </div>
        </section>

        <!--FECHA FIN-->
        <section class="col-xs-12 col-sm-12 col-md-2 col-lg-3">
            <label style="color: #2F4050"><strong>Hasta: </strong><strong class="CampoRequerido">*</strong></label>
            <div class="input-group date">
                <input type="text" class="form-control hasDatepicker" id="txtFechaFinalDash" name="txtFechaFinalDash" value="" data-dateformat="dd/mm/yy">
                <span class="input-group-addon"><i class="fa fa-calendar"></i></span>
            </div>
        </section>

        <section class="col-xs-4 col-sm-4 col-md-1 col-lg-1">
            <div style="margin-top:25px">
                <button style="margin:0px;" tabindex="9" class="btn btn-primary pull-right" type="submit" id="btnBuscar"><i class="fa fa-search"></i> Buscar</button>
            </div>
        </section>

    </div>
    @*</div>*@

    <div id="widget-grid2">
        <div class="row">

            <article class="col-xs-12 col-sm-12 col-md-6 col-lg-6  sortable-grid">
                <div class="jarviswidget jarviswidget-color-white" id="wid-id-rga-1" style="border: 2px solid #2F4050;">
                    <header>
                        @*<span class="widget-icon"> <i class="fa fa-bar-chart-o"></i> </span>*@
                        <span class="widget-icon" style="width:50px;">
                            <img width="50" src="../Content/img/gifs/gif05.gif" />
                        </span>
                        <h2>
                            Grafico de Ticket X Operación
                            <i class="icon-append fa fa-info-circle" style="color:blue; cursor:pointer; width:15px; height:15px;" id="btnInfoGrafico1"></i>
                        </h2>
                    </header>
                    <div style="border:none;">

                        <div class="widget-body no-padding">

                            <div class="col-xs-12 clearfix no-padding">
                                <div id="grGraficaTicketXOperacion" class="hidden" style="width:100%; height:300px;"></div>
                                <div class="spiner-example" id="imgCargaGraficaTicketXOperacion">
                                    @Html.Partial("../MensajesParciales/_MensajeCargandoDashboard")
                                </div>
                                <div class="hidden" id="msjErrorGraficaTicketXOperacion" style="margin:30px;">
                                    @Html.Partial("../MensajesParciales/_MensajeError")
                                </div>
                                <div class="hidden" id="msjVacioGraficaTicketXOperacion" style="margin: 30px;">
                                    @Html.Partial("../MensajesParciales/_MensajeVacio")
                                </div>
                                <div class="hidden" id="msjErrorListarGraficaTicketXOperacion" style="margin: 30px;">
                                    @Html.Partial("../MensajesParciales/_MensajeErrorListar")
                                </div>
                                <div class="hidden" id="msjSuperaLimiteGraficaTicketXOperacion" style="margin:30px;">
                                    @Html.Partial("../MensajesParciales/_MensajeLimiteGraficas")
                                </div>
                            </div>
                        </div>
                        <div style="width:100%; margin-bottom:15px;" id="ContenedorExGrafica1" class="hidden clearfix">
                            <button tabindex="9" class="btn btn-info pull-right" type="button" id="btnExGrafica1" name="btnExGrafica1"><i class="fa fa-file-pdf-o"></i> Exportar</button>
                        </div>
                    </div>
                </div>
            </article>

            <article class="col-xs-12 col-sm-12 col-md-6 col-lg-6  sortable-grid">
                <div class="jarviswidget jarviswidget-color-white" id="wid-id-rga-2" style="border: 2px solid #2F4050;">
                    <header>
                        @*<span class="widget-icon"> <i class="fa fa-bar-chart-o"></i> </span>*@
                        <span class="widget-icon" style="width:50px;">
                            <img width="50" src="../Content/img/gifs/gif05.gif" />
                        </span>
                        <h2>
                            Grafico de Ticket por Meses
                            <i class="icon-append fa fa-info-circle" style="color:blue; cursor:pointer; width:15px; height:15px;" id="btnInfoGrafico1X"></i>
                        </h2>
                    </header>
                    <div style="border:none;">
                        <div class="widget-body no-padding">
                            <div class="col-xs-12 clearfix no-padding">
                                <div id="grGraficaTicketByMes" class="hidden" style="width:100%; height:300px;"></div>
                                <div class="spiner-example" id="imgCargaGraficaTicketByMes">
                                    @Html.Partial("../MensajesParciales/_MensajeCargandoDashboard")
                                </div>
                                <div class="hidden" id="msjErrorGraficaTicketByMes" style="margin:30px;">
                                    @Html.Partial("../MensajesParciales/_MensajeError")
                                </div>
                                <div class="hidden" id="msjVacioGraficaTicketByMes" style="margin: 30px;">
                                    @Html.Partial("../MensajesParciales/_MensajeVacio")
                                </div>
                                <div class="hidden" id="msjErrorListarGraficaTicketByMes" style="margin: 30px;">
                                    @Html.Partial("../MensajesParciales/_MensajeErrorListar")
                                </div>
                                <div class="hidden" id="msjSuperaLimiteGraficaTicketByMes" style="margin:30px;">
                                    @Html.Partial("../MensajesParciales/_MensajeLimiteGraficas")
                                </div>
                            </div>
                        </div>
                        <div style="width:100%; margin-bottom:15px;" id="ContenedorExGraficaXZ" class="hidden clearfix">
                            <button tabindex="9" class="btn btn-info pull-right" type="button" id="btnExGraficaXZ" name="btnExGraficaXZ"><i class="fa fa-file-pdf-o"></i> Exportar</button>
                        </div>
                    </div>
                </div>
            </article>


            <article class="col-xs-12 col-sm-12 col-md-6 col-lg-6  sortable-grid">
                <div class="jarviswidget jarviswidget-color-white" id="wid-id-rga-2" style="border: 2px solid #2F4050;">
                    <header>
                        @*<span class="widget-icon"> <i class="fa fa-bar-chart-o"></i> </span>*@
                        <span class="widget-icon" style="width:50px;">
                            <img width="50" src="../Content/img/gifs/gif05.gif" />
                        </span>
                        <h2>
                            Grafico de Actividad X Ticket
                            <i class="icon-append fa fa-info-circle" style="color:blue; cursor:pointer; width:15px; height:15px;" id="btnInfoGrafico10"></i>
                        </h2>
                    </header>
                    <div style="border:none;">

                        <div class="widget-body no-padding">

                            <div class="col-xs-12 clearfix no-padding">
                                <div id="grGraficaActividadesXTicket" class="hidden" style="width:100%; height:300px;"></div>
                                <div class="spiner-example" id="imgCargaGraficaActividadesXTicket">
                                    @Html.Partial("../MensajesParciales/_MensajeCargandoDashboard")
                                </div>
                                <div class="hidden" id="msjErrorGraficaActividadesXTicket" style="margin:30px;">
                                    @Html.Partial("../MensajesParciales/_MensajeError")
                                </div>
                                <div class="hidden" id="msjVacioGraficaActividadesXTicket" style="margin: 30px;">
                                    @Html.Partial("../MensajesParciales/_MensajeVacio")
                                </div>
                                <div class="hidden" id="msjErrorListarGraficaActividadesXTicket" style="margin: 30px;">
                                    @Html.Partial("../MensajesParciales/_MensajeErrorListar")
                                </div>
                                <div class="hidden" id="msjSuperaLimiteGraficaActividadesXTicket" style="margin:30px;">
                                    @Html.Partial("../MensajesParciales/_MensajeLimiteGraficas")
                                </div>
                            </div>
                        </div>
                        <div style="width:100%; margin-bottom:15px;" id="ContenedorExGrafica2" class="hidden clearfix">
                            <button tabindex="9" class="btn btn-info pull-right" type="button" id="btnExGrafica2" name="btnExGrafica2"><i class="fa fa-file-pdf-o"></i> Exportar</button>
                        </div>
                    </div>
                </div>
            </article>

            <div class="row col-xs-12 col-sm-12 col-md-6 col-lg-12 hidden" style="padding: 0px 30px 10px 0px;">
                <section class="col-xs-12 col-sm-12 col-md-6 col-lg-3" style="padding: 0px 10px 0px 25px">
                    <label style="color: #2F4050"><strong>Nro Ticket: </strong><strong class="CampoRequerido">*</strong></label>
                    <div style="width: 100%; display:flex; flex-flow:row nowrap;">
                        <select id="selectorTicketGrafico" class="selectpicker" multiple data-selected-text-format="count > 3" data-live-search="true" data-width="100%" title="Seleccionar Ticket" data-size="5" data-max-options="1" data-actions-box="false" data-style="btn-info"></select>
                        <button style="width:50px;" tabindex="9" class="btn btn-primary" type="submit" id="btnBuscarTicketActividad"><i class="icon-append fa fa-search"></i></button>
                    </div>
                </section>
            </div>

            <article class="col-xs-12 col-sm-12 col-md-6 col-lg-6 hidden sortable-grid">
                <div class="jarviswidget jarviswidget-color-white" id="wid-id-rga-3" style="border: 2px solid #2F4050;">
                    <header>
                        <span class="widget-icon" style="width:50px;">
                            <img width="50" src="../Content/img/gifs/gif05.gif" />
                        </span>
                        <h2>Grafico de Avance Porcentual de cada Responsable<i class="icon-append fa fa-info-circle" style="color:blue; cursor:pointer; width:15px; height:15px;" id="btnInfoGrafico11"></i></h2>
                    </header>
                    <div style="border:none;  padding-bottom:10px;">

                        <div class="widget-body no-padding">

                            <div class="col-xs-12 clearfix no-padding">
                                @*<div class="chartWrapper">
                                    <div id="chartAreaWrapper" style="overflow: hidden; width: 100%;">*@
                                <div id="grGraficaTicketXActividad" class="hidden" style="width:100%;height:400px;"></div>
                                @*</div>
                                    </div>*@
                                <div class="spiner-example" id="imgCargaGraficaTicketXActividad">
                                    @Html.Partial("../MensajesParciales/_MensajeCargandoDashboard")
                                </div>
                                <div class="hidden" id="msjErrorGraficaTicketXActividad" style="margin: 30px;">
                                    @Html.Partial("../MensajesParciales/_MensajeError")
                                </div>
                                <div class="hidden" id="msjVacioGraficaTicketXActividad" style="margin: 30px;">
                                    @Html.Partial("../MensajesParciales/_MensajeVacio")
                                </div>
                                <div class="hidden" id="msjErrorListarGraficaTicketXActividad" style="margin: 30px;">
                                    @Html.Partial("../MensajesParciales/_MensajeErrorListar")
                                </div>
                                <div class="hidden" id="msjSuperaLimiteGraficaTicketXActividad" style="margin:30px;">
                                    @Html.Partial("../MensajesParciales/_MensajeLimiteGraficas")
                                </div>
                            </div>
                        </div>
                        <div style="margin-left:5px; margin-right:5px; margin-bottom:30px; padding-bottom:15px; padding-top:5px;" id="ContenedorExGrafica7" class="hidden clearfix">
                            <button tabindex="9" class="btn btn-info pull-right" type="button" id="btnExGrafica7" name="btnExGrafica7"><i class="fa fa-file-pdf-o"></i> Exportar</button>
                        </div>
                    </div>
                </div>
            </article>

            <article class="col-xs-12 col-sm-12 col-md-6 col-lg-6  sortable-grid">
                <div class="jarviswidget jarviswidget-color-white" id="wid-id-rga-4" style="border: 2px solid #2F4050;">
                    <header>
                        <span class="widget-icon" style="width:50px;">
                            <img width="50" src="../Content/img/gifs/gif05.gif" />
                        </span>
                        <h2>Gráfico de Tickets X Responsable<i class="icon-append fa fa-info-circle" style="color:blue; cursor:pointer; width:15px; height:15px;" id="btnInfoGrafico11"></i></h2>
                    </header>
                    <div style="border:none;  padding-bottom:10px;">

                        <div class="widget-body no-padding">

                            <div class="col-xs-12 clearfix no-padding">
                                @*<div class="chartWrapper">
                                    <div id="chartAreaWrapper" style="overflow: hidden; width: 100%;">*@
                                <div id="grGraficaActividadesXUsuario" class="hidden" style="width:100%;height:300px;"></div>
                                @*</div>
                                    </div>*@
                                <div class="spiner-example" id="imgCargaGraficaActividadesXUsuario">
                                    @Html.Partial("../MensajesParciales/_MensajeCargandoDashboard")
                                </div>
                                <div class="hidden" id="msjErrorGraficaActividadesXUsuario" style="margin: 30px;">
                                    @Html.Partial("../MensajesParciales/_MensajeError")
                                </div>
                                <div class="hidden" id="msjVacioGraficaActividadesXUsuario" style="margin: 30px;">
                                    @Html.Partial("../MensajesParciales/_MensajeVacio")
                                </div>
                                <div class="hidden" id="msjErrorListarGraficaActividadesXUsuario" style="margin: 30px;">
                                    @Html.Partial("../MensajesParciales/_MensajeErrorListar")
                                </div>
                                <div class="hidden" id="msjSuperaLimiteGraficaActividadesXUsuario" style="margin:30px;">
                                    @Html.Partial("../MensajesParciales/_MensajeLimiteGraficas")
                                </div>
                            </div>
                        </div>
                        <div style="margin-left:5px; margin-right:5px; margin-bottom:30px; padding-bottom:15px; padding-top:5px;" id="ContenedorExGrafica3" class="hidden clearfix">
                            <button tabindex="9" class="btn btn-info pull-right" type="button" id="btnExGrafica3" name="btnExGrafica3"><i class="fa fa-file-pdf-o"></i> Exportar</button>
                        </div>
                    </div>
                </div>
            </article>


            <article class="col-xs-12 col-sm-12 col-md-6 col-lg-12  sortable-grid hidden">
                <div class="jarviswidget jarviswidget-color-white" id="wid-id-rga4" style="border: 2px solid #2F4050;">
                    <header>
                        <span class="widget-icon" style="width:50px;">
                            <img width="50" src="../Content/img/gifs/gif05.gif" />
                        </span>
                        <h2>Gráfico de Actividades X Usuario ASSAC<i class="icon-append fa fa-info-circle" style="color:blue; cursor:pointer; width:15px; height:15px;" id="btnInfoGrafico11"></i></h2>
                    </header>
                    <div style="border:none;  padding-bottom:10px;">

                        <div class="widget-body no-padding">

                            <div class="col-xs-12 clearfix no-padding">
                                <div class="chartWrapper2">
                                    <div id="chartAreaWrapper2" style="overflow: hidden; width: 100%;">
                                        <div id="grGraficaActividadesXUsuarioASSAC" class="hidden" style="width:100%; height:890px;"></div>
                                    </div>
                                </div>
                                <div class="spiner-example" id="imgCargaGraficaActividadesXUsuarioASSAC">
                                    @Html.Partial("../MensajesParciales/_MensajeCargandoDashboard")
                                </div>
                                <div class="hidden" id="msjErrorGraficaActividadesXUsuarioASSAC" style="margin: 30px;">
                                    @Html.Partial("../MensajesParciales/_MensajeError")
                                </div>
                                <div class="hidden" id="msjVacioGraficaActividadesXUsuarioASSAC" style="margin: 30px;">
                                    @Html.Partial("../MensajesParciales/_MensajeVacio")
                                </div>
                                <div class="hidden" id="msjErrorListarGraficaActividadesXUsuarioASSAC" style="margin: 30px;">
                                    @Html.Partial("../MensajesParciales/_MensajeErrorListar")
                                </div>
                                <div class="hidden" id="msjSuperaLimiteGraficaActividadesXUsuarioASSAC" style="margin:30px;">
                                    @Html.Partial("../MensajesParciales/_MensajeLimiteGraficas")
                                </div>
                            </div>
                        </div>
                        <div style="margin-left:5px; margin-right:5px; margin-bottom:30px; padding-bottom:15px; padding-top:5px;" id="ContenedorExGrafica4" class="hidden">
                            <button tabindex="9" class="btn btn-info pull-right" type="button" id="btnExGrafico4" name="btnExGrafica4"><i class="fa fa-file-pdf-o"></i> Exportar</button>
                        </div>
                    </div>
                </div>
            </article>

            <!------------GRÁFICA 10: GRÁFICA PIE - Programado Vs No Programado --------------------------->
            <article class="col-xs-12 col-sm-12 col-md-6 col-lg-6  sortable-grid hidden">
                <div class="jarviswidget jarviswidget-color-white" id="wid-id-rga5" style="border: 2px solid #2F4050;">
                    <header>
                        @*<span class="widget-icon"> <i class="fa fa-bar-chart-o"></i> </span>*@
                        <span class="widget-icon" style="width:50px;">
                            <img width="50" src="../Content/img/gifs/gif05.gif" />
                        </span>
                        <h2>
                            Grafico de Actividad X Operación
                            <i class="icon-append fa fa-info-circle" style="color:blue; cursor:pointer; width:15px; height:15px;" id=""></i>
                        </h2>
                    </header>
                    <div style="border:none;">

                        <div class="widget-body no-padding">

                            <div class="col-xs-12 clearfix no-padding">
                                <div id="grGraficaActividadesXOperacion" class="hidden" style="width:100%; height:300px;"></div>
                                <div class="spiner-example" id="imgCargaGraficaActividadesXOperacion">
                                    @Html.Partial("../MensajesParciales/_MensajeCargandoDashboard")
                                </div>
                                <div class="hidden" id="msjErrorGraficaActividadesXOperacion" style="margin:30px;">
                                    @Html.Partial("../MensajesParciales/_MensajeError")
                                </div>
                                <div class="hidden" id="msjVacioGraficaActividadesXOperacion" style="margin: 30px;">
                                    @Html.Partial("../MensajesParciales/_MensajeVacio")
                                </div>
                                <div class="hidden" id="msjErrorListarGraficaActividadesXOperacion" style="margin: 30px;">
                                    @Html.Partial("../MensajesParciales/_MensajeErrorListar")
                                </div>
                                <div class="hidden" id="msjSuperaLimiteGraficaActividadesXOperacion" style="margin:30px;">
                                    @Html.Partial("../MensajesParciales/_MensajeLimiteGraficas")
                                </div>
                            </div>
                        </div>
                        <div style="width:100%; margin-bottom:15px;" id="ContenedorExGrafica5" class="hidden clearfix">
                            <button tabindex="9" class="btn btn-info pull-right" type="button" id="btnExGrafica5" name="btnExGrafica5"><i class="fa fa-file-pdf-o"></i> Exportar</button>
                        </div>
                    </div>
                </div>
            </article>



            <!------------GRÁFICA 11: GRÁFICA BARRA - CANTIDAD POR MOTIVO DE LLENADO --------------------------->
            <article class="col-xs-12 col-sm-12 col-md-6 col-lg-6  sortable-grid hidden">
                <div class="jarviswidget jarviswidget-color-white" id="wid-id-rga6" style="border: 2px solid #2F4050;">
                    <header>
                        <span class="widget-icon" style="width:50px;">
                            <img width="50" src="../Content/img/gifs/gif05.gif" />
                        </span>
                        <h2>Gráfico de Barra Actividad X Operación<i class="icon-append fa fa-info-circle" style="color:blue; cursor:pointer; width:15px; height:15px;" id="btnInfoGrafico11"></i></h2>
                    </header>
                    <div style="border:none;  padding-bottom:10px;">

                        <div class="widget-body no-padding">

                            <div class="col-xs-12 clearfix no-padding">
                                <div id="grGraficaActividadesXOperacionBarra" class="hidden" style="width:100%; height:400px;"></div>

                                <div class="spiner-example" id="imgCargagrGraficaActividadesXOperacionBarra">
                                    @Html.Partial("../MensajesParciales/_MensajeCargandoDashboard")
                                </div>
                                <div class="hidden" id="msjErrorgrGraficaActividadesXOperacionBarra" style="margin: 30px;">
                                    @Html.Partial("../MensajesParciales/_MensajeError")
                                </div>
                                <div class="hidden" id="msjVaciogrGraficaActividadesXOperacionBarra" style="margin: 30px;">
                                    @Html.Partial("../MensajesParciales/_MensajeVacio")
                                </div>
                                <div class="hidden" id="msjErrorListargrGraficaActividadesXOperacionBarra" style="margin: 30px;">
                                    @Html.Partial("../MensajesParciales/_MensajeErrorListar")
                                </div>
                                <div class="hidden" id="msjSuperaLimitegrGraficaActividadesXOperacionBarra" style="        margin: 30px;
">
                                    @Html.Partial("../MensajesParciales/_MensajeLimiteGraficas")
                                </div>
                            </div>
                        </div>
                        @*<div style="margin-left:5px; margin-right:5px; margin-bottom:30px; padding-bottom:15px; padding-top:5px;" id="ContenedorExGrafica2" class="hidden clearfix">
                                <button tabindex="9" class="btn btn-info pull-right" type="button" id="btnExGrafica2" name="btnExGrafica2"><i class="fa fa-file-pdf-o"></i> Exportar</button>
                            </div>*@
                        <div style="width: 100%; margin-bottom: 5px;" id="ContenedorExGrafica6" class="hidden clearfix">
                            <button tabindex="9" class="btn btn-info pull-right" type="button" id="btnExGrafica6" name="btnExGrafica6"><i class="fa fa-file-pdf-o"></i> Exportar</button>
                        </div>
                    </div>
                </div>
            </article>




        </div>
    </div>

    <hr>

    <div class="row" id="ContenedorGraficoVegencia" style="padding: 0px 30px 30px 0px">
        <!--FECHA INICIO-->
        <section class="col-xs-12 col-sm-12 col-md-2 col-lg-3 hidden">
            <label style="color: #2F4050"><strong>Desde: </strong><strong class="CampoRequerido">*</strong></label>
            <div class="input-group date">
                <input type="text" class="form-control hasDatepicker" id="txtFechaInicioValidityTicket" name="txtFechaInicioValidityTicket" value="" data-dateformat="dd/mm/yy">
                <span class="input-group-addon"><i class="fa fa-calendar"></i></span>
            </div>
        </section>

        <!--FECHA FIN-->
        <section class="col-xs-12 col-sm-12 col-md-2 col-lg-3 hidden">
            <label style="color: #2F4050"><strong>Hasta: </strong><strong class="CampoRequerido">*</strong></label>
            <div class="input-group date">
                <input type="text" class="form-control hasDatepicker" id="txtFechaFinalValidityTicket" name="txtFechaFinalValidityTicket" value="" data-dateformat="dd/mm/yy">
                <span class="input-group-addon"><i class="fa fa-calendar"></i></span>
            </div>
        </section>

        <section class="col-xs-12 col-sm-12 col-md-5 col-lg-3" style="margin-top:30px">
            <div style="width: 100%;">
                <input tabindex="7" type="radio" name="rdoRadioPlatMov2" id="rdoPlatform" checked="checked">
                <label style="color: #2F4050;"><strong>Plataforma </strong></label>
                <input tabindex="7" type="radio" name="rdoRadioPlatMov2" id="rdoMovil" style="margin-left:30px">
                <label style="color: #2F4050;"><strong>Movil </strong></label>
                <input tabindex="7" type="radio" name="rdoRadioPlatMov2" id="rdoAmbos" style="margin-left:30px">
                <label style="color: #2F4050"><strong>Ambos </strong></label>
            </div>
        </section>

        <section class="col-xs-12 col-sm-12 col-md-3 col-lg-3">
            <label style="color: #2F4050"><strong>Operación: </strong></label>
            <div class="form-group">
                <select id="selectorOperacionValidity" class="selectpicker" multiple data-selected-text-format="count < 3" data-live-search="true" data-width="100%" data-size="5" title="Selección múltiple" data-actions-box="true"></select>
            </div>
        </section>

        <section class="col-xs-4 col-sm-4 col-md-1 col-lg-1">
            <div style="margin-top:25px">
                <button style="margin:0px;" tabindex="9" class="btn btn-primary pull-right" type="button" id="btnBuscarVT1"><i class="fa fa-search"></i> Buscar</button>
            </div>
        </section>

    </div>

    <div class="row hidden">
        <article class="col-xs-12 col-sm-12 col-md-6 col-lg-12  sortable-grid">
            <div class="jarviswidget jarviswidget-color-white" id="wid-id-rgaVT1" style="border: 2px solid #2F4050;">
                <header>
                    @*<span class="widget-icon"> <i class="fa fa-bar-chart-o"></i> </span>*@
                    <span class="widget-icon" style="width:50px;">
                        <img width="50" src="../Content/img/gifs/gif05.gif" />
                    </span>
                    <h2>
                        Grafico de Estado Ticket
                        <i class="icon-append fa fa-info-circle" style="color:blue; cursor:pointer; width:15px; height:15px;" id="btnInfoGrafico1"></i>
                    </h2>
                </header>
                <div style="border:none;">

                    <div class="widget-body no-padding">

                        <div class="col-xs-12 clearfix no-padding">
                            <div id="grGraficaValidityStatusTicket" class="hidden" style="width: 100%; height: 400px;"></div>
                            <div class="spiner-example" id="imgCargaGraficaValidityStatusTicket">
                                @Html.Partial("../MensajesParciales/_MensajeCargandoDashboard")
                            </div>
                            <div class="hidden" id="msjErrorGraficaValidityStatusTicket" style="margin:30px;">
                                @Html.Partial("../MensajesParciales/_MensajeError")
                            </div>
                            <div class="hidden" id="msjVacioGraficaValidityStatusTicket" style="margin: 30px;">
                                @Html.Partial("../MensajesParciales/_MensajeVacio")
                            </div>
                            <div class="hidden" id="msjErrorListarGraficaValidityStatusTicket" style="margin: 30px;">
                                @Html.Partial("../MensajesParciales/_MensajeErrorListar")
                            </div>
                            <div class="hidden" id="msjSuperaLimiteGraficaValidityStatusTicket" style="margin:30px;">
                                @Html.Partial("../MensajesParciales/_MensajeLimiteGraficas")
                            </div>
                        </div>
                    </div>
                    <div style="width:100%; margin-bottom:15px;" id="ContenedorExGraficaVT1" class="hidden clearfix">
                        <button tabindex="9" class="btn btn-info pull-right" type="button" id="btnExGraficaVT1" name="btnExGraficaVT1"><i class="fa fa-file-pdf-o"></i> Exportar</button>
                    </div>
                </div>
            </div>
        </article>
    </div>

    <div class="row">
        <article class="col-xs-12 col-sm-12 col-md-6 col-lg-12  sortable-grid">
            <div class="jarviswidget jarviswidget-color-white" id="wid-id-rgaTABS" style="border: 2px solid #2F4050;">
                <header>
                    @*<span class="widget-icon"> <i class="fa fa-bar-chart-o"></i> </span>*@
                    <span class="widget-icon" style="width:50px;">
                        <img width="50" src="../Content/img/gifs/gif05.gif" />
                    </span>
                    <h2>
                        <span id="TitleGraphicStatusTickert">Grafico de Cantidad de Dias X Tickets Pendientes</span>
                        <i class="icon-append fa fa-info-circle" style="color:blue; cursor:pointer; width:15px; height:15px;" id="btnInfoGrafico1"></i>
                    </h2>
                </header>
                <div style="border:none;">

                    <div class="widget-body no-padding">

                        <div class="col-xs-12 clearfix no-padding">
                            <div id="grGraficaTicketAllByStatus" class="hidden" style="width: 100%; height: 400px;"></div>
                            <div class="hidden spiner-example" id="imgCargaGraficaTicketAllByStatus">
                                @Html.Partial("../MensajesParciales/_MensajeCargandoDashboard")
                            </div>
                            <div class="hidden" id="msjErrorGraficaTicketAllByStatus" style="margin:30px;">
                                @Html.Partial("../MensajesParciales/_MensajeError")
                            </div>
                            <div id="msjVacioGraficaTicketAllByStatus" style="margin: 30px;">
                                @Html.Partial("../MensajesParciales/_MensajeVacio")
                            </div>
                            <div class="hidden" id="msjErrorListarGraficaTicketAllByStatus" style="margin: 30px;">
                                @Html.Partial("../MensajesParciales/_MensajeErrorListar")
                            </div>
                            <div class="hidden" id="msjSuperaLimiteGraficaTicketAllByStatus" style="margin:30px;">
                                @Html.Partial("../MensajesParciales/_MensajeLimiteGraficas")
                            </div>
                        </div>
                    </div>
                    <div style="width:100%; margin-bottom:15px;" id="ContenedorExGraficaTABS" class="hidden clearfix">
                        <button tabindex="9" class="btn btn-info pull-right" type="button" id="btnExGraficaTABS" name="btnExGraficaTABS"><i class="fa fa-file-pdf-o"></i> Exportar</button>
                    </div>
                </div>
            </div>
        </article>
    </div>

    <div class="row" style="margin-left: 0px; margin-right: 0px;border:2px solid black">

        <article class="col-xs-12 col-sm-12 col-md-6 col-lg-12  sortable-grid">

            @*<div class="row form-group">*@

            @*<div class="col-xs-12 col-sm-12 col-md-3 col-lg-6" style="float:left">*@

            <div class="row" style="margin-left:10px;margin-bottom:20px;margin-top:10px">
                <h2 class="modal-title">
                    <label style="color:black;text-decoration-line: underline">Detalle de Ticket</label>
                    @*<button style="margin:3px;margin-right:50px" tabindex="9" title="Enviar Correo" class="btn btn-success pull-right" type="submit" id="btnInvitadosPanel"><i class="fa fa-share"></i> </button>
                        <button style="margin:3px;margin-right:10px" tabindex="9" title="Adjuntar Archivo Ticket" class="btn btn-success pull-right hidden" type="submit" id="btnPanelArchivo"><i class="fa fa-file-archive-o"></i> </button>*@
                </h2>
            </div>


            <div class="row form-group" style="margin-bottom:30px">

                <section class="col-xs-12 col-sm-12 col-md-3 col-lg-5">
                    <label style="color: #2F4050"><strong>Titulo de Detalle: </strong><strong class="CampoRequerido">*</strong></label>
                    <div class="input-group">
                        <input type="text" tabindex="2" class="form-control" name="" id="TitleTicketValidity" disabled maxlength="50" style="padding-left:5px;" />
                        <span class="input-group-addon"><i class="icon-prev fa fa-list-alt"></i></span>
                    </div>
                </section>

                <section class="col-xs-12 col-sm-12 col-md-3 col-lg-3">
                    <label style="color: #2F4050"><strong>Numero Ticket: </strong><strong class="CampoRequerido">*</strong></label>
                    <div class="input-group">
                        <input type="text" tabindex="2" class="form-control" name="" id="NumberTicketValidity" disabled maxlength="50" style="padding-left:5px;" />
                        <span class="input-group-addon"><i class="icon-prev fa fa-list-alt"></i></span>
                    </div>
                </section>

                <section class="col-xs-12 col-sm-12 col-md-3 col-lg-4">
                    <label style="color: #2F4050"><strong>Fecha Creación: </strong><strong class="CampoRequerido">*</strong></label>
                    <div class="input-group">
                        <input type="text" tabindex="2" class="form-control" name="" id="DateCreationValidity" disabled maxlength="50" style="padding-left:5px;" />
                        <span class="input-group-addon"><i class="icon-prev fa fa-list-alt"></i></span>
                    </div>
                </section>

                <section class="col-xs-12 col-sm-12 col-md-3 col-lg-4">
                    <label style="color: #2F4050"><strong>Operación: </strong><strong class="CampoRequerido">*</strong></label>
                    <div class="input-group">
                        <input type="text" tabindex="2" class="form-control" name="" id="OperationTicketValidity" disabled maxlength="50" style="padding-left:5px;" />
                        <span class="input-group-addon"><i class="icon-prev fa fa-list-alt"></i></span>
                    </div>
                </section>

                <section class="col-xs-12 col-sm-12 col-md-3 col-lg-5">
                    <label style="color: #2F4050"><strong>Responsable: </strong><strong class="CampoRequerido">*</strong></label>
                    <div class="input-group">
                        <input type="text" tabindex="2" class="form-control" name="" id="ResponsibleTicketValidity" disabled maxlength="50" style="padding-left:5px;" />
                        <span class="input-group-addon"><i class="icon-prev fa fa-list-alt"></i></span>
                    </div>
                </section>



            </div>

            @*</div>*@
            @*</div>*@

        </article>

    </div>

    <hr>

    <div>
        <div class="well" style="padding: 0px 30px 30px 30px; background-color: white;">
            <nav style="display:flex">
                <h2 title="Reporte de Actividades por Responsable" style="float:left;"><i class="fa fa fa-bell-o"></i>  [ Reporte de Actividades por Responsable ]</h2>
            </nav>
            <div class="row">
                <section class="col-xs-12 col-sm-12 col-md-5 col-lg-4">
                    <label style="color: #2F4050">
                        <strong>Estado :</strong>
                    </label>
                    <div style="width:100%;">
                        <input tabindex="7" type="radio" name="rdoRadioPendienteActividadResponsible" id="rdoPendienteActRes" checked="checked">
                        <label style="color: #2F4050;"><strong>Pendiente </strong></label>
                        @*<input tabindex="7" type="radio" name="rdoRadioPendienteActividadResponsible" id="rdoOperandoActRes" style="margin-left:30px">
                            <label style="color: #2F4050;"><strong>Operando </strong></label>*@
                        <input tabindex="7" type="radio" name="rdoRadioPendienteActividadResponsible" id="rdoCompletoActRes" style="margin-left:30px">
                        <label style="color: #2F4050"><strong>Completado </strong></label>
                        <input tabindex="7" type="radio" name="rdoRadioPendienteActividadResponsible" id="rdoAmbosActRes" style="margin-left:30px">
                        <label style="color: #2F4050"><strong>Ambos </strong></label>
                    </div>
                </section>

                <section class="col-xs-12 col-sm-12 col-md-3 col-lg-3">
                    <label style="color: #2F4050"><strong>Responsable : </strong></label>
                    <div class="form-group">
                        <select id="selectorResponsibleByActividad" class="selectpicker" multiple data-selected-text-format="count > 3" data-live-search="true" data-width="100%" title="Selección múltiple" data-actions-box="true"></select>
                    </div>
                </section>

                <section class="col-xs-4 col-sm-4 col-md-1 col-lg-1">
                    <div style="margin-top:25px">
                        <button style="margin:0px;" tabindex="9" class="btn btn-primary pull-right" type="submit" id="btnBuscarResponsablebyActividad"><i class="fa fa-search"></i> Buscar</button>
                    </div>
                </section>

            </div>
        </div>

        <div id="widget-grid4">
            <div class="row">
                <article class="col-xs-12 col-sm-12 col-md-6 col-lg-12  sortable-grid">
                    @*<div class="col-xs-12 clearfix no-padding">*@

                    <div class="jarviswidget jarviswidget-color-white" id="wid-id-rga-V" style="border: 2px solid #2F4050;">
                        <header>
                            @*<span class="widget-icon"> <i class="fa fa-bar-chart-o"></i> </span>*@
                            <span class="widget-icon" style="width:50px;">
                                <img width="50" src="../Content/img/gifs/gif05.gif" />
                            </span>
                            <h2>
                                Tabla de Actividades por Responsable
                                <i class="icon-append fa fa-info-circle" style="color:blue; cursor:pointer; width:15px; height:15px;" id=""></i>
                            </h2>
                        </header>
                        <div style="border:none;">

                            <div class="widget-body no-padding">

                                <div class="col-xs-12 clearfix no-padding">
                                    <div id="ContainerStatusActivitiesByResponsible" class="hidden"></div>

                                    <div class="spiner-example" id="imgCargaContainerStatusActivitiesByResponsible">
                                        @Html.Partial("../MensajesParciales/_MensajeCargandoDashboard")
                                    </div>
                                    <div class="hidden" id="msjErrorContainerStatusActivitiesByResponsible" style="margin: 30px;">
                                        @Html.Partial("../MensajesParciales/_MensajeError")
                                    </div>
                                    <div class="hidden" id="msjVacioContainerStatusActivitiesByResponsible" style="margin: 30px;">
                                        @Html.Partial("../MensajesParciales/_MensajeVacio")
                                    </div>
                                    <div class="hidden" id="msjErrorListarContainerStatusActivitiesByResponsible" style="margin: 30px;">
                                        @Html.Partial("../MensajesParciales/_MensajeErrorListar")
                                    </div>
                                    <div class="hidden" id="msjSuperaLimiteContainerStatusActivitiesByResponsible" style="margin:30px;">
                                        @Html.Partial("../MensajesParciales/_MensajeLimiteGraficas")
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </article>
            </div>
        </div>



        @*<div class="row" id="ContainerStatusActivitiesByResponsible" style="margin-top:20px"></div>*@
    </div>
</div>

<div id="ModalCrearTicket" class="modal inmodal fade" tabindex="-1" role="dialog" aria-hidden="true" style="overflow-y:scroll;">

    <div class="modal-dialog" style="width: 85%;">
        <div class="modal-content animated">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                <h4 class="modal-title">
                    <label style="margin-top:10px"><span id="lblTitleTicketCategoria"></span> <strong> Creacion de Ticket</strong></label>
                    <!-- CIRCULO DE TICKECTS DE DIA HOY -->
                    <span style="float:right;margin-right:15px;font-weight:bold" class="hidden">
                        Nro. Tickets Generados Hoy : <button style="width: 42px; border-radius:20px" class="btn btn-success" type="button" id="btnTicketDiaHoy"><span style="font-size:20px" id="lblNumberTicketDiaHoy"><strong><i> 0 </i></strong></span></button>
                    </span>
                </h4>
            </div>
            <form id="FrmCreacionTicket" onsubmit="return false">

                <div class="modal-body" style="overflow:auto;">

                    <div id="exTab2" class="container" style="background-color:white; width:100%;">

                        <!--TAB OPERACION-->
                        <div class="tab-pane active" id="tabCompraDirecta">

                            <div class="content">
                                <!--accordion 1 -- Carrito de Compras -->
                                <div class="panel-group" id="accordion1" role="tablist" aria-multiselectable="true">
                                    <div class="row form-group">

                                        <section class="col-xs-12 col-sm-12 col-md-6 col-lg-3">
                                            <label style=" color: #2F4050"><strong>Operación: </strong><strong class="CampoRequerido">*</strong></label>
                                            <div style="width: 100%; display:flex; flex-flow:row nowrap;">
                                                <select id="selectorTicketOperacion" class="selectpicker" multiple data-selected-text-format="count > 3" data-live-search="true" data-width="100%" title="Seleccionar Operación" data-size="5" data-max-options="1" data-actions-box="false" data-style="btn-info"></select>
                                                <button style="width: 50px;" class="btn btn-primary" type="button" id="btnAgregarOperacion"><i class="icon-append fa fa-plus"></i></button>
                                            </div>
                                        </section>

                                        <section class="col-xs-12 col-sm-12 col-md-5 col-lg-5">
                                            <label style="color: #2F4050"><strong>Quien Llama: </strong><strong class="CampoRequerido">*</strong></label>
                                            <div style="width: 100%; display:flex; flex-flow:row nowrap;">
                                                <select id="selectorWhoCall" class="selectpicker" multiple data-selected-text-format="count > 3" data-live-search="true" data-width="95%" title="Seleccionar Principales" data-size="5" data-max-options="1" data-actions-box="false" data-style="btn-info">
                                                </select>
                                                <button style="width:50px;" class="btn btn-primary" type="button" id="btnAgregarWhoCall"><i class="icon-append fa fa-plus"></i></button>
                                            </div>
                                        </section>

                                        <section class="col-xs-12 col-sm-12 col-md-3 col-lg-4">
                                            <label style="color: #2F4050"><strong>Quien Registra: </strong><strong class="CampoRequerido">*</strong></label>
                                            <div class="input-group">
                                                <input type="text" tabindex="2" class="form-control" name="" id="IdWhoRegister" disabled maxlength="50" style="padding-left:5px;" />
                                                <span class="input-group-addon"><i class="icon-prev fa fa-list-alt"></i></span>
                                            </div>
                                        </section>

                                    </div>

                                    <div id="divFechasTimer" class="row form-group">

                                        <section class="col-xs-12 col-sm-12 col-md-3 col-lg-3">
                                            <label style="color: #2F4050"><strong>Responsable: </strong><strong class="CampoRequerido">*</strong></label>
                                            <div style="width: 100%;display: flex;flex-flow: row nowrap;">
                                                <select id="selectorWhoResponsible" class="selectpicker" multiple data-selected-text-format="count > 3" data-live-search="true" data-width="95%" title="Seleccionar Responsable" data-size="5" data-max-options="1" data-actions-box="false" data-style="btn-info">
                                                </select>
                                                @*<button style="width:50px;" class="btn btn-primary" type="button" id="btnAgregarPrincipal"><i class="icon-append fa fa-plus"></i></button>*@
                                            </div>
                                        </section>

                                        <section id="divCambioDeGuardiaHora" class="col-xs-12 col-sm-12 col-md-3 col-lg-3 hidden">
                                            <label style="color: #2F4050"><strong>Hora: </strong></label>
                                            <div class="input-group">
                                                <input type="text" tabindex="2" class="form-control" name="txtCambioDeGuardiaHora" id="txtCambioDeGuardiaHora" disabled maxlength="12" style="padding-left:5px;" />
                                                <span class="input-group-addon"><i class="icon-prev fa fa-list-alt"></i></span>
                                            </div>
                                        </section>

                                        <section class="col-xs-12 col-sm-12 col-md-5 col-lg-3">
                                            <label style="color: #2F4050"><strong>Evento: </strong><strong class="CampoRequerido">*</strong></label>
                                            <div style="width: 100%; display:flex; flex-flow:row nowrap;">
                                                <select id="selectorTicketEvento" disabled class="selectpicker" multiple data-selected-text-format="count > 3" data-live-search="true" data-width="95%" title="Seleccionar Razón" data-size="5" data-max-options="1" data-actions-box="false" data-style="btn-info">
                                                    <option value="E"> FALLA SISTEMA </option>
                                                    <option value="R"> REQUERIMIENTO </option>
                                                    <option value="P"> NUEVO PROYECTO </option>
                                                </select>
                                            </div>
                                        </section>

                                        <section class="col-xs-12 col-sm-12 col-md-5 col-lg-3">
                                            <label style="color: #2F4050"><strong>Razón: </strong><strong class="CampoRequerido">*</strong></label>
                                            <div style="width: 100%; display:flex; flex-flow:row nowrap;">
                                                <select id="selectorTicketRazon" class="selectpicker" multiple data-selected-text-format="count > 3" data-live-search="true" data-width="95%" title="Seleccionar Razón" data-size="5" data-max-options="1" data-actions-box="false" data-style="btn-info">
                                                </select>
                                                <button style="width:50px;" class="btn btn-primary" type="button" id="btnAgregarRazon"><i class="icon-append fa fa-plus"></i></button>
                                            </div>
                                        </section>

                                        <section class="col-xs-12 col-sm-12 col-md-5 col-lg-3">
                                            <label style="color: #2F4050"><strong>Criticidad: </strong><strong class="CampoRequerido">*</strong></label>
                                            <div style="width: 100%;">
                                                <input tabindex="7" type="radio" name="rdoNameCriticidad" id="rdoAltaCriticidad" checked="checked">
                                                <label style="color: #2F4050;"><strong>Alta: </strong></label>
                                                <input tabindex="7" type="radio" name="rdoNameCriticidad" style="margin-left:30px" id="rdoMedioCriticidad">
                                                <label style="color: #2F4050"><strong>Media: </strong></label>
                                                <input tabindex="7" type="radio" name="rdoNameCriticidad" style="margin-left:30px" id="rdoBajaCriticidad">
                                                <label style="color: #2F4050"><strong>Baja: </strong></label>
                                            </div>
                                        </section>

                                    </div>

                                    <div class="row form-group">

                                        <section class="col-xs-12 col-sm-12 col-md-5 col-lg-3">
                                            <label style="color: #2F4050"><strong>Locación: </strong><strong class="CampoRequerido">*</strong></label>
                                            <div style="width: 100%; display:flex; flex-flow:row nowrap;">
                                                <select id="selectorTicketLocation" class="selectpicker" multiple data-selected-text-format="count > 3" data-live-search="true" data-width="95%" title="Seleccionar Locacion" data-size="5" data-max-options="1" data-actions-box="false" data-style="btn-info">
                                                </select>
                                                <button style="width:50px;" class="btn btn-primary" type="button" id="btnAgregarLocation"><i class="icon-append fa fa-plus"></i></button>
                                            </div>
                                        </section>

                                        <section class="col-xs-12 col-sm-12 col-md-3 col-lg-5">
                                            <label style="color: #2F4050"><strong>Invitados: </strong><strong class="CampoRequerido">*</strong></label>
                                            <div class="form-group">
                                                <select id="selectorInvitados" class="selectpicker" multiple data-selected-text-format="count < 3" data-live-search="true" data-width="100%" data-size="5" title="Selección múltiple" data-actions-box="true"></select>
                                            </div>
                                        </section>

                                        <section class="col-xs-12 col-sm-12 col-md-3 col-lg-3">
                                            <label style="color: #2F4050"><strong>Fecha Inicio: </strong></label>
                                            <div class="input-group">
                                                <input type="text" tabindex="2" class="form-control" name="txtTicketDate" id="txtTicketDate" disabled maxlength="12" style="padding-left:5px;" />
                                                <span class="input-group-addon"><i class="icon-prev fa fa-list-alt"></i></span>
                                            </div>
                                        </section>

                                    </div>


                                    <div class="row form-group">

                                        <section class="col-xs-12 col-sm-12 col-md-3 col-lg-4">
                                            <label style="color: #2F4050"><strong>Titulo de Detalle: </strong><strong class="CampoRequerido">*</strong></label>
                                            <div class="input-group">
                                                <input type="text" tabindex="2" class="form-control" name="" id="TitleDetalleTicket" maxlength="50" style="padding-left:5px;" />
                                                <span class="input-group-addon"><i class="icon-prev fa fa-list-alt"></i></span>
                                            </div>
                                        </section>

                                        @*<section class="col-xs-12 col-sm-12 col-md-3 col-lg-3">
                                                <div class="input-group" style="margin-top:25px">
                                                    <button style="width:130px;" class="btn btn-primary" type="button" id="btnAgregarLocation"><i class="icon-append fa fa-plus"></i> Adjuntar Archivo</button>
                                                </div>
                                            </section>*@

                                        <section class="col col-xs-12 col-sm-6">
                                            <label style="color: #2F4050"><strong>D. Adjunto (Max 1 Doc. de 5MB): </strong></label>
                                            <div class="form-group">
                                                <input style="width:100%;" class="filestyle" type="file" name="flArchivoSubirAdjuntoTicket" id="flArchivoSubirAdjuntoTicket"
                                                       accept="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel, image/jpeg, application/pdf, application/vnd.openxmlformats-officedocument.wordprocessingml.document, text/plain"
                                                       data-buttontext="Examinar" data-buttonname="btn btn-primary">
                                            </div>
                                        </section>

                                        <section class="col-xs-12 col-sm-12 col-md-6 col-lg-2" style="margin-top:25px">
                                            <div style="width: 100%;display: flex;flex-flow: row nowrap;">
                                                <button style="margin-top:0px; width:100px" tabindex="9" class="btn btn-info" type="button" id="btnSubirFormatoTicket"><i class="fa fa-cloud-upload"></i> Subir</button>
                                            </div>
                                        </section>

                                        <!-- DETALLER DE TICKET-->
                                        <section class="col-xs-12 col-sm-12 col-md-6 col-lg-12 form-group">
                                            <label style="color: #2F4050"><strong>Detalle: </strong></label>
                                            <div style="width: 100%; display:flex; flex-flow:row nowrap;">
                                                <textarea style="min-width: 100%" class="form-control" id="txtDetallerTicket" name="txtAreaDetalleTicket" rows="5"></textarea>
                                            </div>
                                        </section>

                                    </div>
                                </div>

                            </div>

                        </div>

                    </div><!-- fin id="exTab2"  -->

                </div>

                <div class="modal-footer">
                    <div style="margin-top:10px; display:flex; flex-direction:row; flex-wrap:wrap; justify-content:flex-start">
                        @Html.Partial("../MensajesParciales/_MensajeLeyendaCampoRequerido")
                    </div>

                    <button style="margin:3px;" tabindex="8" class="btn btn-danger" type="button" id="btnCancelar"><i class="fa fa-times-circle"></i> Cancelar</button>
                    <button style="margin:3px;" tabindex="9" class="btn btn-primary" type="submit" id="btnCreacionTicket"><i class="fa fa-save"></i> Grabar</button>
                    @*<button style="margin:3px;" tabindex="9" class="btn btn-primary" type="submit" id="btnGrabar"><i class="fa fa-save"></i> Grabar</button>*@
                    @*<button style="margin:3px;" tabindex="9" class="btn btn-success" type="button" id="BtnAbrirModalPDF" title="Exportar PDF Acta de Reunión"><i class="fa fa-file-pdf-o"></i> Imprimir PDF</button>*@
                </div>

            </form>

        </div>
    </div>
</div>


<div id="ModalJustMyTickets" class="modal inmodal fade" tabindex="-1" role="dialog" aria-hidden="true" style="overflow-y:scroll;">
    <div class="modal-dialog" style="width:99%;">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                @*<h4 class="modal-title" style="color:white"><strong>Tabla Mis Tickets Generales</strong></h4>*@
            </div>
            <div class="modal-body clearfix" style="padding-left:10px; padding-right:10px;">

                <div id="widget-grid1" class="ContenedorReportabilidadTicket">
                    <div class="row">
                        <article class="col-xs-12 col-sm-12 col-md-6 col-lg-12  sortable-grid">
                            @*<div class="col-xs-12 clearfix no-padding">*@

                            <div class="jarviswidget jarviswidget-color-white" id="wid-id-rgaX" style="border: 2px solid #2F4050;">
                                <header>
                                    @*<span class="widget-icon"> <i class="fa fa-bar-chart-o"></i> </span>*@
                                    <span class="widget-icon" style="width:50px;">
                                        <img width="50" src="../Content/img/gifs/gif05.gif" />
                                    </span>
                                    <h2>
                                        Tabla Mis Tickets Generales
                                        <i class="icon-append fa fa-info-circle" style="color:blue; cursor:pointer; width:15px; height:15px;" id="btnInfoGraficoZ"></i>
                                    </h2>
                                </header>
                                <div style="border:none;">

                                    <div class="widget-body no-padding">

                                        <div class="col-xs-12 clearfix no-padding">
                                            <div id="ContainerJustMyTicket" class="hidden"></div>

                                            <div class="spiner-example" id="imgCargaContainerJustMyTicket">
                                                @Html.Partial("../MensajesParciales/_MensajeCargandoDashboard")
                                            </div>
                                            <div class="hidden" id="msjErrorContainerJustMyTicket" style="margin: 30px;">
                                                @Html.Partial("../MensajesParciales/_MensajeError")
                                            </div>
                                            <div class="hidden" id="msjVacioContainerJustMyTicket" style="margin: 30px;">
                                                @Html.Partial("../MensajesParciales/_MensajeVacio")
                                            </div>
                                            <div class="hidden" id="msjErrorListarContainerJustMyTicket" style="margin: 30px;">
                                                @Html.Partial("../MensajesParciales/_MensajeErrorListar")
                                            </div>
                                            <div class="hidden" id="msjSuperaLimiteContainerJustMyTicket" style="margin:30px;">
                                                @Html.Partial("../MensajesParciales/_MensajeLimiteGraficas")
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </article>
                    </div>
                </div>
            </div>
            @*<div style="background-color:#EE665F" class="modal-footer">
                <h4 class="modal-title" style="color:white"><strong>¡Alertas!</strong></h4>
            </div>*@
        </div>
    </div>

</div>


<div id="ModalCriticidadAltaCaducadas" class="modal inmodal fade" tabindex="-1" role="dialog" aria-hidden="true" style="overflow-y:scroll;">
    <div class="modal-dialog" style="width:99%;">
        <div class="modal-content">
            <div style="background-color:#EE665F" class="modal-header">
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                <h4 class="modal-title" style="color:white"><strong>¡Ticket en Criticidad Alta!</strong></h4>
            </div>
            <div class="modal-body clearfix" style="padding-left:10px; padding-right:10px;">

                <div id="widget-grid6">
                    <div class="row detalleAlertaCotizacion">
                        <article class="col-xs-12 ContenedoresReportes">

                            <div class="jarviswidget jarviswidget-color-blue" id="BtnExportarExcelCriticidadAlta" data-widget-editbutton="false" data-widget-custombutton="false" style="        border: 2px solid #2F4050
">
                                <header>
                                    <span class="widget-icon"> <i class="fa fa-list"></i> </span>
                                    <h2>Listado de Tickets en Criticidad Alta</h2>
                                </header>
                                <div style="border:none;">
                                    <div class="jarviswidget-editbox">
                                        <!-- This area used as dropdown edit box -->
                                    </div>
                                    <div class="widget-body no-padding" id="ContenedorgrCotizacion">
                                        <div id="LstTicketsCriticidadCaducada" class="hidden"></div>
                                        <div class="spiner-example" id="imgCargaLstTicketsCriticidadCaducada">
                                            @Html.Partial("../MensajesParciales/_MensajeCargando")
                                        </div>
                                        <div class="hidden" id="msjErrorLstTicketsCriticidadCaducada" style="margin:30px;">
                                            @Html.Partial("../MensajesParciales/_MensajeError")
                                        </div>
                                        <div class="hidden" id="msjVacioLstTicketsCriticidadCaducada" style="margin:30px;">
                                            @Html.Partial("../MensajesParciales/_MensajeVacio")
                                        </div>
                                        <div class="hidden" id="msjErrorListarLstTicketsCriticidadCaducada" style="margin:30px;">
                                            @Html.Partial("../MensajesParciales/_MensajeErrorListar")
                                        </div>
                                        <div class="hidden" id="msjSuperaLimiteLstTicketsCriticidadCaducada" style="margin:30px;">
                                            @Html.Partial("../MensajesParciales/_MensajeLimiteGraficas")
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </article>

                    </div>
                </div>
            </div>

            <div style="background-color:#EE665F" class="modal-footer">
                <h4 class="modal-title" style="color:white"><strong>¡Alertas!</strong></h4>
            </div>

        </div>
    </div>

</div>

<div id="ModalCriticidadMediaCaducadas" class="modal inmodal fade" tabindex="-1" role="dialog" aria-hidden="true" style="overflow-y:scroll;">
    <div class="modal-dialog" style="width:99%;">
        <div class="modal-content">
            <div style="background-color:#FDE600" class="modal-header">
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                <h4 class="modal-title" style="color:white"><strong>¡Ticket en Criticidad Media!</strong></h4>
            </div>
            <div class="modal-body clearfix" style="padding-left:10px; padding-right:10px;">

                <div id="widget-grid6">
                    <div class="row detalleAlertaCotizacion">
                        <article class="col-xs-12 ContenedoresReportes">

                            <div class="jarviswidget jarviswidget-color-blue" id="" data-widget-editbutton="false" data-widget-custombutton="false" style="        border: 2px solid #2F4050
">
                                <header>
                                    <span class="widget-icon"> <i class="fa fa-list"></i> </span>
                                    <h2>Listado de Tickets en Criticidad Media</h2>
                                </header>
                                <div style="border:none;">
                                    <div class="jarviswidget-editbox">
                                        <!-- This area used as dropdown edit box -->
                                    </div>
                                    <div class="widget-body no-padding" id="ContenedorgrCotizacion">
                                        <div id="LstTicketsCriticidadMediaCaducada" class="hidden"></div>
                                        <div class="spiner-example" id="imgCargaLstTicketsCriticidadMediaCaducada">
                                            @Html.Partial("../MensajesParciales/_MensajeCargando")
                                        </div>
                                        <div class="hidden" id="msjErrorLstTicketsCriticidadMediaCaducada" style="margin:30px;">
                                            @Html.Partial("../MensajesParciales/_MensajeError")
                                        </div>
                                        <div class="hidden" id="msjVacioLstTicketsCriticidadMediaCaducada" style="margin:30px;">
                                            @Html.Partial("../MensajesParciales/_MensajeVacio")
                                        </div>
                                        <div class="hidden" id="msjErrorListarLstTicketsCriticidadMediaCaducada" style="margin:30px;">
                                            @Html.Partial("../MensajesParciales/_MensajeErrorListar")
                                        </div>
                                        <div class="hidden" id="msjSuperaLimiteLstTicketsCriticidadMediaCaducada" style="margin:30px;">
                                            @Html.Partial("../MensajesParciales/_MensajeLimiteGraficas")
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </article>
                    </div>
                </div>
            </div>

            <div style="background-color:#FDE600" class="modal-footer">
                <h4 class="modal-title" style="color:white"><strong>¡Alertas!</strong></h4>
            </div>

        </div>
    </div>

</div>

<div id="ModalCriticidadBajaCaducadas" class="modal inmodal fade" tabindex="-1" role="dialog" aria-hidden="true" style="overflow-y:scroll;">
    <div class="modal-dialog" style="width:99%;">
        <div class="modal-content">
            <div style="background-color:#46a042" class="modal-header">
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                <h4 class="modal-title" style="color:white"><strong>¡Ticket en Criticidad Baja!</strong></h4>
            </div>
            <div class="modal-body clearfix" style="padding-left:10px; padding-right:10px;">

                <div id="widget-grid6">
                    <div class="row detalleAlertaCotizacion">
                        <article class="col-xs-12 ContenedoresReportes">

                            <div class="jarviswidget jarviswidget-color-blue" id="" data-widget-editbutton="false" data-widget-custombutton="false" style="        border: 2px solid #2F4050
">
                                <header>
                                    <span class="widget-icon"> <i class="fa fa-list"></i> </span>
                                    <h2>Listado de Tickets en Criticidad Baja</h2>
                                </header>
                                <div style="border:none;">
                                    <div class="jarviswidget-editbox">
                                        <!-- This area used as dropdown edit box -->
                                    </div>
                                    <div class="widget-body no-padding" id="ContenedorgrCotizacion">
                                        <div id="LstTicketsCriticidadBajaCaducada" class="hidden"></div>
                                        <div class="spiner-example" id="imgCargaLstTicketsCriticidadBajaCaducada">
                                            @Html.Partial("../MensajesParciales/_MensajeCargando")
                                        </div>
                                        <div class="hidden" id="msjErrorLstTicketsCriticidadBajaCaducada" style="margin:30px;">
                                            @Html.Partial("../MensajesParciales/_MensajeError")
                                        </div>
                                        <div class="hidden" id="msjVacioLstTicketsCriticidadBajaCaducada" style="margin:30px;">
                                            @Html.Partial("../MensajesParciales/_MensajeVacio")
                                        </div>
                                        <div class="hidden" id="msjErrorListarLstTicketsCriticidadBajaCaducada" style="margin:30px;">
                                            @Html.Partial("../MensajesParciales/_MensajeErrorListar")
                                        </div>
                                        <div class="hidden" id="msjSuperaLimiteLstTicketsCriticidadBajaCaducada" style="margin:30px;">
                                            @Html.Partial("../MensajesParciales/_MensajeLimiteGraficas")
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </article>

                    </div>
                </div>
            </div>

            <div style="background-color:#46a042" class="modal-footer">
                <h4 class="modal-title" style="color:white"><strong>¡Alertas!</strong></h4>
            </div>

        </div>
    </div>

</div>

<div id="ModalCriticidadAlta" class="modal inmodal fade" tabindex="-1" role="dialog" aria-hidden="true">
    <div class="modal-dialog" style="width:99%;">
        <div class="modal-content">
            <div style="background-color:#EE665F" class="modal-header">
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                <h4 class="modal-title" style="color:white"><strong>¡Ticket en Criticidad Alta!</strong></h4>
            </div>
            <div class="modal-body clearfix" style="padding-left:10px; padding-right:10px;">

                <div id="widget-grid6">
                    <div class="row detalleAlertaCotizacion">
                        <article class="col-xs-12 ContenedoresReportes">

                            <div class="jarviswidget jarviswidget-color-blue" id="" data-widget-editbutton="false" data-widget-custombutton="false" style="        border: 2px solid #2F4050
">
                                <header>
                                    <span class="widget-icon"> <i class="fa fa-list"></i> </span>
                                    <h2>Listado de Tickets en Criticidad Alta</h2>
                                    <button class="btn btn-success pull-right" type="button" id="BtnExpotarTicketCriticidadAltaA" disabled title="Exportar listado a Excel"><i class="fa fa-file-excel-o"></i> Excel</button>
                                </header>
                                <div style="border:none;">
                                    <div class="jarviswidget-editbox">
                                        <!-- This area used as dropdown edit box -->
                                    </div>
                                    <div class="widget-body no-padding" id="ContenedorgrCotizacion">
                                        <div id="LstTicketsCriticidadAlta" class="hidden"></div>
                                        <div class="spiner-example" id="imgCargaLstTicketsCriticidadAlta">
                                            @Html.Partial("../MensajesParciales/_MensajeCargando")
                                        </div>
                                        <div class="hidden" id="msjErrorLstTicketsCriticidadAlta" style="margin:30px;">
                                            @Html.Partial("../MensajesParciales/_MensajeError")
                                        </div>
                                        <div class="hidden" id="msjVacioLstTicketsCriticidadAlta" style="margin:30px;">
                                            @Html.Partial("../MensajesParciales/_MensajeVacio")
                                        </div>
                                        <div class="hidden" id="msjErrorListarLstTicketsCriticidadAlta" style="margin:30px;">
                                            @Html.Partial("../MensajesParciales/_MensajeErrorListar")
                                        </div>
                                        <div class="hidden" id="msjSuperaLimiteLstTicketsCriticidadAlta" style="margin:30px;">
                                            @Html.Partial("../MensajesParciales/_MensajeLimiteGraficas")
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </article>

                    </div>
                </div>
            </div>

            <div style="background-color:#EE665F" class="modal-footer">
                <h4 class="modal-title" style="color:white"><strong>¡Alertas!</strong></h4>
            </div>

        </div>
    </div>

</div>

<div id="ModalActividadesCaducadasMain1" class="modal inmodal fade" tabindex="-1" role="dialog" aria-hidden="true" style="overflow-y:scroll;">

    <div class="modal-dialog" style="width:85%;">
        <div class="modal-content animated">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                <h4 class="modal-title">
                    <label><strong>Nro Ticket: <label id="lblModelTicketEdit" style="color:red;font-weight:bold"> </label></strong></label>
                    <label style="float:right;margin-right:15px;font-weight:bold;color:red"> FECHA INICIO : <span id="lblFechaInicio">00/00/0000</span>  -- FECHA FIN : <span id="lblFechaFin">00/00/0000</span> </label>
                </h4>
            </div>
            <form id="FrmTicketCreado" onsubmit="return false">

                <div class="modal-body" style="overflow:auto;">

                    <div id="exTab2" class="container" style="background-color:white; width:100%;">

                        <!--TAB OPERACION-->
                        <div class="tab-pane active" id="tabCompraDirecta">

                            <div class="content">

                                <div class="panel-group" id="accordion1" role="tablist" aria-multiselectable="true">


                                    <div id="widget-grid">
                                        <div class="row">
                                            <article class="col-xs-12 ContenedoresReportes">

                                                <div class="jarviswidget jarviswidget-color-blue" id="" data-widget-editbutton="false" data-widget-custombutton="false" style="border: 2px solid #2F4050">
                                                    <header>
                                                        <span class="widget-icon"> <i class="fa fa-list"></i> </span>
                                                        <h2>Listado de Actividades Caducadas</h2>
                                                        <button class="btn btn-success pull-right" type="button" id="BtnExportarExcelTemasPendientes" disabled title="Exportar listado a Excel"><i class="fa fa-file-excel-o"></i> Excel</button>
                                                    </header>
                                                    <div style="border:none;">
                                                        <div class="jarviswidget-editbox">
                                                            <!-- This area used as dropdown edit box -->
                                                        </div>
                                                        <div class="widget-body no-padding" id="ContenedorgrPuntosATratarArchivos">
                                                            <div id="GrillaLstActivityAdd" class="hidden"></div>
                                                            <div class="spiner-example" id="imgCargaLstActivityAdd">
                                                                @Html.Partial("../MensajesParciales/_MensajeCargando")
                                                            </div>

                                                            <div class="hidden" id="msjErrorLstActivityAdd" style="margin:30px;">
                                                                @Html.Partial("../MensajesParciales/_MensajeError")
                                                            </div>

                                                            <div class="hidden" id="msjVacioLstActivityAdd" style="margin:30px;">
                                                                @Html.Partial("../MensajesParciales/_MensajeVacio")
                                                            </div>

                                                            <div class="hidden" id="msjErrorListarLstActivityAdd" style="margin:30px;">
                                                                @Html.Partial("../MensajesParciales/_MensajeErrorListar")
                                                            </div>
                                                            <div class="hidden" id="msjSuperaLimiteLstActivityAdd" style="margin:30px;">
                                                                @Html.Partial("../MensajesParciales/_MensajeLimiteGraficas")
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </article>

                                        </div>
                                    </div>


                                </div>

                            </div>

                        </div>

                    </div><!-- fin id="exTab2"  -->

                </div>

                <div class="modal-footer">
                    <div style="margin-top:10px; display:flex; flex-direction:row; flex-wrap:wrap; justify-content:flex-start">
                        @Html.Partial("../MensajesParciales/_MensajeLeyendaCampoRequerido")
                    </div>

                    <button style="margin:3px;" tabindex="8" class="btn btn-danger" type="button" id="btnCancelarActivityExpiration"><i class="fa fa-times-circle"></i> Cancelar</button>
                    @*<button style="margin:3px;" tabindex="9" class="btn btn-primary" type="submit" id="btnGrabar"><i class="fa fa-save"></i> Grabar</button>*@
                    @*<button style="margin:3px;" tabindex="9" class="btn btn-success" type="button" id="BtnAbrirModalPDF" title="Exportar PDF Acta de Reunión"><i class="fa fa-file-pdf-o"></i> Imprimir PDF</button>*@
                </div>

            </form>

        </div>
    </div>
</div>

<div id="ModalActividadesCaducadasMain2" class="modal inmodal fade" tabindex="-1" role="dialog" aria-hidden="true" style="overflow-y:scroll;">

    <div class="modal-dialog" style="width:85%;">
        <div class="modal-content animated">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                <h4 class="modal-title">
                    <label><strong>Nro Ticket: <label id="lblModelTicketEdit2" style="color:red;font-weight:bold"> </label></strong></label>
                    <label style="float:right;margin-right:15px;font-weight:bold;color:red"> FECHA INICIO : <span id="lblFechaInicio2">00/00/0000</span>  --- FECHA FIN <span id="lblFechaFin2">00/00/0000</span> </label>
                </h4>
            </div>
            <form id="FrmTicketCreado" onsubmit="return false">

                <div class="modal-body" style="overflow:auto;">

                    <div id="exTab2" class="container" style="background-color:white; width:100%;">

                        <!--TAB OPERACION-->
                        <div class="tab-pane active" id="tabCompraDirecta">

                            <div class="content">

                                <div class="panel-group" id="accordion1" role="tablist" aria-multiselectable="true">

                                    <div id="widget-grid">
                                        <div class="row">
                                            <article class="col-xs-12 ContenedoresReportes">

                                                <div class="jarviswidget jarviswidget-color-blue" id="" data-widget-editbutton="false" data-widget-custombutton="false" style="border: 2px solid #2F4050">
                                                    <header>
                                                        <span class="widget-icon"> <i class="fa fa-list"></i> </span>
                                                        <h2>Listado de Actividades Caducadas</h2>
                                                        <button class="btn btn-success pull-right" type="button" id="BtnExportarExcelTemasPendientes" disabled title="Exportar listado a Excel"><i class="fa fa-file-excel-o"></i> Excel</button>
                                                    </header>
                                                    <div style="border:none;">
                                                        <div class="jarviswidget-editbox">
                                                            <!-- This area used as dropdown edit box -->
                                                        </div>
                                                        <div class="widget-body no-padding" id="ContenedorgrPuntosATratarArchivos">
                                                            <div id="GrillaLstActivityCaducada2" class="hidden"></div>
                                                            <div class="spiner-example" id="imgCargaLstActivityCaducada2">
                                                                @Html.Partial("../MensajesParciales/_MensajeCargando")
                                                            </div>

                                                            <div class="hidden" id="msjErrorLstActivityCaducada2" style="margin:30px;">
                                                                @Html.Partial("../MensajesParciales/_MensajeError")
                                                            </div>

                                                            <div class="hidden" id="msjVacioLstActivityCaducada2" style="margin:30px;">
                                                                @Html.Partial("../MensajesParciales/_MensajeVacio")
                                                            </div>

                                                            <div class="hidden" id="msjErrorListarLstActivityCaducada2" style="margin:30px;">
                                                                @Html.Partial("../MensajesParciales/_MensajeErrorListar")
                                                            </div>
                                                            <div class="hidden" id="msjSuperaLimiteLstActivityCaducada2" style="margin:30px;">
                                                                @Html.Partial("../MensajesParciales/_MensajeLimiteGraficas")
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </article>

                                        </div>
                                    </div>


                                </div>

                            </div>

                        </div>

                    </div><!-- fin id="exTab2"  -->

                </div>

                <div class="modal-footer">
                    <div style="margin-top:10px; display:flex; flex-direction:row; flex-wrap:wrap; justify-content:flex-start">
                        @Html.Partial("../MensajesParciales/_MensajeLeyendaCampoRequerido")
                    </div>

                    <button style="margin:3px;" tabindex="8" class="btn btn-danger" type="button" id="btnCancelarActivityCaducadaMedia"><i class="fa fa-times-circle"></i> Cancelar</button>
                    @*<button style="margin:3px;" tabindex="9" class="btn btn-primary" type="submit" id="btnGrabar"><i class="fa fa-save"></i> Grabar</button>*@
                    @*<button style="margin:3px;" tabindex="9" class="btn btn-success" type="button" id="BtnAbrirModalPDF" title="Exportar PDF Acta de Reunión"><i class="fa fa-file-pdf-o"></i> Imprimir PDF</button>*@
                </div>

            </form>

        </div>
    </div>
</div>

<div id="ModalActividadesCaducadasMain3" class="modal inmodal fade" tabindex="-1" role="dialog" aria-hidden="true" style="overflow-y:scroll;">

    <div class="modal-dialog" style="width:85%;">
        <div class="modal-content animated">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                <h4 class="modal-title">
                    <label><strong>Nro Ticket: <label id="lblModelTicketEdit3" style="color:red;font-weight:bold"> </label></strong></label>
                    <label style="float:right;margin-right:15px;font-weight:bold;color:red"> FECHA INICIO : <span id="lblFechaInicio3">00/00/0000</span>  --- FECHA FIN <span id="lblFechaFin3">00/00/0000</span> </label>
                </h4>
            </div>
            <form id="FrmTicketCreado" onsubmit="return false">

                <div class="modal-body" style="overflow:auto;">

                    <div id="exTab2" class="container" style="background-color:white; width:100%;">

                        <!--TAB OPERACION-->
                        <div class="tab-pane active" id="tabCompraDirecta">

                            <div class="content">

                                <div class="panel-group" id="accordion1" role="tablist" aria-multiselectable="true">

                                    <div id="widget-grid">
                                        <div class="row">
                                            <article class="col-xs-12 ContenedoresReportes">

                                                <div class="jarviswidget jarviswidget-color-blue" id="" data-widget-editbutton="false" data-widget-custombutton="false" style="border: 2px solid #2F4050">
                                                    <header>
                                                        <span class="widget-icon"> <i class="fa fa-list"></i> </span>
                                                        <h2>Listado de Actividades Caducadas</h2>
                                                        <button class="btn btn-success pull-right" type="button" id="BtnExportarExcelTemasPendientes" disabled title="Exportar listado a Excel"><i class="fa fa-file-excel-o"></i> Excel</button>
                                                    </header>
                                                    <div style="border:none;">
                                                        <div class="jarviswidget-editbox">
                                                            <!-- This area used as dropdown edit box -->
                                                        </div>
                                                        <div class="widget-body no-padding" id="ContenedorgrPuntosATratarArchivos">
                                                            <div id="GrillaLstActivityCaducada3" class="hidden"></div>
                                                            <div class="spiner-example" id="imgCargaLstActivityCaducada3">
                                                                @Html.Partial("../MensajesParciales/_MensajeCargando")
                                                            </div>

                                                            <div class="hidden" id="msjErrorLstActivityCaducada3" style="margin:30px;">
                                                                @Html.Partial("../MensajesParciales/_MensajeError")
                                                            </div>

                                                            <div class="hidden" id="msjVacioLstActivityCaducada3" style="margin:30px;">
                                                                @Html.Partial("../MensajesParciales/_MensajeVacio")
                                                            </div>

                                                            <div class="hidden" id="msjErrorListarLstActivityCaducada3" style="margin:30px;">
                                                                @Html.Partial("../MensajesParciales/_MensajeErrorListar")
                                                            </div>
                                                            <div class="hidden" id="msjSuperaLimiteLstActivityCaducada3" style="margin:30px;">
                                                                @Html.Partial("../MensajesParciales/_MensajeLimiteGraficas")
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </article>

                                        </div>
                                    </div>


                                </div>

                            </div>

                        </div>

                    </div><!-- fin id="exTab2"  -->

                </div>

                <div class="modal-footer">
                    <div style="margin-top:10px; display:flex; flex-direction:row; flex-wrap:wrap; justify-content:flex-start">
                        @Html.Partial("../MensajesParciales/_MensajeLeyendaCampoRequerido")
                    </div>

                    <button style="margin:3px;" tabindex="8" class="btn btn-danger" type="button" id="btnCancelarActivityCaducadaBaja"><i class="fa fa-times-circle"></i> Cancelar</button>
                    @*<button style="margin:3px;" tabindex="9" class="btn btn-primary" type="submit" id="btnGrabar"><i class="fa fa-save"></i> Grabar</button>*@
                    @*<button style="margin:3px;" tabindex="9" class="btn btn-success" type="button" id="BtnAbrirModalPDF" title="Exportar PDF Acta de Reunión"><i class="fa fa-file-pdf-o"></i> Imprimir PDF</button>*@
                </div>

            </form>

        </div>
    </div>
</div>

<div id="ModalActividadCaducadas" class="modal inmodal fade" tabindex="-1" role="dialog" aria-hidden="true" style="overflow-y:scroll;">
    <div class="modal-dialog" style="width:90%;">
        <div class="modal-content">
            <div style="background-color:#EE665F" class="modal-header">
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                <h4 class="modal-title" style="color:white"><strong>¡Actividades en Caducidad!</strong></h4>
            </div>
            <div class="modal-body clearfix" style="padding-left:10px; padding-right:10px;">

                <div id="widget-grid6">
                    <div class="row">
                        <article class="col-xs-12 ContenedoresReportes">

                            <div class="jarviswidget jarviswidget-color-blue" id="" data-widget-editbutton="false" data-widget-custombutton="false" style="        border: 2px solid #2F4050
">
                                <header>
                                    <span class="widget-icon"> <i class="fa fa-list"></i> </span>
                                    <h2>Listado de Actividades en Caducidad</h2>
                                </header>
                                <div style="border:none;">
                                    <div class="jarviswidget-editbox">
                                        <!-- This area used as dropdown edit box -->
                                    </div>
                                    <div class="widget-body no-padding" id="ContenedorgrCotizacion">
                                        <div id="LstActivityExpiration" class="hidden"></div>
                                        <div class="spiner-example" id="imgCargaLstActivityExpiration">
                                            @Html.Partial("../MensajesParciales/_MensajeCargando")
                                        </div>
                                        <div class="hidden" id="msjErrorLstActivityExpiration" style="margin:30px;">
                                            @Html.Partial("../MensajesParciales/_MensajeError")
                                        </div>
                                        <div class="hidden" id="msjVacioLstActivityExpiration" style="margin:30px;">
                                            @Html.Partial("../MensajesParciales/_MensajeVacio")
                                        </div>
                                        <div class="hidden" id="msjErrorListarLstActivityExpiration" style="margin:30px;">
                                            @Html.Partial("../MensajesParciales/_MensajeErrorListar")
                                        </div>
                                        <div class="hidden" id="msjSuperaLimiteLstActivityExpiration" style="margin:30px;">
                                            @Html.Partial("../MensajesParciales/_MensajeLimiteGraficas")
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </article>
                    </div>
                </div>
            </div>

            <div style="background-color:#EE665F" class="modal-footer">
                <h4 class="modal-title" style="color:white"><strong>¡Alertas!</strong></h4>
            </div>

        </div>
    </div>

</div>

<div id="ModalActividadPendientes" class="modal inmodal fade" tabindex="-1" role="dialog" aria-hidden="true" style="overflow-y:scroll;">
    <div class="modal-dialog" style="width:80%;">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                <h4 class="modal-title"><strong>¡Listado de Tickets y Actividades!</strong></h4>
            </div>

            <div class="modal-body clearfix" style="padding-left:10px; padding-right:10px;">
                <form id="FrmBuscarUsuario">
                    <section class="col-xs-12 col-sm-12 col-md-6 col-lg-5">
                        <label style=" color: #2F4050"><strong>Usuario: </strong><strong class="CampoRequerido">*</strong></label>
                        <div style="width: 100%; display:flex; flex-flow:row nowrap;">
                            <select id="selectorUsusarioBuscarPendiente" class="selectpicker" multiple data-selected-text-format="count > 3" data-live-search="true" data-width="100%" title="Seleccionar Operación" data-size="5" data-max-options="1" data-actions-box="false" data-style="btn-info"></select>
                            @*<button style="width: 50px;" class="btn btn-primary" type="button" id="btnBuscar"><i class="icon-append fa fa-plus"></i></button>*@
                        </div>
                    </section>

                    <section class="col-xs-12 col-sm-12 col-md-6 col-lg-2" style="margin-top:25px">
                        <div style="width: 100%;display: flex;flex-flow: row nowrap;">
                            <button style="margin-top:0px; width:100px" tabindex="9" class="btn btn-primary" type="button" id="btnBuscarUsuario"><i class="fa fa-search"></i> Buscar</button>
                        </div>
                    </section>
                </form>
            </div>

            <div class="modal-body clearfix" style="padding-left:10px; padding-right:10px;">
                <div id="widget-grid6">
                    <div class="row">
                        <article class="col-xs-12 ContenedoresReportes">

                            <div class="jarviswidget jarviswidget-color-blue" id="" data-widget-editbutton="false" data-widget-custombutton="false" style="border: 2px solid #2F4050">
                                <header>
                                    <span class="widget-icon"> <i class="fa fa-list"></i> </span>
                                    <h2>Listado de Tickets</h2>
                                </header>
                                <div style="border:none;">
                                    <div class="jarviswidget-editbox">
                                        <!-- This area used as dropdown edit box -->
                                    </div>
                                    <div class="widget-body no-padding" id="ContenedorgrCotizacion">
                                        <div id="LstTicketDePendiente" class="hidden"></div>
                                        <div class="spiner-example" id="imgCargaLstTicketDePendiente">
                                            @Html.Partial("../MensajesParciales/_MensajeCargando")
                                        </div>
                                        <div class="hidden" id="msjErrorLstTicketDePendiente" style="margin:30px;">
                                            @Html.Partial("../MensajesParciales/_MensajeError")
                                        </div>
                                        <div class="hidden" id="msjVacioLstTicketDePendiente" style="margin:30px;">
                                            @Html.Partial("../MensajesParciales/_MensajeVacio")
                                        </div>
                                        <div class="hidden" id="msjErrorListarLstTicketDePendiente" style="margin:30px;">
                                            @Html.Partial("../MensajesParciales/_MensajeErrorListar")
                                        </div>
                                        <div class="hidden" id="msjSuperaLimiteLstTicketDePendiente" style="margin:30px;">
                                            @Html.Partial("../MensajesParciales/_MensajeLimiteGraficas")
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </article>
                    </div>
                </div>
            </div>

            <div class="modal-body clearfix" style="padding-left:10px; padding-right:10px;">
                <div id="widget-grid6">
                    <div class="row">
                        <article class="col-xs-12 ContenedoresReportes">

                            <div class="jarviswidget jarviswidget-color-blue" id="" data-widget-editbutton="false" data-widget-custombutton="false" style="border: 2px solid #2F4050">
                                <header>
                                    <span class="widget-icon"> <i class="fa fa-list"></i> </span>
                                    <h2>Listado de Actividades</h2>
                                </header>
                                <div style="border:none;">
                                    <div class="jarviswidget-editbox">
                                        <!-- This area used as dropdown edit box -->
                                    </div>
                                    <div class="widget-body no-padding" id="ContenedorgrCotizacion">
                                        <div id="LstActivityPendiente" class="hidden"></div>
                                        <div class="spiner-example" id="imgCargaLstActivityPendiente">
                                            @Html.Partial("../MensajesParciales/_MensajeCargando")
                                        </div>
                                        <div class="hidden" id="msjErrorLstActivityPendiente" style="margin:30px;">
                                            @Html.Partial("../MensajesParciales/_MensajeError")
                                        </div>
                                        <div class="hidden" id="msjVacioLstActivityPendiente" style="margin:30px;">
                                            @Html.Partial("../MensajesParciales/_MensajeVacio")
                                        </div>
                                        <div class="hidden" id="msjErrorListarLstActivityPendiente" style="margin:30px;">
                                            @Html.Partial("../MensajesParciales/_MensajeErrorListar")
                                        </div>
                                        <div class="hidden" id="msjSuperaLimiteLstActivityPendiente" style="margin:30px;">
                                            @Html.Partial("../MensajesParciales/_MensajeLimiteGraficas")
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </article>
                    </div>
                </div>
            </div>

            @*<div style="background-color:#EE665F" class="modal-footer">
                    <h4 class="modal-title" style="color:white"><strong>¡Alertas!</strong></h4>
                </div>*@

        </div>
    </div>

</div>

<div id="ModalTicketActividadesPendiente" class="modal inmodal fade" tabindex="-1" role="dialog" aria-hidden="true">
    <div class="modal-dialog" style="width:90%;">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                <h4 class="modal-title"><strong>¡Ticket relacionado con la Actividad!</strong></h4>
            </div>
            <div class="modal-body clearfix" style="padding-left:10px; padding-right:10px;">

                <div id="widget-grid6">
                    <div class="row detalleAlertaCotizacion">
                        <article class="col-xs-12 ContenedoresReportes">

                            <div class="jarviswidget jarviswidget-color-blue" id="" data-widget-editbutton="false" data-widget-custombutton="false" style="border: 2px solid #2F4050">
                                <header>
                                    <span class="widget-icon"> <i class="fa fa-list"></i> </span>
                                    <h2>Listado de Ticket </h2>
                                    @*<button class="btn btn-success pull-right" type="button" id="BtnExpotarTicketCriticidadAltaA" disabled title="Exportar listado a Excel"><i class="fa fa-file-excel-o"></i> Excel</button>*@
                                </header>
                                <div style="border:none;">
                                    <div class="jarviswidget-editbox">
                                        <!-- This area used as dropdown edit box -->
                                    </div>
                                    <div class="widget-body no-padding" id="ContenedorgrCotizacion">
                                        <div id="LstTicketsRelatedActPendiente" class="hidden"></div>
                                        <div class="spiner-example" id="imgCargaLstTicketsRelatedActPendiente">
                                            @Html.Partial("../MensajesParciales/_MensajeCargando")
                                        </div>
                                        <div class="hidden" id="msjErrorLstTicketsRelatedActPendiente" style="margin:30px;">
                                            @Html.Partial("../MensajesParciales/_MensajeError")
                                        </div>
                                        <div class="hidden" id="msjVacioLstTicketsRelatedActPendiente" style="margin:30px;">
                                            @Html.Partial("../MensajesParciales/_MensajeVacio")
                                        </div>
                                        <div class="hidden" id="msjErrorListarLstTicketsRelatedActPendiente" style="margin:30px;">
                                            @Html.Partial("../MensajesParciales/_MensajeErrorListar")
                                        </div>
                                        <div class="hidden" id="msjSuperaLimiteLstTicketsRelatedActPendiente" style="margin:30px;">
                                            @Html.Partial("../MensajesParciales/_MensajeLimiteGraficas")
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </article>

                    </div>
                </div>
            </div>

            @*<div style="background-color:#EE665F" class="modal-footer">
                    <h4 class="modal-title" style="color:white"><strong>¡Alertas!</strong></h4>
                </div>*@

        </div>
    </div>

</div>

<div id="ModalTicketActividadesCaducadas" class="modal inmodal fade" tabindex="-1" role="dialog" aria-hidden="true">
    <div class="modal-dialog" style="width:90%;">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                <h4 class="modal-title"><strong>¡Ticket relacionado con la Actividad!</strong></h4>
            </div>
            <div class="modal-body clearfix" style="padding-left:10px; padding-right:10px;">

                <div id="widget-grid6">
                    <div class="row detalleAlertaCotizacion">
                        <article class="col-xs-12 ContenedoresReportes">

                            <div class="jarviswidget jarviswidget-color-blue" id="" data-widget-editbutton="false" data-widget-custombutton="false" style="        border: 2px solid #2F4050
">
                                <header>
                                    <span class="widget-icon"> <i class="fa fa-list"></i> </span>
                                    <h2>Listado de Ticket </h2>
                                    @*<button class="btn btn-success pull-right" type="button" id="BtnExpotarTicketCriticidadAltaA" disabled title="Exportar listado a Excel"><i class="fa fa-file-excel-o"></i> Excel</button>*@
                                </header>
                                <div style="border:none;">
                                    <div class="jarviswidget-editbox">
                                        <!-- This area used as dropdown edit box -->
                                    </div>
                                    <div class="widget-body no-padding" id="ContenedorgrCotizacion">
                                        <div id="LstTicketsRelatedActivity" class="hidden"></div>
                                        <div class="spiner-example" id="imgCargaLstTicketsRelatedActivity">
                                            @Html.Partial("../MensajesParciales/_MensajeCargando")
                                        </div>
                                        <div class="hidden" id="msjErrorLstTicketsRelatedActivity" style="margin:30px;">
                                            @Html.Partial("../MensajesParciales/_MensajeError")
                                        </div>
                                        <div class="hidden" id="msjVacioLstTicketsRelatedActivity" style="margin:30px;">
                                            @Html.Partial("../MensajesParciales/_MensajeVacio")
                                        </div>
                                        <div class="hidden" id="msjErrorListarLstTicketsRelatedActivity" style="margin:30px;">
                                            @Html.Partial("../MensajesParciales/_MensajeErrorListar")
                                        </div>
                                        <div class="hidden" id="msjSuperaLimiteLstTicketsRelatedActivity" style="margin:30px;">
                                            @Html.Partial("../MensajesParciales/_MensajeLimiteGraficas")
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </article>

                    </div>
                </div>
            </div>

            @*<div style="background-color:#EE665F" class="modal-footer">
                    <h4 class="modal-title" style="color:white"><strong>¡Alertas!</strong></h4>
                </div>*@

        </div>
    </div>

</div>

<div id="ModalActividadToTicketToActividad" class="modal inmodal fade" tabindex="-1" role="dialog" aria-hidden="true" style="overflow-y:scroll;">
    <div class="modal-dialog" style="width:80%;">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                <h4 class="modal-title"><strong>¡Actividades en Caducidad!</strong></h4>
            </div>
            <div class="modal-body clearfix" style="padding-left:10px; padding-right:10px;">

                <div id="widget-grid6">
                    <div class="row">
                        <article class="col-xs-12 ContenedoresReportes">

                            <div class="jarviswidget jarviswidget-color-blue" id="" data-widget-editbutton="false" data-widget-custombutton="false" style="        border: 2px solid #2F4050
">
                                <header>
                                    <span class="widget-icon"> <i class="fa fa-list"></i> </span>
                                    <h2>Listado de Actividades en Caducas</h2>
                                </header>
                                <div style="border:none;">
                                    <div class="jarviswidget-editbox">
                                        <!-- This area used as dropdown edit box -->
                                    </div>
                                    <div class="widget-body no-padding" id="ContenedorgrCotizacion">
                                        <div id="LstActivityToTicketToActivity" class="hidden"></div>
                                        <div class="spiner-example" id="imgCargaLstActivityToTicketToActivity">
                                            @Html.Partial("../MensajesParciales/_MensajeCargando")
                                        </div>
                                        <div class="hidden" id="msjErrorLstActivityToTicketToActivity" style="margin:30px;">
                                            @Html.Partial("../MensajesParciales/_MensajeError")
                                        </div>
                                        <div class="hidden" id="msjVacioLstActivityToTicketToActivity" style="margin:30px;">
                                            @Html.Partial("../MensajesParciales/_MensajeVacio")
                                        </div>
                                        <div class="hidden" id="msjErrorListarLstActivityToTicketToActivity" style="margin:30px;">
                                            @Html.Partial("../MensajesParciales/_MensajeErrorListar")
                                        </div>
                                        <div class="hidden" id="msjSuperaLimiteLstActivityToTicketToActivity" style="margin:30px;">
                                            @Html.Partial("../MensajesParciales/_MensajeLimiteGraficas")
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </article>
                    </div>
                </div>
            </div>

            @*<div style="background-color:#EE665F" class="modal-footer">
                    <h4 class="modal-title" style="color:white"><strong>¡Alertas!</strong></h4>
                </div>*@

        </div>
    </div>

</div>

<div id="ModalActividadToTicketToActividadPendiente" class="modal inmodal fade" tabindex="-1" role="dialog" aria-hidden="true" style="overflow-y:scroll;">
    <div class="modal-dialog" style="width:80%;">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                <h4 class="modal-title"><strong>Actividades en Pendientes</strong></h4>
            </div>
            <div class="modal-body clearfix" style="padding-left:10px; padding-right:10px;">

                <div id="widget-grid6">
                    <div class="row">
                        <article class="col-xs-12 ContenedoresReportes">

                            <div class="jarviswidget jarviswidget-color-blue" id="" data-widget-editbutton="false" data-widget-custombutton="false" style="        border: 2px solid #2F4050
">
                                <header>
                                    <span class="widget-icon"> <i class="fa fa-list"></i> </span>
                                    <h2>Listado de Actividades Pendientes</h2>
                                </header>
                                <div style="border:none;">
                                    <div class="jarviswidget-editbox">
                                        <!-- This area used as dropdown edit box -->
                                    </div>
                                    <div class="widget-body no-padding" id="ContenedorgrCotizacion">
                                        <div id="LstActivityToTicketToActivityPendiente" class="hidden"></div>
                                        <div class="spiner-example" id="imgCargaLstActivityToTicketToActivityPendiente">
                                            @Html.Partial("../MensajesParciales/_MensajeCargando")
                                        </div>
                                        <div class="hidden" id="msjErrorLstActivityToTicketToActivityPendiente" style="margin:30px;">
                                            @Html.Partial("../MensajesParciales/_MensajeError")
                                        </div>
                                        <div class="hidden" id="msjVacioLstActivityToTicketToActivityPendiente" style="margin:30px;">
                                            @Html.Partial("../MensajesParciales/_MensajeVacio")
                                        </div>
                                        <div class="hidden" id="msjErrorListarLstActivityToTicketToActivityPendiente" style="margin:30px;">
                                            @Html.Partial("../MensajesParciales/_MensajeErrorListar")
                                        </div>
                                        <div class="hidden" id="msjSuperaLimiteLstActivityToTicketToActivityPendiente" style="margin:30px;">
                                            @Html.Partial("../MensajesParciales/_MensajeLimiteGraficas")
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </article>
                    </div>
                </div>
            </div>

            @*<div style="background-color:#EE665F" class="modal-footer">
                    <h4 class="modal-title" style="color:white"><strong>¡Alertas!</strong></h4>
                </div>*@

        </div>
    </div>

</div>

<div id="ModalTrabajador" class="modal inmodal fade" tabindex="-1" role="dialog" aria-hidden="true">
    <div class="modal-dialog" style="width:50%;">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                <h4 class="modal-title">Datos del Trabajador</h4>
            </div>
            <div class="modal-body clearfix" style="padding-left:10px; padding-right:10px;">
                <form id="FrmTrabajador" onsubmit="return false">
                    <div class="row">
                        <section class="col-xs-12 col-sm-12 col-md-6 col-lg-6 form-group">
                            <label style="color: #2F4050">Tipo de Documento:</label>
                            <div style="width: 100%; display:flex; flex-flow:row nowrap;">
                                <select id="selectorTrabajadorTipoDoc" class="selectpicker" multiple data-selected-text-format="count > 3" data-live-search="true" data-width="100%" title="Seleccionar Cargo" data-size="5" data-max-options="1" data-actions-box="false" data-style="btn-info">
                                    <option value="1">DNI</option>
                                    <option value="2">CARNET DE EXTRANJERIA</option>
                                    <option value="3">PASAPORTE</option>
                                    <option value="4">PERMISO VEHICULAR</option>
                                    <option value="5">RUC</option>
                                </select>
                            </div>
                        </section>

                        <section class="col-xs-12 col-sm-12 col-md-6 col-lg-6 form-group">
                            <label style="color: #2F4050">Nro Documento:</label>
                            <div class="input-group">
                                <input type="text" tabindex="1" class="form-control" name="txtTrabajadorNroDoc" id="txtTrabajadorNroDoc" maxlength="20" style="padding-left:5px;" />
                                <span class="input-group-addon"><i class="icon-prev fa fa-credit-card"></i></span>
                            </div>
                        </section>
                    </div>

                    <div class="row">
                        <section class="col-xs-12 col-sm-12 col-md-12 col-lg-12 form-group">
                            <label style="color: #2F4050">Nombres: <strong class="CampoRequerido">*</strong></label>
                            <div class="input-group">
                                <input type="text" tabindex="1" class="form-control" name="txtTrabajadorNombres" id="txtTrabajadorNombres" maxlength="50" style="padding-left:5px;" />
                                <span class="input-group-addon"><i class="icon-prev fa fa-user"></i></span>
                            </div>
                        </section>
                    </div>

                    <div class="row">
                        <section class="col-xs-12 col-sm-12 col-md-6 col-lg-6 form-group">
                            <label style="color: #2F4050">Apellido Paterno: <strong class="CampoRequerido">*</strong></label>
                            <div class="input-group">
                                <input type="text" tabindex="1" class="form-control" name="txtTrabajadorApellidoPat" id="txtTrabajadorApellidoPat" maxlength="50" style="padding-left:5px;" />
                                <span class="input-group-addon"><i class="icon-prev fa fa-user"></i></span>
                            </div>
                        </section>

                        <section class="col-xs-12 col-sm-12 col-md-6 col-lg-6 form-group">
                            <label style="color: #2F4050">Apellido Materno: </label>
                            <div class="input-group">
                                <input type="text" tabindex="1" class="form-control" name="txtTrabajadorApellidoMat" id="txtTrabajadorApellidoMat" maxlength="50" style="padding-left:5px;" />
                                <span class="input-group-addon"><i class="icon-prev fa fa-user"></i></span>
                            </div>
                        </section>
                    </div>


                    <div class="row">
                        <section class="col-xs-12 col-sm-12 col-md-12 col-lg-12 form-group">
                            <label style="color: #2F4050">Dirección:</label>
                            <div class="input-group">
                                <input type="text" tabindex="1" class="form-control" name="txtTrabajadorDireccion" id="txtTrabajadorDireccion" maxlength="100" style="padding-left:5px;" />
                                <span class="input-group-addon"><i class="icon-prev fa fa-edit"></i></span>
                            </div>
                        </section>
                    </div>


                    <div class="row">
                        <section class="col-xs-12 col-sm-12 col-md-12 col-lg-12 form-group">
                            <label style="color: #2F4050">Email: <strong class="CampoRequerido">*</strong></label>
                            <div class="input-group">
                                <input type="text" tabindex="1" class="form-control" name="txtTrabajadorEmail" id="txtTrabajadorEmail" maxlength="100" style="padding-left:5px;" />
                                <span class="input-group-addon"><i class="icon-prev fa fa-edit"></i></span>
                            </div>
                        </section>
                    </div>

                    <div class="row">
                        <section class="col-xs-12 col-sm-12 col-md-6 col-lg-6 form-group">
                            <label style="color: #2F4050">Teléfono: <strong class="CampoRequerido">*</strong></label>
                            <div class="input-group">
                                <input type="text" tabindex="1" class="form-control" name="txtTrabajadorTelefono" id="txtTrabajadorTelefono" maxlength="15" style="padding-left:5px;" />
                                <span class="input-group-addon"><i class="icon-prev fa fa-phone"></i></span>
                            </div>
                        </section>
                        <section class="col-xs-12 col-sm-12 col-md-6 col-lg-6 form-group">
                            <label style="color: #2F4050">Fecha Nacimiento:</label>
                            <div class="input-group date dtpickerI">
                                <input type="text" class="form-control hasDatepicker" id="txtTrabajadorFechaNac" name="txtTrabajadorFechaNac" value="" maxlength="12" data-dateformat="dd/mm/yy" autocomplete="off">
                                <span class="input-group-addon"><i class="fa fa-calendar"></i></span>
                            </div>
                        </section>
                    </div>

                    <div class="row">
                        <section class="col-xs-12 col-sm-12 col-md-6 col-lg-6 form-group">
                            <label style="color: #2F4050">Area:<strong class="CampoRequerido">*</strong></label>
                            <div style="width: 100%; display:flex; flex-flow:row nowrap;">
                                <select id="selectorTrabajadorArea" class="selectpicker" multiple data-selected-text-format="count > 3" data-live-search="true" data-width="100%" title="Seleccionar Área" data-size="5" data-max-options="1" data-actions-box="false" data-style="btn-info">
                                </select>
                                <button style="width:50px;" class="btn btn-primary" type="button" id="btnAgregarArea"><i class="icon-append fa fa-plus"></i></button>
                            </div>
                        </section>

                        <section class="col-xs-12 col-sm-12 col-md-6 col-lg-6 form-group">
                            <label style="color: #2F4050">Cargo:<strong class="CampoRequerido">*</strong></label>
                            <div style="width: 100%; display:flex; flex-flow:row nowrap;">
                                <select id="selectorTrabajadorCargo" class="selectpicker" multiple data-selected-text-format="count > 3" data-live-search="true" data-width="100%" title="Seleccionar Cargo" data-size="5" data-max-options="1" data-actions-box="false" data-style="btn-info">
                                </select>
                                <button style="width:50px;" class="btn btn-primary" type="button" id="btnAgregarCargo"><i class="icon-append fa fa-plus"></i></button>
                            </div>
                        </section>
                    </div>

                    <div class="row">
                        <section class="col-xs-12 col-sm-12 col-md-12 col-lg-12 form-group">
                            <label style="color: #2F4050">Operación:<strong class="CampoRequerido">*</strong></label>
                            <div style="width: 100%; display:flex; flex-flow:row nowrap;">
                                <select id="selectorTrabajadorOperacion" class="selectpicker" multiple data-selected-text-format="count > 3" data-live-search="true" data-width="100%" title="Seleccionar Operación" data-size="5" data-max-options="1" data-actions-box="false" data-style="btn-info"></select>
                                <button style="width:50px;" class="btn btn-primary" type="button" id="btnAgregarOperacion2"><i class="icon-append fa fa-plus"></i></button>
                            </div>
                        </section>
                    </div>



                    <section class="col-xs-12" style="display:flex; flex-direction:row; flex-wrap:wrap; justify-content:space-between">
                        <div style="margin-top:10px; display:flex; flex-direction:row; flex-wrap:wrap; justify-content:flex-start">
                            @Html.Partial("../MensajesParciales/_MensajeLeyendaCampoRequerido")
                        </div>
                        <div style="margin-top:10px; display:flex; flex-direction:row; flex-wrap:wrap; justify-content:flex-end">
                            <button style="margin:3px;" tabindex="8" class="btn btn-danger" type="button" id="btnCancelarNuevoTrabajador"><i class="fa fa-times-circle"></i> Cancelar</button>
                            <button style="margin:3px;" tabindex="9" class="btn btn-primary" type="submit" id="btnGrabarNuevoTrabajador"><i class="fa fa-save"></i> Grabar</button>
                        </div>
                    </section>
                </form>
            </div>
        </div>
    </div>
</div>

<!--MODAL AREA -->
<div id="ModalArea" class="modal inmodal fade" tabindex="-1" role="dialog" aria-hidden="true">
    <div class="modal-dialog" style="width:40%;">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                <h4 class="modal-title">Datos del Área</h4>
            </div>
            <div class="modal-body clearfix" style="padding-left:10px; padding-right:10px;">
                <form id="FrmArea" onsubmit="return false">
                    <section class="col-xs-12">
                        <label style="color: #2F4050">Nombre del Área: <strong class="CampoRequerido">*</strong></label>
                        <div class="input-group">
                            <input type="text" tabindex="1" class="form-control" name="txtAreaNombre" id="txtAreaNombre" maxlength="100" style="padding-left:5px;" />
                            <span class="input-group-addon"><i class="icon-prev fa fa-edit"></i></span>
                        </div>
                    </section>

                    <section class="col-xs-12" style="display:flex; flex-direction:row; flex-wrap:wrap; justify-content:space-between">
                        <div style="margin-top:10px; display:flex; flex-direction:row; flex-wrap:wrap; justify-content:flex-start">
                            @Html.Partial("../MensajesParciales/_MensajeLeyendaCampoRequerido")
                        </div>
                        <div style="margin-top:10px; display:flex; flex-direction:row; flex-wrap:wrap; justify-content:flex-end">
                            <button style="margin:3px;" tabindex="8" class="btn btn-danger" type="button" id="btnCancelarNuevaArea"><i class="fa fa-times-circle"></i> Cancelar</button>
                            <button style="margin:3px;" tabindex="9" class="btn btn-primary" type="submit" id="btnGrabarNuevaArea"><i class="fa fa-save"></i> Grabar</button>
                        </div>
                    </section>
                </form>
            </div>
        </div>
    </div>
</div>

<!--MODAL CARGO -->

<div id="ModalCargo" class="modal inmodal fade" tabindex="-1" role="dialog" aria-hidden="true">
    <div class="modal-dialog" style="width:40%;">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                <h4 class="modal-title">Datos del Cargo</h4>
            </div>
            <div class="modal-body clearfix" style="padding-left:10px; padding-right:10px;">
                <form id="FrmCargo" onsubmit="return false">
                    <section class="col-xs-12">
                        <label style="color: #2F4050">Nombre del Cargo: <strong class="CampoRequerido">*</strong></label>
                        <div class="input-group">
                            <input type="text" tabindex="1" class="form-control" name="txtCargoNombre" id="txtCargoNombre" maxlength="50" style="padding-left:5px;" />
                            <span class="input-group-addon"><i class="icon-prev fa fa-edit"></i></span>
                        </div>
                    </section>

                    <section class="col-xs-12" style="display:flex; flex-direction:row; flex-wrap:wrap; justify-content:space-between">
                        <div style="margin-top:10px; display:flex; flex-direction:row; flex-wrap:wrap; justify-content:flex-start">
                            @Html.Partial("../MensajesParciales/_MensajeLeyendaCampoRequerido")
                        </div>
                        <div style="margin-top:10px; display:flex; flex-direction:row; flex-wrap:wrap; justify-content:flex-end">
                            <button style="margin:3px;" tabindex="8" class="btn btn-danger" type="button" id="btnCancelarNuevoCargo"><i class="fa fa-times-circle"></i> Cancelar</button>
                            <button style="margin:3px;" tabindex="9" class="btn btn-primary" type="submit" id="btnGrabarNuevoCargo"><i class="fa fa-save"></i> Grabar</button>
                        </div>
                    </section>
                </form>
            </div>
        </div>
    </div>

</div>

<!--MODAL OPERACION -->

<div id="ModalOperacion" class="modal inmodal fade" tabindex="-1" role="dialog" aria-hidden="true">
    <div class="modal-dialog" style="width:40%;">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                <h4 class="modal-title">Datos de la Operacion</h4>
            </div>
            <div class="modal-body clearfix" style="padding-left:10px; padding-right:10px;">
                <form id="FrmOperacion" onsubmit="return false">
                    <section class="col-xs-12">
                        <label style="color: #2F4050">Nombre de la Operación: <strong class="CampoRequerido">*</strong></label>
                        <div class="input-group">
                            <input type="text" tabindex="1" class="form-control" name="txtNombreOperacion" id="txtNombreOperacion" maxlength="100" style="padding-left:5px;" />
                            <span class="input-group-addon"><i class="icon-prev fa fa-edit"></i></span>
                        </div>
                    </section>

                    <section class="col-xs-12" style="display:flex; flex-direction:row; flex-wrap:wrap; justify-content:space-between">
                        <div style="margin-top:10px; display:flex; flex-direction:row; flex-wrap:wrap; justify-content:flex-start">
                            @Html.Partial("../MensajesParciales/_MensajeLeyendaCampoRequerido")
                        </div>
                        <div style="margin-top:10px; display:flex; flex-direction:row; flex-wrap:wrap; justify-content:flex-end">
                            <button style="margin:3px;" tabindex="8" class="btn btn-danger" type="button" id="btnCancelarNuevaOperacion"><i class="fa fa-times-circle"></i> Cancelar</button>
                            <button style="margin:3px;" tabindex="9" class="btn btn-primary" type="submit" id="btnGrabarNuevaOperacion"><i class="fa fa-save"></i> Grabar</button>
                        </div>
                    </section>
                </form>
            </div>
        </div>
    </div>
</div>

<!--MODAL RAZON -->

<div id="ModalReason" class="modal inmodal fade" tabindex="-1" role="dialog" aria-hidden="true">
    <div class="modal-dialog" style="width:40%;">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                <h4 class="modal-title">Datos de la Razón</h4>
            </div>
            <div class="modal-body clearfix" style="padding-left:10px; padding-right:10px;">
                <form id="FrmReason" onsubmit="return false">
                    <section class="col-xs-12">
                        <label style="color: #2F4050">Nombre de la Razón: <strong class="CampoRequerido">*</strong></label>
                        <div class="input-group">
                            <input type="text" tabindex="1" class="form-control" name="txtReasonNombre" id="txtReasonNombre" maxlength="100" style="padding-left:5px;" />
                            <span class="input-group-addon"><i class="icon-prev fa fa-edit"></i></span>
                        </div>
                    </section>

                    <section class="col-xs-12" style="display:flex; flex-direction:row; flex-wrap:wrap; justify-content:space-between">
                        <div style="margin-top:10px; display:flex; flex-direction:row; flex-wrap:wrap; justify-content:flex-start">
                            @Html.Partial("../MensajesParciales/_MensajeLeyendaCampoRequerido")
                        </div>
                        <div style="margin-top:10px; display:flex; flex-direction:row; flex-wrap:wrap; justify-content:flex-end">
                            <button style="margin:3px;" tabindex="8" class="btn btn-danger" type="button" id="btnCancelarNuevaReason"><i class="fa fa-times-circle"></i> Cancelar</button>
                            <button style="margin:3px;" tabindex="9" class="btn btn-primary" type="submit" id="btnGrabarNuevaReason"><i class="fa fa-save"></i> Grabar</button>
                        </div>
                    </section>
                </form>
            </div>
        </div>
    </div>
</div>

<!--MODAL LOCACION -->

<div id="ModalLocation" class="modal inmodal fade" tabindex="-1" role="dialog" aria-hidden="true">
    <div class="modal-dialog" style="width:40%;">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                <h4 class="modal-title">Datos de Locación</h4>
            </div>
            <div class="modal-body clearfix" style="padding-left:10px; padding-right:10px;">
                <form id="FrmLocation" onsubmit="return false">
                    <section class="col-xs-12">
                        <label style="color: #2F4050">Nombre de la Locación: <strong class="CampoRequerido">*</strong></label>
                        <div class="input-group">
                            <input type="text" tabindex="1" class="form-control" name="txtLocacionNombre" id="txtLocacionNombre" maxlength="100" style="padding-left:5px;" />
                            <span class="input-group-addon"><i class="icon-prev fa fa-edit"></i></span>
                        </div>
                    </section>

                    <section class="col-xs-12" style="display:flex; flex-direction:row; flex-wrap:wrap; justify-content:space-between">
                        <div style="margin-top:10px; display:flex; flex-direction:row; flex-wrap:wrap; justify-content:flex-start">
                            @Html.Partial("../MensajesParciales/_MensajeLeyendaCampoRequerido")
                        </div>
                        <div style="margin-top:10px; display:flex; flex-direction:row; flex-wrap:wrap; justify-content:flex-end">
                            <button style="margin:3px;" tabindex="8" class="btn btn-danger" type="button" id="btnCancelarNuevaLocacion"><i class="fa fa-times-circle"></i> Cancelar</button>
                            <button style="margin:3px;" tabindex="9" class="btn btn-primary" type="submit" id="btnGrabarNuevaLocacion"><i class="fa fa-save"></i> Grabar</button>
                        </div>
                    </section>
                </form>
            </div>
        </div>
    </div>
</div>


<div id="ModalCriticidadMedia" class="modal inmodal fade" tabindex="-1" role="dialog" aria-hidden="true">
    <div class="modal-dialog" style="width:99%;">
        <div class="modal-content">
            <div style="background-color:#f2c602" class="modal-header">
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                <h4 class="modal-title" style="color:white"><strong>¡Ticket en Criticidad Media!</strong></h4>
            </div>
            <div class="modal-body clearfix" style="padding-left:10px; padding-right:10px;">

                <div id="widget-grid6">
                    <div class="row detalleAlertaCotizacion">
                        <article class="col-xs-12 ContenedoresReportes">

                            <div class="jarviswidget jarviswidget-color-blue" id="" data-widget-editbutton="false" data-widget-custombutton="false" style="        border: 2px solid #2F4050
">
                                <header>
                                    <span class="widget-icon"> <i class="fa fa-list"></i> </span>
                                    <h2>Listado de Tickets en Criticidad Media</h2>
                                    <button class="btn btn-success pull-right" type="button" id="BtnExportarExcelCriticidadMedia" disabled title="Exportar listado a Excel"><i class="fa fa-file-excel-o"></i> Excel</button>
                                </header>
                                <div style="border:none;">
                                    <div class="jarviswidget-editbox">
                                        <!-- This area used as dropdown edit box -->
                                    </div>
                                    <div class="widget-body no-padding" id="ContenedorgrCotizacion">
                                        <div id="LstTicketsCriticidadMedia" class="hidden"></div>
                                        <div class="spiner-example" id="imgCargaLstTicketsCriticidadMedia">
                                            @Html.Partial("../MensajesParciales/_MensajeCargando")
                                        </div>
                                        <div class="hidden" id="msjErrorLstTicketsCriticidadMedia" style="margin:30px;">
                                            @Html.Partial("../MensajesParciales/_MensajeError")
                                        </div>
                                        <div class="hidden" id="msjVacioLstTicketsCriticidadMedia" style="margin:30px;">
                                            @Html.Partial("../MensajesParciales/_MensajeVacio")
                                        </div>
                                        <div class="hidden" id="msjErrorListarLstTicketsCriticidadMedia" style="margin:30px;">
                                            @Html.Partial("../MensajesParciales/_MensajeErrorListar")
                                        </div>
                                        <div class="hidden" id="msjSuperaLimiteLstTicketsCriticidadMedia" style="margin:30px;">
                                            @Html.Partial("../MensajesParciales/_MensajeLimiteGraficas")
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </article>

                    </div>
                </div>
            </div>

            <div style="background-color:#f2c602" class="modal-footer">
                <h4 class="modal-title" style="color:white"><strong>¡Alertas!</strong></h4>
            </div>

        </div>
    </div>

</div>

<div id="ModalCriticidadBaja" class="modal inmodal fade" tabindex="-1" role="dialog" aria-hidden="true">
    <div class="modal-dialog" style="width:99%;">
        <div class="modal-content">
            <div style="background-color:#37C278" class="modal-header">
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                <h4 class="modal-title" style="color:white"><strong>¡Ticket en Criticidad Baja!</strong></h4>
            </div>
            <div class="modal-body clearfix" style="padding-left:10px; padding-right:10px;">

                <div id="widget-grid6">
                    <div class="row detalleAlertaCotizacion">
                        <article class="col-xs-12 ContenedoresReportes">

                            <div class="jarviswidget jarviswidget-color-blue" id="" data-widget-editbutton="false" data-widget-custombutton="false" style="        border: 2px solid #2F4050
">
                                <header>
                                    <span class="widget-icon"> <i class="fa fa-list"></i> </span>
                                    <h2>Listado de Tickets en Criticidad Baja</h2>
                                    <button class="btn btn-success pull-right" type="button" id="BtnExportarExcelCriticidadBaja" disabled title="Exportar listado a Excel"><i class="fa fa-file-excel-o"></i> Excel</button>
                                </header>
                                <div style="border:none;">
                                    <div class="jarviswidget-editbox">
                                        <!-- This area used as dropdown edit box -->
                                    </div>
                                    <div class="widget-body no-padding" id="ContenedorgrCotizacion">
                                        <div id="LstTicketsCriticidadBaja" class="hidden"></div>
                                        <div class="spiner-example" id="imgCargaLstTicketsCriticidadBaja">
                                            @Html.Partial("../MensajesParciales/_MensajeCargando")
                                        </div>
                                        <div class="hidden" id="msjErrorLstTicketsCriticidadBaja" style="margin:30px;">
                                            @Html.Partial("../MensajesParciales/_MensajeError")
                                        </div>
                                        <div class="hidden" id="msjVacioLstTicketsCriticidadBaja" style="margin:30px;">
                                            @Html.Partial("../MensajesParciales/_MensajeVacio")
                                        </div>
                                        <div class="hidden" id="msjErrorListarLstTicketsCriticidadBaja" style="margin:30px;">
                                            @Html.Partial("../MensajesParciales/_MensajeErrorListar")
                                        </div>
                                        <div class="hidden" id="msjSuperaLimiteLstTicketsCriticidadBaja" style="margin:30px;">
                                            @Html.Partial("../MensajesParciales/_MensajeLimiteGraficas")
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </article>

                    </div>
                </div>
            </div>

            <div style="background-color:#37C278" class="modal-footer">
                <h4 class="modal-title" style="color:white"><strong>¡Alertas!</strong></h4>
            </div>

        </div>
    </div>

</div>

<div id="ModalActividadesCompletadas" class="modal inmodal fade" tabindex="-1" role="dialog" aria-hidden="true" style="overflow-y:scroll;">
    <div class="modal-dialog" style="width:90%;">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                <h4 class="modal-title"><strong>Actividades Completadas</strong></h4>
            </div>
            <div class="modal-body clearfix" style="padding-left:10px; padding-right:10px;">

                <div id="widget-grid6">
                    <div class="row detalleAlertaCotizacion">
                        <article class="col-xs-12 ContenedoresReportes">

                            <div class="jarviswidget jarviswidget-color-blue" id="" data-widget-editbutton="false" data-widget-custombutton="false" style="border: 2px solid #2F4050
">
                                <header>
                                    <span class="widget-icon"> <i class="fa fa-list"></i> </span>
                                    <h2>Listado de Actividades Completadas</h2>
                                    <button class="btn btn-success pull-right" type="button" id="BtnExportarExcelActividadesCompletadas" disabled title="Exportar listado a Excel"><i class="fa fa-file-excel-o"></i> Excel</button>
                                </header>
                                <div style="border:none;">
                                    <div class="jarviswidget-editbox">
                                        <!-- This area used as dropdown edit box -->
                                    </div>
                                    <div class="widget-body no-padding" id="ContenedorgrCotizacion">
                                        <div id="LstActivityComplete" class="hidden"></div>
                                        <div class="spiner-example" id="imgCargaLstActivityComplete">
                                            @Html.Partial("../MensajesParciales/_MensajeCargando")
                                        </div>
                                        <div class="hidden" id="msjErrorLstActivityComplete" style="margin:30px;">
                                            @Html.Partial("../MensajesParciales/_MensajeError")
                                        </div>
                                        <div class="hidden" id="msjVacioLstActivityComplete" style="margin:30px;">
                                            @Html.Partial("../MensajesParciales/_MensajeVacio")
                                        </div>
                                        <div class="hidden" id="msjErrorListarLstActivityComplete" style="margin:30px;">
                                            @Html.Partial("../MensajesParciales/_MensajeErrorListar")
                                        </div>
                                        <div class="hidden" id="msjSuperaLimiteLstActivityComplete" style="margin:30px;">
                                            @Html.Partial("../MensajesParciales/_MensajeLimiteGraficas")
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </article>

                    </div>
                </div>
            </div>

            @*<div style="background-color:#37C278" class="modal-footer">
                    <h4 class="modal-title" style="color:white"><strong>¡Alertas!</strong></h4>
                </div>*@

        </div>
    </div>

</div>

<div id="ModalActividadToTicketClompleta" class="modal inmodal fade" tabindex="-1" role="dialog" aria-hidden="true">
    <div class="modal-dialog" style="width:90%;">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                <h4 class="modal-title"><strong>¡Ticket relacionado con la Actividad!</strong></h4>
            </div>
            <div class="modal-body clearfix" style="padding-left:10px; padding-right:10px;">

                <div id="widget-grid6">
                    <div class="row detalleAlertaCotizacion">
                        <article class="col-xs-12 ContenedoresReportes">

                            <div class="jarviswidget jarviswidget-color-blue" id="" data-widget-editbutton="false" data-widget-custombutton="false" style="        border: 2px solid #2F4050
">
                                <header>
                                    <span class="widget-icon"> <i class="fa fa-list"></i> </span>
                                    <h2>Listado de Ticket </h2>
                                    @*<button class="btn btn-success pull-right" type="button" id="BtnExpotarTicketCriticidadAltaA" disabled title="Exportar listado a Excel"><i class="fa fa-file-excel-o"></i> Excel</button>*@
                                </header>
                                <div style="border:none;">
                                    <div class="jarviswidget-editbox">
                                        <!-- This area used as dropdown edit box -->
                                    </div>
                                    <div class="widget-body no-padding" id="ContenedorgrCotizacion">
                                        <div id="LstTicketsRelatedActivityCompletado" class="hidden"></div>
                                        <div class="spiner-example" id="imgCargaLstTicketsRelatedActivityCompletado">
                                            @Html.Partial("../MensajesParciales/_MensajeCargando")
                                        </div>
                                        <div class="hidden" id="msjErrorLstTicketsRelatedActivityCompletado" style="margin:30px;">
                                            @Html.Partial("../MensajesParciales/_MensajeError")
                                        </div>
                                        <div class="hidden" id="msjVacioLstTicketsRelatedActivityCompletado" style="margin:30px;">
                                            @Html.Partial("../MensajesParciales/_MensajeVacio")
                                        </div>
                                        <div class="hidden" id="msjErrorListarLstTicketsRelatedActivityCompletado" style="margin:30px;">
                                            @Html.Partial("../MensajesParciales/_MensajeErrorListar")
                                        </div>
                                        <div class="hidden" id="msjSuperaLimiteLstTicketsRelatedActivityCompletado" style="margin:30px;">
                                            @Html.Partial("../MensajesParciales/_MensajeLimiteGraficas")
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </article>

                    </div>
                </div>
            </div>

            @*<div style="background-color:#EE665F" class="modal-footer">
                    <h4 class="modal-title" style="color:white"><strong>¡Alertas!</strong></h4>
                </div>*@

        </div>
    </div>

</div>

<div id="ModalActividadToTicketToActividaCompletado" class="modal inmodal fade" tabindex="-1" role="dialog" aria-hidden="true" style="overflow-y:scroll;">
    <div class="modal-dialog" style="width:80%;">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                <h4 class="modal-title"><strong>Actividades Completadas</strong></h4>
            </div>
            <div class="modal-body clearfix" style="padding-left:10px; padding-right:10px;">

                <div id="widget-grid6">
                    <div class="row">
                        <article class="col-xs-12 ContenedoresReportes">

                            <div class="jarviswidget jarviswidget-color-blue" id="" data-widget-editbutton="false" data-widget-custombutton="false" style="        border: 2px solid #2F4050
">
                                <header>
                                    <span class="widget-icon"> <i class="fa fa-list"></i> </span>
                                    <h2>Listado de Actividades Completadas</h2>
                                </header>
                                <div style="border:none;">
                                    <div class="jarviswidget-editbox">
                                        <!-- This area used as dropdown edit box -->
                                    </div>
                                    <div class="widget-body no-padding" id="ContenedorgrCotizacion">
                                        <div id="LstActivityToTicketToActivityCompletadas" class="hidden"></div>
                                        <div class="spiner-example" id="imgCargaLstActivityToTicketToActivityCompletadas">
                                            @Html.Partial("../MensajesParciales/_MensajeCargando")
                                        </div>
                                        <div class="hidden" id="msjErrorLstActivityToTicketToActivityCompletadas" style="margin:30px;">
                                            @Html.Partial("../MensajesParciales/_MensajeError")
                                        </div>
                                        <div class="hidden" id="msjVacioLstActivityToTicketToActivityCompletadas" style="margin:30px;">
                                            @Html.Partial("../MensajesParciales/_MensajeVacio")
                                        </div>
                                        <div class="hidden" id="msjErrorListarLstActivityToTicketToActivityCompletadas" style="margin:30px;">
                                            @Html.Partial("../MensajesParciales/_MensajeErrorListar")
                                        </div>
                                        <div class="hidden" id="msjSuperaLimiteLstActivityToTicketToActivityCompletadas" style="margin:30px;">
                                            @Html.Partial("../MensajesParciales/_MensajeLimiteGraficas")
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </article>
                    </div>
                </div>
            </div>

            @*<div style="background-color:#EE665F" class="modal-footer">
                    <h4 class="modal-title" style="color:white"><strong>¡Alertas!</strong></h4>
                </div>*@

        </div>
    </div>

</div>

<div id="ModalTicketArchivo" class="modal inmodal fade" tabindex="-1" role="dialog" aria-hidden="true" style="overflow-y:auto;">
    <div class="modal-dialog" style="width:99%;">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                <h4 class="modal-title"><strong>Tickets Generales</strong></h4>
            </div>
            <div class="modal-body clearfix" style="padding-left:30px; padding-right:30px;">

                @*<div class="row">
                    <section class="col-xs-12 col-sm-12 col-md-5 col-lg-4">
                        <div style="width: 100%;">
                            <input tabindex="7" type="radio" name="rdoRadioFilterSearchTicket" id="rdoSearchDate" checked="checked">
                            <label style="color: #2F4050;"><strong>Por Fecha </strong></label>
                            <input tabindex="7" type="radio" name="rdoRadioFilterSearchTicket" id="rdoSearchTicket" style="margin-left:30px">
                            <label style="color: #2F4050"><strong>Por Ticket </strong></label>
                            <input tabindex="7" type="radio" name="rdoRadioFilterSearchTicket" id="rdoSearchStatus" style="margin-left:30px">
                            <label style="color: #2F4050"><strong>Por Estado </strong></label>
                        </div>
                    </section>
                </div>*@


                <div class="row form-group">

                    <section class="col-xs-12 col-sm-12 col-md-2 col-lg-3">
                        <label style="color: #2F4050"><strong>Desde: </strong><strong class="CampoRequerido">*</strong></label>
                        <div class="input-group date">
                            <input type="text" class="form-control hasDatepicker" id="txtFechaInicioTicketHistoric" name="txtFechaInicioTicketHistoric" value="" data-dateformat="dd/mm/yy">
                            <span class="input-group-addon"><i class="fa fa-calendar"></i></span>
                        </div>
                    </section>


                    <section class="col-xs-12 col-sm-12 col-md-2 col-lg-3">
                        <label style="color: #2F4050"><strong>Hasta: </strong><strong class="CampoRequerido">*</strong></label>
                        <div class="input-group date">
                            <input type="text" class="form-control hasDatepicker" id="txtFechaFinalTicketHistoric" name="txtFechaFinalTicketHistoric" value="" data-dateformat="dd/mm/yy">
                            <span class="input-group-addon"><i class="fa fa-calendar"></i></span>
                        </div>
                    </section>

                    @*<section class="col-xs-12 col-sm-12 col-md-3 col-lg-3 ContainerSeachTicket hidden">
                        <label style="color: #2F4050"><strong>Ticket: </strong></label>
                        <div class="form-group">
                            <select id="selectorTicketBusqueda" class="selectpicker" multiple data-selected-text-format="count < 3" data-live-search="true" data-width="100%" data-size="5" title="Selección múltiple" data-actions-box="true"></select>
                        </div>
                    </section>*@

                    @*<section class="col-xs-12 col-sm-12 col-md-5 col-lg-4 ContainerRadioStatus hidden">
                        <div style="width: 100%;">
                            <input tabindex="7" type="radio" name="rdoRadioFilterPenCom" id="rdoPendienteTicket" checked="checked">
                            <label style="color: #2F4050;"><strong>Pendiente </strong></label>
                            <input tabindex="7" type="radio" name="rdoRadioFilterPenCom" id="rdoCompletadoTicket" style="margin-left:30px">
                            <label style="color: #2F4050"><strong>Completado </strong></label>
                        </div>
                    </section>*@

                    <section class="col-xs-12 col-sm-12 col-md-3 col-lg-2">
                        <div class="row" style="margin-top:22px">
                            <button style="margin:3px;" tabindex="9" class="btn btn-primary" type="submit" id="btnTicketHistorico"><i class="icon-append fa fa-search"></i> Buscar</button>
                        </div>
                    </section>
                </div>


                <div id="widget-grid6">
                    <div class="row">
                        <article class="col-xs-12">

                            <div class="jarviswidget jarviswidget-color-blue" id="" data-widget-editbutton="false" data-widget-custombutton="false" style="border: 2px solid #2F4050
">
                                <header>
                                    <span class="widget-icon"> <i class="fa fa-list"></i> </span>
                                    <h2>Listado de Tickets</h2>
                                    <button class="btn btn-success pull-right" type="button" id="" disabled title="Exportar listado a Excel"><i class="fa fa-file-excel-o"></i> Excel</button>
                                </header>
                                <div style="border:none;">
                                    <div class="jarviswidget-editbox">
                                        <!-- This area used as dropdown edit box -->
                                    </div>
                                    <div class="widget-body no-padding" id="ContenedorgrCotizacion">
                                        <div id="LstTicketGeneralHistoric" class="hidden"></div>
                                        <div class="spiner-example" id="imgCargaLstTicketGeneralHistoric">
                                            @Html.Partial("../MensajesParciales/_MensajeCargando")
                                        </div>
                                        <div class="hidden" id="msjErrorLstTicketGeneralHistoric" style="margin:30px;">
                                            @Html.Partial("../MensajesParciales/_MensajeError")
                                        </div>
                                        <div class="hidden" id="msjVacioLstTicketGeneralHistoric" style="margin:30px;">
                                            @Html.Partial("../MensajesParciales/_MensajeVacio")
                                        </div>
                                        <div class="hidden" id="msjErrorListarLstTicketGeneralHistoric" style="margin:30px;">
                                            @Html.Partial("../MensajesParciales/_MensajeErrorListar")
                                        </div>
                                        <div class="hidden" id="msjSuperaLimiteLstTicketGeneralHistoric" style="margin:30px;">
                                            @Html.Partial("../MensajesParciales/_MensajeLimiteGraficas")
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </article>

                    </div>
                </div>
            </div>
        </div>
    </div>

</div>

<div id="ModalBuscarTicket" class="modal inmodal fade" tabindex="-1" role="dialog" aria-hidden="true" style="overflow-y:auto;">
    <div class="modal-dialog" style="width:99%;">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                <h4 class="modal-title"><strong>Busqueda de Ticket Generado</strong></h4>
            </div>
            <div class="modal-body clearfix" style="padding-left:30px; padding-right:30px;">

                @*<div class="row">
                    <section class="col-xs-12 col-sm-12 col-md-5 col-lg-4">
                        <div style="width: 100%;">
                            <input tabindex="7" type="radio" name="rdoRadioPlatMov" id="rdoSearchPlataforma" checked="checked">
                            <label style="color: #2F4050"><strong>Plataforma </strong></label>
                            <input tabindex="7" type="radio" name="rdoRadioPlatMov" id="rdoSearchMovil" style="margin-left:30px">
                            <label style="color: #2F4050;"><strong>Movil </strong></label>
                        </div>
                    </section>
                </div>*@

                <!--<div class="row">
                    <section class="col-xs-12 col-sm-12 col-md-5 col-lg-4">
                        <div style="width: 100%;">
                            <input tabindex="7" type="radio" name="rdoRadioFilterSearchTicket" id="rdoSearchValues" checked="checked">
                            <label style="color: #2F4050"><strong>Buscador </strong></label>
                            <input tabindex="7" type="radio" name="rdoRadioFilterSearchTicket" id="rdoSearchDate" style="margin-left:30px">
                            <label style="color: #2F4050;"><strong>Por Fecha </strong></label>-->
                            @*<input tabindex="7" type="radio" name="rdoRadioFilterSearchTicket" id="rdoSearchTicket" style="margin-left:30px">
                            <label style="color: #2F4050"><strong>Por Ticket </strong></label>*@
                            <!--<input tabindex="7" type="radio" name="rdoRadioFilterSearchTicket" id="rdoSearchStatus" style="margin-left:30px">
                            <label style="color: #2F4050"><strong>Por Estado </strong></label>
                        </div>
                    </section>
                </div>-->


                <div class="row form-group" style="margin-top:10px">

                    <section class="col-xs-12 col-sm-12 col-md-3 col-lg-4 ContainerBuscadorValue">
                        <label style="color: #2F4050"><strong>Buscar: </strong><strong class="CampoRequerido">*</strong></label>
                        <div class="input-group">
                            <input type="text" tabindex="2" class="form-control" name="" id="txtSearchValues" maxlength="50" style="padding-left:5px;" />
                            <span class="input-group-addon"><i class="icon-prev fa fa-list-alt"></i></span>
                        </div>
                    </section>
                    @*<div class="row">*@
                    <section class="col-xs-12 col-sm-12 col-md-2 col-lg-2 ContainerSeachFechaInicio">
                        <label style="color: #2F4050"><strong>Desde: </strong><strong class="CampoRequerido">*</strong></label>
                        <div class="input-group date">
                            <input type="text" class="form-control hasDatepicker" id="txtFechaInicioTicket" name="txtFechaInicioTicket" value="" data-dateformat="dd/mm/yy">
                            <span class="input-group-addon"><i class="fa fa-calendar"></i></span>
                        </div>
                    </section>

                    <section class="col-xs-12 col-sm-12 col-md-2 col-lg-2 ContainerSeachFechaFin">
                        <label style="color: #2F4050"><strong>Hasta: </strong><strong class="CampoRequerido">*</strong></label>
                        <div class="input-group date">
                            <input type="text" class="form-control hasDatepicker" id="txtFechaFinalTicket" name="txtFechaFinalTicket" value="" data-dateformat="dd/mm/yy">
                            <span class="input-group-addon"><i class="fa fa-calendar"></i></span>
                        </div>
                    </section>
                    @*</div>*@

                    @*<div class="row">*@
                    <section class="col-xs-12 col-sm-12 col-md-3 col-lg-3 ContainerSeachTicket hidden">
                        <label style="color: #2F4050"><strong>Ticket: </strong></label>
                        <div class="form-group">
                            <select id="selectorTicketBusqueda" class="selectpicker" multiple data-selected-text-format="count < 3" data-live-search="true" data-width="100%" data-size="5" title="Selección múltiple" data-actions-box="true"></select>
                        </div>
                    </section>
                    @*</div>*@

                    @*<div class="row">*@
                    <section class="col-xs-12 col-sm-12 col-md-5 col-lg-4 ContainerRadioStatus hidden">
                        <div style="width: 100%;">
                            <input tabindex="7" type="radio" name="rdoRadioFilterPenCom" id="rdoPendienteTicket" checked="checked">
                            <label style="color: #2F4050;"><strong>Pendiente </strong></label>
                            <input tabindex="7" type="radio" name="rdoRadioFilterPenCom" id="rdoCompletadoTicket" style="margin-left:30px">
                            <label style="color: #2F4050"><strong>Completado </strong></label>
                        </div>
                    </section>
                    @*</div>*@

                    <section class="col-xs-12 col-sm-12 col-md-3 col-lg-2" style="margin-top:24px">
                        <div class="row">
                            <button style="tabindex=" 9" class="btn btn-primary" type="submit" id="btnBusquedaTicket"><i class="icon-append fa fa-search"></i> Buscar</button>
                        </div>
                    </section>
                </div>


                <div id="widget-grid6">
                    <div class="row detalleAlertaCotizacion">
                        <article class="col-xs-12 ContenedoresReportes">

                            <div class="jarviswidget jarviswidget-color-blue" id="" data-widget-editbutton="false" data-widget-custombutton="false" style="border: 2px solid #2F4050
">
                                <header>
                                    <span class="widget-icon"> <i class="fa fa-list"></i> </span>
                                    <h2>Listado de Tickets Plataforma</h2>
                                    <button class="btn btn-success pull-right" type="button" id="BtnExportarExcelTicketBusqueda" disabled title="Exportar listado a Excel"><i class="fa fa-file-excel-o"></i> Excel</button>
                                </header>
                                <div style="border:none;">
                                    <div class="jarviswidget-editbox">
                                        <!-- This area used as dropdown edit box -->
                                    </div>
                                    <div class="widget-body no-padding" id="ContenedorgrCotizacion">
                                        <div id="LstTicketBusqueda" class="hidden"></div>
                                        <div class="spiner-example" id="imgCargaLstTicketBusqueda">
                                            @Html.Partial("../MensajesParciales/_MensajeCargando")
                                        </div>
                                        <div class="hidden" id="msjErrorLstTicketBusqueda" style="margin:30px;">
                                            @Html.Partial("../MensajesParciales/_MensajeError")
                                        </div>
                                        <div class="hidden" id="msjVacioLstTicketBusqueda" style="margin:30px;">
                                            @Html.Partial("../MensajesParciales/_MensajeVacio")
                                        </div>
                                        <div class="hidden" id="msjErrorListarLstTicketBusqueda" style="margin:30px;">
                                            @Html.Partial("../MensajesParciales/_MensajeErrorListar")
                                        </div>
                                        <div class="hidden" id="msjSuperaLimiteLstTicketBusqueda" style="margin:30px;">
                                            @Html.Partial("../MensajesParciales/_MensajeLimiteGraficas")
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </article>
                    </div>
                </div>
            </div>

            @*<div style="background-color:#37C278" class="modal-footer">
                    <h4 class="modal-title" style="color:white"><strong>¡Alertas!</strong></h4>
                </div>*@
            <div class="modal-footer">
                @*<div style="margin-top:10px; display:flex; flex-direction:row; flex-wrap:wrap; justify-content:flex-start">
                        @Html.Partial("../MensajesParciales/_MensajeLeyendaCampoRequerido")
                    </div>*@

                <button style="margin:3px;" tabindex="8" class="btn btn-danger" type="button" id="btnCancelarTicketBusqueda"><i class="fa fa-times-circle"></i> Cancelar</button>
                @*<button style="margin:3px;" tabindex="9" class="btn btn-primary" type="submit" id="btnCreacionTicket"><i class="fa fa-save"></i> Grabar</button>*@
                @*<button style="margin:3px;" tabindex="9" class="btn btn-primary" type="submit" id="btnGrabar"><i class="fa fa-save"></i> Grabar</button>*@
                @*<button style="margin:3px;" tabindex="9" class="btn btn-success" type="button" id="BtnAbrirModalPDF" title="Exportar PDF Acta de Reunión"><i class="fa fa-file-pdf-o"></i> Imprimir PDF</button>*@
            </div>
        </div>
    </div>

</div>

<div id="ModalActividadesBusqueda" class="modal inmodal fade" tabindex="-1" role="dialog" aria-hidden="true" style="overflow-y:scroll;">

    <div class="modal-dialog" style="width:85%;">
        <div class="modal-content animated">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                <h4 class="modal-title">
                    <label><strong>Nro Ticket: <label id="lblModelTicketBusqueda" style="color:red;font-weight:bold"> </label></strong></label>
                    <label style="float:right;margin-right:15px;font-weight:bold;color:red"> FECHA INICIO : <span id="lblFechaInicioBusqueda">00/00/0000</span>  --- FECHA FIN <span id="lblFechaFinBusqueda">00/00/0000</span> </label>
                </h4>
            </div>

            <form id="FrmTicketCreado" onsubmit="return false">

                <div class="modal-body" style="overflow:auto;">

                    <div id="exTab2" class="container" style="background-color:white; width:100%;">

                        <!--TAB OPERACION-->
                        <div class="tab-pane active" id="tabCompraDirecta">

                            <div class="content">

                                <div id="widget-grid">
                                    <div class="row">
                                        <article class="col-xs-12 ContenedoresReportes">

                                            <div class="jarviswidget jarviswidget-color-blue" id="" data-widget-editbutton="false" data-widget-custombutton="false" style="border: 2px solid #2F4050">
                                                <header>
                                                    <span class="widget-icon"> <i class="fa fa-list"></i> </span>
                                                    <h2>Listado de Actividades</h2>
                                                    <button class="btn btn-success pull-right" type="button" id="" disabled title="Exportar listado a Excel"><i class="fa fa-file-excel-o"></i> Excel</button>
                                                </header>
                                                <div style="border:none;">
                                                    <div class="jarviswidget-editbox">
                                                        <!-- This area used as dropdown edit box -->
                                                    </div>
                                                    <div class="widget-body no-padding" id="ContenedorgrPuntosATratarArchivos">
                                                        <div id="GrillaLstActivityBusqueda" class="hidden"></div>
                                                        <div class="spiner-example" id="imgCargaLstActivityBusqueda">
                                                            @Html.Partial("../MensajesParciales/_MensajeCargando")
                                                        </div>

                                                        <div class="hidden" id="msjErrorLstActivityBusqueda" style="margin:30px;">
                                                            @Html.Partial("../MensajesParciales/_MensajeError")
                                                        </div>

                                                        <div class="hidden" id="msjVacioLstActivityBusqueda" style="margin:30px;">
                                                            @Html.Partial("../MensajesParciales/_MensajeVacio")
                                                        </div>

                                                        <div class="hidden" id="msjErrorListarLstActivityBusqueda" style="margin:30px;">
                                                            @Html.Partial("../MensajesParciales/_MensajeErrorListar")
                                                        </div>
                                                        <div class="hidden" id="msjSuperaLimiteLstActivityBusqueda" style="margin:30px;">
                                                            @Html.Partial("../MensajesParciales/_MensajeLimiteGraficas")
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </article>

                                    </div>
                                </div>


                            </div>

                        </div>

                    </div>

                </div>

                <div class="modal-footer">
                    <div style="margin-top:10px; display:flex; flex-direction:row; flex-wrap:wrap; justify-content:flex-start">
                        @Html.Partial("../MensajesParciales/_MensajeLeyendaCampoRequerido")
                    </div>

                    <button style="margin:3px;" tabindex="8" class="btn btn-danger" type="button" id="btnCancelarActivityBusqueda"><i class="fa fa-times-circle"></i> Cancelar</button>
                    @*<button style="margin:3px;" tabindex="9" class="btn btn-primary" type="submit" id="btnGrabar"><i class="fa fa-save"></i> Grabar</button>*@
                    @*<button style="margin:3px;" tabindex="9" class="btn btn-success" type="button" id="BtnAbrirModalPDF" title="Exportar PDF Acta de Reunión"><i class="fa fa-file-pdf-o"></i> Imprimir PDF</button>*@
                </div>
            </form>
        </div>
    </div>
</div>

@*<div id="ModalStatusAlert" class="modal inmodal fade" tabindex="-1" role="dialog" aria-hidden="true">

        <div class="modal-dialog" style="width:45%;">
            <div class="modal-content animated">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                    <center><h3 class="modal-title" id="TituloDeModulo"> Bienvenido </h3></center>
                </div>
                <div class="modal-body clearfix" style="padding-left:10px; padding-right:10px;">

                    <form id="FrmModuloAlert" onsubmit="return false">

                        <div style="margin-left:210px">
                            <img width="150" src="../Content/img/profile2.gif">
                        </div>

                        <h5>Seleccione a que modulo desea ingresar: </h5>

                        <div>
                            <section class="col-xs-12 col-md-3" style="margin-left:130px">
                                <button style="margin:5px;height:40px;width:130px;background-color:#3085d6;font-size:15px" tabindex="8" class="btn btn-success" type="button" id="btnNewTicket">Nuevo Ticket</button>
                            </section>
                            <section class="col-xs-12 col-md-3">
                                <button style="margin:5px;height:40px;width:130px;background-color:#d33;font-size:15px" tabindex="8" class="btn btn-danger" type="button" id="btnTicket">Ticket</button>
                            </section>
                            <section class="col-xs-12 col-md-3 hidden">
                                <button style="margin:5px;height:40px;width:130px;font-size:15px" tabindex="8" class="btn btn-primary" type="button" id="btnDashboard">Dashboard</button>
                            </section>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>*@

<div id="ModalTicketPorActividad" class="modal inmodal fade" tabindex="-1" role="dialog" aria-hidden="true" style="overflow-y:auto;">
    <div class="modal-dialog" style="width:90%;">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                <h4 class="modal-title"><strong>Detalle Ticket</strong></h4>
            </div>
            <div class="modal-body clearfix" style="padding-left:30px; padding-right:30px;">

                <div class="row form-group">

                    <section class="col-xs-12 col-sm-12 col-md-3 col-lg-3">
                        <label style="color: #2F4050"><strong>Operacion: </strong></label>
                        <div class="input-group">
                            <input type="text" tabindex="1" disabled class="form-control" name="txtOperacionGraphic" id="txtOperacionGraphic" maxlength="100" style="padding-left:5px;" />
                            <span class="input-group-addon"><i class="icon-prev fa fa-edit"></i></span>
                        </div>
                    </section>

                    <section class="col-xs-12 col-sm-12 col-md-3 col-lg-5">
                        <label style="color: #2F4050"><strong>Quien Llama: </strong></label>
                        <div class="input-group">
                            <input type="text" tabindex="1" disabled class="form-control" name="txtQuienLlamaGraphic" id="txtQuienLlamaGraphic" maxlength="100" style="padding-left:5px;" />
                            <span class="input-group-addon"><i class="icon-prev fa fa-edit"></i></span>
                        </div>
                    </section>

                    <section class="col-xs-12 col-sm-12 col-md-3 col-lg-3">
                        <label style="color: #2F4050"><strong>Quien Registra: </strong></label>
                        <div class="input-group">
                            <input type="text" tabindex="1" disabled class="form-control" name="txtQuienRegistraGraphic" id="txtQuienRegistraGraphic" maxlength="100" style="padding-left:5px;" />
                            <span class="input-group-addon"><i class="icon-prev fa fa-edit"></i></span>
                        </div>
                    </section>

                </div>

                <div class="row form-group">

                    <section class="col-xs-12 col-sm-12 col-md-3 col-lg-5">
                        <label style="color: #2F4050"><strong>Responsable: </strong></label>
                        <div class="input-group">
                            <input type="text" tabindex="1" disabled class="form-control" name="txtResponsableGraphic" id="txtResponsableGraphic" maxlength="100" style="padding-left:5px;" />
                            <span class="input-group-addon"><i class="icon-prev fa fa-edit"></i></span>
                        </div>
                    </section>

                    <section class="col-xs-12 col-sm-12 col-md-3 col-lg-3">
                        <label style="color: #2F4050"><strong>Razón: </strong></label>
                        <div class="input-group">
                            <input type="text" tabindex="1" disabled class="form-control" name="txtRazonGraphic" id="txtRazonGraphic" maxlength="100" style="padding-left:5px;" />
                            <span class="input-group-addon"><i class="icon-prev fa fa-edit"></i></span>
                        </div>
                    </section>

                    <section class="col-xs-12 col-sm-12 col-md-3 col-lg-3">
                        <label style="color: #2F4050"><strong>Criticidad: </strong></label>
                        <div class="input-group">
                            <input type="text" tabindex="1" disabled class="form-control" name="txtCriticidadGraphic" id="txtCriticidadGraphic" maxlength="100" style="padding-left:5px;" />
                            <span class="input-group-addon"><i class="icon-prev fa fa-edit"></i></span>
                        </div>
                    </section>

                </div>

                <div class="row form-group">

                    <section class="col-xs-12 col-sm-12 col-md-3 col-lg-3">
                        <label style="color: #2F4050"><strong>Locación: </strong></label>
                        <div class="input-group">
                            <input type="text" tabindex="1" disabled class="form-control" name="txtLocacionGraphic" id="txtLocacionGraphic" maxlength="100" style="padding-left:5px;" />
                            <span class="input-group-addon"><i class="icon-prev fa fa-edit"></i></span>
                        </div>
                    </section>

                    <section class="col-xs-12 col-sm-12 col-md-3 col-lg-2">
                        <label style="color: #2F4050"><strong>Fecha Inicio: </strong></label>
                        <div class="input-group">
                            <input type="text" tabindex="1" disabled class="form-control" name="txtFechaInicioGraphic" id="txtFechaInicioGraphic" maxlength="100" style="padding-left:5px;" />
                            <span class="input-group-addon"><i class="icon-prev fa fa-edit"></i></span>
                        </div>
                    </section>

                    <section class="col-xs-12 col-sm-12 col-md-3 col-lg-4">
                        <label style="color: #2F4050"><strong>Titulo: </strong></label>
                        <div class="input-group">
                            <input type="text" tabindex="1" disabled class="form-control" name="txtTituloGraphic" id="txtTituloGraphic" maxlength="100" style="padding-left:5px;" />
                            <span class="input-group-addon"><i class="icon-prev fa fa-edit"></i></span>
                        </div>
                    </section>

                    <section class="col-xs-12 col-sm-12 col-md-3 col-lg-3" style="margin-top:20px">
                        <button style="margin:5px;height:32px;width:140px;" tabindex="8" class="btn btn-primary" type="button" id="btnFileGraphic"> <i class="fa fa-file-archive-o"></i>  Archivos Adjuntos</button>
                    </section>

                </div>

                <div class="row form-group">
                    <section class="col-xs-12 col-sm-12 col-md-3 col-lg-12">
                        <label style="color: #2F4050"><strong>Detalle: </strong></label>
                        <div style="width: 100%; display:flex; flex-flow:row nowrap;">
                            <textarea style="min-width: 100%" disabled class="form-control" id="txtDetallerGraphic" name="txtDetallerGraphic" rows="5"></textarea>
                        </div>
                    </section>
                </div>

                <div id="widget-grid6">
                    <div class="row detalleAlertaCotizacion">
                        <article class="col-xs-12 ContenedoresReportes">

                            <div class="jarviswidget jarviswidget-color-blue" id="" data-widget-editbutton="false" data-widget-custombutton="false" style="border: 2px solid #2F4050
">
                                <header>
                                    <span class="widget-icon"> <i class="fa fa-list"></i> </span>
                                    <h2>Listado de Actividades</h2>
                                    <button class="btn btn-success pull-right" type="button" id="" disabled title="Exportar listado a Excel"><i class="fa fa-file-excel-o"></i> Excel</button>
                                </header>
                                <div style="border:none;">
                                    <div class="jarviswidget-editbox">
                                        <!-- This area used as dropdown edit box -->
                                    </div>
                                    <div class="widget-body no-padding" id="ContenedorgrCotizacion">
                                        <div id="LstTicketPorActividad" class="hidden"></div>
                                        <div class="spiner-example" id="imgCargaLstTicketPorActividad">
                                            @Html.Partial("../MensajesParciales/_MensajeCargando")
                                        </div>
                                        <div class="hidden" id="msjErrorLstTicketPorActividad" style="margin:30px;">
                                            @Html.Partial("../MensajesParciales/_MensajeError")
                                        </div>
                                        <div class="hidden" id="msjVacioLstTicketPorActividad" style="margin:30px;">
                                            @Html.Partial("../MensajesParciales/_MensajeVacio")
                                        </div>
                                        <div class="hidden" id="msjErrorListarLstTicketPorActividad" style="margin:30px;">
                                            @Html.Partial("../MensajesParciales/_MensajeErrorListar")
                                        </div>
                                        <div class="hidden" id="msjSuperaLimiteLstTicketPorActividad" style="margin:30px;">
                                            @Html.Partial("../MensajesParciales/_MensajeLimiteGraficas")
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </article>

                    </div>
                </div>
            </div>
            @*<div style="background-color:#37C278" class="modal-footer">
                    <h4 class="modal-title" style="color:white"><strong>¡Alertas!</strong></h4>
                </div>*@
            @*<div class="modal-footer">
                    <div style="margin-top:10px; display:flex; flex-direction:row; flex-wrap:wrap; justify-content:flex-start">
                            @Html.Partial("../MensajesParciales/_MensajeLeyendaCampoRequerido")
                        </div>

                    <button style="margin:3px;" tabindex="8" class="btn btn-danger" type="button" id="btnCancelarTicketBusqueda"><i class="fa fa-times-circle"></i> Cancelar</button>
                    <button style="margin:3px;" tabindex="9" class="btn btn-primary" type="submit" id="btnCreacionTicket"><i class="fa fa-save"></i> Grabar</button>
                    <button style="margin:3px;" tabindex="9" class="btn btn-primary" type="submit" id="btnGrabar"><i class="fa fa-save"></i> Grabar</button>
                    <button style="margin:3px;" tabindex="9" class="btn btn-success" type="button" id="BtnAbrirModalPDF" title="Exportar PDF Acta de Reunión"><i class="fa fa-file-pdf-o"></i> Imprimir PDF</button>
                </div>*@
        </div>
    </div>

</div>

<div id="ModalArchivoTicket" class="modal inmodal fade" tabindex="-1" role="dialog" aria-hidden="true" style="overflow-y:auto;">
    <div class="modal-dialog" style="width:70%;">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                <h4 class="modal-title"><strong>Archivos Ticket</strong></h4>
            </div>
            <div class="modal-body clearfix" style="padding-left:30px; padding-right:30px;">

                <div id="widget-grid6">
                    <div class="row detalleAlertaCotizacion">
                        <article class="col-xs-12 ContenedoresReportes">
                            <div class="jarviswidget jarviswidget-color-blue" id="" data-widget-editbutton="false" data-widget-custombutton="false" style="border: 2px solid #2F4050">
                                <header>
                                    <span class="widget-icon"> <i class="fa fa-list"></i> </span>
                                    <h2>Listado de archivos en ticket </h2>
                                    @*<button class="btn btn-success pull-right" type="button" id="" disabled title="Exportar listado a Excel"><i class="fa fa-file-excel-o"></i> Excel</button>*@
                                </header>
                                <div style="border:none;">
                                    <div class="jarviswidget-editbox">
                                        <!-- This area used as dropdown edit box -->
                                    </div>
                                    <div class="widget-body no-padding" id="ContenedorgrCotizacion">
                                        <div id="LstTicketFiles" class="hidden"></div>
                                        <div class="spiner-example" id="imgCargaLstTicketFiles">
                                            @Html.Partial("../MensajesParciales/_MensajeCargando")
                                        </div>
                                        <div class="hidden" id="msjErrorLstTicketFiles" style="margin:30px;">
                                            @Html.Partial("../MensajesParciales/_MensajeError")
                                        </div>
                                        <div class="hidden" id="msjVacioLstTicketFiles" style="margin:30px;">
                                            @Html.Partial("../MensajesParciales/_MensajeVacio")
                                        </div>
                                        <div class="hidden" id="msjErrorListarLstTicketFiles" style="margin:30px;">
                                            @Html.Partial("../MensajesParciales/_MensajeErrorListar")
                                        </div>
                                        <div class="hidden" id="msjSuperaLimiteLstTicketFiles" style="margin:30px;">
                                            @Html.Partial("../MensajesParciales/_MensajeLimiteGraficas")
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </article>
                    </div>
                </div>
            </div>
        </div>
    </div>

</div>

<div id="ModalTicketGraphic" class="modal inmodal fade" tabindex="-1" role="dialog" aria-hidden="true" style="overflow-y:auto;">
    <div class="modal-dialog" style="width:90%;">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                <h4 class="modal-title"><strong>Ticket</strong></h4>
            </div>
            <div class="modal-body clearfix" style="padding-left:30px; padding-right:30px;">

                <div class="row form-group">
                    <section class="col-xs-12 col-sm-12 col-md-3 col-lg-3">
                        <label style="color: #2F4050"><strong>Operacion: </strong></label>
                        <div class="input-group">
                            <input type="text" tabindex="1" disabled class="form-control" name="txtLstOperacionGraphic" id="txtLstOperacionGraphic" maxlength="100" style="padding-left:5px;" />
                            <span class="input-group-addon"><i class="icon-prev fa fa-edit"></i></span>
                        </div>
                    </section>
                </div>

                <div id="widget-grid6">
                    <div class="row detalleAlertaCotizacion">
                        <article class="col-xs-12 ContenedoresReportes">

                            <div class="jarviswidget jarviswidget-color-blue" id="" data-widget-editbutton="false" data-widget-custombutton="false" style="border: 2px solid #2F4050">
                                <header>
                                    <span class="widget-icon"> <i class="fa fa-list"></i> </span>
                                    <h2>Listado de Tickets</h2>
                                    @*<button class="btn btn-success pull-right" type="button" id="" disabled title="Exportar listado a Excel"><i class="fa fa-file-excel-o"></i> Excel</button>*@
                                </header>
                                <div style="border:none;">
                                    <div class="jarviswidget-editbox">
                                        <!-- This area used as dropdown edit box -->
                                    </div>
                                    <div class="widget-body no-padding" id="ContenedorgrCotizacion">
                                        <div id="LstTicketGraphic" class="hidden"></div>
                                        <div class="spiner-example" id="imgCargaLstTicketGraphic">
                                            @Html.Partial("../MensajesParciales/_MensajeCargando")
                                        </div>
                                        <div class="hidden" id="msjErrorLstTicketGraphic" style="margin:30px;">
                                            @Html.Partial("../MensajesParciales/_MensajeError")
                                        </div>
                                        <div class="hidden" id="msjVacioLstTicketGraphic" style="margin:30px;">
                                            @Html.Partial("../MensajesParciales/_MensajeVacio")
                                        </div>
                                        <div class="hidden" id="msjErrorListarLstTicketGraphic" style="margin:30px;">
                                            @Html.Partial("../MensajesParciales/_MensajeErrorListar")
                                        </div>
                                        <div class="hidden" id="msjSuperaLimiteLstTicketGraphic" style="margin:30px;">
                                            @Html.Partial("../MensajesParciales/_MensajeLimiteGraficas")
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </article>

                    </div>
                </div>
            </div>
            @*<div style="background-color:#37C278" class="modal-footer">
                    <h4 class="modal-title" style="color:white"><strong>¡Alertas!</strong></h4>
                </div>*@
            @*<div class="modal-footer">
                    <div style="margin-top:10px; display:flex; flex-direction:row; flex-wrap:wrap; justify-content:flex-start">
                            @Html.Partial("../MensajesParciales/_MensajeLeyendaCampoRequerido")
                        </div>

                    <button style="margin:3px;" tabindex="8" class="btn btn-danger" type="button" id="btnCancelarTicketBusqueda"><i class="fa fa-times-circle"></i> Cancelar</button>
                    <button style="margin:3px;" tabindex="9" class="btn btn-primary" type="submit" id="btnCreacionTicket"><i class="fa fa-save"></i> Grabar</button>
                    <button style="margin:3px;" tabindex="9" class="btn btn-primary" type="submit" id="btnGrabar"><i class="fa fa-save"></i> Grabar</button>
                    <button style="margin:3px;" tabindex="9" class="btn btn-success" type="button" id="BtnAbrirModalPDF" title="Exportar PDF Acta de Reunión"><i class="fa fa-file-pdf-o"></i> Imprimir PDF</button>
                </div>*@
        </div>
    </div>

</div>

<div id="ModalResponsibleGraphic" class="modal inmodal fade" tabindex="-1" role="dialog" aria-hidden="true" style="overflow-y:auto;">
    <div class="modal-dialog" style="width:90%;">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                <h4 class="modal-title"><strong>Ticket</strong></h4>
            </div>
            <div class="modal-body clearfix" style="padding-left:30px; padding-right:30px;">

                <div id="widget-grid6">
                    <div class="row detalleAlertaCotizacion">
                        <article class="col-xs-12 ContenedoresReportes">

                            <div class="jarviswidget jarviswidget-color-blue" id="" data-widget-editbutton="false" data-widget-custombutton="false" style="border: 2px solid #2F4050">
                                <header>
                                    <span class="widget-icon"> <i class="fa fa-list"></i> </span>
                                    <h2>Listado de Tickets</h2>
                                    @*<button class="btn btn-success pull-right" type="button" id="" disabled title="Exportar listado a Excel"><i class="fa fa-file-excel-o"></i> Excel</button>*@
                                </header>
                                <div style="border:none;">
                                    <div class="jarviswidget-editbox">
                                        <!-- This area used as dropdown edit box -->
                                    </div>
                                    <div class="widget-body no-padding" id="ContenedorgrCotizacion">
                                        <div id="LstResponsibleGraphic" class="hidden"></div>
                                        <div class="spiner-example" id="imgCargaLstResponsibleGraphic">
                                            @Html.Partial("../MensajesParciales/_MensajeCargando")
                                        </div>
                                        <div class="hidden" id="msjErrorLstResponsibleGraphic" style="margin:30px;">
                                            @Html.Partial("../MensajesParciales/_MensajeError")
                                        </div>
                                        <div class="hidden" id="msjVacioLstResponsibleGraphic" style="margin:30px;">
                                            @Html.Partial("../MensajesParciales/_MensajeVacio")
                                        </div>
                                        <div class="hidden" id="msjErrorListarLstResponsibleGraphic" style="margin:30px;">
                                            @Html.Partial("../MensajesParciales/_MensajeErrorListar")
                                        </div>
                                        <div class="hidden" id="msjSuperaLimiteLstResponsibleGraphic" style="margin:30px;">
                                            @Html.Partial("../MensajesParciales/_MensajeLimiteGraficas")
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </article>

                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<div id="ModalDayTicketNow" class="modal inmodal fade" tabindex="-1" role="dialog" aria-hidden="true" style="overflow-y:scroll;">
    <div class="modal-dialog" style="width:90%;">

        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                <h4 class="modal-title"><strong>¡Tickets del Dia de Hoy!</strong></h4>
            </div>
            <div class="modal-body clearfix" style="padding-left:10px; padding-right:10px;">

                <div id="widget-grid">
                    <div class="row">
                        <article class="col-xs-12 ContenedoresReportes">

                            <div class="jarviswidget jarviswidget-color-blue" data-widget-editbutton="false" data-widget-custombutton="false" style="border: 2px solid #2F4050">
                                <header>
                                    <span class="widget-icon"> <i class="fa fa-list"></i> </span>
                                    <h2>Listado de Tickets del Dia de hoy</h2>
                                </header>
                                <div style="border:none;">
                                    <div class="jarviswidget-editbox">
                                        <!-- This area used as dropdown edit box -->
                                    </div>
                                    <div class="widget-body no-padding" id="ContenedorgrCotizacion">
                                        <div id="LstTicketsDayOfNow" class="hidden"></div>
                                        <div class="spiner-example" id="imgCargaLstTicketsDayOfNow">
                                            @Html.Partial("../MensajesParciales/_MensajeCargando")
                                        </div>
                                        <div class="hidden" id="msjErrorLstTicketsDayOfNow" style="margin:30px;">
                                            @Html.Partial("../MensajesParciales/_MensajeError")
                                        </div>
                                        <div class="hidden" id="msjVacioLstTicketsDayOfNow" style="margin:30px;">
                                            @Html.Partial("../MensajesParciales/_MensajeVacio")
                                        </div>
                                        <div class="hidden" id="msjErrorListarLstTicketsDayOfNow" style="margin:30px;">
                                            @Html.Partial("../MensajesParciales/_MensajeErrorListar")
                                        </div>
                                        <div class="hidden" id="msjSuperaLimiteLstTicketsDayOfNow" style="margin:30px;">
                                            @Html.Partial("../MensajesParciales/_MensajeLimiteGraficas")
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </article>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<div id="ModalTicketEdit" class="modal inmodal fade" tabindex="-1" role="dialog" aria-hidden="true" style="overflow-y:scroll;">

    <div class="modal-dialog" style="width: 90%;">
        <div class="modal-content animated">
            <div class="modal-header col-xs-12 col-sm-12 col-md-3 col-lg-12">
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                @*<h4 class="modal-title">*@

                    <div class="form-group col-xs-12 col-sm-12 col-md-3 col-lg-3" style="margin-top:20px">
                        <h4><strong>Nro Ticket: <label id="lblModelTicketEditAlertas" style="color:red;font-weight:bold"> </label></strong></h4>
                    </div>

                    <div class="row col-xs-12 col-sm-12 col-md-3 col-lg-4">
                        <div>                           
                            <div class="event" style="left:0%;">
                                <label>Pendiente</label>
                                <div class="dot1"></div>
                                <div class="detail"><label id="lblTimePendiente"> 00/00/0000 00:00</label></div>
                            </div>                        
                            <div class="event" style="left: 35%;">
                                <label>Operando</label>
                                <div class="dot2"></div>
                                <div class="detail"><label id="lblTimeOperando"> 00/00/0000 00:00</label></div>
                            </div>
                            
                            <div class="event" style="left: 65%;">
                                <label>Completado</label>
                                <div class="dot3"></div>
                                <div class="detail"><label id="lblTimeCompletado"> 00/00/0000 00:00</label></div>
                            </div>
                        </div>
                    </div>
                    <div class="form-group col-xs-12 col-sm-12 col-md-3 col-lg-4 pull-right" style="margin-top:20px">
                        <h4 style="float:right;margin-right:15px;font-weight:bold;color:red"> FECHA INICIO : <span id="lblFechaInicioAlertas">00/00/0000</span>  -- FECHA FIN : <span id="lblFechaFinAlertas">00/00/0000</span> </h4>
                    </div>
                    @*</h4>*@
                </div>
                <form id="FrmTicketCreado" onsubmit="return false">

                    <div class="modal-body" style="overflow:auto;padding-top:15px">

                        <div class="content" style="padding:0px 50px 10px 50px">

                            <div class="row form-group">

                                <div class="col-xs-12 col-sm-12 col-md-3 col-lg-6" style="float: left; margin-right: 20px; border: solid 2px gray; border-radius: 5px; background-color: #e6e6e6; ">
                                    <div class="form-group">
                                        <h2 class="modal-title">
                                            <label style="color:dodgerblue;text-decoration-line: underline"><strong>Detalle de Ticket</strong></label>
                                            @*<button style="margin:3px;" tabindex="9" title="Problema/Solucion" class="btn btn-success pull-right" type="submit" id="btnProblemSolution">Problema|Solucion </button>*@
                                            @*<button style="margin: 3px;" tabindex="9" class="btn btn-primary btnEditDetailTicket" type="submit" id="btnEditDetailTicketID"><i class="fa fa-save" style="width:20px"></i>Grabar</button>*@
                                            <button style="margin:3px;margin-right:10px" tabindex="9" title="Adjuntar Archivo Ticket" class="btn btn-success pull-right hidden" type="submit" id="btnPanelArchivo"><i class="fa fa-file-archive-o"></i> </button>

                                        </h2>
                                    </div>

                                    <div class="form-group col-xs-12 col-sm-12 col-md-3 col-lg-6">
                                        <div class="ContainerTitlelbl">
                                            <label style="color: #2F4050"><strong>Titulo: </strong><span id="lblTitleTicket" style="color:red;font-weight:bold"> </span></label>
                                        </div>
                                        <div class="ContainerTitleComplete hidden">
                                            @*<label style="color: #2F4050"><strong>Titulo de Ticket: </strong><strong class="CampoRequerido">*</strong></label>*@
                                            <div style="margin-top:3px">
                                                <input type="text" style="width:90%;display:flex; flex-flow:row nowrap;text-align:center" class="form-control" placeholder="Titulo de Ticket" id="TitleDetalleTicketMovil" name="TitleDetalleTicketMovil" maxlength="100" />
                                            </div>
                                        </div>
                                        <div class="">
                                            <label style="color: #2F4050"><strong>Operación: </strong><span id="lblOperationTicket" style="font-family: 'Roboto', sans-serif;"> </span></label>
                                        </div>
                                        <div class="">
                                            <label style="color: #2F4050"><strong>Quien Llama: </strong><span id="lblWhoCallTicket" style="font-family: 'Roboto', sans-serif;"> </span></label>
                                        </div>
                                        <div class="">
                                            <label style="color: #2F4050"><strong>Razon: </strong><span id="lblReasonTicket" style="font-family: 'Roboto', sans-serif;"> </span></label>
                                        </div>
                                        <div class="">
                                            <label style="color: #2F4050"><strong>Quien Registra: </strong><span id="lblWhoRegisterTicket" style="font-family: 'Roboto', sans-serif;"> </span></label>
                                        </div>
                                        <div class="">
                                            <label style="color: #2F4050"><strong>Responsable: </strong><span id="lblResponsibleTicket" style="font-family: 'Roboto', sans-serif;"> </span></label>
                                        </div>
                                        <div class="" style="">
                                            <label style="color: #2F4050"><strong>Criticidad: </strong><span id="lblCritiziedTicket" style="font-family: 'Roboto', sans-serif;"> </span></label>
                                        </div>
                                        <div class="" style="">
                                            <label style="color: #2F4050"><strong>Fecha Inicio: </strong><span id="lblEndDateTicket" style="font-family: 'Roboto', sans-serif;"> </span></label>
                                        </div>
                                        <div class="ContainerLocationlbl">
                                            <label style="color: #2F4050"><strong>Locación: </strong><span id="lblLocationTicket" style="font-family: 'Roboto', sans-serif;"> </span></label>
                                        </div>
                                        <div class="ContainerLocationComplete hidden">
                                            <label style="color: #2F4050"><strong>Locación: </strong><strong class="CampoRequerido">*</strong></label>
                                            <div style="width: 50%; display:flex; flex-flow:row nowrap;">
                                                <select id="selectorTicketLocationComplete" class="selectpicker" multiple data-selected-text-format="count > 3" data-live-search="true" data-width="95%" title="Seleccionar Locacion" data-size="5" data-max-options="1" data-actions-box="false" data-style="btn-info">
                                                </select>
                                            </div>
                                        </div>

                                    </div>

                                    <div class="col-xs-12 col-sm-12 col-md-3 col-lg-6">
                                        <label style="color: #2F4050"><strong>Detalle Ticket: </strong></label>
                                        <div style="width: 98%; display:flex; flex-flow:row nowrap;">
                                            <textarea style="font-family: 'Roboto', sans-serif;min-width: 100%" class="form-control" id="lblDetallerTicket" name="lblDetallerTicket" disabled rows="12"></textarea>
                                        </div>
                                    </div>

                                    <div class="col-xs-12 col-sm-12 col-md-3 col-lg-12" style="margin-right: 57px; margin-bottom: 23px; margin-top: 10px">
                                        <div style="display: flex; flex-flow: row nowrap; flex-direction: row-reverse; flex-wrap: nowrap; align-content: space-around;">
                                            <button style="margin: 3px;" tabindex="9" class="btn btn-primary btnEditDetailTicket" type="submit" id="btnEditDetailTicketID"><i class="fa fa-save" style="width:20px"></i>Grabar</button>
                                        </div>
                                    </div>
                                </div>

                                <div class="row col-xs-12 col-sm-12 col-md-3 col-lg-6 ContainerVitacoraTicket">
                                    <div class="form-group" style="margin-bottom:10px">
                                        <div class="row" style="padding: 10px 10px 10px 10px; background-color: #ffffff; border: solid 2px gray; border-radius: 5px; background-color: #cbcbcb;">

                                            <label style="margin: 3px; color: dodgerblue; text-decoration-line: underline; font-size: 22px"><strong>Botones :</strong></label>

                                            <button style="margin: 3px; margin-left: 10px; background-color:#fff; border: solid 2px black;border-radius:10px" tabindex="9" title="Enviar Correo" class="btn btn-success" type="submit" id="btnInvitadosPanel"><img width="40" src="../Content/img/CorreoX.png" /></button>
                                            <button style="margin: 3px; margin-left: 10px; background-color:#fff; border: solid 2px black;border-radius:10px" tabindex="9" class="btn btn-info" type="button" title="Adjuntar Informe" id="btnSubirInformeTicket"><img width="40" src="../Content/img/AdjuntarX.png" /> </button>
                                            <button style="margin: 3px; margin-left: 10px; background-color: #fff; border: solid 2px black; border-radius: 10px" tabindex="8" class="btn btn-success" type="button" id="btnProcesandoTicket" title="Operando/Solucionado"><img width="40" src="../Content/img/sistema-operativoX.png" /></button>
                                            <button style="margin: 3px; background-color: #fff; border: solid 2px black; border-radius: 10px" tabindex="8" class="btn btn-danger" type="button" id="btnCerrarTicket" title="Cerrar Ticket"><img width="40" src="../Content/img/garrapataX.png" /></button>

                                            <label style="color:black" id=""><strong><FONT SIZE=4><u><i> Validacion:</i></u></FONT></strong></label>
                                            <label style="color:white"> &nbsp</label>
                                            <input tabindex="7" type="checkbox" name="chkValidationOperation" id="chkValidationOperation" data-toggle="toggle">
                                            <button style="margin: 3px; height: 40px" tabindex="8" class="btn btn-primary" type="button" id="btnValidateTicket"><i class="fa fa-save"></i> Grabar </button>

                                        </div>
                                    </div>

                                    <div class="form-group">
                                        <div class="row" style="border: solid 2px gray; background-color: #e6e6e6; border-radius: 5px">
                                            <div class="col-xs-12 col-sm-12 col-md-3 col-lg-12">
                                                <h2 class="modal-title">
                                                    <label style="color:dodgerblue;text-decoration-line: underline"><strong>Vitacora de Ticket</strong></label>
                                                </h2>
                                            </div>
                                            <div class="col-xs-12 col-sm-12 col-md-3 col-lg-12" style="margin-top:5px">
                                                <div style="display:flex; flex-flow:row nowrap;">
                                                    <textarea style="min-width: 100%" class="form-control" id="txtDetalleActivity" name="txtDetalleActivity" disabled rows="8"></textarea>
                                                </div>
                                            </div>
                                            <div class="col-xs-12 col-sm-12 col-md-3 col-lg-12" style="margin-top:5px;margin-bottom:11px">
                                                <div style="display:flex; flex-flow:row nowrap;">
                                                    <textarea class="form-control" id="txtVitacoraTextSend" name="txtVitacoraTextSend" rows="3"></textarea>
                                                    <button style="margin-top:0px;float:right;height:70px;width:80px" tabindex="9" class="btn btn-success" type="submit" id="btnSaveVitacora"><i class="fa fa-play" style="width:20px"></i></button>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="row form-group">

                                <div class="col-xs-12 col-sm-12 col-md-3 col-lg-6" style="float: left; margin-right: 20px; border: solid 2px gray; border-radius: 5px; background-color: #e6e6e6; ">

                                    <div class="row">
                                        <h2 class="modal-title">
                                            <label style="color:dodgerblue;text-decoration-line: underline;margin-left:15px"><strong>Conclusiones</strong></label>
                                        </h2>
                                    </div>

                                    <section class="col-xs-12 col-sm-12 col-md-6 col-lg-8 form-group">
                                        <label style=" color: #2F4050"><strong>Componente: </strong></label>
                                        <div style="width: 100%; display:flex; flex-flow:row nowrap;">
                                            <select id="selectorComponente" class="selectpicker" multiple data-selected-text-format="count > 3" data-live-search="true" data-width="100%" title="Seleccionar Operación" data-size="5" data-max-options="5" data-actions-box="false" data-style="btn-info"></select>
                                            @*@*<button style="width: 50px;" class="btn btn-primary" type="button" id="btnAgregarComponente"><i class="icon-append fa fa-plus"></i></button>*@
                                        </div>
                                    </section>

                                    <section class="col-xs-12 col-sm-12 col-md-6 col-lg-4 form-group">
                                        <div style="margin-top:20px; display:flex; flex-direction:row; flex-wrap:wrap; justify-content:flex-end">
                                            <button style="margin:3px;" tabindex="9" class="btn btn-primary" type="button" id="btnEnviarProblemSolution"><i class="fa fa-save"></i> Grabar</button>
                                        </div>
                                    </section>


                                    <section class="col-xs-12 col-sm-12 col-md-6 col-lg-12 form-group">
                                        <label style="color: #2F4050"><strong>Conclusion: </strong></label>
                                        <div style="width: 100%; display: flex; flex-flow: row nowrap;">
                                            <textarea style="min-width: 100%" class="form-control" id="txtProblemticket" name="txtProblemticket" rows="3"></textarea>
                                        </div>
                                    </section>

                                    <section class="col-xs-12 col-sm-12 col-md-6 col-lg-12 form-group">
                                        <label style="color: #2F4050"><strong>Solucion: </strong></label>
                                        <div style="width: 100%; display:flex; flex-flow:row nowrap;">
                                            <textarea style="min-width: 100%" class="form-control" id="txtSolutionticket" name="txtSolutionticket" rows="3"></textarea>
                                        </div>
                                    </section>

                                </div>

                                <div class="row col-xs-12 col-sm-12 col-md-3 col-lg-6" style="border: solid 2px gray; background-color: #e6e6e6; border-radius: 5px; ">

                                    <div class="row">
                                        <h2 class="modal-title">
                                            <label style="color:dodgerblue;text-decoration-line: underline;margin-left:15px"><strong>Archivos de Ticket</strong></label>
                                        </h2>
                                    </div>

                                    <section class="row col-xs-12 col-sm-12 col-md-6 col-lg-10">
                                        <label style="color: #2F4050"><strong>D. Adjunto (Doc. de 5MB): </strong></label>
                                        <div class="form-group">
                                            <input style="width:100%;" class="filestyle" type="file" name="flArchivoSubirAdjuntoTicket2" id="flArchivoSubirAdjuntoTicket2"
                                                   accept="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel, image/jpeg, application/pdf, application/vnd.openxmlformats-officedocument.wordprocessingml.document, text/plain"
                                                   data-buttontext="Examinar" data-buttonname="btn btn-primary">
                                        </div>
                                    </section>

                                    <section class="col-xs-12 col-sm-12 col-md-6 col-lg-2" style="margin-top:25px">
                                        <div style="width: 100%;display: flex;flex-flow: row nowrap;">
                                            <button style="margin-top:0px; margin-right:10px ;width:100px" tabindex="9" class="btn btn-info" type="button" id="btnSubirFormatoTicket2"><i class="fa fa-cloud-upload"></i> Subir</button>
                                        </div>
                                    </section>

                                    @*<section class="col-xs-12 col-sm-12 col-md-6 col-lg-2 pull-right" style="margin-top:25px">
                                <div style="width: 100%; display: flex; flex-flow: row nowrap; flex-direction: row-reverse; flex-wrap: nowrap; align-content: space-between; justify-content: flex-start;">
                                    <button style="margin-top:0px;" tabindex="9" class="btn btn-info" type="button" id="btnSubirInformeTicket"><i class="fa fa-info-circle"></i> Adjuntar Informe</button>
                                </div>
                            </section>*@

                                    <div class="row col-xs-12 col-sm-12 col-md-3 col-lg-12" style="margin-top:10px;margin-bottom:18px">
                                        <div id="widget-grid">
                                            <div class="row">
                                                <article class="col-xs-12 ContenedoresReportes">
                                                    <div class="jarviswidget jarviswidget-color-blue" id="wid-id-rga-file" data-widget-editbutton="false" data-widget-custombutton="false" style="border: 2px solid #2F4050">
                                                        <header>
                                                            <span class="widget-icon"> <i class="fa fa-list"></i> </span>
                                                            <h2>Listado de Archivos en Ticket</h2>
                                                            @*<button class="btn btn-success pull-right" type="button" id="BtnExportarExcelActividades" disabled title="Exportar listado a Excel"><i class="fa fa-file-excel-o"></i> Excel</button>*@
                                                        </header>
                                                        <div style="border:none;">
                                                            <div class="jarviswidget-editbox">
                                                                <!-- This area used as dropdown edit box -->
                                                            </div>
                                                            <div class="widget-body no-padding" id="ContenedorgrPuntosATratarArchivos">
                                                                <div id="GrillaLstArchivoTicket" class="hidden"></div>
                                                                <div class="spiner-example" id="imgCargaLstArchivoTicket">
                                                                    @Html.Partial("../MensajesParciales/_MensajeCargando")
                                                                </div>

                                                                <div class="hidden" id="msjErrorLstArchivoTicket" style="margin:30px;">
                                                                    @Html.Partial("../MensajesParciales/_MensajeError")
                                                                </div>

                                                                <div class="hidden" id="msjVacioLstArchivoTicket" style="margin:30px;">
                                                                    @Html.Partial("../MensajesParciales/_MensajeVacio")
                                                                </div>

                                                                <div class="hidden" id="msjErrorListarLstArchivoTicket" style="margin:30px;">
                                                                    @Html.Partial("../MensajesParciales/_MensajeErrorListar")
                                                                </div>
                                                                <div class="hidden" id="msjSuperaLimiteLstArchivoTicket" style="margin:30px;">
                                                                    @Html.Partial("../MensajesParciales/_MensajeLimiteGraficas")
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </article>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <hr />

                            <div class="row form-group Container3WS">

                                <div style="padding: 0px 50px 10px 0;">

                                    <div class="row form-group">

                                        <div class="row" style="margin-left:10px">
                                            <h2 class="modal-title">
                                                <label style="color:dodgerblue;text-decoration-line:underline"><strong>Registro de Eventos : </strong></label><strong> 3Ws</strong>
                                            </h2>
                                        </div>

                                        <section class="col-xs-12 col-sm-12 col-md-6 col-lg-4">
                                            <label style="color: #2F4050"><strong>Actividad : </strong><strong class="CampoRequerido">*</strong></label>
                                            <div style="margin-top:3px">
                                                <textarea style="width:100%;display:flex; flex-flow:row nowrap;" class="form-control" id="txtActivityTicket" name="txtActivityTicket" rows="1"></textarea>
                                            </div>
                                        </section>

                                        <section class="col-xs-12 col-sm-12 col-md-6 col-lg-3">
                                            <label style="color: #2F4050"><strong>Responsable: </strong><strong class="CampoRequerido">*</strong></label>
                                            <div style="width: 100%;margin-top:3px ;display:flex; flex-flow:row nowrap;">
                                                <select id="selectorResponsableActivity" class="selectpicker" multiple data-selected-text-format="count > 3" data-live-search="true" data-width="100%" title="Seleccionar Responsable" data-size="5" data-max-options="1" data-actions-box="false" data-style="btn-info">
                                                </select>
                                            </div>
                                        </section>

                                        <section class="col-xs-12 col-sm-12 col-md-6 col-lg-2">
                                            <label style="color: #2F4050"><strong>Fecha de Cierre: </strong><strong class="CampoRequerido">*</strong></label>
                                            <div class="input-group date">
                                                @*<input type="text" class="form-control hasDatepicker" id="txtActivityDateEnd" name="txtActivityDateEnd" value="" data-dateformat="dd/mm/yy">*@
                                                <input type="text" tabindex="8" class="k-input" name="txtActivityDateEnd" id="txtActivityDateEnd" maxlength="19" style="width: 100%;" data-role="datetimepicker" role="combobox" aria-expanded="false" aria-disabled="false">
                                                @*<span class="input-group-addon"><i class="fa fa-calendar"></i></span>*@
                                            </div>
                                        </section>

                                        <section class="col-xs-12 col-sm-12 col-md-6 col-lg-1" style="margin-top:23px">
                                            <div style="width: 100%; display:flex; flex-flow:row nowrap;">
                                                <button style="margin:3px;" tabindex="9" class="btn btn-primary" type="submit" id="btnAgregarActivity"><i class="fa fa-plus"></i> Agregar</button>
                                                <button style="margin:3px;" tabindex="9" class="btn btn-primary hidden" type="submit" id="btnAgregarEditar"><i class="fa fa-edit"></i> Editar</button>
                                            </div>
                                        </section>

                                    </div>

                                </div>

                                <div class="content" style="padding:0px 30px 10px 0px;margin-top:20px">

                                    <div id="widget-grid">
                                        <div class="row">
                                            <article class="col-xs-12 ContenedoresReportes">

                                                <div class="jarviswidget jarviswidget-color-blue" id="wid-id-rga-act" data-widget-editbutton="false" data-widget-custombutton="false" style="border: 2px solid #2F4050">
                                                    <header>
                                                        <span class="widget-icon"> <i class="fa fa-list"></i> </span>
                                                        <h2>Listado de Actividades Agregadas</h2>

                                                        <button style="margin-left:10px" class="btn btn-success pull-right" type="button" id="BtnExportarExcelActividades" disabled title="Exportar listado a Excel"><i class="fa fa-file-excel-o"></i> Excel</button>
                                                        @*<button tabindex="9" class="btn btn-primary pull-right" type="submit" id="btnAgregarActivity"><i class="fa fa-plus"></i> Agregar</button>*@
                                                    </header>
                                                    <div style="border:none;">
                                                        <div class="jarviswidget-editbox">
                                                            <!-- This area used as dropdown edit box -->
                                                        </div>
                                                        <div class="widget-body no-padding" id="ContenedorgrPuntosATratarArchivos">
                                                            <div id="GrillaLstActivityAddAlertas" class="hidden"></div>
                                                            <div class="spiner-example" id="imgCargaLstActivityAddAlertas">
                                                                @Html.Partial("../MensajesParciales/_MensajeCargando")
                                                            </div>

                                                            <div class="hidden" id="msjErrorLstActivityAddAlertas" style="margin:30px;">
                                                                @Html.Partial("../MensajesParciales/_MensajeError")
                                                            </div>

                                                            <div class="hidden" id="msjVacioLstActivityAddAlertas" style="margin:30px;">
                                                                @Html.Partial("../MensajesParciales/_MensajeVacio")
                                                            </div>

                                                            <div class="hidden" id="msjErrorListarLstActivityAddAlertas" style="margin:30px;">
                                                                @Html.Partial("../MensajesParciales/_MensajeErrorListar")
                                                            </div>
                                                            <div class="hidden" id="msjSuperaLimiteLstActivityAddAlertas" style="margin:30px;">
                                                                @Html.Partial("../MensajesParciales/_MensajeLimiteGraficas")
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </article>
                                        </div>
                                    </div>
                                </div>

                            </div>
                        </div>
                    </div>
                    <!--<div class="modal-footer">-->
                    @*<button style="margin:3px;" tabindex="9" class="btn btn-primary" type="submit" id="btnGrabar"><i class="fa fa-save"></i> Grabar</button>*@
                    @*<button style="margin:3px;" tabindex="9" class="btn btn-success" type="button" id="BtnAbrirModalPDF" title="Exportar PDF Acta de Reunión"><i class="fa fa-file-pdf-o"></i> Imprimir PDF</button>*@
                    <!--</div>-->

                </form>

            </div>
    </div>
</div>

<div id="ModalHistoricTicket" class="modal inmodal fade" tabindex="-1" role="dialog" aria-hidden="true" style="overflow-y:scroll;">
    <div class="modal-dialog" style="width:90%;">
        <div class="modal-content animated">
            <div class="modal-header col-xs-12 col-sm-12 col-md-3 col-lg-12">
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                <h4 class="modal-title">
                    <label><strong>Nro Ticket: <label id="lblModelTicketEditAlertas2" style="color:red;font-weight:bold"> </label></strong></label>
                    @*<label style="float:right;margin-right:15px;font-weight:bold;color:red"> FECHA INICIO : <span id="lblFechaInicioAlertas2">00/00/0000</span>  -- FECHA FIN : <span id="lblFechaFinAlertas">00/00/0000</span> </label>*@
                </h4>
            </div>
            <form id="FrmTicketHistoric" onsubmit="return false">

                <div class="modal-body" style="overflow:auto;padding-top:5px">

                    <div class="content" style="padding:0px 30px 10px 40px">

                        <!---------------------- LISTADO -- DETALLE -- TICKET --------------------->

                        <div id="widget-grid3">

                            <div class="row">
                                <article class="col-xs-12 col-sm-12 col-md-6 col-lg-6  sortable-grid">
                                    @*<div class="col-xs-12 clearfix no-padding">*@

                                    <div class="jarviswidget jarviswidget-color-white" id="wid-id-rga-X" data-widget-editbutton="false" data-widget-custombutton="false" style="border: 2px solid #2F4050">
                                        <header>
                                            @*<span class="widget-icon"> <i class="fa fa-bar-chart-o"></i> </span>*@
                                            <span class="widget-icon" style="width:50px;">
                                                <img width="50" src="../Content/img/gifs/gif05.gif" />
                                            </span>
                                            <h2>
                                                Detalle de Ticket
                                            </h2>
                                            <button style="margin-left:10px" class="btn btn-success pull-right" type="button" id="btnVitacoraHistorico" title="Detalle vitacora Ticket"><i class="fa fa-comment"></i> Vitacora Ticket</button>
                                        </header>
                                        <div style="border:none;">
                                            <div class="jarviswidget-editbox">
                                                <!-- This area used as dropdown edit box -->
                                            </div>
                                            <div class="widget-body no-padding">
                                                <div class="col-xs-12 clearfix no-padding">
                                                    <div id="ContainerDetalleTicket" style="height: 300px; overflow-y: scroll;" class="hidden"></div>

                                                    <div class="spiner-example" id="imgCargaContainerDetalleTicket">
                                                        @Html.Partial("../MensajesParciales/_MensajeCargandoDashboard")
                                                    </div>
                                                    <div class="hidden" id="msjErrorContainerDetalleTicket" style="margin: 30px;">
                                                        @Html.Partial("../MensajesParciales/_MensajeError")
                                                    </div>
                                                    <div class="hidden" id="msjVacioContainerDetalleTicket" style="margin: 30px;">
                                                        @Html.Partial("../MensajesParciales/_MensajeVacio")
                                                    </div>
                                                    <div class="hidden" id="msjErrorListarContainerDetalleTicket" style="margin: 30px;">
                                                        @Html.Partial("../MensajesParciales/_MensajeErrorListar")
                                                    </div>
                                                    <div class="hidden" id="msjSuperaLimiteContainerDetalleTicket" style="margin:30px;">
                                                        @Html.Partial("../MensajesParciales/_MensajeLimiteGraficas")
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </article>

                                <article class="col-xs-12 col-sm-12 col-md-6 col-lg-6 sortable-grid">
                                    @*<div class="col-xs-12 clearfix no-padding">*@

                                    <div class="jarviswidget jarviswidget-color-white" id="wid-id-rga-Y" data-widget-editbutton="false" data-widget-custombutton="false" style="border: 2px solid #2F4050">
                                        <header>
                                            @*<span class="widget-icon"> <i class="fa fa-bar-chart-o"></i> </span>*@
                                            <span class="widget-icon" style="width:50px;">
                                                <img width="50" src="../Content/img/gifs/gif05.gif" />
                                            </span>
                                            <h2>
                                                Actividades
                                                <i class="icon-append fa fa-info-circle" style="color:white; cursor:pointer; width:15px; height:15px;" id="btnInfoGrafico2"></i>
                                            </h2>
                                        </header>
                                        <div style="border:none;">
                                            <div class="jarviswidget-editbox">
                                                <!-- This area used as dropdown edit box -->
                                            </div>
                                            <div class="widget-body no-padding">
                                                <div class="col-xs-12 clearfix no-padding">
                                                    <div id="ContainerActivitiesFiles" style="height: 300px; overflow-y: scroll;" class="hidden"></div>

                                                    <div class="spiner-example" id="imgCargaContainerActivitiesFiles">
                                                        @Html.Partial("../MensajesParciales/_MensajeCargandoDashboard")
                                                    </div>
                                                    <div class="hidden" id="msjErrorContainerActivitiesFiles" style="margin: 30px;">
                                                        @Html.Partial("../MensajesParciales/_MensajeError")
                                                    </div>
                                                    <div class="hidden" id="msjVacioContainerActivitiesFiles" style="margin: 30px;">
                                                        @Html.Partial("../MensajesParciales/_MensajeVacio")
                                                    </div>
                                                    <div class="hidden" id="msjErrorListarContainerActivitiesFiles" style="margin: 30px;">
                                                        @Html.Partial("../MensajesParciales/_MensajeErrorListar")
                                                    </div>
                                                    <div class="hidden" id="msjSuperaLimiteContainerActivitiesFiles" style="margin:30px;">
                                                        @Html.Partial("../MensajesParciales/_MensajeLimiteGraficas")
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </article>
                                
                                <div class="form-group">
                                    <section class="col-xs-12 col-sm-12 col-md-5 col-lg-4">
                                        <label style="color: #2F4050"><strong>Tipo Archivo:</strong></label>
                                        <div style="width: 100%;">
                                            <input tabindex="7" type="radio" name="rdoRadioFilterFiles" id="rdoImagesRadio" checked="checked">
                                            <label style="color: #2F4050"><strong>Imagenes </strong></label>
                                            <input tabindex="7" type="radio" name="rdoRadioFilterFiles" id="rdoDocumentsRadio" style="margin-left:30px">
                                            <label style="color: #2F4050;"><strong>Documentos </strong></label>
                                            <input tabindex="7" type="radio" name="rdoRadioFilterFiles" id="rdoAmbosRadio" style="margin-left:30px">
                                            <label style="color: #2F4050"><strong>Ambos </strong></label>
                                        </div>
                                    </section>

                                    <section class="col-xs-12 col-sm-12 col-md-6 col-lg-1" style="margin-top:20px">
                                        <div style="width: 100%; display:flex; flex-flow:row nowrap;">
                                            <button style="margin:3px;" tabindex="9" class="btn btn-primary" type="submit" id="btnBuscarHist"><i class="fa fa-search"></i> Buscar</button>
                                        </div>
                                    </section>

                                </div>

                                <article class="col-xs-12 col-sm-12 col-md-6 col-lg-12 sortable-grid" style="margin-top:10px">
                                    @*<div class="col-xs-12 clearfix no-padding">*@

                                    <div class="jarviswidget jarviswidget-color-white" id="wid-id-rga-Y" data-widget-editbutton="false" data-widget-custombutton="false" style="border: 2px solid #2F4050">
                                        <header>
                                            @*<span class="widget-icon"> <i class="fa fa-bar-chart-o"></i> </span>*@
                                            <span class="widget-icon" style="width:50px;">
                                                <img width="50" src="../Content/img/gifs/gif05.gif" />
                                            </span>
                                            <h2>
                                                Listado Archivos Actividad
                                                <i class="icon-append fa fa-info-circle" style="color:white; cursor:pointer; width:15px; height:15px;" id="btnInfoGrafico2"></i>
                                            </h2>
                                        </header>
                                        <div style="border:none;">
                                            <div class="jarviswidget-editbox">
                                                <!-- This area used as dropdown edit box -->
                                            </div>
                                            <div class="widget-body no-padding">
                                                <div class="col-xs-12 clearfix no-padding">
                                                    <div id="ContainerActivitiesAllFiles" style="height: 300px; overflow-y: scroll;" class="hidden"></div>

                                                    <div class="spiner-example" id="imgCargaContainerActivitiesAllFiles">
                                                        @Html.Partial("../MensajesParciales/_MensajeCargandoDashboard")
                                                    </div>
                                                    <div class="hidden" id="msjErrorContainerActivitiesAllFiles" style="margin: 30px;">
                                                        @Html.Partial("../MensajesParciales/_MensajeError")
                                                    </div>
                                                    <div class="hidden" id="msjVacioContainerActivitiesAllFiles" style="margin: 30px;">
                                                        @Html.Partial("../MensajesParciales/_MensajeVacio")
                                                    </div>
                                                    <div class="hidden" id="msjErrorListarContainerActivitiesAllFiles" style="margin: 30px;">
                                                        @Html.Partial("../MensajesParciales/_MensajeErrorListar")
                                                    </div>
                                                    <div class="hidden" id="msjSuperaLimiteContainerActivitiesAllFiles" style="margin:30px;">
                                                        @Html.Partial("../MensajesParciales/_MensajeLimiteGraficas")
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </article>

                            </div>
                        </div>
                    </div>
                </div>
            </form>

        </div>
    </div>
</div>


<div id="ModalHistVitacora" class="modal inmodal fade" tabindex="-1" role="dialog" aria-hidden="true" style="overflow-y:scroll;">
    <div class="modal-dialog" style="width:50%;">
        <div class="modal-content animated">
            <div class="modal-header col-xs-12 col-sm-12 col-md-3 col-lg-12">
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                <h4 class="modal-title">
                    <label><strong>Vitacora Ticket </strong></label>
                </h4>
            </div>
            <form id="FormVitacoraHist" onsubmit="return false">

                <div class="modal-body" style="overflow:auto;padding-top:25px">

                    <div class="content">

                        <section class="col-xs-12">
                            <div class="form-group">
                                <div style="width: 100%; display:flex; flex-flow:row nowrap;" id="lblVitacoraTicketHist"></div>
                            </div>
                        </section>

                    </div>
                </div>
            </form>
        </div>
    </div>
</div>


<div id="ModalInvitados" class="modal inmodal fade" tabindex="-1" role="dialog" aria-hidden="true">
    <div class="modal-dialog" style="width:40%;">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                <h4 class="modal-title">Reenviar Ticket</h4>
            </div>
            <div class="modal-body clearfix" style="padding-left:10px; padding-right:10px;">
                <form id="FrmAreaInvitadoTicket">

                    <section class="col-xs-12">
                        <label style="color: #2F4050"><strong>Invitados: </strong><strong class="CampoRequerido">*</strong></label>
                        <div class="form-group">
                            <select id="selectorInvitados2" class="selectpicker" multiple data-selected-text-format="count < 3" data-live-search="true" data-width="100%" data-size="5" title="Selección múltiple" data-actions-box="true"></select>
                        </div>
                    </section>

                    <section class="col-xs-12">
                        <label style="color: #2F4050"><strong>Comentario : </strong><strong class="CampoRequerido">*</strong></label>
                        <div class="form-group">
                            <div style="width: 100%; display:flex; flex-flow:row nowrap;">
                                <textarea style="font-family: 'Roboto', sans-serif;min-width: 100%" class="form-control" id="lblDetalleCorreo" name="lblDetalleCorreo" rows="4"></textarea>
                            </div>
                        </div>
                    </section>

                    <section class="col-xs-12" style="display:flex; flex-direction:row; flex-wrap:wrap; justify-content:space-between">
                        <div style="margin-top:10px; display:flex; flex-direction:row; flex-wrap:wrap; justify-content:flex-start">
                            @Html.Partial("../MensajesParciales/_MensajeLeyendaCampoRequerido")
                        </div>
                        <div style="margin-top:10px; display:flex; flex-direction:row; flex-wrap:wrap; justify-content:flex-end">
                            <button style="margin:3px;" tabindex="8" class="btn btn-danger" type="button" id="btnCancelarcorreoTicket"><i class="fa fa-times-circle"></i> Cancelar</button>
                            <button style="margin:3px;" tabindex="9" class="btn btn-primary" type="button" id="btnEnviarCorreoTicket"><i class="fa fa-save"></i> Enviar</button>
                        </div>
                    </section>
                </form>
            </div>
        </div>
    </div>
</div>

<div id="ModalProblemSolution" class="modal inmodal fade" tabindex="-1" role="dialog" aria-hidden="true">
    <div class="modal-dialog" style="width:60%;">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                <h4 class="modal-title">Problema/Solucion Ticket</h4>
            </div>
            <div class="modal-body clearfix" style="padding-left:10px; padding-right:10px;">
                <form id="FrmProblemSolution">

                    @*<section class="col-xs-12 col-sm-12 col-md-6 col-lg-12 form-group">
                        <label style="color: #2F4050"><strong>Problema: </strong></label>
                        <div style="width: 100%; display: flex; flex-flow: row nowrap;">
                            <textarea style="min-width: 100%" class="form-control" id="txtProblemticket" name="txtProblemticket" rows="8"></textarea>
                        </div>
                    </section>

                    <section class="col-xs-12 col-sm-12 col-md-6 col-lg-12 form-group">
                        <label style="color: #2F4050"><strong>Solucion: </strong></label>
                        <div style="width: 100%; display:flex; flex-flow:row nowrap;">
                            <textarea style="min-width: 100%" class="form-control" id="txtSolutionticket" name="txtSolutionticket" rows="8"></textarea>
                        </div>
                    </section>*@

                    @*<section class="col-xs-12" style="display:flex; flex-direction:row; flex-wrap:wrap; justify-content:space-between">
                        <div style="margin-top:10px; display:flex; flex-direction:row; flex-wrap:wrap; justify-content:flex-start">
                            @Html.Partial("../MensajesParciales/_MensajeLeyendaCampoRequerido")
                        </div>
                        <div style="margin-top:10px; display:flex; flex-direction:row; flex-wrap:wrap; justify-content:flex-end">
                            <button style="margin:3px;" tabindex="8" class="btn btn-danger" type="button" id="btnCancelarProblemSolution"><i class="fa fa-times-circle"></i> Cancelar</button>
                            <button style="margin:3px;" tabindex="9" class="btn btn-primary" type="button" id="btnEnviarProblemSolution"><i class="fa fa-save"></i> Grabar</button>
                        </div>
                    </section>*@
                </form>
            </div>
        </div>
    </div>
</div>

<div id="ModalActivityDetail" class="modal inmodal fade" tabindex="-1" role="dialog" aria-hidden="true" style="overflow-y:scroll;">
    <div class="modal-dialog" style="width: 90%;">
        <div class="modal-content animated">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                <h4 class="modal-title">
                    <label><strong>Nombre de Actividad: <span id="lblNameActivityText" style="color:#569fdb"></span></strong></label>
                </h4>
            </div>
            <div class="modal-body clearfix" style="padding-left:30px; padding-right:30px;">
                <form id="FrmActivityDetail" onsubmit="return false">

                    <div class="col-xs-12 col-sm-12 col-md-6 col-lg-6" style="float:right;margin-bottom:10px">

                        <div style="background-color: #e0e0e0;height:140px;margin-bottom:10px">

                            <h4 class="col-xs-12 col-sm-12 col-md-3 col-lg-6" style="margin-top:10px;margin-bottom:5px">
                                <label style="color:#999;text-decoration-line: underline"><strong>Porcentaje de Actividad :</strong></label>
                            </h4>

                            <section class="col-xs-12 col-sm-12 col-md-6 col-lg-4" style="margin-top:10px">
                                @*<label style="color: #2F4050">Porcentaje Avanzado:  <strong class="CampoRequerido"></strong></label>*@
                                <div style="width: 100%; display:flex; flex-flow:row nowrap;">
                                    <input type="text" tabindex="1" class="form-control" name="txtPorcentajeIngresado" id="txtPorcentajeIngresado" maxlength="25" style="padding-left:5px;" />
                                    @*<span class="input-group-addon"><i class="icon-prev fa fa-edit"></i></span>*@
                                    <button style="width:50px;" class="btn btn-primary" type="submit" id="btnRegisterPercentage"><i class="icon-append fa fa-save"></i></button>
                                </div>
                            </section>

                            <div class="progress col-xs-12 col-sm-12 col-md-3 col-lg-12" style="margin: 20px 20px 0px 0px">
                                <div class="progress-bar progress-bar-striped" id="IdBarPercentage" role="progressbar" style="background-color:#7bb4f1" aria-valuenow="25" aria-valuemin="0" aria-valuemax="100"><span id="TxtValuePercentage">0%</span></div>
                            </div>
                        </div>


                        <div style="background-color: #f6f6f6;height:310px;margin:0px 0px 0px 0px;margin-bottom:10px">

                            <h4 class="col-xs-12 col-sm-12 col-md-3 col-lg-6" style="margin-top:10px">
                                <label style="color:#999;text-decoration-line: underline"><strong>Foro</strong></label>
                            </h4>

                            <div class="col-xs-12 col-sm-12 col-md-6 col-lg-12">
                                <div class="" style="margin-top:13px;margin-left:0px">
                                    <div style="display:flex; flex-flow:row nowrap;">
                                        <textarea style="min-width: 100%;resize: none;" class="form-control" id="txtDetalleActivityDetail" name="txtDetalleActivityDetail" disabled rows="8"></textarea>
                                    </div>
                                </div>
                            </div>

                            <div class="col-xs-12 col-sm-12 col-md-6 col-lg-12" style="margin-top:10px;margin-left:0px">
                                <div style="width: 100%; display:flex; flex-flow:row nowrap;">
                                    <textarea style="resize: none;" class="form-control" id="txtVitacoraTextSendActivityDetail" name="txtVitacoraTextSendActivityDetail" rows="2"></textarea>
                                    <button style="margin-top:0px;float:right;height:51px;margin-right:0px" tabindex="9" class="btn btn-success" type="submit" id="btnSaveVitacoraActivityDetail"><i class="fa fa-play" style="width:20px"></i></button>
                                </div>
                            </div>

                        </div>


                        <div style="background-color: #e0e0e0;height:100px;margin:0px 0px 0px 0px;margin-bottom:10px">

                            <h4 class="col-xs-12 col-sm-12 col-md-3 col-lg-6" style="margin-top:10px">
                                <label style="color:#999;text-decoration-line: underline"><strong>Adjutar Archivo</strong></label>
                            </h4>

                            <div class="row">

                                <div class="col-xs-12 col-sm-12 col-md-3 col-lg-12" style="margin-top:10px;margin-left:14px">
                                    @*<label class="control-label"><strong>D. Adjunto - Documento <span><i>(Max 1 Doc. de 5MB) </i></span></strong><strong class="CampoRequerido">*</strong></label>*@
                                    <section class="col col-xs-12 col-sm-7 contenedorSubirArchivo">
                                        <div class="form-group">
                                            <input style="width:100%;" class="filestyle" type="file" name="flArchivoSubirAdjunto" id="flArchivoSubirAdjunto"
                                                   accept="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel, image/jpeg, application/pdf, application/vnd.openxmlformats-officedocument.wordprocessingml.document, text/plain"
                                                   data-buttontext="Examinar" data-buttonname="btn btn-primary">
                                        </div>
                                    </section>

                                    <section class="col-xs-12 col-sm-12 col-md-6 col-lg-2">
                                        <div style="width: 100%;display: flex;flex-flow: row nowrap;">
                                            <button style="margin-top:0px; width:100px" tabindex="9" class="btn btn-info" type="button" id="btnSubirFormato"><i class="fa fa-cloud-upload"></i> Subir</button>
                                        </div>
                                    </section>

                                </div>
                            </div>
                        </div>

                    </div>

                    <div class="col-xs-12 col-sm-12 col-md-6 col-lg-6">

                        <div style="padding:0px 20px 20px 0px">

                            <section class="col-xs-12">
                                <div style="width: 100%; display:flex; flex-flow:row nowrap;margin-top:0px">
                                    @*<label style="color: #2F4050;margin-top:5px;width:70px"><strong>Titulo Informe : </strong></label>*@
                                    <input type="text" tabindex="1" class="form-control" name="txtTitleInforme" id="txtTitleInforme" placeholder="Titulo de Informe" maxlength="500" style="padding-left:5px;font-size:20px;text-align:center" />
                                </div>
                            </section>

                            <div class="row">
                                <section class="col-xs-12">
                                    <div style="width: 100%; display:flex; flex-flow:row nowrap;margin-top:10px">
                                        <label style="color: #2F4050;margin-right:15px;margin-top:5px"><strong>De : </strong><span id="lblDeQuienFormato"></span></label>
                                        @*<textarea style="min-width: 100%" class="form-control" id="txtDeQuienFormato" name="txtDeQuienFormato" rows="2"></textarea>*@
                                        @*<input type="text" tabindex="1" class="form-control" name="txtDeQuienFormato" id="txtDeQuienFormato" maxlength="500" style="padding-left:5px;" />*@
                                    </div>
                                </section>

                                <section class="col-xs-12">
                                    <div style="width: 100%;margin-top:3px ;display:flex; flex-flow:row nowrap;margin-top:10px">
                                        <label style="color: #2F4050;margin-top:5px;width:50px"><strong>Para : </strong></label>
                                        @*<select id="txtParaQuienFormato" class="selectpicker" multiple data-selected-text-format="count > 3" data-live-search="true" data-width="100%" title="Seleccionar Destinatario" data-size="5" data-max-options="1" data-actions-box="false" data-style="btn-info"></select>*@
                                        <select id="txtParaQuienFormato" class="selectpicker" multiple data-selected-text-format="count < 3" data-live-search="true" data-width="100%" data-size="5" title="Selección múltiple" data-max-options="1" data-actions-box="true"></select>
                                    </div>
                                </section>

                                <section class="col-xs-12">
                                    <div style="width: 100%; display:flex; flex-flow:row nowrap;margin-top:20px">
                                        <label style="color: #2F4050;margin-top:5px;width:70px"><strong>Asunto : </strong></label>
                                        <input type="text" tabindex="1" class="form-control" name="txtAsuntoInforme" id="txtAsuntoInforme" maxlength="500" style="padding-left:5px;" />
                                    </div>
                                </section>

                                <section class="col-xs-12">
                                    <div style="width: 100%; display:flex; flex-flow:row nowrap;margin-top:10px">
                                        <label style="color: #2F4050;margin-right:15px;margin-top:5px"><strong>Operación : </strong><span id="lblOperacionFormato"></span></label>
                                    </div>
                                </section>

                                <section class="col-xs-12">
                                    <div class="input-group date" style="width: 100%; display:flex; flex-flow:row nowrap;margin-top:10px">
                                        <label style="color: #2F4050;margin-top:5px;width:70px"><strong>Fecha : </strong></label>
                                        <input type="text" class="form-control hasDatepicker" id="txtFechaActividad" name="txtFechaActividad" value="" data-dateformat="dd/mm/yy">
                                        @*<span class="input-group-addon"><i class="fa fa-calendar"></i></span>*@
                                    </div>
                                </section>

                            </div>

                            <div class="content" style="margin-top:20px;margin-bottom:50px">
                                <!--accordion 1 -- Documentos Generados en el Sistema del cliente -->
                                <div class="panel-group" id="accordionFacturacion1" role="tablist" aria-multiselectable="true">
                                    <div class="panel panel-default">
                                        <div class="panel-heading" id="headingFacturacionOne" role="tab">
                                            <h4 class="panel-title"><a id="acordeonFacturación1" role="button" class="collapsed no-collapsable" data-toggle="collapse" data-parent="#accordionFacturacion1" href="#collapseFacturacionOne" aria-expanded="false" aria-controls="collapseFacturacionOne" style="font-size:22px;">Antecedentes<i class="pull-right fa fa-plus"></i></a></h4>
                                        </div>
                                        <div class="panel-collapse collapse" id="collapseFacturacionOne" role="tabpanel" aria-labelledby="headingFacturacionOne">
                                            <div class="panel-body" id="divFacturacionArchivos">
                                                <div class="row form-group">

                                                    <section class="col-xs-12 col-sm-12 col-md-6 col-lg-12 form-group">
                                                        <label style="color: #2F4050"><strong>Antecedentes: </strong></label>
                                                        <div style="width: 100%; display:flex; flex-flow:row nowrap;">
                                                            <textarea style="min-width: 100%" class="form-control" id="txtAntecedentesActividad" name="txtAntecedentesActividad" rows="5"></textarea>
                                                        </div>
                                                    </section>

                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                </div>

                                <div class="panel-group" id="accordionFacturacion2" role="tablist" aria-multiselectable="true">
                                    <div class="panel panel-default">
                                        <div class="panel-heading" id="headingFacturacionTwo" role="tab">
                                            <h4 class="panel-title"><a id="acordeonFacturacion2" class="collapsed no-collapsable" role="button" data-toggle="collapse" data-parent="#accordionFacturacion2" href="#collapseFacturacionTwo" aria-expanded="false" aria-controls="collapseFacturacionTwo" style="font-size:22px;">Desarrollo de Actividades<i class="pull-right fa fa-plus"></i></a></h4>
                                        </div>
                                        <div class="panel-collapse collapse" id="collapseFacturacionTwo" role="tabpanel" aria-labelledby="headingFacturacionTwo">
                                            <div class="panel-body">
                                                <div class="row form-group">

                                                    <section class="col-xs-12 col-sm-12 col-md-6 col-lg-12 form-group">
                                                        <label style="color: #2F4050"><strong>Desarrollo de Actividades: </strong></label>
                                                        <div style="width: 100%; display:flex; flex-flow:row nowrap;">
                                                            <textarea style="min-width: 100%" class="form-control" id="txtActivityDevelop" name="txtActivityDevelop" rows="5"></textarea>
                                                        </div>
                                                    </section>

                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <!--accordion 2 -- Documentos Generados Por el Cliente-->
                                <div class="panel-group" id="accordionFacturacion3" role="tablist" aria-multiselectable="true">
                                    <div class="panel panel-default">
                                        <div class="panel-heading" id="headingFacturacionThree" role="tab">
                                            <h4 class="panel-title"><a id="acordeonFacturacion3" class="collapsed no-collapsable" role="button" data-toggle="collapse" data-parent="#accordionFacturacion3" href="#collapseFacturacionThree" aria-expanded="false" aria-controls="collapseFacturacionThree" style="font-size:22px;">Conclusiones<i class="pull-right fa fa-plus"></i></a></h4>
                                        </div>
                                        <div class="panel-collapse collapse" id="collapseFacturacionThree" role="tabpanel" aria-labelledby="headingFacturacionThree">
                                            <div class="panel-body">
                                                <div class="row form-group">

                                                    <section class="col-xs-12 col-sm-12 col-md-6 col-lg-12 form-group">
                                                        <label style="color: #2F4050"><strong>Conclusiones: </strong></label>
                                                        <div style="width: 100%; display:flex; flex-flow:row nowrap;">
                                                            <textarea style="min-width: 100%" class="form-control" id="txtConclusionesActividad" name="txtConclusionesActividad" rows="5"></textarea>
                                                        </div>
                                                    </section>

                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <!--accordion 2 -- Documentos Generados Por el Cliente-->
                                <div class="panel-group" id="accordionFacturacion4" role="tablist" aria-multiselectable="true">
                                    <div class="panel panel-default">
                                        <div class="panel-heading" id="headingFacturacionFourth" role="tab">
                                            <h4 class="panel-title"><a id="acordeonFacturacion4" class="collapsed no-collapsable" role="button" data-toggle="collapse" data-parent="#accordionFacturacion4" href="#collapseFacturacionFourth" aria-expanded="false" aria-controls="collapseFacturacionFourth" style="font-size:22px;">Recomendaciones<i class="pull-right fa fa-plus"></i></a></h4>
                                        </div>
                                        <div class="panel-collapse collapse" id="collapseFacturacionFourth" role="tabpanel" aria-labelledby="headingFacturacionFourth">
                                            <div class="panel-body">
                                                <div class="row form-group">

                                                    <section class="col-xs-12 col-sm-12 col-md-6 col-lg-12 form-group">
                                                        <label style="color: #2F4050"><strong>Recomendaciones: </strong></label>
                                                        <div style="width: 100%; display:flex; flex-flow:row nowrap;">
                                                            <textarea style="min-width: 100%" class="form-control" id="txtRecomendacionesActividad" name="txtRecomendacionesActividad" rows="5"></textarea>
                                                        </div>
                                                    </section>

                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div class="row pull-right">
                                    <section class="col-xs-12 col-sm-12 col-md-6 col-lg-5 hidden" style="margin-top:18px">
                                        <div style="width: 100%; display:flex; flex-flow:row nowrap;">
                                            <button style="margin:3px;" tabindex="9" class="btn btn-success" type="submit" id="btnPDFinforme"><i class="fa fa-file-pdf-o"></i> PDF</button>
                                        </div>
                                    </section>

                                    <section class="col-xs-12 col-sm-12 col-md-6 col-lg-5" style="margin-top:18px">
                                        <div style="width: 100%; display:flex; flex-flow:row nowrap;">
                                            <button style="margin:3px;" tabindex="9" class="btn btn-primary" type="submit" id="btnSaveInforme"><i class="fa fa-save"></i> Guardar</button>
                                            <button style="margin:3px;" tabindex="9" class="btn btn-primary hidden" type="submit" id="btnEditarInforme"><i class="fa fa-upload"></i> Editar</button>
                                        </div>
                                    </section>

                                </div>

                            </div>
                        </div>
                    </div>

                    <div class="col-xs-12 col-sm-12 col-md-6 col-lg-12" style="height:1px;background:#f6f6f6"></div>

                    <div class="col-xs-12 col-sm-12 col-md-6 col-lg-12" style="padding:0px 0px 10px 12px;background:#f1f3f4;margin-top:30px">

                        <div class="row form-group">

                            <div class="row" style="margin-left:10px">

                                <h2 class="modal-title">
                                    <label style="color:dodgerblue;text-decoration-line:underline"><strong>Documentos Adjuntos : </strong></label>
                                </h2>

                                <section class="col col-xs-12 col-md-11">
                                    <div id="GrillaArchivos" class="hidden"></div>
                                    <section class="spiner-example" id="ImagenCargaListArchivo">
                                        @Html.Partial("../MensajesParciales/_MensajeCargando")
                                    </section>

                                    <section class="hidden" id="MensajeErrorListArchivo" style="margin:20px;">
                                        @Html.Partial("../MensajesParciales/_MensajeError")
                                    </section>

                                    <section class="hidden" id="MensajeVacioListArchivo" style="margin:20px;">
                                        @Html.Partial("../MensajesParciales/_MensajeVacio")
                                    </section>

                                    <section class="hidden" id="MensajeErrorListarListArchivo" style="margin:20px;">
                                        @Html.Partial("../MensajesParciales/_MensajeErrorListar")
                                    </section>

                                </section>

                            </div>
                        </div>
                    </div>


                    <div class="col-xs-12 col-sm-12 col-md-6 col-lg-12" style="background:#c3c4c5;border-radius:1em;margin-bottom:30px;margin-top:40px">
                        <div class="row form-group" style="border: 80px;">

                            <div class="row" style="margin-left:10px">
                                <h2 class="modal-title">
                                    <label style="color:dodgerblue;text-decoration-line:underline"><strong>Validacion : </strong></label>

                                </h2>

                                <div class="row pull-right" style="margin:3px;margin-top:20px;margin-right:60px">
                                    <button style="margin:3px;" tabindex="9" disabled class="btn btn-primary" type="submit" id="btValidationResponsible"><i class="fa fa-save"></i> Grabar</button>
                                </div>

                                <div class="row pull-left">

                                    <div class="form-check" style="margin-left:20px;margin-top:10px">

                                        <label class="form-check-label" for="defaultCheck1">
                                            Validacion del Responsable del Ticket
                                        </label>
                                        <input class="form-check-input" disabled type="checkbox" value="" id="chkValidationResponsible" style="margin-left:10px">
                                        <br />
                                        <label class="form-check-label" for="defaultCheck2">
                                            Validacion del Jefe de Area
                                        </label>
                                        <input class="form-check-input" disabled type="checkbox" value="" id="chkValidationJefeArea" style="margin-left:75px">

                                    </div>

                                </div>

                            </div>
                        </div>
                    </div>

                    @*<div class="modal-footer col-xs-12 col-sm-12 col-md-6 col-lg-12">
                            <div style="margin-top:10px; display:flex; flex-direction:row; flex-wrap:wrap; justify-content:flex-start">
                                @Html.Partial("../MensajesParciales/_MensajeLeyendaCampoRequerido")
                            </div>

                            <button style="margin:3px;" tabindex="8" class="btn btn-danger" type="button" id="btnCancelar"><i class="fa fa-times-circle"></i> Cancelar</button>
                            <button style="margin:3px;" tabindex="9" class="btn btn-primary" type="submit" id="btnGrabarActividad"><i class="fa fa-save"></i> Grabar</button>
                            <button style="margin:3px;border-radius:10px;width:130px;height:45px;font-size:18px" tabindex="9" disabled class="btn btn-danger" type="submit" id="btnFinalizar"><i class="fa fa-close"></i> Finalizar</button>
                            <button style="margin:3px;" tabindex="9" class="btn btn-success" type="button" id="BtnAbrirModalPDF" title="Exportar PDF Acta de Reunión"><i class="fa fa-file-pdf-o"></i> Imprimir PDF</button>
                        </div>*@
                </form>
            </div>
        </div>
    </div>
</div>

<div id="ModalReportabilidadTicketVigencia" class="modal inmodal fade" tabindex="-1" role="dialog" aria-hidden="true">
    <div class="modal-dialog" style="width:95%;">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                <h4 class="modal-title">Reportabilidad Vigencia de Tickets</h4>
            </div>
            <div class="modal-body clearfix" style="padding-left:10px; padding-right:10px;">

                    @*<div id="widget-grid5">
                        <div class="row">*@

                  
                        @*</div>
                    </div>*@

                    <hr />
                    <section class="col-xs-12" style="display: flex; flex-direction: row-reverse; flex-wrap: wrap; justify-content: space-between">
                        <div style="margin-top:10px; display:flex; flex-direction:row; flex-wrap:wrap; justify-content:flex-end">
                            <button style="margin:3px;" tabindex="8" class="btn btn-danger" type="button" id="btnCancelarcorreoTicket"><i class="fa fa-times-circle"></i> Cancelar</button>
                        </div>
                    </section>
            </div>
        </div>
    </div>
</div>

<div id="ModalInformeTicket" class="modal inmodal fade" tabindex="-1" role="dialog" aria-hidden="true">
    <div class="modal-dialog" style="width:60%;">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                <h4 class="modal-title">Informe de Ticket</h4>
            </div>
            <div class="modal-body clearfix" style="padding-left:10px; padding-right:10px;">
                <form id="FrmInformeTicket">

                    <div class="col-xs-12 col-sm-12 col-md-6 col-lg-12">

                        <div style="padding:0px 20px 20px 0px">

                            <section class="col-xs-12">
                                <div style="width: 100%; display:flex; flex-flow:row nowrap;margin-top:0px">
                                    @*<label style="color: #2F4050;margin-top:5px;width:70px"><strong>Titulo Informe : </strong></label>*@
                                    <input type="text" tabindex="1" class="form-control" name="txtTitleInformeTicket" id="txtTitleInformeTicket" placeholder="Titulo de Informe" maxlength="500" style="padding-left:5px;font-size:20px;text-align:center" />
                                </div>
                            </section>

                            <div class="row">
                                <section class="col-xs-12">
                                    <div style="width: 100%; display:flex; flex-flow:row nowrap;margin-top:10px">
                                        <label style="color: #2F4050;margin-right:15px;margin-top:5px"><strong>De : </strong><span id="lblDeQuienFormatoTicket"></span></label>
                                    </div>
                                </section>

                                <section class="col-xs-12">
                                    <div style="width: 100%;margin-top:3px ;display:flex; flex-flow:row nowrap;margin-top:10px">
                                        <label style="color: #2F4050;margin-top:5px;width:50px"><strong>Para : </strong></label>
                                        @*<select id="txtParaQuienFormato" class="selectpicker" multiple data-selected-text-format="count > 3" data-live-search="true" data-width="100%" title="Seleccionar Destinatario" data-size="5" data-max-options="1" data-actions-box="false" data-style="btn-info"></select>*@
                                        <select id="txtParaQuienFormatoTicket" class="selectpicker" multiple data-selected-text-format="count < 3" data-live-search="true" data-width="100%" data-size="5" title="Selección múltiple" data-max-options="1" data-actions-box="true"></select>
                                    </div>
                                </section>

                                <section class="col-xs-12">
                                    <div style="width: 100%; display:flex; flex-flow:row nowrap;margin-top:20px">
                                        <label style="color: #2F4050;margin-top:5px;width:70px"><strong>Asunto : </strong></label>
                                        <input type="text" tabindex="1" class="form-control" name="txtAsuntoInformeTicket" id="txtAsuntoInformeTicket" maxlength="500" style="padding-left:5px;" />
                                    </div>
                                </section>

                                <section class="col-xs-12">
                                    <div style="width: 100%; display:flex; flex-flow:row nowrap;margin-top:10px">
                                        <label style="color: #2F4050;margin-right:15px;margin-top:5px"><strong>Operación : </strong><span id="lblOperacionFormatoTicket"></span></label>
                                    </div>
                                </section>

                                <section class="col-xs-12">
                                    <div class="input-group date" style="width: 100%; display:flex; flex-flow:row nowrap;margin-top:10px">
                                        <label style="color: #2F4050;margin-top:5px;width:70px"><strong>Fecha : </strong></label>
                                        <input type="text" class="form-control hasDatepicker" id="txtFechaActividadTicket" name="txtFechaActividadTicket" value="" data-dateformat="dd/mm/yy">
                                        @*<span class="input-group-addon"><i class="fa fa-calendar"></i></span>*@
                                    </div>
                                </section>

                            </div>

                            <div class="content" style="margin-top:20px;margin-bottom:50px">
                                <!--accordion 1 -- Documentos Generados en el Sistema del cliente -->
                                <div class="panel-group" id="accordionFacturacion1Ticket" role="tablist" aria-multiselectable="true">
                                    <div class="panel panel-default">
                                        <div class="panel-heading" id="headingFacturacionOneTicket" role="tab">
                                            <h4 class="panel-title"><a id="acordeonFacturación1Ticket" role="button" class="collapsed no-collapsable" data-toggle="collapse" data-parent="#accordionFacturacion1Ticket" href="#collapseFacturacionOneTicket" aria-expanded="false" aria-controls="collapseFacturacionOneTicket" style="font-size:22px;">Antecedentes<i class="pull-right fa fa-plus"></i></a></h4>
                                        </div>
                                        <div class="panel-collapse collapse" id="collapseFacturacionOneTicket" role="tabpanel" aria-labelledby="headingFacturacionOneTicket">
                                            <div class="panel-body" id="divFacturacionArchivosTicket">
                                                <div class="row form-group">

                                                    <section class="col-xs-12 col-sm-12 col-md-6 col-lg-12 form-group">
                                                        <label style="color: #2F4050"><strong>Antecedentes: </strong></label>
                                                        <div style="width: 100%; display:flex; flex-flow:row nowrap;">
                                                            <textarea style="min-width: 100%" class="form-control" id="txtAntecedentesActividadTicket" name="txtAntecedentesActividadTicket" rows="5"></textarea>
                                                        </div>
                                                    </section>

                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                </div>

                                <div class="panel-group" id="accordionFacturacion2Ticket" role="tablist" aria-multiselectable="true">
                                    <div class="panel panel-default">
                                        <div class="panel-heading" id="headingFacturacionTwoTicket" role="tab">
                                            <h4 class="panel-title"><a id="acordeonFacturacion2Ticket" class="collapsed no-collapsable" role="button" data-toggle="collapse" data-parent="#accordionFacturacion2Ticket" href="#collapseFacturacionTwoTicket" aria-expanded="false" aria-controls="collapseFacturacionTwoTicket" style="font-size:22px;">Desarrollo de Actividades<i class="pull-right fa fa-plus"></i></a></h4>
                                        </div>
                                        <div class="panel-collapse collapse" id="collapseFacturacionTwoTicket" role="tabpanel" aria-labelledby="headingFacturacionTwoTicket">
                                            <div class="panel-body">
                                                <div class="row form-group">

                                                    <section class="col-xs-12 col-sm-12 col-md-6 col-lg-12 form-group">
                                                        <label style="color: #2F4050"><strong>Desarrollo de Actividades: </strong></label>
                                                        <div style="width: 100%; display:flex; flex-flow:row nowrap;">
                                                            <textarea style="min-width: 100%" class="form-control" id="txtActivityDevelopTicket" name="txtActivityDevelopTicket" rows="5"></textarea>
                                                        </div>
                                                    </section>

                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <!--accordion 2 -- Documentos Generados Por el Cliente-->
                                <div class="panel-group" id="accordionFacturacion3Ticket" role="tablist" aria-multiselectable="true">
                                    <div class="panel panel-default">
                                        <div class="panel-heading" id="headingFacturacionThreeTicket" role="tab">
                                            <h4 class="panel-title"><a id="acordeonFacturacion3Ticket" class="collapsed no-collapsable" role="button" data-toggle="collapse" data-parent="#accordionFacturacion3Ticket" href="#collapseFacturacionThreeTicket" aria-expanded="false" aria-controls="collapseFacturacionThreeTicket" style="font-size:22px;">Conclusiones<i class="pull-right fa fa-plus"></i></a></h4>
                                        </div>
                                        <div class="panel-collapse collapse" id="collapseFacturacionThreeTicket" role="tabpanel" aria-labelledby="headingFacturacionThreeTicket">
                                            <div class="panel-body">
                                                <div class="row form-group">

                                                    <section class="col-xs-12 col-sm-12 col-md-6 col-lg-12 form-group">
                                                        <label style="color: #2F4050"><strong>Conclusiones: </strong></label>
                                                        <div style="width: 100%; display:flex; flex-flow:row nowrap;">
                                                            <textarea style="min-width: 100%" class="form-control" id="txtConclusionesActividadTicket" name="txtConclusionesActividadTicket" rows="5"></textarea>
                                                        </div>
                                                    </section>

                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <!--accordion 2 -- Documentos Generados Por el Cliente-->
                                <div class="panel-group" id="accordionFacturacion4Ticket" role="tablist" aria-multiselectable="true">
                                    <div class="panel panel-default">
                                        <div class="panel-heading" id="headingFacturacionFourthTicket" role="tab">
                                            <h4 class="panel-title"><a id="acordeonFacturacion4Ticket" class="collapsed no-collapsable" role="button" data-toggle="collapse" data-parent="#accordionFacturacion4Ticket" href="#collapseFacturacionFourthTicket" aria-expanded="false" aria-controls="collapseFacturacionFourthTicket" style="font-size:22px;">Recomendaciones<i class="pull-right fa fa-plus"></i></a></h4>
                                        </div>
                                        <div class="panel-collapse collapse" id="collapseFacturacionFourthTicket" role="tabpanel" aria-labelledby="headingFacturacionFourthTicket">
                                            <div class="panel-body">
                                                <div class="row form-group">

                                                    <section class="col-xs-12 col-sm-12 col-md-6 col-lg-12 form-group">
                                                        <label style="color: #2F4050"><strong>Recomendaciones: </strong></label>
                                                        <div style="width: 100%; display:flex; flex-flow:row nowrap;">
                                                            <textarea style="min-width: 100%" class="form-control" id="txtRecomendacionesActividadTicket" name="txtRecomendacionesActividadTicket" rows="5"></textarea>
                                                        </div>
                                                    </section>

                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <section class="col-xs-12" style="display: flex; flex-direction: row-reverse; flex-wrap: wrap; justify-content: space-between">
                        <div style="margin-top:10px; display:flex; flex-direction:row; flex-wrap:wrap; justify-content:flex-end">
                            <button style="margin:3px;" tabindex="8" class="btn btn-danger" type="button" id="btnCerrarInformeTicket"><i class="fa fa-times-circle"></i> Cancelar</button>
                            <button style="margin:3px;" tabindex="9" class="btn btn-primary" type="button" id="btnGenerateInformeTicket"><i class="fa fa-save"></i> Generar Informe</button>
                            <button style="margin:3px;" tabindex="9" class="btn btn-primary hidden" type="button" id="btnEditarInformeTicket"><i class="fa fa-save"></i> Editar Informe</button>
                        </div>
                    </section>
                </form>
            </div>
        </div>
    </div>
</div>

<div id="ModalCreateComponent" class="modal inmodal fade" tabindex="-1" role="dialog" aria-hidden="true">
    <div class="modal-dialog" style="width:60%;">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                <h4 class="modal-title">Crear Nuevo Componenete</h4>
            </div>
            <div class="modal-body clearfix" style="padding-left:10px; padding-right:10px;">
                <form id="FrmComponente">

                        <section class="col-xs-12 col-sm-12 col-md-6 col-lg-12 form-group">
                            <label style="color: #2F4050"><strong>Componente: </strong></label>
                            <div style="width: 100%; display: flex; flex-flow: row nowrap;">
                                <textarea style="min-width: 100%" class="form-control" id="txtComponente" name="txtComponente" rows="8"></textarea>
                            </div>
                        </section>

                        @*<section class="col-xs-12 col-sm-12 col-md-6 col-lg-12 form-group">
                            <label style="color: #2F4050"><strong>Solucion: </strong></label>
                            <div style="width: 100%; display:flex; flex-flow:row nowrap;">
                                <textarea style="min-width: 100%" class="form-control" id="txtSolutionticket" name="txtSolutionticket" rows="8"></textarea>
                            </div>
                        </section>*@

                         <section class="col-xs-12" style="display:flex; flex-direction:row; flex-wrap:wrap; justify-content:space-between">
                            <div style="margin-top:10px; display:flex; flex-direction:row; flex-wrap:wrap; justify-content:flex-start">
                                @Html.Partial("../MensajesParciales/_MensajeLeyendaCampoRequerido")
                            </div>
                            <div style="margin-top:10px; display:flex; flex-direction:row; flex-wrap:wrap; justify-content:flex-end">
                                <button style="margin:3px;" tabindex="8" class="btn btn-danger" type="button" id="btnCancelarComponente"><i class="fa fa-times-circle"></i> Cancelar</button>
                                <button style="margin:3px;" tabindex="9" class="btn btn-primary" type="button" id="btnGrabarComponente"><i class="fa fa-save"></i> Grabar</button>
                            </div>
                        </section>
                </form>
            </div>
        </div>
    </div>
</div>

<script>

    //toastr.options.timeOut = nTiempoMuyLargo;
    //toastr.options.extendedTimeOut = nTiempoMuyLargo;
    ///*success - info - warning - error*/
    //var $toastAlerta = toastr["info"]("Puedes encontrar los ticket del Dia de Hoy, pulsando aqui", tTituloExito);
    //$toastAlerta.addClass('mi-alerta');

    //$toastAlerta.delegate('.toast-close-button', 'click', function () {
    //    if ($(this).closest('.mi-alerta').length) {
    //        // Aquí puedes mostrar el panel o listado que deseas
    //        console.log("Que onda que pex");
    //    }
    //});
    $('#chkValidationOperation').bootstrapToggle({
        on: 'Si',
        off: 'No',
        size: 'normal', //large,normal,small,mini
        onstyle: 'primary', //default,primary,success,info,warning,danger
        offstyle: 'danger', //default,primary,success,info,warning,danger
        width: null,//type: integer	default: null	/ Sets the width of the toggle. if set to null, width will be calculated.
        height: null, //type: integer	default: null	/ Sets the width of the toggle. if set to null, width will be calculated.
    });

    $('#chkFallaSistema').bootstrapToggle({
            on: 'On',
            off: 'Off',
            size: 'normal', //large,normal,small,mini
            onstyle: 'primary', //default,primary,success,info,warning,danger
            offstyle: 'danger', //default,primary,success,info,warning,danger
            width: null,//type: integer	default: null	/ Sets the width of the toggle. if set to null, width will be calculated.
            height: null, //type: integer	default: null	/ Sets the width of the toggle. if set to null, width will be calculated.
    });

    $('#chkNuevoProyecto').bootstrapToggle({
        on: 'On',
        off: 'Off',
        size: 'normal', //large,normal,small,mini
        onstyle: 'primary', //default,primary,success,info,warning,danger
        offstyle: 'danger', //default,primary,success,info,warning,danger
        width: null,//type: integer	default: null	/ Sets the width of the toggle. if set to null, width will be calculated.
        height: null, //type: integer	default: null	/ Sets the width of the toggle. if set to null, width will be calculated.
    });

    $('#chkRequerimiento').bootstrapToggle({
        on: 'On',
        off: 'Off',
        size: 'normal', //large,normal,small,mini
        onstyle: 'primary', //default,primary,success,info,warning,danger
        offstyle: 'danger', //default,primary,success,info,warning,danger
        width: null,//type: integer	default: null	/ Sets the width of the toggle. if set to null, width will be calculated.
        height: null, //type: integer	default: null	/ Sets the width of the toggle. if set to null, width will be calculated.
    });

    $(document).ready(function () {

        /* ----- REPORTABILIDAD ----- */

        var estadoReportabilidadList = 1;

        /* ----- GRAFICOS DASHBOARD ------ */
        var estadoMaxGrafico1 = 1;
        var estadoMaxGrafico2 = 1;
        var estadoMaxGrafico3 = 1;
        var estadoMaxGrafico4 = 1;

        /*-------- LISTADO ACTIVIDADES Y RESPONSABLE ---------- */

        var estadoMaxListActRes = 1;

        /*-------- LISTADO HISTORIAL ARCHIVOS ---------- */

        var estadoMaxListFileTicket= 1;
        var estadoMaxListFileTicketVitacora = 1;
        var estadoMaxListFileTicketActividades = 1;

        var estadoMaxContenedorDetalle = 1;
        //var estadoMaxGrafico5 = 1;
        //var estadoMaxGrafico6 = 1;
        var estadoMaxStatusTicketGraphic = 1;

        /*----------------------------------
         * ------------------------------------------------------------- VARIABLES*/
        $('#widget-grid1').jarvisWidgets({

            grid: 'article',
            widgets: '.jarviswidget',
            localStorage: false,
            deleteSettingsKey: '#deletesettingskey-options',
            settingsKeyLabel: 'Reset settings?',
            deletePositionKey: '#deletepositionkey-options',
            positionKeyLabel: 'Reset position?',
            sortable: false,
            buttonsHidden: false,

            // toggle button
            toggleButton: false,
            //toggleClass: 'fa fa-minus | fa fa-plus',
            //toggleSpeed: 200,
            //onToggle: function () { },

            // delete btn
            deleteButton: false,
            //deleteClass: 'fa fa-times',
            //deleteSpeed: 200,
            //onDelete: function () { },

            // edit btn
            editButton: false,
            //editPlaceholder: '.jarviswidget-editbox',
            //editClass: 'fa fa-cog | fa fa-save',
            //editSpeed: 200,
            //onEdit: function () { },

            // color button
            colorButton: false,

            // full screen
            fullscreenButton: true,
            fullscreenClass: 'fa fa-expand | fa fa-times fa-2x',
            fullscreenDiff: 3,
            onFullscreen: function (e) {

                var id = String(e[0].id);

                if (id == "wid-id-rga1") {

                    if (estadoReportabilidadList == 1) {

                        $("#ContainerticketAndResponsible").css("height", "100vh");
                        estadoReportabilidadList = 2;
                        /*  heightG1 = screen.height;*/
                    } else {

                        $("#ContainerticketAndResponsible").css("height", "100%");

                        /*var $container = $('#ContainerticketAndResponsible');*/
                       /* heightG1 = 300;*/
                    }

                }

            },

            // custom btn
            customButton: false,
            //customClass: 'folder-10 | next-10',
            //customStart: function () {
            //    alert('Hello you, this is a custom button...')
            //},

            //customEnd: function () {
            //    alert('bye, till next time...')
            //},

            // order
            //buttonOrder: '%refresh% %custom% %edit% %toggle% %fullscreen% %delete%',
            //opacity: 1.0,
            //dragHandle: '> header',
            //placeholderClass: 'jarviswidget-placeholder',
            //indicator: true,
            //indicatorTime: 600,
            //ajax: true,
            //timestampPlaceholder: '.jarviswidget-timestamp',
            //timestampFormat: 'Last update: %m%/%d%/%y% %h%:%i%:%s%',
            //refreshButton: true,
            //refreshButtonClass: 'fa fa-refresh',
            //labelError: 'Sorry but there was a error:',
            //labelUpdated: 'Last Update:',
            //labelRefresh: 'Refresh',
            //labelDelete: 'Delete widget:',
            //afterLoad: function () { },
            //rtl: false, // best not to toggle this!
            //onChange: function () {

            //},
            //onSave: function () {

            //},
            //ajaxnav: $.navAsAjax // declears how the localstorage should be saved
        });

        $('#widget-grid2').jarvisWidgets({

            grid: 'article',
            widgets: '.jarviswidget',
            localStorage: false,
            deleteSettingsKey: '#deletesettingskey-options',
            settingsKeyLabel: 'Reset settings?',
            deletePositionKey: '#deletepositionkey-options',
            positionKeyLabel: 'Reset position?',
            sortable: false,
            buttonsHidden: false,

            // toggle button
            toggleButton: false,
            //toggleClass: 'fa fa-minus | fa fa-plus',
            //toggleSpeed: 200,
            //onToggle: function () { },

            // delete btn
            deleteButton: false,
            //deleteClass: 'fa fa-times',
            //deleteSpeed: 200,
            //onDelete: function () { },

            // edit btn
            editButton: false,
            //editPlaceholder: '.jarviswidget-editbox',
            //editClass: 'fa fa-cog | fa fa-save',
            //editSpeed: 200,
            //onEdit: function () { },

            // color button
            colorButton: false,

            // full screen
            fullscreenButton: true,
            fullscreenClass: 'fa fa-expand | fa fa-times fa-2x',
            fullscreenDiff: 3,
            onFullscreen: function (e) {

                var id = String(e[0].id);

                if (id == "wid-id-rga-1") {

                    if (estadoMaxGrafico1 == 1) {

                        $("#grGraficaTicketXOperacion").css("height", "100vh");
                        estadoMaxGrafico1 = 2;
                        heightG1 = screen.height;

                    } else {
                        $("#grGraficaTicketXOperacion").css("height", "300px");
                        estadoMaxGrafico1 = 1;

                        var $container = $('#grGraficaTicketXOperacion');
                        heightG1 = 300;
                    }

                }

                if (id == "wid-id-rga-2") {

                    if (estadoMaxGrafico2 == 1) {

                        $("#grGraficaActividadesXTicket").css("height", "100vh");
                        estadoMaxGrafico2 = 2;
                        heightG2 = screen.height;

                    } else {
                        $("#grGraficaActividadesXTicket").css("height", "300px");
                        estadoMaxGrafico2 = 1;

                        var $container = $('#grGraficaActividadesXTicket');
                        heightG2 = 300;
                    }

                }

                if (id == "wid-id-rga-3") {

                    if (estadoMaxGrafico3 == 1) {

                        $("#grGraficaTicketXActividad").css("height", "100vh");
                        estadoMaxGrafico3 = 2;
                        heightG3 = screen.height;

                    } else {
                        $("#grGraficaTicketXActividad").css("height", "300px");
                        estadoMaxGrafico3 = 1;

                        var $container = $('#grGraficaTicketXActividad');
                        heightG3 = 300;
                    }

                }

                if (id == "wid-id-rga-4") {

                    if (estadoMaxGrafico4 == 1) {

                        $("#grGraficaActividadesXUsuario").css("height", "100vh");
                        estadoMaxGrafico4 = 2;
                        heightG4 = screen.height;

                    } else {
                        $("#grGraficaActividadesXUsuario").css("height", "300px");
                        estadoMaxGrafico4 = 1;

                        var $container = $('#grGraficaActividadesXUsuario');
                        heightG4 = 300;
                    }

                }

                //if (id == "wid-id-rga5") {

                //    if (estadoMaxGrafico4 == 1) {

                //        $("#grGraficaActividadesXUsuario").css("height", "100vh");
                //        estadoMaxGrafico4 = 2;
                //        heightG4 = screen.height;
                //    } else {
                //        $("#grGraficaActividadesXUsuario").css("height", "300px");
                //        estadoMaxGrafico4 = 1;

                //        var $container = $('#grGraficaActividadesXUsuario');
                //        heightG4 = 300;
                //    }

                //}

                //if (id == "wid-id-rga6") {

                //    if (estadoMaxGrafico6 == 1) {

                //        $("#grGraficaActividadesXUsuarioASSAC").css("height", "100vh");
                //        estadoMaxGrafico6 = 2;
                //        heightG6 = screen.height;
                //    } else {
                //        $("#grGraficaActividadesXUsuarioASSAC").css("height", "300px");
                //        estadoMaxGrafico6 = 1;

                //        var $container = $('#grGraficaActividadesXUsuarioASSAC');
                //        heightG6 = 300;
                //    }

                //}

            },

            // custom btn
            customButton: false,
            //customClass: 'folder-10 | next-10',
            //customStart: function () {
            //    alert('Hello you, this is a custom button...')
            //},

            //customEnd: function () {
            //    alert('bye, till next time...')
            //},

            // order
            //buttonOrder: '%refresh% %custom% %edit% %toggle% %fullscreen% %delete%',
            //opacity: 1.0,
            //dragHandle: '> header',
            //placeholderClass: 'jarviswidget-placeholder',
            //indicator: true,
            //indicatorTime: 600,
            //ajax: true,
            //timestampPlaceholder: '.jarviswidget-timestamp',
            //timestampFormat: 'Last update: %m%/%d%/%y% %h%:%i%:%s%',
            //refreshButton: true,
            //refreshButtonClass: 'fa fa-refresh',
            //labelError: 'Sorry but there was a error:',
            //labelUpdated: 'Last Update:',
            //labelRefresh: 'Refresh',
            //labelDelete: 'Delete widget:',
            //afterLoad: function () { },
            //rtl: false, // best not to toggle this!
            //onChange: function () {

            //},
            //onSave: function () {

            //},
            //ajaxnav: $.navAsAjax // declears how the localstorage should be saved
        });

        $('#widget-grid3').jarvisWidgets({

            grid: 'article',
            widgets: '.jarviswidget',
            localStorage: false,
            deleteSettingsKey: '#deletesettingskey-options',
            settingsKeyLabel: 'Reset settings?',
            deletePositionKey: '#deletepositionkey-options',
            positionKeyLabel: 'Reset position?',
            sortable: false,
            buttonsHidden: false,

            // toggle button
            toggleButton: false,
            //toggleClass: 'fa fa-minus | fa fa-plus',
            //toggleSpeed: 200,
            //onToggle: function () { },

            // delete btn
            deleteButton: false,
            //deleteClass: 'fa fa-times',
            //deleteSpeed: 200,
            //onDelete: function () { },

            // edit btn
            editButton: false,
            //editPlaceholder: '.jarviswidget-editbox',
            //editClass: 'fa fa-cog | fa fa-save',
            //editSpeed: 200,
            //onEdit: function () { },

            // color button
            colorButton: false,

            // full screen
            fullscreenButton: true,
            fullscreenClass: 'fa fa-expand | fa fa-times fa-2x',
            fullscreenDiff: 3,
            onFullscreen: function (e) {

                var id = String(e[0].id);

                if (id == "wid-id-rga-X") {

                    if (estadoMaxListFileTicket == 1) {

                        $("#ContainerDetalleTicket").css("height", "100%");
                      /*  $("#ContainerDetalleTicket").css("width", "70%");*/
                        estadoMaxListFileTicket = 2;

                    } else {
                        $("#ContainerDetalleTicket").css("height", "300px");
                        estadoMaxListFileTicket = 1;

                        var $container = $('#ContainerDetalleTicket');
                    }

                }

                if (id == "wid-id-rga-Y") {

                    if (estadoMaxListFileTicketActividades == 1) {

                        $("#ContainerActivitiesFiles").css("height", "100vh");
                        estadoMaxListFileTicketActividades = 2;

                    } else {
                        $("#ContainerActivitiesFiles").css("height", "300px");
                        estadoMaxListFileTicketActividades = 1;

                        var $container = $('#ContainerActivitiesFiles');
                    }

                }

            },

            // custom btn
            customButton: false,
            //customClass: 'folder-10 | next-10',
            //customStart: function () {
            //    alert('Hello you, this is a custom button...')
            //},

            //customEnd: function () {
            //    alert('bye, till next time...')
            //},

            // order
            //buttonOrder: '%refresh% %custom% %edit% %toggle% %fullscreen% %delete%',
            //opacity: 1.0,
            //dragHandle: '> header',
            //placeholderClass: 'jarviswidget-placeholder',
            //indicator: true,
            //indicatorTime: 600,
            //ajax: true,
            //timestampPlaceholder: '.jarviswidget-timestamp',
            //timestampFormat: 'Last update: %m%/%d%/%y% %h%:%i%:%s%',
            //refreshButton: true,
            //refreshButtonClass: 'fa fa-refresh',
            //labelError: 'Sorry but there was a error:',
            //labelUpdated: 'Last Update:',
            //labelRefresh: 'Refresh',
            //labelDelete: 'Delete widget:',
            //afterLoad: function () { },
            //rtl: false, // best not to toggle this!
            //onChange: function () {

            //},
            //onSave: function () {

            //},
            //ajaxnav: $.navAsAjax // declears how the localstorage should be saved
        });

        $('#widget-grid4').jarvisWidgets({

            grid: 'article',
            widgets: '.jarviswidget',
            localStorage: false,
            deleteSettingsKey: '#deletesettingskey-options',
            settingsKeyLabel: 'Reset settings?',
            deletePositionKey: '#deletepositionkey-options',
            positionKeyLabel: 'Reset position?',
            sortable: false,
            buttonsHidden: false,

            // toggle button
            toggleButton: false,
            //toggleClass: 'fa fa-minus | fa fa-plus',
            //toggleSpeed: 200,
            //onToggle: function () { },

            // delete btn
            deleteButton: false,
            //deleteClass: 'fa fa-times',
            //deleteSpeed: 200,
            //onDelete: function () { },

            // edit btn
            editButton: false,
            //editPlaceholder: '.jarviswidget-editbox',
            //editClass: 'fa fa-cog | fa fa-save',
            //editSpeed: 200,
            //onEdit: function () { },

            // color button
            colorButton: false,

            // full screen
            fullscreenButton: true,
            fullscreenClass: 'fa fa-expand | fa fa-times fa-2x',
            fullscreenDiff: 3,
            onFullscreen: function (e) {

                var id = String(e[0].id);

                if (id == "wid-id-rga-V") {

                    if (estadoMaxListActRes == 1) {

                        $("#ContainerStatusActivitiesByResponsible").css("height", "100vh");
                        estadoMaxListActRes = 2;

                    } else {
                        $("#ContainerStatusActivitiesByResponsible").css("height", "100%");
                        estadoMaxListActRes = 1;

                    }

                }

            },

            // custom btn
            customButton: false,
            //customClass: 'folder-10 | next-10',
            //customStart: function () {
            //    alert('Hello you, this is a custom button...')
            //},

            //customEnd: function () {
            //    alert('bye, till next time...')
            //},

            // order
            //buttonOrder: '%refresh% %custom% %edit% %toggle% %fullscreen% %delete%',
            //opacity: 1.0,
            //dragHandle: '> header',
            //placeholderClass: 'jarviswidget-placeholder',
            //indicator: true,
            //indicatorTime: 600,
            //ajax: true,
            //timestampPlaceholder: '.jarviswidget-timestamp',
            //timestampFormat: 'Last update: %m%/%d%/%y% %h%:%i%:%s%',
            //refreshButton: true,
            //refreshButtonClass: 'fa fa-refresh',
            //labelError: 'Sorry but there was a error:',
            //labelUpdated: 'Last Update:',
            //labelRefresh: 'Refresh',
            //labelDelete: 'Delete widget:',
            //afterLoad: function () { },
            //rtl: false, // best not to toggle this!
            //onChange: function () {

            //},
            //onSave: function () {

            //},
            //ajaxnav: $.navAsAjax // declears how the localstorage should be saved
        });

        $('#widget-grid5').jarvisWidgets({

            grid: 'article',
            widgets: '.jarviswidget',
            localStorage: false,
            deleteSettingsKey: '#deletesettingskey-options',
            settingsKeyLabel: 'Reset settings?',
            deletePositionKey: '#deletepositionkey-options',
            positionKeyLabel: 'Reset position?',
            sortable: false,
            buttonsHidden: false,

            // toggle button
            toggleButton: false,
            //toggleClass: 'fa fa-minus | fa fa-plus',
            //toggleSpeed: 200,
            //onToggle: function () { },

            // delete btn
            deleteButton: false,
            //deleteClass: 'fa fa-times',
            //deleteSpeed: 200,
            //onDelete: function () { },

            // edit btn
            editButton: false,
            //editPlaceholder: '.jarviswidget-editbox',
            //editClass: 'fa fa-cog | fa fa-save',
            //editSpeed: 200,
            //onEdit: function () { },

            // color button
            colorButton: false,

            // full screen
            fullscreenButton: true,
            fullscreenClass: 'fa fa-expand | fa fa-times fa-2x',
            fullscreenDiff: 3,
            onFullscreen: function (e) {

                var id = String(e[0].id);

                if (id == "wid-id-rgaVT1") {

                    if (estadoMaxStatusTicketGraphic == 1) {

                        $("#grGraficaValidityStatusTicket").css("height", "100vh");
                        estadoMaxStatusTicketGraphic = 2;
                        heightG1VT1 = screen.height;

                    } else {
                        $("#grGraficaValidityStatusTicket").css("height", "400px");
                        estadoMaxStatusTicketGraphic = 1;

                        var $container = $('#grGraficaValidityStatusTicket');
                        heightG1VT1 = 400;

                    }

                }

            },

            // custom btn
            customButton: false,
            //customClass: 'folder-10 | next-10',
            //customStart: function () {
            //    alert('Hello you, this is a custom button...')
            //},

            //customEnd: function () {
            //    alert('bye, till next time...')
            //},

            // order
            //buttonOrder: '%refresh% %custom% %edit% %toggle% %fullscreen% %delete%',
            //opacity: 1.0,
            //dragHandle: '> header',
            //placeholderClass: 'jarviswidget-placeholder',
            //indicator: true,
            //indicatorTime: 600,
            //ajax: true,
            //timestampPlaceholder: '.jarviswidget-timestamp',
            //timestampFormat: 'Last update: %m%/%d%/%y% %h%:%i%:%s%',
            //refreshButton: true,
            //refreshButtonClass: 'fa fa-refresh',
            //labelError: 'Sorry but there was a error:',
            //labelUpdated: 'Last Update:',
            //labelRefresh: 'Refresh',
            //labelDelete: 'Delete widget:',
            //afterLoad: function () { },
            //rtl: false, // best not to toggle this!
            //onChange: function () {

            //},
            //onSave: function () {

            //},
            //ajaxnav: $.navAsAjax // declears how the localstorage should be saved
        });


        function ocultarMenu() {
            // $.root_.toggleClass("hidden-menu"); //OCULTA EL NAVIGATION DE MANERA TOTAL
            $.root_.toggleClass("minified"); // OCULTA EL NAVIGATION DE MANERA PARCIAL MOSTRANDO LOS ICONOS
        }

        var x = window.matchMedia("(min-width: 700px)");
        ocultarMenu();
        x.addListener(ocultarMenu);
    });

     var element0 = document.getElementById('BtnFallaSistema');
     //element.class = 'BtnEventoClick';
     element0.style.background = '#00b1fc';
     element0.style.color = '#fff';
     element0.style.boxShadow = '5px 5px 5px 1px rgba(0,0,0,0.6)';

    let dataTableDataZ;
    var ValorFiltroGid = "0";

    var usuarioRegistrador = "@User.Identity.Name.ToUpper().ToString()";
    var IdTicketLst = 0;
    var ValorIdTicketGraphic;

    var EstadoArchivo = "0";
    var EstadoAlertaInicio = 0;
    var NroTicketActivity = 0;
    var SelectInvitados = "";
    /*******************************/
    var CriticidadEstado = "";

    var idTicketDetail = 0;
    var idActivity = 0;
    var RegisterId = 0;
    var RegisterIdVal = 0;
    var archivoVistaPrevia = 0;
    var modalDesestimar = 0;
    //var arrayPuntosATratarDetalleGeneral = [];
    var idsPathFileTicketDocTicket = [];
    var idsPathFileTicketDoc = [];
    var arrayArchivosHistoricos = [];
    var NumberTicket = "";

    /*---------------- VALUES - TICKET -------------*/
    var IdLocationTicket = 0;
    var IdResponsibleTicket = 0;
    var IdOperatorTicket = 0;
    var IdOperationTicket = 0;
    var IdEncargadoTicket = 0;
    var FechaInicioTicket = "";
    var IdRazonTicket = 0;
    var IdCriticidadTicket = 0;
    var TituloTicketDetalle = "";
    var DetalleTextTicket = "";
    var ValoGoogleChart = [];
    /**/
    /* - VARIABLES - GRAFICO1 -*/
    var dataGroupGrafico1;
    var resultadojson1;
    var ImageURI1 = "";

    var pchartG1;
    var widthG1;
    var heightG1 = 300;
    var estadoCargarGrafico1;
    var contadorGrafica1 = 0;
    var tamanoAnchoPantalla1 = 0;

    /* - VARIABLES - GRAFICO1 -2 */
    var dataGroupGrafico1X2;
    var resultadojson1X2;
    var ImageURI1X2 = "";

    var pchartG1X2;
    var widthG1X2;
    var heightG1X2 = 300;
    var estadoCargarGrafico1X2;
    var contadorGrafica1X2 = 0;
    var tamanoAnchoPantalla1X2 = 0;


    /* - VARIABLES - GRAFICO2 -*/

    var dataGroupGrafico2;
    var resultadojson2;
    var ImageURI2 = "";

    var pchartG2;
    var widthG2;
    var heightG2 = 300;
    var estadoCargarGrafico2;
    var contadorGrafica2 = 0;
    var tamanoAnchoPantalla2 = 0;

    /* - VARIABLES - GRAFICO3 -*/

    var dataGroupGrafico3;
    var resultadojson3;
    var ImageURI3 = "";

    var pchartG3;
    var widthG3;
    var heightG3 = 300;
    var estadoCargarGrafico3;
    var contadorGrafica3 = 0;
    var tamanoAnchoPantalla3 = 0;

    /* - VARIABLES - GRAFICO4 -*/

    var dataGroupGrafico4;
    var resultadojson4;
    var ImageURI4 = "";

    var pchartG4;
    var widthG4 = 1500;
    var heightG4 = 900;
    var estadoCargarGrafico4;
    var contadorGrafica4 = 0;
    var tamanoAnchoPantalla4 = 0;

    /* - VARIABLES - GRAFICO5 -*/

    var dataGroupGrafico5;
    var resultadojson5;
    var ImageURI5 = "";

    var pchartG5;
    var widthG5;
    var heightG5 = 300;
    var estadoCargarGrafico5;
    var contadorGrafica5 = 0;
    var tamanoAnchoPantalla5 = 0;

    /* - VARIABLES - GRAFICO6 -*/

    var dataGroupGrafico6;
    var resultadojson6;
    var ImageURI6 = "";

    var pchartG6;
    var widthG6;
    var heightG6 = 300;
    var estadoCargarGrafico6;
    var contadorGrafica6 = 0;
    var tamanoAnchoPantalla6 = 0;

    /* - VARIABLES - GRAFICO7 -*/

    var dataGroupGrafico7;
    var resultadojson7;
    var ImageURI7 = "";

    var pchartG7;
    var widthG7;
    var heightG7 = 300;
    var estadoCargarGrafico7;
    var contadorGrafica7 = 0;
    var tamanoAnchoPantalla7 = 0;

    /* ACTIVITY */

    var NumeroTicket = "";
    var TextActivity = "";
    var TextDetalleActivity = "";
    var IdResponsibleActivity = 0;
    var FechaEndActivity = "";
    var UserResponsibleId = 0;

    var StatusValor = '1';
    var StatusValorActRes = '1';
    /************************************/

    /* - VARIABLES - GRAFICO1 -2 */
    var dataGroupGraficoZ;
    var resultadojsonZ;
    var ImageURIZ = "";

    var pchartGZ;
    var widthGZ;
    var heightGZ = 300;
    var estadoCargarGraficoZ;
    var contadorGraficaZ = 0;
    var tamanoAnchoPantallaZ = 0;

    /*----------------------------------*/

    var NroTicket = 0;
    var FechaRegistroTicket = "";
    var CallTicket = "";
    var RegisterTicket = "";
    var ResponsibleTicket = "";
    var OperacionTicket = "";
    var OperacionTicketInform = "";
    var RazonTicket = "";
    var LocationTicket = "";
    var CriticidadTicket = "";
    var TitleDetalleTickets = "";
    var DetalleTicket = "";
    var SelectorInvitadosActividad = "";
    var ButtonsGridActivity = "";
    var ButtonsGridFileTicket = "";
    var IdResponsibleCritizity;

    var UsusarioPersonId = 0;
    var ValueFilter = 'PS';
    var ValuePenCom = 'PEN';

    var ValueFilterTicket = 'E'
    document.getElementById("lblTitleTicketCategoria").innerHTML = "<strong><span style='color:red'>EVENTO FALLA: </span></strong>";

    /* NEW REPORT VALUE*/

    let divContainerTicketAndResponsible;
    divContainerTicketAndResponsible = document.getElementById('ContainerticketAndResponsible');/**/

    let divContainerMyTicket;
    divContainerMyTicket = document.getElementById('ContainerJustMyTicket');/**/

    let divContainerActivitiesTicket;
    divContainerActivitiesTicket = document.getElementById('ContainerActivitiesFiles');/**/

    let divContainerActivitiesAllFiles;
    divContainerActivitiesAllFiles = document.getElementById('ContainerActivitiesAllFiles');/**/

    /* --------- */

    let ImagenBotonDetalle2 = "../Content/img/Icon-Detalle2.png";
    let ImagenBotonDetalle3 = "../Content/img/Icon-Detalle3.png";
    let ImagenBotonDetalle4 = "../Content/img/Icon-Detalle4.png";
    let ImagenBotonDetalle5 = "../Content/img/Icon-Detalle5.png"

    var StatusTicketRadio = 'P'
    var ValueReportShow = '2';

    var ValueRadioFile = '1';

    var ValidarListadoArchivoActividad = 0;
    var ValidarListadoVitacoraActividad = 0;

    var CantidadTicketCritiAlta = 0;
    var CantidadTicketCritiMedia = 0;
    var CantidadTicketCritiBaja = 0;

    var NombreEventoTicket = "Falla Sistema";
    var EstadoTicketActividadUser = 1;
    /*-----------------*/

    //* - VARIABLES - GRAFICO - VIGECIA 1 -*//
    var dataGroupGraficoVT1;
    var resultadojsonVT1;
    var ImageURIVT1 = "";

    var pchartGVT1;
    var widthGVT1;
    var heightGVT1 = 300;
    var estadoCargarGraficoVT1;
    var contadorGraficaVT1 = 0;
    var tamanoAnchoPantallaVT1 = 0;

    //* - VARIABLES - GRAFICO - VIGECIA 1 -2 *//

    var dataGroupGraficoTABS;
    var resultadojsonTABS;
    var ImageURITABS= "";

    var pchartGTABS;
    var widthGTABS;
    var heightGTABS = 300;
    var estadoCargarGraficoTABS;
    var contadorGraficaTABS = 0;
    var tamanoAnchoPantallaTABS = 0

    var ValorStatusTicket;
    var OperationIdValidity = "0"
    var coloresBarraVigencia;

    var IdTicketDetailReport = 0;
    var TitleTicketGlobal = "";
    var TitleProblemGlobal = "";
    var TitleSolucionGlobal = "";

    var StatusTicketMovil2 = "P";

    function CrearArea() {

         $("#CargaTemporal").removeClass("hidden");

         $.ajax({
             type: "POST",
             url: tRutaServidor + "/Area/CrearArea",
             dataType: "json",
             data: "AreaName=" + $("#txtAreaNombre").val().trim(),
             success: function (resultado) {

                 if (resultado == "1") {
                     $("#CargaTemporal").addClass("hidden");
                     toastr.options.timeOut = nTiempoCorto;
                     toastr.options.extendedTimeOut = nTiempoCorto;
                     /*success - info - warning - error*/
                     var $toast = toastr["success"](tMensajeCreadoExito, tTituloExito); $toastlast = $toast;

                     ComboArea('1', $("#txtAreaNombre").val().trim());
                     document.getElementById('btnGrabarNuevaArea').disabled = false;
                     $('#ModalArea').modal('hide');

                 } else if (resultado == "2") {
                     $("#CargaTemporal").addClass("hidden");
                     toastr.options.timeOut = nTiempoMedio;
                     toastr.options.extendedTimeOut = nTiempoMedio;
                     /*success - info - warning - error*/
                     var $toast = toastr["error"](tMensajeErrorYaExiste, tTituloError); $toastlast = $toast;
                     document.getElementById('btnGrabarNuevaArea').disabled = false;

                 } else if (resultado == "0") {
                     $("#CargaTemporal").addClass("hidden");
                     toastr.options.timeOut = nTiempoMedio;
                     toastr.options.extendedTimeOut = nTiempoMedio;
                     /*success - info - warning - error*/
                     var $toast = toastr["error"](tMensajeErrorDesconocido, tTituloError); $toastlast = $toast;
                     console.log("Mensaje del error : " + resultado);

                 } else {
                     $("#CargaTemporal").addClass("hidden");
                     toastr.options.timeOut = nTiempoMedio;
                     toastr.options.extendedTimeOut = nTiempoMedio;
                     /*success - info - warning - error*/
                     var $toast = toastr["error"](tMensajeErrorDesconocido, tTituloError); $toastlast = $toast;
                     console.log("Mensaje del error : " + resultado);
                 }

             },
             error: function (xhr, ajaxOptions, thrownError) {
                 $("#CargaTemporal").addClass("hidden");
                 /*fallo al llamar a la funcion ajax*/
                 toastr.options.timeOut = nTiempoLargo;
                 toastr.options.extendedTimeOut = nTiempoLargo;
                 /*success - info - warning - error*/
                 var $toast = toastr["error"](tMensajeErrorConexion, tTituloErrorConexion); $toastlast = $toast;
                 console.log("ERROR AJAX : " + ajaxOptions);
                 console.log("ERROR AJAX : " + thrownError);
                 console.log(xhr.responseText);
                 console.log(xhr);
             }
         });
    }

    function ComboTicket() {

        $.ajax({
            type: "GET", /*Puede ser post*/
            url: tRutaServidor + "/Ticket/ListarTicketPendientes", /* es importante poner los .. delante*/
            contentType: "application/json; charset=utf-8",
            data: {
                StatusCategory : ValueFilterTicket
            },
            dataType: "json",
            success: function (resultado) {

                var opcionesTicket = "";

                /*exitosamente*/
                if (resultado.length > 0) {
                    /* proceso exitoso con datos*/

                    if (resultado[0].ValorConsulta == "1") {

                        /**Llenar el combo con todo las compañías**/
                        for (i = 0; i < resultado.length; i++) {

                            opcionesTicket += "<option value='" + resultado[i].IdTicket + "'>" + resultado[i].NroTicket + "</option>";
                        }

                        //if (tipoConsulta == "1") {
                            //$("#selectorTicketBusqueda").val("");
                            //$("#selectorTicketGrafico").val("");

                            $("#selectorTicketBusqueda").empty();
                            $("#selectorTicketBusqueda").append(opcionesTicket);
                            $("#selectorTicketBusqueda").selectpicker('refresh');

                            $("#selectorTicketGrafico").empty();
                            $("#selectorTicketGrafico").append(opcionesTicket);
                            $("#selectorTicketGrafico").selectpicker('refresh');



                            //$('#selectorTicketGrafico').selectpicker('val', resultado[0].IdTicket);
                            //$("#selectorTicketGrafico").value();
                        //}

                    }
                    else {
                        /*Error al listar*/

                    }

                } else {

                     $("#selectorTicketBusqueda").empty();
                     $("#selectorTicketBusqueda").append(opcionesTicket);
                     $("#selectorTicketBusqueda").selectpicker('refresh');

                     $("#selectorTicketGrafico").empty();
                     $("#selectorTicketGrafico").append(opcionesTicket);
                     $("#selectorTicketGrafico").selectpicker('refresh');

                }

            },
            error: function (xhr, ajaxOptions, thrownError) {
                /*Fallo al llamar funcion ajax*/

                console.log("ERROR AJAX : " + ajaxOptions);
                console.log("ERROR AJAX : " + thrownError);
                console.log(xhr.responseText);
                console.log(xhr);

            }
        });
    }

    function LimpiarEtiquetas() {

         /*------------------------------- TB_TICKET ----------------------------------*/

         $("#selectorTicketOperacion").selectpicker('val', "");
         //document.getElementById('selectorCambioDeGuardiaOperacion').disabled = false;
         $("#selectorTicketOperacion").selectpicker('refresh');
         document.getElementById('selectorTicketOperacion').disabled = false;

         $("#selectorWhoCall").selectpicker('val', "");
         document.getElementById('selectorWhoCall').disabled = false;
         $("#selectorWhoCall").selectpicker('refresh');

         $("#selectorWhoResponsible").selectpicker('val', "");
         document.getElementById('selectorWhoResponsible').disabled = false;
         $("#selectorWhoResponsible").selectpicker('refresh');

         $("#selectorTicketRazon").selectpicker('val', "");
         document.getElementById('selectorTicketRazon').disabled = false;
         $("#selectorTicketRazon").selectpicker('refresh');

         $("#selectorTicketLocation").selectpicker('val', "");
         document.getElementById('selectorTicketLocation').disabled = false;
         $("#selectorTicketLocation").selectpicker('refresh');

         $("#selectorInvitados").selectpicker('val', "");
         document.getElementById('selectorInvitados').disabled = false;
         $("#selectorInvitados").selectpicker('refresh');

         document.getElementById("rdoAltaCriticidad").checked = true;
         document.getElementById("rdoMedioCriticidad").checked = false;
         document.getElementById("rdoBajaCriticidad").checked = false;

         document.getElementById("txtDetallerTicket").value = '';

        /*------------------------------- TB_ACTIVITY ----------------------------------*/

         $("#selectorResponsableActivity").selectpicker('val', "");
         document.getElementById('selectorResponsableActivity').disabled = false;
         $("#selectorResponsableActivity").selectpicker('refresh');

         document.getElementById("txtActivityTicket").value = "";
         document.getElementById("txtDetalleActivity").value = "";
         document.getElementById("TitleDetalleTicket").value = "";


         /*----------*/
         EstadoArchivo = "0";

         $("#flArchivoSubirAdjunto").filestyle('clear');
         $("#flArchivoSubirAdjuntoTicket").filestyle('clear');

         document.getElementById('btnSubirFormatoTicket').disabled = false;
         document.getElementById('flArchivoSubirAdjuntoTicket').disabled = false;

         $("#txtCommentaryActivity").val("");

         idsPathFileTicketDoc = [];
         arrayArchivosHistoricos = [];

         $("#ImagenCargaListArchivo").addClass("hidden");
         $("#GrillaArchivos").addClass("hidden");
         $("#MensajeErrorListArchivo").addClass("hidden");
         $("#MensajeErrorListarListArchivo").addClass("hidden");
         $("#MensajeVacioListArchivo").removeClass("hidden");

    }

    function FormatoFechas() {
        var FechaHoy = new Date();
        var FechaActual = new Date(FechaHoy.getFullYear(), FechaHoy.getMonth(), FechaHoy.getDate());
        var FechaMañana = new Date(FechaHoy.getFullYear(), FechaHoy.getMonth(), FechaHoy.getDate() + 1);
        var FechaAyer= new Date(FechaHoy.getFullYear(), FechaHoy.getMonth(), FechaHoy.getDate() - 1);


        //$('#txtFechaInicioCambioDeGuardia').datepicker({
        //    keyboardNavigation: false,
        //    forceParse: false,
        //    autoclose: true,
        //    format: 'dd/mm/yyyy',
        //    endDate: FechaActual,
        //});
        //$('#txtFechaFinalCambioDeGuardia').datepicker({
        //    keyboardNavigation: false,
        //    forceParse: false,
        //    autoclose: true,
        //    format: 'dd/mm/yyyy',
        //    endDate: FechaActual,
        //});

        $('#txtTicketDate').datepicker({
            keyboardNavigation: false,
            forceParse: false,
            autoclose: true,
            format: 'dd/mm/yyyy',
            endDate: FechaActual,
        });

        $('#txtActPendienteFechaFin').datepicker({
            keyboardNavigation: false,
            forceParse: false,
            autoclose: true,
            format: 'dd/mm/yyyy',
            //endDate: FechaActual,
        });

        $('#txtFechaActividad').datepicker({
            keyboardNavigation: false,
            forceParse: false,
            autoclose: true,
            format: 'dd/mm/yyyy',
            endDate: FechaActual,
        });

        $('#txtFechaInicioDash').datepicker({
            keyboardNavigation: false,
            forceParse: false,
            autoclose: true,
            format: 'dd/mm/yyyy',
            endDate: FechaActual,
        });

        $('#txtFechaFinalDash').datepicker({
            keyboardNavigation: false,
            forceParse: false,
            autoclose: true,
            format: 'dd/mm/yyyy',
            //endDate: FechaActual,
        });

        $('#txtFechaInicioTicket').datepicker({
            keyboardNavigation: false,
            forceParse: false,
            autoclose: true,
            format: 'dd/mm/yyyy',
            endDate: FechaMañana,
        });

        $('#txtFechaFinalTicket').datepicker({
            keyboardNavigation: false,
            forceParse: false,
            autoclose: true,
            format: 'dd/mm/yyyy',
            endDate: FechaMañana,
        });

        $('#txtActivityDateEnd').kendoDateTimePicker({
            value: new Date(),
            dateInput: true,
            format: "dd/MM/yyyy HH:mm:ss",
            min: new Date(),
            //endDate: new Date(),
        });

        $('#txtFechaInicioTicketHistoric').datepicker({
            keyboardNavigation: false,
            forceParse: false,
            autoclose: true,
            format: 'dd/mm/yyyy',
            endDate: FechaMañana,
        });

        $('#txtFechaFinalTicketHistoric').datepicker({
            keyboardNavigation: false,
            forceParse: false,
            autoclose: true,
            format: 'dd/mm/yyyy',
            endDate: FechaMañana,
        });

         $('#txtFechaInicioValidityTicket').datepicker({
             keyboardNavigation: false,
             forceParse: false,
             autoclose: true,
             format: 'dd/mm/yyyy',
             endDate: FechaMañana,
         });

         $('#txtFechaFinalValidityTicket').datepicker({
             keyboardNavigation: false,
             forceParse: false,
             autoclose: true,
             format: 'dd/mm/yyyy',
             endDate: FechaMañana,
         });


        $('#txtFechaActividadTicket').datepicker({
            keyboardNavigation: false,
            forceParse: false,
            autoclose: true,
            format: 'dd/mm/yyyy',
            endDate: FechaActual,
        });

        $('#txtFechaInicioCycle').datepicker({
            keyboardNavigation: false,
            forceParse: false,
            autoclose: true,
            format: 'dd/mm/yyyy',
            endDate: FechaMañana,
        });

        $('#txtFechaFinalCycle').datepicker({
            keyboardNavigation: false,
            forceParse: false,
            autoclose: true,
            format: 'dd/mm/yyyy',
            endDate: FechaMañana,
        });

        $("#txtFechaInicioTicket").datepicker("setDate", primerDiaMes);
        $("#txtFechaFinalTicket").datepicker("setDate", FechaActual);
        //$("#txtFechaInicioCambioDeGuardia").datepicker("setDate", primerDiaMes);
        //$("#txtFechaFinalCambioDeGuardia").datepicker("setDate", FechaFinalReporte);
        $("#txtTicketDate").datepicker("setDate", FechaFinalReporte);
        $("#txtFechaActividadTicket").datepicker("setDate", FechaFinalReporte);
        $("#txtActPendienteFechaFin").datepicker("setDate", FechaFinalReporte);
        $("#txtFechaActividad").datepicker("setDate", FechaActual);
        $("#txtFechaInicioDash").datepicker("setDate", primerDiaMes);
        $("#txtFechaFinalDash").datepicker("setDate", FechaFinalReporte);
        $("#txtFechaInicioTicketHistoric").datepicker("setDate", primerDiaMes);
        $("#txtFechaFinalTicketHistoric").datepicker("setDate", FechaFinalReporte);
        $("#txtFechaInicioValidityTicket").datepicker("setDate", primerDiaMes);
        $("#txtFechaFinalValidityTicket").datepicker("setDate", FechaFinalReporte);
        $("#txtFechaInicioCycle").datepicker("setDate", primerDiaMes);
        $("#txtFechaFinalCycle").datepicker("setDate", FechaActual);

        $("#selectorTicketEvento").val('E').change();

        ComboOperacion(0, 0);
        ComboEncargado('0');
        ComboReason();
        ComboLocation();
        ComboComponentes();
        //ComboCriticality();
    }

    function AlertStatus() {

            $.ajax({
                type: "GET",
                url: tRutaServidor + "/Configuration/ListarConfigurationAlert",
                dataType: "json",
                //data: {
                //    IdMeetingRecord: hdnIdMeetingRecord,
                //},
                success: function (resultado) {

                    if (resultado.length > 0) {

                        if (resultado[0].AlertStatus == 'A') {

                            //console.log(usuarioRegistrador);
                            //if (EstadoAlertaInicio == 0) {

                            //let elementoModificado = document.querySelector("#TituloDeModulo");
                            //elementoModificado.innerHTML = "Bienvenido, " + usuarioRegistrador.split(',')[4];

                            var valor = usuarioRegistrador.split(',')[2];

                            if (valor == '2' || valor == '1') {

                                document.getElementById('BtnDashboardNewTicket').disabled = false;
                                document.getElementById('BtnDashboardListTicket').disabled = false;

                            } else {

                                //document.getElementById('BtnDashboardNewTicket').disabled = true;
                                document.getElementById('BtnDashboardListTicket').disabled = true;
                            }

                            Swal.fire({
                                title: '<span style="color:red">Bienvenido</span> - ' +  usuarioRegistrador.split(',')[4],
                                html:
                                    "<div>"+
                                    "<img width='150' src='../Content/img/profile2.gif'>" +
                                    "</div>" +
                                    "<br>" +
                                    "<p>Seleccione a que modulo desea ingresar:</p>" +
                                    //"<br>" +
                                    //"<br>" +
                                    "<button type='button' role='button' tabindex='0' class='btnNewTicket' style ='margin: 30px 5px 0px 5px;padding: 10px 32px;width:170px;background-color:#3085d6;color:white' >" + 'Nuevo Ticket' + "</button>" +
                                    "<button type='button' role='button' tabindex='0' class='btnTicket' style ='margin: 30px 5px 0px 5px;padding: 10px 32px;width:170px;background-color:#d33;color:white' >" + 'Ticket' + "</button>"
                                    //"<button type='button' role='button' tabindex='0' class='SwalBtn1 customSwalBtn' style ='margin: 30px 5px 0px 5px;padding: 10px 32px;'>" + 'Button1' + "</button>"
                                    //"<div>" +
                                    //"<section class='col-xs-12 col-md-3' style='margin-left:130px'>" +
                                    //   "<button type='button' role='button' tabindex='0' class='SwalBtn1 customSwalBtn'>" + 'Button1' + "</button>" +
                                    //"</section>" +
                                    //"<section class='col-xs-12 col-md-3' style='margin-left:130px'>" +
                                    //   "<button type='button' role='button' tabindex='0' class='SwalBtn1 customSwalBtn'>" + 'Button2' + "</button>" +
                                    //"</section>" +
                                    //"<section class='col-xs-12 col-md-3' style='margin-left:130px'>" +
                                    //   "<button type='button' role='button' tabindex='0' class='SwalBtn1 customSwalBtn'>" + 'Button3' + "</button>" +
                                    //"</section>" +
                                    //"</div>"
                                    ,
                                showCancelButton: false,
                                showConfirmButton: false
                            });

                             //<div>
                             //            <section class="col-xs-12 col-md-3" style="margin-left:130px">
                             //                <button style="margin:5px;height:40px;width:130px;background-color:#3085d6;font-size:15px" tabindex="8" class="btn btn-success" type="button" id="btnNewTicket">Nuevo Ticket</button>
                             //            </section>
                             //            <section class="col-xs-12 col-md-3">
                             //                <button style="margin:5px;height:40px;width:130px;background-color:#d33;font-size:15px" tabindex="8" class="btn btn-danger" type="button" id="btnTicket">Ticket</button>
                             //            </section>
                             //            <section class="col-xs-12 col-md-3 hidden">
                             //                <button style="margin:5px;height:40px;width:130px;font-size:15px" tabindex="8" class="btn btn-primary" type="button" id="btnDashboard">Dashboard</button>
                             //            </section>
                             //        </div>

                             //window.$("#ModalStatusAlert").modal('show');

                             //EstadoAlertaInicio = 1;
                         //}



                        } else {

                            $("#ModalStatusAlert").modal("hide");

                        }


                    } else if (resultado.split('|')[0] == "2") {
                        //$("#CargaTemporal").addClass("hidden");
                        //toastr.options.timeOut = nTiempoMedio;
                        //toastr.options.extendedTimeOut = nTiempoMedio;
                        ///*success - info - warning - error*/
                        //var $toast = toastr["error"](tMensajeErrorYaExiste, tTituloError); $toastlast = $toast;
                        //document.getElementById("btnGrabar").disabled = false;

                    } else if (resultado.split('|')[0] == "3") {
                        //$("#CargaTemporal").addClass("hidden");
                        //toastr.options.timeOut = nTiempoMedio;
                        //toastr.options.extendedTimeOut = nTiempoMedio;
                        ///*success - info - warning - error*/
                        //var $toast = toastr["error"]("No ha ingresado Puntos a Tratar", tTituloError); $toastlast = $toast;
                        //document.getElementById("btnGrabar").disabled = false;

                    } else if (resultado.split('|')[0] == "4") {
                        //$("#CargaTemporal").addClass("hidden");
                        //toastr.options.timeOut = nTiempoMedio;
                        //toastr.options.extendedTimeOut = nTiempoMedio;
                        ///*success - info - warning - error*/
                        //var $toast = toastr["error"]("No se encuentra registrado como trabajador. Comunicarse con el área de TI para la habilitación", tTituloError); $toastlast = $toast;
                        //document.getElementById("btnGrabar").disabled = false;

                    } else if (resultado.split('|')[0] == "0") {
                        //$("#CargaTemporal").addClass("hidden");
                        //toastr.options.timeOut = nTiempoMedio;
                        //toastr.options.extendedTimeOut = nTiempoMedio;
                        ///*success - info - warning - error*/
                        //var $toast = toastr["error"](tMensajeErrorDesconocido, tTituloError); $toastlast = $toast;
                        //console.log("Mensaje del error : " + resultado.split('|')[0]);

                    } else {
                        $("#CargaTemporal").addClass("hidden");
                        toastr.options.timeOut = nTiempoMedio;
                        toastr.options.extendedTimeOut = nTiempoMedio;
                        /*success - info - warning - error*/
                        var $toast = toastr["error"](tMensajeErrorDesconocido, tTituloError); $toastlast = $toast;
                        console.log("Mensaje del error : " + resultado.split('|')[0]);
                    }

                },
                error: function (xhr, ajaxOptions, thrownError) {
                    $("#CargaTemporal").addClass("hidden");
                    /*fallo al llamar a la funcion ajax*/
                    toastr.options.timeOut = nTiempoLargo;
                    toastr.options.extendedTimeOut = nTiempoLargo;
                    /*success - info - warning - error*/
                    var $toast = toastr["error"](tMensajeErrorConexion, tTituloErrorConexion); $toastlast = $toast;
                    console.log("ERROR AJAX : " + ajaxOptions);
                    console.log("ERROR AJAX : " + thrownError);
                    console.log(xhr.responseText);
                    console.log(xhr);
                }
            });
    }

    function EditAlertStatus() {

            $.ajax({
                type: "POST",
                url: tRutaServidor + "/Configuration/EditAlertStatus",
                dataType: "json",
                data: {
                    AlertStatusValue: 'E',
                },
                success: function (resultado) {

                    if (resultado == '1') {

                        //valueStatus = "E";
                        $("#ModalStatusAlert").modal("hide");
                        console.log('editado con exito');

                    }
                     else {
                        $("#CargaTemporal").addClass("hidden");
                        toastr.options.timeOut = nTiempoMedio;
                        toastr.options.extendedTimeOut = nTiempoMedio;
                        /*success - info - warning - error*/
                        var $toast = toastr["error"](tMensajeErrorDesconocido, tTituloError); $toastlast = $toast;
                        console.log("Mensaje del error : " + resultado.split('|')[0]);
                    }

                },
                error: function (xhr, ajaxOptions, thrownError) {
                    $("#CargaTemporal").addClass("hidden");
                    /*fallo al llamar a la funcion ajax*/
                    toastr.options.timeOut = nTiempoLargo;
                    toastr.options.extendedTimeOut = nTiempoLargo;
                    /*success - info - warning - error*/
                    var $toast = toastr["error"](tMensajeErrorConexion, tTituloErrorConexion); $toastlast = $toast;
                    console.log("ERROR AJAX : " + ajaxOptions);
                    console.log("ERROR AJAX : " + thrownError);
                    console.log(xhr.responseText);
                    console.log(xhr);
                }
            });
        }

    function ComboOperacion(tipoConsulta) {

            $.ajax({
                type: "GET", /*Puede ser post*/
                url: tRutaServidor + "/Operation/ListarOperaciones", /* es importante poner los .. delante*/
                contentType: "application/json; charset=utf-8",
                //data: "yearMonthNumber=" + yearMonthIds1,
                dataType: "json",
                success: function (resultado) {

                    var opcionesOperacion = "";

                    /*exitosamente*/
                    if (resultado.length > 0) {
                        /* proceso exitoso con datos*/

                        if (resultado[0].ValorConsulta == "1") {

                            /**Llenar el combo con todo las compañías**/
                            for (i = 0; i < resultado.length; i++) {

                                opcionesOperacion += "<option value='" + resultado[i].IdOperation + "'>" + resultado[i].OperationName + "</option>";
                            }

                            $("#selectorOperacion").empty();
                            $("#selectorTicketOperacion").empty();
                            $("#selectorTrabajadorOperacion").empty();
                            $("#selectorOperacionValidity").empty();

                            $("#selectorOperacion").append(opcionesOperacion);
                            $("#selectorOperacion").selectpicker('refresh');

                            $("#selectorTrabajadorOperacion").append(opcionesOperacion);
                            $("#selectorTrabajadorOperacion").selectpicker('refresh');

                            $("#selectorOperacionValidity").append(opcionesOperacion);
                            $("#selectorOperacionValidity").selectpicker('refresh');

                            if (tipoConsulta == "1") {
                                $("#selectorTicketOperacion").append(opcionesOperacion);
                                //if (resultado.filter((x) => x.OperationName == NombreOperacion.toUpperCase()).length > 0) {
                                //    $("#selectorCambioDeGuardiaOperacion").selectpicker('val', resultado.find((x) => x.OperationName == NombreOperacion.toUpperCase()).IdOperation);
                                //}
                                $("#selectorTicketOperacion").selectpicker('refresh');
                            }
                            else {
                                $("#selectorTicketOperacion").append(opcionesOperacion);
                                $("#selectorTicketOperacion").selectpicker('refresh');
                                //GrillaListado();
                            }


                        }
                        else {
                            /*Error al listar*/

                        }

                    } else {
                        /*Vacio*/
                        $("#selectorOperacion").empty();
                        $("#selectorTicketOperacion").empty();
                        $("#selectorTrabajadorOperacion").empty();
                        //GrillaListado();

                    }

                },
                error: function (xhr, ajaxOptions, thrownError) {
                    /*Fallo al llamar funcion ajax*/

                    console.log("ERROR AJAX : " + ajaxOptions);
                    console.log("ERROR AJAX : " + thrownError);
                    console.log(xhr.responseText);
                    console.log(xhr);

                }
            });
        }

    function ComboEncargado(tipoConsulta) {

            $.ajax({
                type: "GET", /*Puede ser post*/
                url: tRutaServidor + "/Person/ListarPersonaTicket", /* es importante poner los .. delante*/
                contentType: "application/json; charset=utf-8",
                data:
                     "IdOperation=" + 1,
                dataType: "json",
                success: function (resultado) {

                    var opcionesPersonTicket = "";

                    /*exitosamente*/
                    if (resultado.length > 0) {
                        /* proceso exitoso con datos*/

                        if (resultado[0].ValorConsulta == "1") {

                            /**Llenar el combo con todo las compañías**/
                            for (i = 0; i < resultado.length; i++) {

                                opcionesPersonTicket += "<option value='" + resultado[i].IdPerson + "'>" + resultado[i].FullNameOperation+ "</option>";
                            }

                            if (tipoConsulta == "0") {

                                $("#selectorWhoCall").empty();
                                $("#selectorWhoCall").append(opcionesPersonTicket);
                                $("#selectorWhoCall").selectpicker('refresh');

                                $("#selectorUsusarioBuscarPendiente").empty();
                                $("#selectorUsusarioBuscarPendiente").append(opcionesPersonTicket);
                                $("#selectorUsusarioBuscarPendiente").selectpicker('refresh');

                                //$("#selectorResponsibleStatusTicket").empty();
                                //$("#selectorResponsibleStatusTicket").append(opcionesPersonTicket);
                                //$("#selectorResponsibleStatusTicket").selectpicker('refresh');


                            }
                        }
                        else {
                            /*Error al listar*/

                        }

                    } else {

                    }

                },
                error: function (xhr, ajaxOptions, thrownError) {
                    /*Fallo al llamar funcion ajax*/

                    console.log("ERROR AJAX : " + ajaxOptions);
                    console.log("ERROR AJAX : " + thrownError);
                    console.log(xhr.responseText);
                    console.log(xhr);

                }
            });
        }

    function ComboEncargadoAll() {

            $.ajax({
                type: "GET", /*Puede ser post*/
                url: tRutaServidor + "/Person/ListarPersonaTicketTodos", /* es importante poner los .. delante*/
                contentType: "application/json; charset=utf-8",
                //data:
                //     "IdOperation=" + IdOperatorTicket,
                dataType: "json",
                success: function (resultado) {

                    var opcionesPersonTicket = "";

                    /*exitosamente*/
                    if (resultado.length > 0) {
                        /* proceso exitoso con datos*/

                        if (resultado[0].ValorConsulta == "1") {

                            /**Llenar el combo con todo las compañías**/
                            for (i = 0; i < resultado.length; i++) {

                                opcionesPersonTicket += "<option value='" + resultado[i].PersonMail + "'>" + resultado[i].FullNameOperation+ "</option>";
                            }

                            //$("#selectorResponsableActivity").empty();
                            //$("#selectorResponsableActivity").append(opcionesPersonTicket);
                            //$("#selectorResponsableActivity").selectpicker('refresh');

                            $("#selectorInvitados").empty();
                            $("#selectorInvitados").append(opcionesPersonTicket);
                            $("#selectorInvitados").selectpicker('refresh');

                        }
                        else {
                            /*Error al listar*/

                        }

                    } else {

                    }

                },
                error: function (xhr, ajaxOptions, thrownError) {
                    /*Fallo al llamar funcion ajax*/

                    console.log("ERROR AJAX : " + ajaxOptions);
                    console.log("ERROR AJAX : " + thrownError);
                    console.log(xhr.responseText);
                    console.log(xhr);

                }
            });
        }

    function ComboReason() {

            $.ajax({
                type: "GET", /*Puede ser post*/
                url: tRutaServidor + "/Reason/ListarReason", /* es importante poner los .. delante*/
                contentType: "application/json; charset=utf-8",
                //data:
                //     "IdOperation=" + IdOperatorTicket,
                dataType: "json",
                success: function (resultado) {

                    var opcionesReasonTicket = "";

                    /*exitosamente*/
                    if (resultado.length > 0) {
                        /* proceso exitoso con datos*/

                        if (resultado[0].ValorConsulta == "1") {

                            /**Llenar el combo con todo las compañías**/
                            for (i = 0; i < resultado.length; i++) {
                                //if(ValueFilterTicket == E)
                                opcionesReasonTicket += "<option value='" + resultado[i].IdReason + "'>" + resultado[i].ReasonName + "</option>";
                            }

                            $("#selectorTicketRazon").empty();
                            $("#selectorTicketRazon").append(opcionesReasonTicket);
                            $("#selectorTicketRazon").selectpicker('refresh');

                        }
                        else {
                            /*Error al listar*/

                        }

                    } else {

                    }

                },
                error: function (xhr, ajaxOptions, thrownError) {
                    /*Fallo al llamar funcion ajax*/

                    console.log("ERROR AJAX : " + ajaxOptions);
                    console.log("ERROR AJAX : " + thrownError);
                    console.log(xhr.responseText);
                    console.log(xhr);

                }
            });
        }

    function ComboLocation() {

            $.ajax({
                type: "GET", /*Puede ser post*/
                url: tRutaServidor + "/Reason/ListarLocation", /* es importante poner los .. delante*/
                contentType: "application/json; charset=utf-8",
                //data:
                //     "IdOperation=" + IdOperatorTicket,
                dataType: "json",
                success: function (resultado) {

                    var opcionesLocationTicket = "";

                    /*exitosamente*/
                    if (resultado.length > 0) {
                        /* proceso exitoso con datos*/

                        if (resultado[0].ValorConsulta == "1") {

                            /**Llenar el combo con todo las compañías**/
                            for (i = 0; i < resultado.length; i++) {

                                opcionesLocationTicket += "<option value='" + resultado[i].IdLocation + "'>" + resultado[i].LocationName + "</option>";
                            }

                            $("#selectorTicketLocation").empty();
                            $("#selectorTicketLocation").append(opcionesLocationTicket);
                            $("#selectorTicketLocation").selectpicker('refresh');

                            $("#selectorTicketLocationComplete").empty();
                            $("#selectorTicketLocationComplete").append(opcionesLocationTicket);
                            $("#selectorTicketLocationComplete").selectpicker('refresh');

                        }
                        else {
                            /*Error al listar*/

                        }

                    } else {

                    }

                },
                error: function (xhr, ajaxOptions, thrownError) {
                    /*Fallo al llamar funcion ajax*/

                    console.log("ERROR AJAX : " + ajaxOptions);
                    console.log("ERROR AJAX : " + thrownError);
                    console.log(xhr.responseText);
                    console.log(xhr);

                }
            });
        }

    function ComboCriticality() {

            $.ajax({
                type: "GET", /*Puede ser post*/
                url: tRutaServidor + "/Criticality/ListarCriticality", /* es importante poner los .. delante*/
                contentType: "application/json; charset=utf-8",
                //data:
                //     "IdOperation=" + IdOperatorTicket,
                dataType: "json",
                success: function (resultado) {

                    var opcionesCriticalityTicket = "";

                    /*exitosamente*/
                    if (resultado.length > 0) {
                        /* proceso exitoso con datos*/

                        if (resultado[0].ValorConsulta == "1") {

                            /**Llenar el combo con todo las compañías**/
                            for (i = 0; i < resultado.length; i++) {

                                opcionesCriticalityTicket += "<option value='" + resultado[i].IdCriticality + "'>" + resultado[i].CriticalityNameTime + "</option>";
                            }

                            $("#selectorTicketCriticidad").empty();
                            $("#selectorTicketCriticidad").append(opcionesCriticalityTicket);
                            $("#selectorTicketCriticidad").selectpicker('refresh');

                        }
                        else {
                            /*Error al listar*/

                        }

                    } else {

                    }

                },
                error: function (xhr, ajaxOptions, thrownError) {
                    /*Fallo al llamar funcion ajax*/

                    console.log("ERROR AJAX : " + ajaxOptions);
                    console.log("ERROR AJAX : " + thrownError);
                    console.log(xhr.responseText);
                    console.log(xhr);

                }
            });
        }

    function RegistrarTicket() {

            $("#CargaTemporal").removeClass("hidden");

            @*var usuarioRegistrador0 = "@User.Identity.Name.ToUpper().ToString()";

            usuarioRegistrador0 = usuarioRegistrador0.split(',')[0];

            usuarioRegistrador0 = parseInt(usuarioRegistrador0);*@

            if ($('#rdoAltaCriticidad').is(":checked") == true) {

                IdCriticidadTicket = 3;

            } else if ($('#rdoMedioCriticidad').is(":checked") == true) {

                IdCriticidadTicket = 2;

            } else if ($('#rdoBajaCriticidad').is(":checked") == true){

                IdCriticidadTicket = 1;

            }

            console.log("Se identifico la criticidad");

            $.ajax({
                type: "POST",
                url: tRutaServidor + "/Ticket/CrearTicket",
                dataType: "json",
                data: {
                    IdLocation : IdLocationTicket,
                    IdOperation: IdOperationTicket,
                    IdEncargado: IdEncargadoTicket,
                    FechaInicio: FechaInicioTicket,
                    IdRazon: IdRazonTicket,
                    IdCriticidad: IdCriticidadTicket,
                    TitleDetalle: TituloTicketDetalle,
                    DetalleText: DetalleTextTicket,
                    ResponsibleId: IdResponsibleTicket,
                    InvitadoTicket: SelectInvitados,
                    StatusFile: EstadoArchivo,
                    StatusCategory: ValueFilterTicket
                    //UserLoginId: usuarioRegistrador0
                },
                success: function (resultado) {

                    if (resultado != "") {
                        console.log(resultado);

                        console.log("El valor no es vacio");

                        if (resultado != 2) {

                            if (resultado != 4) {

                                if (resultado[0].ValorConsulta == '1') {

                                    console.log("El valor no es vacio y es valorconsulta 1");

                                    toastr.options.timeOut = nTiempoMedio;
                                    toastr.options.extendedTimeOut = nTiempoMedio;
                                    /*success - info - warning - error*/
                                    var $toast = toastr["success"](tMensajeCreadoExito, tTituloExito); $toastlast = $toast;

                                    //$("#CargaTemporal").addClass("hidden");
                                    //ComboEncargado('1');
                                    //$("#PanelActivityFather").removeClass("hidden");
                                    BuscadorPrincipal = "1";
                                    valorInputBusquedaInteligente = resultado[0].NroTicket;

                                    $('#ModalCrearTicket').modal('hide');

                                    console.log("Se genero el ticket y su description");

                                    if (resultado[0].CriticalityName == 'ALTA') {

                                        GrillaListadoAltaTicket();

                                    } else if (resultado[0].CriticalityName == 'MEDIA') {

                                        GrillaListadoMediaTicket();

                                    } else {

                                        GrillaListadoBajaTicket();
                                    }

                                    CantidadTicketByEvent();
                                    ComboTicket();
                                    GrillaListadoBusqueda();
                                    listadoTicketsXOperacion("1");
                                    listadoActividadesXUsuario("1");


                                    Swal.fire({
                                        title: '<strong>Nro Ticket:<span style="color:red"> ' + resultado[0].NroTicket + '</span></strong>',
                                        icon: 'info',
                                        html:
                                            '<div style="text-align:left;font-size:18px;margin-left:50px">' +
                                            '<b>Operacion :</b> ' + resultado[0].OperationName + '</br>' +
                                            '<b>Quien Llama :</b> ' + resultado[0].FullNameTicket + '</br>' +
                                            '<b>Quien Registra :</b> ' + usuarioRegistrador.split(',')[4] + '</br>' +
                                            '<b>Responsable :</b> ' + resultado[0].ResponsibleNameTicket + '</br>' +
                                            //'<b>Encargado :</b> ' + resultado[0].FullNameTicket + ' </br>' +
                                            '<b>Fecha Inicio :</b> ' + resultado[0].StartDate + ' </br>' +
                                            '<b>Razon : </b> ' + resultado[0].ReasonName + '  </br>' +
                                            '<b>Criticidad : </b> ' + resultado[0].CriticalityName + '  </br></br>' +
                                            'Se ha enviado un correo sobre los detalles del ticket, puedes visualizarlo ' +
                                            '<a href="http://webmail.assac.com.pe/" target="_blank">aquí</a>' +
                                            '</div>',
                                        showCloseButton: true,
                                        showCancelButton: false,
                                        focusConfirm: false,
                                        confirmButtonText:
                                            'OK <i class="fa-regular fa-circle-check"></i>',
                                        confirmButtonAriaLabel: 'great!',
                                    });


                                    console.log("Se corrio todos las funciones");


                                    $("#CargaTemporal").addClass("hidden");
                                }
                                else {

                                    toastr.options.timeOut = nTiempoMedio;
                                    toastr.options.extendedTimeOut = nTiempoMedio;
                                    /*success - info - warning - error*/
                                    var $toast = toastr["warning"](tMensajeErrorDesconocido, tTituloError); $toastlast = $toast;
                                    return;
                                }


                            } else {

                                toastr.options.timeOut = nTiempoMedio;
                                toastr.options.extendedTimeOut = nTiempoMedio;
                                /*success - info - warning - error*/
                                var $toast = toastr["error"]("No se pudo enviar correo del ticket", tTituloError); $toastlast = $toast;

                                console.log("Error al enviar correos ticket" + resultado);

                                $('#ModalCrearTicket').modal('hide');

                                GrillaListadoAltaTicket();
                                GrillaListadoMediaTicket();
                                GrillaListadoBajaTicket();
                                ComboTicket();
                                GrillaListadoBusqueda();
                                listadoTicketsXOperacion("1");
                                listadoActividadesXUsuario("1");

                                $("#CargaTemporal").addClass("hidden");
                            }

                        } else {

                             toastr.options.timeOut = nTiempoMedio;
                             toastr.options.extendedTimeOut = nTiempoMedio;
                             /*success - info - warning - error*/
                             var $toast = toastr["error"]("No se pudo registrar el ticket en la base de datos", tTituloError); $toastlast = $toast;

                             console.log("Error al registroar ticket" + resultado);

                             GrillaListadoAltaTicket();
                             GrillaListadoMediaTicket();
                             GrillaListadoBajaTicket();
                             ComboTicket();
                             GrillaListadoBusqueda();
                             listadoTicketsXOperacion("1");
                             listadoActividadesXUsuario("1");

                             $("#CargaTemporal").addClass("hidden");

                        }

                    } else {

                        toastr.options.timeOut = nTiempoMedio;
                        toastr.options.extendedTimeOut = nTiempoMedio;
                        /*success - info - warning - error*/
                        var $toast = toastr["error"]("No se a podido registrar el Ticket", tTituloError); $toastlast = $toast;
                        document.getElementById('btnGrabar').disabled = false;

                        console.log("El valor si es vacio" + resultado);
                    }
                    //} else if (resultado == 4) {

                    //    toastr.options.timeOut = nTiempoMedio;
                    //    toastr.options.extendedTimeOut = nTiempoMedio;
                    //    /*success - info - warning - error*/
                    //    var $toast = toastr["error"]("No se a podido enviar el correo al responsable", tTituloError); $toastlast = $toast;
                    //    document.getElementById('btnGrabar').disabled = false;



                    //} else {
                    //    toastr.options.timeOut = nTiempoMedio;
                    //    toastr.options.extendedTimeOut = nTiempoMedio;
                    //    /*success - info - warning - error*/
                    //    var $toast = toastr["error"](tMensajeErrorDesconocido, tTituloError); $toastlast = $toast;
                    //    console.log("Mensaje del error : " + resultado);
                    //}
                    //$("#CargaTemporal").addClass("hidden");

                },
                error: function (xhr, ajaxOptions, thrownError) {
                    /*fallo al llamar a la funcion ajax*/
                    toastr.options.timeOut = nTiempoLargo;
                    toastr.options.extendedTimeOut = nTiempoLargo;
                    /*success - info - warning - error*/
                    var $toast = toastr["error"](tMensajeErrorConexion, tTituloErrorConexion); $toastlast = $toast;
                    console.log("ERROR AJAX : " + ajaxOptions);
                    console.log("ERROR AJAX : " + thrownError);
                    console.log(xhr.responseText);
                    console.log(xhr);

                }
            });

        };

    function ComboEncargado2(tipoConsulta) {

        $.ajax({
            type: "GET", /*Puede ser post*/
            url: tRutaServidor + "/Person/ListarPersonaTicket", /* es importante poner los .. delante*/
            contentType: "application/json; charset=utf-8",
            data:
                 "IdOperation=" + 0,
            dataType: "json",
            success: function (resultado) {

                var opcionesPersonTicket = "";

                /*exitosamente*/
                if (resultado.length > 0) {
                    /* proceso exitoso con datos*/

                    if (resultado[0].ValorConsulta == "1") {

                        /**Llenar el combo con todo las compañías**/
                        for (i = 0; i < resultado.length; i++) {

                            opcionesPersonTicket += "<option value='" + resultado[i].IdPerson + "'>" + resultado[i].FullNameOperation+ "</option>";
                        }

                        if (tipoConsulta == "1") {

                            $("#selectorWhoResponsible").empty();
                            $("#selectorWhoResponsible").append(opcionesPersonTicket);
                            $("#selectorWhoResponsible").selectpicker('refresh');

                            $("#selectorResponsibleStatusTicket").empty();
                            $("#selectorResponsibleStatusTicket").append(opcionesPersonTicket);
                            $("#selectorResponsibleStatusTicket").selectpicker('refresh');

                        }

                    }
                    else {
                        /*Error al listar*/

                    }

                } else {

                }

            },
            error: function (xhr, ajaxOptions, thrownError) {
                /*Fallo al llamar funcion ajax*/

                console.log("ERROR AJAX : " + ajaxOptions);
                console.log("ERROR AJAX : " + thrownError);
                console.log(xhr.responseText);
                console.log(xhr);

            }
        });
    }

    function ComboArea(tipoConsulta, AreaNuevo) {
            $.ajax({
                type: "GET", /*Puede ser post*/
                url: tRutaServidor + "/Area/ListarAreas", /* es importante poner los .. delante*/
                contentType: "application/json; charset=utf-8",
                //data: "yearMonthNumber=" + yearMonthIds1,
                dataType: "json",
                success: function (resultado) {

                    var optionsAreas = "";

                    /*exitosamente*/
                    if (resultado.length > 0) {
                        /* proceso exitoso con datos*/

                        if (resultado[0].ValorConsulta == "1") {

                            /**Llenar el combo con todo las compañías**/
                            for (i = 0; i < resultado.length; i++) {

                                optionsAreas += "<option value='" + resultado[i].IdArea + "'>" + resultado[i].AreaName + "</option>";
                            }

                            $("#selectorTrabajadorArea").empty();

                            if (tipoConsulta == "1") {
                                $("#selectorTrabajadorArea").append(optionsAreas);
                                if (resultado.filter((x) => x.AreaName == AreaNuevo.toUpperCase()).length > 0) {
                                    $("#selectorTrabajadorArea").selectpicker('val', resultado.find((x) => x.AreaName == AreaNuevo.toUpperCase()).IdArea);
                                }
                                $("#selectorTrabajadorArea").selectpicker('refresh');
                            }
                            else {
                                $("#selectorTrabajadorArea").append(optionsAreas);
                                $("#selectorTrabajadorArea").selectpicker('refresh');
                            }

                        }
                        else {
                            /*Error al listar*/

                        }

                    } else {
                        /*Vacio*/
                    }

                },
                error: function (xhr, ajaxOptions, thrownError) {
                    /*Fallo al llamar funcion ajax*/

                    console.log("ERROR AJAX : " + ajaxOptions);
                    console.log("ERROR AJAX : " + thrownError);
                    console.log(xhr.responseText);
                    console.log(xhr);

                }
            });
    }

    function ComboCargo(tipoConsulta, CargoNuevo) {
            $.ajax({
                type: "GET", /*Puede ser post*/
                url: tRutaServidor + "/Position/ListarCargos", /* es importante poner los .. delante*/
                contentType: "application/json; charset=utf-8",
                //data: "yearMonthNumber=" + yearMonthIds1,
                dataType: "json",
                success: function (resultado) {

                    var optionsPositions = "";

                    /*exitosamente*/
                    if (resultado.length > 0) {
                        /* proceso exitoso con datos*/

                        if (resultado[0].ValorConsulta == "1") {

                            /**Llenar el combo con todo las compañías**/
                            for (i = 0; i < resultado.length; i++) {

                                optionsPositions += "<option value='" + resultado[i].IdPosition + "'>" + resultado[i].PositionName + "</option>";
                            }

                            $("#selectorTrabajadorCargo").empty();

                            if (tipoConsulta == "1") {
                                $("#selectorTrabajadorCargo").append(optionsPositions);
                                if (resultado.filter((x) => x.PositionName == CargoNuevo.toUpperCase()).length > 0) {
                                    $("#selectorTrabajadorCargo").selectpicker('val', resultado.find((x) => x.PositionName == CargoNuevo.toUpperCase()).IdPosition);
                                }
                                $("#selectorTrabajadorCargo").selectpicker('refresh');
                            }
                            else {
                                $("#selectorTrabajadorCargo").append(optionsPositions);
                                $("#selectorTrabajadorCargo").selectpicker('refresh');
                            }

                        }
                        else {
                            /*Error al listar*/

                        }

                    } else {
                        /*Vacio*/
                    }

                },
                error: function (xhr, ajaxOptions, thrownError) {
                    /*Fallo al llamar funcion ajax*/

                    console.log("ERROR AJAX : " + ajaxOptions);
                    console.log("ERROR AJAX : " + thrownError);
                    console.log(xhr.responseText);
                    console.log(xhr);

                }
            });
        }

    function CrearTrabajador() {

            $.ajax({
                type: "POST",
                url: tRutaServidor + "/Employee/CrearTrabajador",
                dataType: "json",
                data: {
                    TipoDocumento: document.getElementById('selectorTrabajadorTipoDoc').value == "" ? 0 : parseInt(document.getElementById('selectorTrabajadorTipoDoc').value),
                    NroDocumento: $("#txtTrabajadorNroDoc").val().trim(),
                    Nombres: $("#txtTrabajadorNombres").val().trim(),
                    ApellidoPat: $("#txtTrabajadorApellidoPat").val().trim(),
                    ApellidoMat: $("#txtTrabajadorApellidoMat").val().trim(),
                    Direccion: $("#txtTrabajadorDireccion").val().trim(),
                    Email: $("#txtTrabajadorEmail").val().trim(),
                    Telefono: $("#txtTrabajadorTelefono").val().trim(),
                    FechaNacimiento: $("#txtTrabajadorFechaNac").val().trim(),
                    IdArea: $("#selectorTrabajadorArea").val(),
                    IdCargo: $("#selectorTrabajadorCargo").val(),
                    IdOperacion: document.getElementById('selectorTrabajadorOperacion').value == "" ? 0 : parseInt(document.getElementById('selectorTrabajadorOperacion').value)
                },
                success: function (resultado) {

                    if (resultado == "1") {
                        $("#CargaTemporal").addClass("hidden");
                        toastr.options.timeOut = nTiempoCorto;
                        toastr.options.extendedTimeOut = nTiempoCorto;
                        /*success - info - warning - error*/
                        var $toast = toastr["success"](tMensajeCreadoExito, tTituloExito); $toastlast = $toast;

                        //ComboTrabajador("", "");
                        //document.getElementById('btnGrabarNuevoTrabajador').disabled = false;
                        ComboEncargado("0");
                        ComboEncargado2("1");

                        $('#ModalTrabajador').modal('hide');

                    } else if (resultado == "2") {
                        $("#CargaTemporal").addClass("hidden");
                        toastr.options.timeOut = nTiempoMedio;
                        toastr.options.extendedTimeOut = nTiempoMedio;
                        /*success - info - warning - error*/
                        var $toast = toastr["error"](tMensajeErrorYaExiste, tTituloError); $toastlast = $toast;
                        document.getElementById('btnGrabarNuevoTrabajador').disabled = false;

                    } else if (resultado == "0") {
                        $("#CargaTemporal").addClass("hidden");
                        toastr.options.timeOut = nTiempoMedio;
                        toastr.options.extendedTimeOut = nTiempoMedio;
                        /*success - info - warning - error*/
                        var $toast = toastr["error"](tMensajeErrorDesconocido, tTituloError); $toastlast = $toast;
                        console.log("Mensaje del error : " + resultado);

                    } else {
                        $("#CargaTemporal").addClass("hidden");
                        toastr.options.timeOut = nTiempoMedio;
                        toastr.options.extendedTimeOut = nTiempoMedio;
                        /*success - info - warning - error*/
                        var $toast = toastr["error"](tMensajeErrorDesconocido, tTituloError); $toastlast = $toast;
                        console.log("Mensaje del error : " + resultado);
                    }

                },
                error: function (xhr, ajaxOptions, thrownError) {
                    $("#CargaTemporal").addClass("hidden");
                    /*fallo al llamar a la funcion ajax*/
                    toastr.options.timeOut = nTiempoLargo;
                    toastr.options.extendedTimeOut = nTiempoLargo;
                    /*success - info - warning - error*/
                    var $toast = toastr["error"](tMensajeErrorConexion, tTituloErrorConexion); $toastlast = $toast;
                    console.log("ERROR AJAX : " + ajaxOptions);
                    console.log("ERROR AJAX : " + thrownError);
                    console.log(xhr.responseText);
                    console.log(xhr);
                }
            });
        }

    function ComboComponentes() {

        $.ajax({
            type: "GET", /*Puede ser post*/
            url: tRutaServidor + "/Components/ListarComponentes", /* es importante poner los .. delante*/
            contentType: "application/json; charset=utf-8",
            data: "valorBusqueda=" + '',
            dataType: "json",
            success: function (resultado) {

                var opcionesComponentes= "";

                /*exitosamente*/
                if (resultado.length > 0) {
                    /* proceso exitoso con datos*/

                    if (resultado[0].ValorConsulta == "1") {

                        /**Llenar el combo con todo las compañías**/
                        for (i = 0; i < resultado.length; i++) {

                            opcionesComponentes += "<option value='" + resultado[i].IdComponent + "'>" + resultado[i].ComponentName + "</option>";
                        }

                        $("#selectorComponente").empty();
                        $("#selectorComponente").append(opcionesComponentes);
                        $("#selectorComponente").selectpicker('refresh');

                    }
                    else {
                        console.log("Error al listar");
                    }

                } else {
                    /*Vacio*/
                    $("#selectorComponente").empty();

                }

            },
            error: function (xhr, ajaxOptions, thrownError) {
                /*Fallo al llamar funcion ajax*/

                console.log("ERROR AJAX : " + ajaxOptions);
                console.log("ERROR AJAX : " + thrownError);
                console.log(xhr.responseText);
                console.log(xhr);

            }
        });
    }

    /* -------------------- LISTADO DE TICKET EN CRITICIDAD CON CADUCIDAD --------------------- */

    function GrillaListadoAltaCACriticidadTicket() {

        var dataSource = new kendo.data.DataSource({
            transport: {
                read: function (options) {
                    $.ajax({
                        type: "GET",
                        url: tRutaServidor + "/Ticket/ListarTicketCriticidad", /* es importante poner los .. delante */
                        dataType: "json",
                        /*async: false,*/
                        data: {
                            StatusCategory : ValueFilterTicket
                        },
                        success: function (resultado) {
                           /*exitosamente*/
                            let html;

                            if (resultado.length > 0) {
                                /* proceso exitoso con datos*/
                                if (resultado[0].ValorConsulta == "1") {

                                    html = resultado.length;

                                    document.getElementById("txtCantidadTicketAltaCaducidad").innerHTML = html;

                                    $("#LstTicketsCriticidadCaducada").removeClass("hidden");
                                    $("#imgCargaLstTicketsCriticidadCaducada").addClass("hidden");
                                    $("#msjErrorLstTicketsCriticidadCaducada").addClass("hidden");
                                    $("#msjVacioLstTicketsCriticidadCaducada").addClass("hidden");
                                    $("#msjErrorListarLstTicketsCriticidadCaducada").addClass("hidden");
                                    $("#msjSuperaLimiteLstTicketsCriticidadCaducada").addClass("hidden");

                                    //$("#btnBuscar").prop('disabled', false);
                                    //$("#BtnExportarExcel").prop('disabled', false);

                                } else if (resultado[0].ValorConsulta == "-1") {

                                    $("#LstTicketsCriticidadCaducada").addClass("hidden");
                                    $("#imgCargaLstTicketsCriticidadCaducada").addClass("hidden");
                                    $("#msjErrorLstTicketsCriticidadCaducada").addClass("hidden");
                                    $("#msjVacioLstTicketsCriticidadCaducada").addClass("hidden");
                                    $("#msjErrorListarLstTicketsCriticidadCaducada").addClass("hidden");
                                    $("#msjSuperaLimiteLstTicketsCriticidadCaducada").removeClass("hidden");

                                    //$("#btnBuscar").prop('disabled', false);
                                    //$("#BtnExportarExcel").prop('disabled', true);
                                }
                                else {
                                    /* proceso fallido catch listado datos*/
                                    $("#LstTicketsCriticidadCaducada").addClass("hidden");
                                    $("#imgCargaLstTicketsCriticidadCaducada").addClass("hidden");
                                    $("#msjErrorLstTicketsCriticidadCaducada").addClass("hidden");
                                    $("#msjVacioLstTicketsCriticidadCaducada").addClass("hidden");
                                    $("#msjErrorListarLstTicketsCriticidadCaducada").removeClass("hidden");
                                    $("#msjSuperaLimiteLstTicketsCriticidadCaducada").addClass("hidden");

                                    //$("#btnBuscar").prop('disabled', true);
                                    //$("#BtnExportarExcel").prop('disabled', true);
                                    console.log(resultado);
                                }

                            } else {

                                html = 0;

                                document.getElementById("txtCantidadTicketAltaCaducidad").innerHTML = html;

                                $("#LstTicketsCriticidadCaducada").addClass("hidden");
                                $("#imgCargaLstTicketsCriticidadCaducada").addClass("hidden");
                                $("#msjErrorLstTicketsCriticidadCaducada").addClass("hidden");
                                $("#msjVacioLstTicketsCriticidadCaducada").removeClass("hidden");
                                $("#msjSuperaLimiteLstTicketsCriticidadCaducada").addClass("hidden");
                                $("#msjSuperaLimiteLstTicketsCriticidadCaducada").addClass("hidden");

                                //$("#btnBuscar").prop('disabled', false);
                                //$("#BtnExportarExcel").prop('disabled', true);
                            }

                            options.success(resultado);
                            var grid = $("#LstTicketsCriticidadCaducada").data("kendoGrid");
                            if (grid.dataSource.total() > 0) {
                                grid.setDataSource(dataSource);
                            }

                        },
                        error: function (xhr, ajaxOptions, thrownError) {
                            /*fallo al llamar a la funcion ajax*/
                            $("#LstTicketsCriticidadCaducada").addClass("hidden");
                            $("#imgCargaLstTicketsCriticidadCaducada").addClass("hidden");
                            $("#msjErrorLstTicketsCriticidadCaducada").removeClass("hidden");
                            $("#msjVacioLstTicketsCriticidadCaducada").addClass("hidden");
                            $("#msjSuperaLimiteLstTicketsCriticidadCaducada").addClass("hidden");
                            $("#msjSuperaLimiteLstTicketsCriticidadCaducada").addClass("hidden");

                            //$("#btnBuscar").prop('disabled', true);
                            //$("#BtnExportarExcel").prop('disabled', true);
                            console.log("ERROR AJAX : " + ajaxOptions);
                            console.log("ERROR AJAX : " + thrownError);
                            console.log(xhr.responseText);
                            console.log(xhr);

                        }
                    });
                },
                parameterMap: function (data, operation) {
                    if (operation !== "read" && data.models) {
                        return JSON.stringify({ JSONparam: data.models });
                    }
                }
            },
            error: function (e) {
                alert("Status: " + e.status + "; Error message: " + e.errorThrown);
            },
            batch: false,
            pageSize: PaginationKendoGrid,
            schema: {
                model: {
                    fields: {
                        IdTicket: { type: "number" },
                        CantidadActividades: { type: "string" },
                        NroTicket: { type: "string" },
                        StartDate: { type: "string" },
                        FullNameTicket: { type: "string" },
                        ResponsibleNameTicket: { type: "string" },
                        LocationNameTicket: { type: "string" },
                        OperationName: { type: "string" },
                        ReasonName: { type: "string" },
                        CriticalityName: { type: "string" },
                        TitleDetalle: { type: "string" },
                        DetalleText: { type: "string" },
                        ResponsibleId: {type: "number"}
                    }
                }
            },
            //aggregate: [
            //    {
            //        field: "TicketNumber",
            //        aggregate: "count"
            //    },
            //    {
            //        field: "FuelQuantity",
            //        aggregate: "sum"
            //    }
            //]
        });

        $("#LstTicketsCriticidadCaducada").kendoGrid({
            dataSource: dataSource,
            sortable: true,
            pageable: true,
            columnMenu: true,
            columnMenu: {
                sortable: true,
                filterable: true,
                columns: true,
                messages: {
                    columns: KendoMsjColumnMenuColumns,
                    filter: KendoMsjColumnMenuFilter,
                    sortAscending: KendoMsjColumnMenuSortAscending,
                    sortDescending: KendoMsjColumnMenuSortDescending,
                    settings: KendoMsjSettings
                }
            },
            columnMenuInit: function (e) {
                var menu = e.container.find(".k-menu").data("kendoMenu");
                menu.bind("select", function (e) {
                    var EtiquetaInput = $(".k-animation-container > .k-menu-group > .k-item > .k-content > .k-filter-menu > .k-textbox :input");
                    EtiquetaInput.focus();
                });
            },
            groupable: false,
            reorderable: true,
            selectable: "row",
            scrollable: true,
            resizable: true,
            filterable: {
                multi: true,
                checkAll: true,
                search: true,
                messages: {
                    clear: KendoMsjClear,
                    filter: KendoMsjFilter,
                    selectedItemsFormat: KendoMsjSelectedItemsFormat,
                    checkAll: KendoMsjCheckAll,
                    search: KendoMsjSearch
                }
            },
            //groupable: {
            //    info: true,
            //    messages: {
            //        empty: "<b style='font-style:italic';>Arrastre una cabecera aquí para agrupar su información por esa columna</b>"
            //    }
            //},
            pageable: {
                messages: {
                    empty: KendoMsjEmpty,
                    page: kendoMsjPage,
                    of: KendoMsjOf,
                    itemsPerPage: KendoMsjItemsPerPage,
                    first: KendoMsjFirst,
                    last: KendoMsjLast,
                    next: KendoMsjNext,
                    previous: KendoMsjPrevious,
                    refresh: KendoMsjRefresh,
                    morePages: KendoMsjMorePages,
                    display: KendoMsjDisplay
                },
                refresh: false,
                pageSizes: true,
                pageSizes: [5, 10, 15],
                /*para la cantidad de paginas se sugieren 5*/
                buttonCount: 5,
                /*Posicion de la pagina*/
                pageSize: 5
            },
            //excel: { fileName: "Listado de Acta de Reunión.xlsx", filterable: true, allPages: true },
            columns: [
                {
                    width: 60,
                    command: {
                        template:
                            "<button class='btn-grid btn-xs BtnVerInfo' type='button' title='Ver datos'><i class='fa fa-lg fa-fw fas fa-eye'></i></button>"
                            //+ " " +"<button class='btn-grid btn-xs BtnAnular' type='button' title='Ver datos'><i class='fa fa-lg fa-fw fas fa-ban'></i></button>"
                    },
                    attributes: { "class": "text-center" },
                    title: ""
                },
                { field: "NroTicket", title: "Nro. Ticket", width: 100, attributes: { "class": "text-center" } },
                { field: "CantidadActividades", title: "Cant. Actividades", width: 100, attributes: { "class": "text-center" } },
                { field: "StartDate", title: "Fecha Registro", width: 120, attributes: { "class": "text-center" } },
                { field: "TitleDetalle", title: "Titulo Ticket", width: 150, attributes: { "class": "text-center" } },
                { field: "OperationName", title: "Operacion", width: 120, attributes: { "class": "text-center" } },
                { field: "FullNameTicket", title: "Quien Llama", width: 170, attributes: { "class": "text-center" } },
                { field: "ResponsibleNameTicket", title: "Responsable", width: 170, attributes: { "class": "text-center" } },
                { field: "ReasonName", title: "Razón", width: 120, attributes: { "class": "text-center" } },
                { field: "CriticalityName", title: "Criticidad", hidden: true, width: 120, attributes: { "class": "text-center" } },
                { field: "LocationNameTicket", title: "Locación", hidden: true, width: 120, attributes: { "class": "text-center" } },
                { field: "DetalleText", title: "Detalle Ticket",hidden: true, width: 150, attributes: { "class": "text-center" } }
            ]

            //dataBound: function () {

            //    for (i = 0; i < $("#LstCotizacion").data("kendoGrid").dataSource._view.length; i++) {
            //        var diasRestantes = $("#LstCotizacion").data("kendoGrid").tbody.children()[i].children[2].textContent;

            //        if (diasRestantes < 11) {
            //            $($("#LstCotizacion").data("kendoGrid").tbody.children()[i]).addClass('colorRojo');
            //        }
            //        else if (diasRestantes > 10 && diasRestantes < 21) {
            //            $($("#LstCotizacion").data("kendoGrid").tbody.children()[i]).addClass('colorAmarillo');
            //        }
            //        else if (diasRestantes > 20) {
            //            $($("#LstCotizacion").data("kendoGrid").tbody.children()[i]).addClass('colorVerde');
            //        }
            //        else {
            //            $($("#LstCotizacion").data("kendoGrid").tbody.children()[i]).addClass('colorRojo');
            //        }
            //    }

            //    var Grilla = this;
            //    Grilla.tbody.find("tr[role='row']").each(function () {
            //        var model = Grilla.dataItem(this);
            //        if (model.QuotationStatus != "C") {
            //            $(this).find("td > button.BtnVerInfo").remove();
            //        }

            //    });

            //}
        });


    }

    function GrillaListadoMediaCACriticidadTicket() {

        var dataSource = new kendo.data.DataSource({
            transport: {
                read: function (options) {
                    $.ajax({
                        type: "GET",
                        url: tRutaServidor + "/Ticket/ListarTicketCriticidadMediaCA", /* es importante poner los .. delante */
                        dataType: "json",
                        data: {
                            StatusCategory: ValueFilterTicket
                        },
                        /*async: false,*/
                        success: function (resultado) {
                           /*exitosamente*/
                            let html;

                            if (resultado.length > 0) {
                                /* proceso exitoso con datos*/
                                if (resultado[0].ValorConsulta == "1") {

                                    html = resultado.length;

                                    document.getElementById("txtCantidadTicketMediaCaducidad").innerHTML = html;

                                    $("#LstTicketsCriticidadMediaCaducada").removeClass("hidden");
                                    $("#imgCargaLstTicketsCriticidadMediaCaducada").addClass("hidden");
                                    $("#msjErrorLstTicketsCriticidadMediaCaducada").addClass("hidden");
                                    $("#msjVacioLstTicketsCriticidadMediaCaducada").addClass("hidden");
                                    $("#msjErrorListarLstTicketsCriticidadMediaCaducada").addClass("hidden");
                                    $("#msjSuperaLimiteLstTicketsCriticidadMediaCaducada").addClass("hidden");

                                    //$("#btnBuscar").prop('disabled', false);
                                    //$("#BtnExportarExcel").prop('disabled', false);

                                } else if (resultado[0].ValorConsulta == "-1") {

                                    $("#LstTicketsCriticidadMediaCaducada").addClass("hidden");
                                    $("#imgCargaLstTicketsCriticidadMediaCaducada").addClass("hidden");
                                    $("#msjErrorLstTicketsCriticidadMediaCaducada").addClass("hidden");
                                    $("#msjVacioLstTicketsCriticidadMediaCaducada").addClass("hidden");
                                    $("#msjErrorListarLstTicketsCriticidadMediaCaducada").addClass("hidden");
                                    $("#msjSuperaLimiteLstTicketsCriticidadMediaCaducada").removeClass("hidden");

                                    //$("#btnBuscar").prop('disabled', false);
                                    //$("#BtnExportarExcel").prop('disabled', true);
                                }
                                else {
                                    /* proceso fallido catch listado datos*/
                                    $("#LstTicketsCriticidadMediaCaducada").addClass("hidden");
                                    $("#imgCargaLstTicketsCriticidadMediaCaducada").addClass("hidden");
                                    $("#msjErrorLstTicketsCriticidadMediaCaducada").addClass("hidden");
                                    $("#msjVacioLstTicketsCriticidadMediaCaducada").addClass("hidden");
                                    $("#msjErrorListarLstTicketsCriticidadMediaCaducada").removeClass("hidden");
                                    $("#msjSuperaLimiteLstTicketsCriticidadMediaCaducada").addClass("hidden");

                                    //$("#btnBuscar").prop('disabled', true);
                                    //$("#BtnExportarExcel").prop('disabled', true);
                                    console.log(resultado);
                                }

                            } else {

                                html = 0;

                                document.getElementById("txtCantidadTicketMediaCaducidad").innerHTML = html;

                                $("#LstTicketsCriticidadMediaCaducada").addClass("hidden");
                                $("#imgCargaLstTicketsCriticidadMediaCaducada").addClass("hidden");
                                $("#msjErrorLstTicketsCriticidadMediaCaducada").addClass("hidden");
                                $("#msjVacioLstTicketsCriticidadMediaCaducada").removeClass("hidden");
                                $("#msjErrorListarLstTicketsCriticidadMediaCaducada").addClass("hidden");
                                $("#msjSuperaLimiteLstTicketsCriticidadMediaCaducada").addClass("hidden");

                                //$("#btnBuscar").prop('disabled', false);
                                //$("#BtnExportarExcel").prop('disabled', true);
                            }

                            options.success(resultado);
                            var grid = $("#LstTicketsCriticidadMediaCaducada").data("kendoGrid");
                            if (grid.dataSource.total() > 0) {
                                grid.setDataSource(dataSource);
                            }

                        },
                        error: function (xhr, ajaxOptions, thrownError) {
                            /*fallo al llamar a la funcion ajax*/
                            $("#LstTicketsCriticidadMediaCaducada").addClass("hidden");
                            $("#imgCargaLstTicketsCriticidadMediaCaducada").addClass("hidden");
                            $("#msjErrorLstTicketsCriticidadMediaCaducada").removeClass("hidden");
                            $("#msjVacioLstTicketsCriticidadMediaCaducada").addClass("hidden");
                            $("#msjErrorListarLstTicketsCriticidadMediaCaducada").addClass("hidden");
                            $("#msjSuperaLimiteLstTicketsCriticidadMediaCaducada").addClass("hidden");

                            //$("#btnBuscar").prop('disabled', true);
                            //$("#BtnExportarExcel").prop('disabled', true);
                            console.log("ERROR AJAX : " + ajaxOptions);
                            console.log("ERROR AJAX : " + thrownError);
                            console.log(xhr.responseText);
                            console.log(xhr);

                        }
                    });
                },
                parameterMap: function (data, operation) {
                    if (operation !== "read" && data.models) {
                        return JSON.stringify({ JSONparam: data.models });
                    }
                }
            },
            error: function (e) {
                alert("Status: " + e.status + "; Error message: " + e.errorThrown);
            },
            batch: false,
            pageSize: PaginationKendoGrid,
            schema: {
                model: {
                    fields: {
                        IdTicket: { type: "number" },
                        CantidadActividades: { type: "string" },
                        NroTicket: { type: "string" },
                        StartDate: { type: "string" },
                        FullNameTicket: { type: "string" },
                        ResponsibleNameTicket: { type: "string" },
                        LocationNameTicket: { type: "string" },
                        OperationName: { type: "string" },
                        ReasonName: { type: "string" },
                        CriticalityName: { type: "string" },
                        TitleDetalle: { type: "string" },
                        DetalleText: { type: "string" },
                        ResponsibleId: {type: "number"}
                    }
                }
            },
            //aggregate: [
            //    {
            //        field: "TicketNumber",
            //        aggregate: "count"
            //    },
            //    {
            //        field: "FuelQuantity",
            //        aggregate: "sum"
            //    }
            //]
        });

        $("#LstTicketsCriticidadMediaCaducada").kendoGrid({
            dataSource: dataSource,
            sortable: true,
            pageable: true,
            columnMenu: true,
            columnMenu: {
                sortable: true,
                filterable: true,
                columns: true,
                messages: {
                    columns: KendoMsjColumnMenuColumns,
                    filter: KendoMsjColumnMenuFilter,
                    sortAscending: KendoMsjColumnMenuSortAscending,
                    sortDescending: KendoMsjColumnMenuSortDescending,
                    settings: KendoMsjSettings
                }
            },
            columnMenuInit: function (e) {
                var menu = e.container.find(".k-menu").data("kendoMenu");
                menu.bind("select", function (e) {
                    var EtiquetaInput = $(".k-animation-container > .k-menu-group > .k-item > .k-content > .k-filter-menu > .k-textbox :input");
                    EtiquetaInput.focus();
                });
            },
            groupable: false,
            reorderable: true,
            selectable: "row",
            scrollable: true,
            resizable: true,
            filterable: {
                multi: true,
                checkAll: true,
                search: true,
                messages: {
                    clear: KendoMsjClear,
                    filter: KendoMsjFilter,
                    selectedItemsFormat: KendoMsjSelectedItemsFormat,
                    checkAll: KendoMsjCheckAll,
                    search: KendoMsjSearch
                }
            },
            //groupable: {
            //    info: true,
            //    messages: {
            //        empty: "<b style='font-style:italic';>Arrastre una cabecera aquí para agrupar su información por esa columna</b>"
            //    }
            //},
            pageable: {
                messages: {
                    empty: KendoMsjEmpty,
                    page: kendoMsjPage,
                    of: KendoMsjOf,
                    itemsPerPage: KendoMsjItemsPerPage,
                    first: KendoMsjFirst,
                    last: KendoMsjLast,
                    next: KendoMsjNext,
                    previous: KendoMsjPrevious,
                    refresh: KendoMsjRefresh,
                    morePages: KendoMsjMorePages,
                    display: KendoMsjDisplay
                },
                refresh: false,
                pageSizes: true,
                pageSizes: [5, 10, 15],
                /*para la cantidad de paginas se sugieren 5*/
                buttonCount: 5,
                /*Posicion de la pagina*/
                pageSize: 5
            },
            //excel: { fileName: "Listado de Acta de Reunión.xlsx", filterable: true, allPages: true },
            columns: [
                {
                    width: 60,
                    command: {
                        template:
                            "<button class='btn-grid btn-xs BtnVerInfo' type='button' title='Ver datos'><i class='fa fa-lg fa-fw fas fa-eye'></i></button>"
                            //+ " " +"<button class='btn-grid btn-xs BtnAnular' type='button' title='Ver datos'><i class='fa fa-lg fa-fw fas fa-ban'></i></button>"
                    },
                    attributes: { "class": "text-center" },
                    title: ""
                },
                { field: "NroTicket", title: "Nro. Ticket", width: 100, attributes: { "class": "text-center" } },
                { field: "CantidadActividades", title: "Cant. Actividades", width: 100, attributes: { "class": "text-center" } },
                { field: "StartDate", title: "Fecha Registro", width: 120, attributes: { "class": "text-center" } },
                { field: "TitleDetalle", title: "Titulo Ticket", width: 150, attributes: { "class": "text-center" } },
                { field: "OperationName", title: "Operacion", width: 120, attributes: { "class": "text-center" } },
                { field: "FullNameTicket", title: "Quien Llama", width: 170, attributes: { "class": "text-center" } },
                { field: "ResponsibleNameTicket", title: "Responsable", width: 170, attributes: { "class": "text-center" } },
                { field: "ReasonName", title: "Razón", width: 120, attributes: { "class": "text-center" } },
                { field: "CriticalityName", title: "Criticidad", hidden: true, width: 120, attributes: { "class": "text-center" } },
                { field: "LocationNameTicket", title: "Locación", hidden: true, width: 120, attributes: { "class": "text-center" } },
                { field: "DetalleText", title: "Detalle Ticket", hidden: true,width: 150, attributes: { "class": "text-center" } }
            ]

            //dataBound: function () {

            //    for (i = 0; i < $("#LstCotizacion").data("kendoGrid").dataSource._view.length; i++) {
            //        var diasRestantes = $("#LstCotizacion").data("kendoGrid").tbody.children()[i].children[2].textContent;

            //        if (diasRestantes < 11) {
            //            $($("#LstCotizacion").data("kendoGrid").tbody.children()[i]).addClass('colorRojo');
            //        }
            //        else if (diasRestantes > 10 && diasRestantes < 21) {
            //            $($("#LstCotizacion").data("kendoGrid").tbody.children()[i]).addClass('colorAmarillo');
            //        }
            //        else if (diasRestantes > 20) {
            //            $($("#LstCotizacion").data("kendoGrid").tbody.children()[i]).addClass('colorVerde');
            //        }
            //        else {
            //            $($("#LstCotizacion").data("kendoGrid").tbody.children()[i]).addClass('colorRojo');
            //        }
            //    }

            //    var Grilla = this;
            //    Grilla.tbody.find("tr[role='row']").each(function () {
            //        var model = Grilla.dataItem(this);
            //        if (model.QuotationStatus != "C") {
            //            $(this).find("td > button.BtnVerInfo").remove();
            //        }

            //    });

            //}
        });


    }

    function GrillaListadoBajaCACriticidadTicket() {

        var dataSource = new kendo.data.DataSource({
            transport: {
                read: function (options) {
                    $.ajax({
                        type: "GET",
                        url: tRutaServidor + "/Ticket/ListarTicketCriticidadBajaCA", /* es importante poner los .. delante */
                        dataType: "json",
                        data: {
                            StatusCategory : ValueFilterTicket
                        },
                        /*async: false,*/
                        success: function (resultado) {
                           /*exitosamente*/
                            let html;

                            if (resultado.length > 0) {
                                /* proceso exitoso con datos*/
                                if (resultado[0].ValorConsulta == "1") {

                                    html = resultado.length;

                                    document.getElementById("txtCantidadTicketBajaCaducidad").innerHTML = html;

                                    $("#LstTicketsCriticidadBajaCaducada").removeClass("hidden");
                                    $("#imgCargaLstTicketsCriticidadBajaCaducada").addClass("hidden");
                                    $("#msjErrorLstTicketsCriticidadBajaCaducada").addClass("hidden");
                                    $("#msjVacioLstTicketsCriticidadBajaCaducada").addClass("hidden");
                                    $("#msjErrorListarLstTicketsCriticidadBajaCaducada").addClass("hidden");
                                    $("#msjSuperaLimiteLstTicketsCriticidadBajaCaducada").addClass("hidden");

                                    //$("#btnBuscar").prop('disabled', false);
                                    //$("#BtnExportarExcel").prop('disabled', false);

                                } else if (resultado[0].ValorConsulta == "-1") {

                                    $("#LstTicketsCriticidadBajaCaducada").addClass("hidden");
                                    $("#imgCargaLstTicketsCriticidadBajaCaducada").addClass("hidden");
                                    $("#msjErrorLstTicketsCriticidadBajaCaducada").addClass("hidden");
                                    $("#msjVacioLstTicketsCriticidadBajaCaducada").addClass("hidden");
                                    $("#msjErrorListarLstTicketsCriticidadBajaCaducada").addClass("hidden");
                                    $("#msjSuperaLimiteLstTicketsCriticidadBajaCaducada").removeClass("hidden");

                                    //$("#btnBuscar").prop('disabled', false);
                                    //$("#BtnExportarExcel").prop('disabled', true);
                                }
                                else {
                                    /* proceso fallido catch listado datos*/
                                    $("#LstTicketsCriticidadBajaCaducada").addClass("hidden");
                                    $("#imgCargaLstTicketsCriticidadBajaCaducada").addClass("hidden");
                                    $("#msjErrorLstTicketsCriticidadBajaCaducada").addClass("hidden");
                                    $("#msjVacioLstTicketsCriticidadBajaCaducada").addClass("hidden");
                                    $("#msjErrorListarLstTicketsCriticidadBajaCaducada").removeClass("hidden");
                                    $("#msjSuperaLimiteLstTicketsCriticidadBajaCaducada").addClass("hidden");

                                    //$("#btnBuscar").prop('disabled', true);
                                    //$("#BtnExportarExcel").prop('disabled', true);
                                    console.log(resultado);
                                }

                            } else {

                                html = 0;

                                document.getElementById("txtCantidadTicketBajaCaducidad").innerHTML = html;

                                $("#LstTicketsCriticidadBajaCaducada").addClass("hidden");
                                $("#imgCargaLstTicketsCriticidadBajaCaducada").addClass("hidden");
                                $("#msjErrorLstTicketsCriticidadBajaCaducada").addClass("hidden");
                                $("#msjVacioLstTicketsCriticidadBajaCaducada").removeClass("hidden");
                                $("#msjErrorListarLstTicketsCriticidadBajaCaducada").addClass("hidden");
                                $("#msjSuperaLimiteLstTicketsCriticidadBajaCaducada").addClass("hidden");

                                //$("#btnBuscar").prop('disabled', false);
                                //$("#BtnExportarExcel").prop('disabled', true);
                            }

                            options.success(resultado);
                            var grid = $("#LstTicketsCriticidadBajaCaducada").data("kendoGrid");
                            if (grid.dataSource.total() > 0) {
                                grid.setDataSource(dataSource);
                            }

                        },
                        error: function (xhr, ajaxOptions, thrownError) {
                            /*fallo al llamar a la funcion ajax*/
                            $("#LstTicketsCriticidadBajaCaducada").addClass("hidden");
                            $("#imgCargaLstTicketsCriticidadBajaCaducada").addClass("hidden");
                            $("#msjErrorLstTicketsCriticidadBajaCaducada").removeClass("hidden");
                            $("#msjVacioLstTicketsCriticidadBajaCaducada").addClass("hidden");
                            $("#msjErrorListarLstTicketsCriticidadBajaCaducada").addClass("hidden");
                            $("#msjSuperaLimiteLstTicketsCriticidadBajaCaducada").addClass("hidden");

                            //$("#btnBuscar").prop('disabled', true);
                            //$("#BtnExportarExcel").prop('disabled', true);
                            console.log("ERROR AJAX : " + ajaxOptions);
                            console.log("ERROR AJAX : " + thrownError);
                            console.log(xhr.responseText);
                            console.log(xhr);

                        }
                    });
                },
                parameterMap: function (data, operation) {
                    if (operation !== "read" && data.models) {
                        return JSON.stringify({ JSONparam: data.models });
                    }
                }
            },
            error: function (e) {
                alert("Status: " + e.status + "; Error message: " + e.errorThrown);
            },
            batch: false,
            pageSize: PaginationKendoGrid,
            schema: {
                model: {
                    fields: {
                        IdTicket: { type: "number" },
                        CantidadActividades: { type: "string" },
                        NroTicket: { type: "string" },
                        StartDate: { type: "string" },
                        FullNameTicket: { type: "string" },
                        ResponsibleNameTicket: { type: "string" },
                        LocationNameTicket: { type: "string" },
                        OperationName: { type: "string" },
                        ReasonName: { type: "string" },
                        CriticalityName: { type: "string" },
                        TitleDetalle: { type: "string" },
                        DetalleText: { type: "string" },
                        ResponsibleId: {type: "number"}
                    }
                }
            },
            //aggregate: [
            //    {
            //        field: "TicketNumber",
            //        aggregate: "count"
            //    },
            //    {
            //        field: "FuelQuantity",
            //        aggregate: "sum"
            //    }
            //]
        });

        $("#LstTicketsCriticidadBajaCaducada").kendoGrid({
            dataSource: dataSource,
            sortable: true,
            pageable: true,
            columnMenu: true,
            columnMenu: {
                sortable: true,
                filterable: true,
                columns: true,
                messages: {
                    columns: KendoMsjColumnMenuColumns,
                    filter: KendoMsjColumnMenuFilter,
                    sortAscending: KendoMsjColumnMenuSortAscending,
                    sortDescending: KendoMsjColumnMenuSortDescending,
                    settings: KendoMsjSettings
                }
            },
            columnMenuInit: function (e) {
                var menu = e.container.find(".k-menu").data("kendoMenu");
                menu.bind("select", function (e) {
                    var EtiquetaInput = $(".k-animation-container > .k-menu-group > .k-item > .k-content > .k-filter-menu > .k-textbox :input");
                    EtiquetaInput.focus();
                });
            },
            groupable: false,
            reorderable: true,
            selectable: "row",
            scrollable: true,
            resizable: true,
            filterable: {
                multi: true,
                checkAll: true,
                search: true,
                messages: {
                    clear: KendoMsjClear,
                    filter: KendoMsjFilter,
                    selectedItemsFormat: KendoMsjSelectedItemsFormat,
                    checkAll: KendoMsjCheckAll,
                    search: KendoMsjSearch
                }
            },
            //groupable: {
            //    info: true,
            //    messages: {
            //        empty: "<b style='font-style:italic';>Arrastre una cabecera aquí para agrupar su información por esa columna</b>"
            //    }
            //},
            pageable: {
                messages: {
                    empty: KendoMsjEmpty,
                    page: kendoMsjPage,
                    of: KendoMsjOf,
                    itemsPerPage: KendoMsjItemsPerPage,
                    first: KendoMsjFirst,
                    last: KendoMsjLast,
                    next: KendoMsjNext,
                    previous: KendoMsjPrevious,
                    refresh: KendoMsjRefresh,
                    morePages: KendoMsjMorePages,
                    display: KendoMsjDisplay
                },
                refresh: false,
                pageSizes: true,
                pageSizes: [5, 10, 15],
                /*para la cantidad de paginas se sugieren 5*/
                buttonCount: 5,
                /*Posicion de la pagina*/
                pageSize: 5
            },
            //excel: { fileName: "Listado de Acta de Reunión.xlsx", filterable: true, allPages: true },
            columns: [
                {
                    width: 60,
                    command: {
                        template:
                            "<button class='btn-grid btn-xs BtnVerInfo' type='button' title='Ver datos'><i class='fa fa-lg fa-fw fas fa-eye'></i></button>"
                            //+ " " +"<button class='btn-grid btn-xs BtnAnular' type='button' title='Ver datos'><i class='fa fa-lg fa-fw fas fa-ban'></i></button>"
                    },
                    attributes: { "class": "text-center" },
                    title: ""
                },
                { field: "NroTicket", title: "Nro. Ticket", width: 100, attributes: { "class": "text-center" } },
                { field: "CantidadActividades", title: "Cant. Actividades", width: 100, attributes: { "class": "text-center" } },
                { field: "StartDate", title: "Fecha Registro", width: 120, attributes: { "class": "text-center" } },
                { field: "TitleDetalle", title: "Titulo Ticket", width: 150, attributes: { "class": "text-center" } },
                { field: "OperationName", title: "Operacion", width: 120, attributes: { "class": "text-center" } },
                { field: "FullNameTicket", title: "Quien Llama", width: 170, attributes: { "class": "text-center" } },
                { field: "ResponsibleNameTicket", title: "Responsable", width: 170, attributes: { "class": "text-center" } },
                { field: "ReasonName", title: "Razón", width: 120, attributes: { "class": "text-center" } },
                { field: "CriticalityName", title: "Criticidad", hidden: true, width: 120, attributes: { "class": "text-center" } },
                { field: "LocationNameTicket", title: "Locación", hidden: true, width: 120, attributes: { "class": "text-center" } },
                { field: "DetalleText", title: "Detalle Ticket",hidden: true, width: 150, attributes: { "class": "text-center" } }
            ]

            //dataBound: function () {

            //    for (i = 0; i < $("#LstCotizacion").data("kendoGrid").dataSource._view.length; i++) {
            //        var diasRestantes = $("#LstCotizacion").data("kendoGrid").tbody.children()[i].children[2].textContent;

            //        if (diasRestantes < 11) {
            //            $($("#LstCotizacion").data("kendoGrid").tbody.children()[i]).addClass('colorRojo');
            //        }
            //        else if (diasRestantes > 10 && diasRestantes < 21) {
            //            $($("#LstCotizacion").data("kendoGrid").tbody.children()[i]).addClass('colorAmarillo');
            //        }
            //        else if (diasRestantes > 20) {
            //            $($("#LstCotizacion").data("kendoGrid").tbody.children()[i]).addClass('colorVerde');
            //        }
            //        else {
            //            $($("#LstCotizacion").data("kendoGrid").tbody.children()[i]).addClass('colorRojo');
            //        }
            //    }

            //    var Grilla = this;
            //    Grilla.tbody.find("tr[role='row']").each(function () {
            //        var model = Grilla.dataItem(this);
            //        if (model.QuotationStatus != "C") {
            //            $(this).find("td > button.BtnVerInfo").remove();
            //        }

            //    });

            //}
        });


    }

    function GrillaListadoBuscarUsuario() {

        var dataSource = new kendo.data.DataSource({
            transport: {
                read: function (options) {
                    $.ajax({
                        type: "GET",
                        url: tRutaServidor + "/Ticket/ListarTicketBuscarUsuario", /* es importante poner los .. delante */
                        dataType: "json",
                        data: {
                            IdPerson: UsusarioPersonId,
                            StatusCategory : ValueFilterTicket
                        },
                        /*async: false,*/
                        success: function (resultado) {
                           /*exitosamente*/
                            //let html;

                            if (resultado.length > 0) {
                                /* proceso exitoso con datos*/
                                if (resultado[0].ValorConsulta == "1") {

                                    //html = resultado.length;

                                    //document.getElementById("txtCantidadTicketAltaCaducidad").innerHTML = html;

                                    $("#LstTicketDePendiente").removeClass("hidden");
                                    $("#imgCargaLstTicketDePendiente").addClass("hidden");
                                    $("#msjErrorLstTicketDePendiente").addClass("hidden");
                                    $("#msjVacioLstTicketDePendiente").addClass("hidden");
                                    $("#msjErrorListarLstTicketDePendiente").addClass("hidden");
                                    $("#msjSuperaLimiteLstTicketDePendiente").addClass("hidden");

                                    //$("#btnBuscar").prop('disabled', false);
                                    //$("#BtnExportarExcel").prop('disabled', false);

                                } else if (resultado[0].ValorConsulta == "-1") {

                                    $("#LstTicketDePendiente").addClass("hidden");
                                    $("#imgCargaLstTicketDePendiente").addClass("hidden");
                                    $("#msjErrorLstTicketDePendiente").addClass("hidden");
                                    $("#msjVacioLstTicketDePendiente").addClass("hidden");
                                    $("#msjErrorListarLstTicketDePendiente").addClass("hidden");
                                    $("#msjSuperaLimiteLstTicketDePendiente").removeClass("hidden");

                                    //$("#btnBuscar").prop('disabled', false);
                                    //$("#BtnExportarExcel").prop('disabled', true);
                                }
                                else {
                                    /* proceso fallido catch listado datos*/
                                    $("#LstTicketDePendiente").addClass("hidden");
                                    $("#imgCargaLstTicketDePendiente").addClass("hidden");
                                    $("#msjErrorLstTicketDePendiente").addClass("hidden");
                                    $("#msjVacioLstTicketDePendiente").addClass("hidden");
                                    $("#msjErrorListarLstTicketDePendiente").removeClass("hidden");
                                    $("#msjSuperaLimiteLstTicketDePendiente").addClass("hidden");

                                    //$("#btnBuscar").prop('disabled', true);
                                    //$("#BtnExportarExcel").prop('disabled', true);
                                    console.log(resultado);
                                }

                            } else {

                                //html = 0;

                                //document.getElementById("txtCantidadTicketAltaCaducidad").innerHTML = html;

                                $("#LstTicketDePendiente").addClass("hidden");
                                $("#imgCargaLstTicketDePendiente").addClass("hidden");
                                $("#msjErrorLstTicketDePendiente").addClass("hidden");
                                $("#msjVacioLstTicketDePendiente").removeClass("hidden");
                                $("#msjErrorListarLstTicketDePendiente").addClass("hidden");
                                $("#msjSuperaLimiteLstTicketDePendiente").addClass("hidden");

                                //$("#btnBuscar").prop('disabled', false);
                                //$("#BtnExportarExcel").prop('disabled', true);
                            }

                            options.success(resultado);
                            var grid = $("#LstTicketDePendiente").data("kendoGrid");
                            if (grid.dataSource.total() > 0) {
                                grid.setDataSource(dataSource);
                            }

                        },
                        error: function (xhr, ajaxOptions, thrownError) {
                            /*fallo al llamar a la funcion ajax*/
                            $("#LstTicketDePendiente").addClass("hidden");
                            $("#imgCargaLstTicketDePendiente").addClass("hidden");
                            $("#msjErrorLstTicketDePendiente").removeClass("hidden");
                            $("#msjVacioLstTicketDePendiente").addClass("hidden");
                            $("#msjErrorListarLstTicketDePendiente").addClass("hidden");
                            $("#msjSuperaLimiteLstTicketDePendiente").addClass("hidden");

                            //$("#btnBuscar").prop('disabled', true);
                            //$("#BtnExportarExcel").prop('disabled', true);
                            console.log("ERROR AJAX : " + ajaxOptions);
                            console.log("ERROR AJAX : " + thrownError);
                            console.log(xhr.responseText);
                            console.log(xhr);

                        }
                    });
                },
                parameterMap: function (data, operation) {
                    if (operation !== "read" && data.models) {
                        return JSON.stringify({ JSONparam: data.models });
                    }
                }
            },
            error: function (e) {
                alert("Status: " + e.status + "; Error message: " + e.errorThrown);
            },
            batch: false,
            pageSize: PaginationKendoGrid,
            schema: {
                model: {
                    fields: {
                        IdTicket: { type: "number" },
                        OldDifferenceDate: { type: "string" },
                        NroTicket: { type: "string" },
                        StartDate: { type: "string" },
                        FullNameTicket: { type: "string" },
                        ResponsibleNameTicket: { type: "string" },
                        LocationNameTicket: { type: "string" },
                        OperationName: { type: "string" },
                        ReasonName: { type: "string" },
                        CriticalityName: { type: "string" },
                        TitleDetalle: { type: "string" },
                        DetalleText: { type: "string" },
                        ResponsibleId: { type: "number" },
                        MigrationStatus: { type: "string" }
                    }
                }
            },
            //aggregate: [
            //    {
            //        field: "TicketNumber",
            //        aggregate: "count"
            //    },
            //    {
            //        field: "FuelQuantity",
            //        aggregate: "sum"
            //    }
            //]
        });

        $("#LstTicketDePendiente").kendoGrid({
            dataSource: dataSource,
            sortable: true,
            pageable: true,
            columnMenu: true,
            columnMenu: {
                sortable: true,
                filterable: true,
                columns: true,
                messages: {
                    columns: KendoMsjColumnMenuColumns,
                    filter: KendoMsjColumnMenuFilter,
                    sortAscending: KendoMsjColumnMenuSortAscending,
                    sortDescending: KendoMsjColumnMenuSortDescending,
                    settings: KendoMsjSettings
                }
            },
            columnMenuInit: function (e) {
                var menu = e.container.find(".k-menu").data("kendoMenu");
                menu.bind("select", function (e) {
                    var EtiquetaInput = $(".k-animation-container > .k-menu-group > .k-item > .k-content > .k-filter-menu > .k-textbox :input");
                    EtiquetaInput.focus();
                });
            },
            groupable: false,
            reorderable: true,
            selectable: "row",
            scrollable: true,
            resizable: true,
            filterable: {
                multi: true,
                checkAll: true,
                search: true,
                messages: {
                    clear: KendoMsjClear,
                    filter: KendoMsjFilter,
                    selectedItemsFormat: KendoMsjSelectedItemsFormat,
                    checkAll: KendoMsjCheckAll,
                    search: KendoMsjSearch
                }
            },
            //groupable: {
            //    info: true,
            //    messages: {
            //        empty: "<b style='font-style:italic';>Arrastre una cabecera aquí para agrupar su información por esa columna</b>"
            //    }
            //},
            pageable: {
                messages: {
                    empty: KendoMsjEmpty,
                    page: kendoMsjPage,
                    of: KendoMsjOf,
                    itemsPerPage: KendoMsjItemsPerPage,
                    first: KendoMsjFirst,
                    last: KendoMsjLast,
                    next: KendoMsjNext,
                    previous: KendoMsjPrevious,
                    refresh: KendoMsjRefresh,
                    morePages: KendoMsjMorePages,
                    display: KendoMsjDisplay
                },
                refresh: false,
                pageSizes: true,
                pageSizes: [5, 10, 15],
                /*para la cantidad de paginas se sugieren 5*/
                buttonCount: 5,
                /*Posicion de la pagina*/
                pageSize: 5
            },
            //excel: { fileName: "Listado de Acta de Reunión.xlsx", filterable: true, allPages: true },
            columns: [
                {
                    width: 60,
                    command: {
                        template:
                            "<button class='btn-grid btn-xs BtnVerInfo' type='button' title='Ver datos'><i class='fa fa-lg fa-fw fas fa-eye'></i></button>"
                            //+ " " +"<button class='btn-grid btn-xs BtnAnular' type='button' title='Ver datos'><i class='fa fa-lg fa-fw fas fa-ban'></i></button>"
                    },
                    attributes: { "class": "text-center" },
                    title: ""
                },
                { field: "NroTicket", title: "Nro. Ticket", width: 100, attributes: { "class": "text-center" } },
                { field: "TitleDetalle", title: "Titulo Detalle", width: 150, attributes: { "class": "text-center" } },
                { field: "OldDifferenceDate", title: "Antigüedad Dias", width: 100, attributes: { "class": "text-center" } },
                { field: "StartDate", title: "Fecha Registro", width: 120, attributes: { "class": "text-center" } },
                { field: "OperationName", title: "Operacion", hidden: true, width: 120, attributes: { "class": "text-center" } },
                { field: "FullNameTicket", title: "Quien Llama", hidden: true, width: 170, attributes: { "class": "text-center" } },
                { field: "ResponsibleNameTicket", title: "Responsable", hidden: true, width: 170, attributes: { "class": "text-center" } },
                { field: "ReasonName", title: "Razón", width: 120, hidden: true, attributes: { "class": "text-center" } },
                { field: "CriticalityName", title: "Criticidad", width: 120, attributes: { "class": "text-center" } },
                { field: "LocationNameTicket", title: "Locación", hidden: true, width: 120, attributes: { "class": "text-center" } },
                { field: "DetalleText", title: "Detalle Ticket", hidden: true, width: 150, attributes: { "class": "text-center" } }
            ],
            dataBound: function () {


            var Grilla = this;

            for (i = 0; i < Grilla.dataSource._view.length; i++) {
                    var estadoActual = Grilla.tbody.children()[i].children[9].textContent;
                    if (estadoActual == 'BAJA') {
                        $($("#LstTicketDePendiente").data("kendoGrid").tbody.children()[i]).addClass('colorVerde');
                    }
                    else if (estadoActual == 'MEDIA') {
                        $($("#LstTicketDePendiente").data("kendoGrid").tbody.children()[i]).addClass('colorAmarillo');
                    }
                    else {
                        $($("#LstTicketDePendiente").data("kendoGrid").tbody.children()[i]).addClass('colorRojo');
                    }
                }
            }
        });


    }

    /* -------------------- LISTADO DE TICKET EN CRITICIDAD --------------------- */

    function GrillaListadoMediaTicket() {

        var dataSource = new kendo.data.DataSource({
            transport: {
                read: function (options) {
                    $.ajax({
                        type: "GET",
                        url: tRutaServidor + "/Ticket/ListarTicketMedia", /* es importante poner los .. delante */
                        dataType: "json",
                        /*async: false,*/
                        data: {
                            StatusCategory: ValueFilterTicket
                        },
                        success: function (resultado) {
                           /*exitosamente*/
                            let html;

                            if (resultado.length > 0) {
                                /* proceso exitoso con datos*/
                                if (resultado[0].ValorConsulta == "1") {

                                    html = resultado.length;

                                    document.getElementById("txtCantidadMediaTicket").innerHTML = html;

                                    $("#LstTicketsCriticidadMedia").removeClass("hidden");
                                    $("#imgCargaLstTicketsCriticidadMedia").addClass("hidden");
                                    $("#msjErrorLstTicketsCriticidadMedia").addClass("hidden");
                                    $("#msjVacioLstTicketsCriticidadMedia").addClass("hidden");
                                    $("#msjErrorListarLstTicketsCriticidadMedia").addClass("hidden");
                                    $("#msjSuperaLimiteLstTicketsCriticidadMedia").addClass("hidden");

                                    //$("#btnBuscar").prop('disabled', false);
                                    $("#BtnExportarExcelCriticidadMedia").prop('disabled', false);

                                } else if (resultado[0].ValorConsulta == "-1") {

                                    $("#LstTicketsCriticidadMedia").addClass("hidden");
                                    $("#imgCargaLstTicketsCriticidadMedia").addClass("hidden");
                                    $("#msjErrorLstTicketsCriticidadMedia").addClass("hidden");
                                    $("#msjVacioLstTicketsCriticidadMedia").addClass("hidden");
                                    $("#msjErrorListarLstTicketsCriticidadMedia").addClass("hidden");
                                    $("#msjSuperaLimiteLstTicketsCriticidadMedia").removeClass("hidden");

                                    //$("#btnBuscar").prop('disabled', false);
                                    //$("#BtnExportarExcel").prop('disabled', true);
                                }
                                else {
                                    /* proceso fallido catch listado datos*/
                                    $("#LstTicketsCriticidadMedia").addClass("hidden");
                                    $("#imgCargaLstTicketsCriticidadMedia").addClass("hidden");
                                    $("#msjErrorLstTicketsCriticidadMedia").addClass("hidden");
                                    $("#msjVacioLstTicketsCriticidadMedia").addClass("hidden");
                                    $("#msjErrorListarLstTicketsCriticidadMedia").removeClass("hidden");
                                    $("#msjSuperaLimiteLstTicketsCriticidadMedia").addClass("hidden");

                                    //$("#btnBuscar").prop('disabled', true);
                                    //$("#BtnExportarExcel").prop('disabled', true);
                                    console.log(resultado);
                                }

                            } else {

                                html = 0;

                                document.getElementById("txtCantidadMediaTicket").innerHTML = html;

                                $("#LstTicketsCriticidadMedia").addClass("hidden");
                                $("#imgCargaLstTicketsCriticidadMedia").addClass("hidden");
                                $("#msjErrorLstTicketsCriticidadMedia").addClass("hidden");
                                $("#msjVacioLstTicketsCriticidadMedia").removeClass("hidden");
                                $("#msjErrorListarLstTicketsCriticidadMedia").addClass("hidden");
                                $("#msjSuperaLimiteLstTicketsCriticidadMedia").addClass("hidden");

                                //$("#btnBuscar").prop('disabled', false);
                                $("#BtnExportarExcelCriticidadMedia").prop('disabled', true);
                            }

                            options.success(resultado);
                            var grid = $("#LstTicketsCriticidadMedia").data("kendoGrid");
                            if (grid.dataSource.total() > 0) {
                                grid.setDataSource(dataSource);
                            }

                        },
                        error: function (xhr, ajaxOptions, thrownError) {
                            /*fallo al llamar a la funcion ajax*/
                            $("#LstTicketsCriticidadMedia").addClass("hidden");
                            $("#imgCargaLstTicketsCriticidadMedia").addClass("hidden");
                            $("#msjErrorLstTicketsCriticidadMedia").removeClass("hidden");
                            $("#msjVacioLstTicketsCriticidadMedia").addClass("hidden");
                            $("#msjErrorListarLstTicketsCriticidadMedia").addClass("hidden");
                            $("#msjSuperaLimiteLstTicketsCriticidadMedia").addClass("hidden");

                            //$("#btnBuscar").prop('disabled', true);
                            //$("#BtnExportarExcel").prop('disabled', true);
                            console.log("ERROR AJAX : " + ajaxOptions);
                            console.log("ERROR AJAX : " + thrownError);
                            console.log(xhr.responseText);
                            console.log(xhr);

                        }
                    });
                },
                parameterMap: function (data, operation) {
                    if (operation !== "read" && data.models) {
                        return JSON.stringify({ JSONparam: data.models });
                    }
                }
            },
            error: function (e) {
                alert("Status: " + e.status + "; Error message: " + e.errorThrown);
            },
            batch: false,
            pageSize: PaginationKendoGrid,
            schema: {
                model: {
                    fields: {
                        IdTicket: { type: "number" },
                        NroTicket: { type: "string" },
                        StartDate: { type: "string" },
                        UsuarioNameTicket: { type: "string" },
                        ResponsibleNameTicket: { type: "string" },
                        FullNameTicket: { type: "string" },
                        OperationName: { type: "string" },
                        ReasonName: { type: "string" },
                        LocationNameTicket: { type: "string" },
                        CriticalityName: { type: "string" },
                        TitleDetalle: { type: "string" },
                        DetalleText: { type: "string" },
                        ResponsibleId: { type: "number" },
                        MigrationStatus: { type: "string" },
                        StatusTicket: { type: "string" },
                        CategoryTicketStatus: { type: "string" },
                        ProblemTicket: { type: "string" },
                        SolutionTicket: { type: "string" },
                        TicketTypeStatus: { type: "string" },
                        ValidationUserOpId: { type: "string" },
                        DateValidationUserOp: { type: "string" },
                        StartHour: { type: "string" },
                    }
                }
            },
            //aggregate: [
            //    {
            //        field: "TicketNumber",
            //        aggregate: "count"
            //    },
            //    {
            //        field: "FuelQuantity",
            //        aggregate: "sum"
            //    }
            //]
        });

        $("#LstTicketsCriticidadMedia").kendoGrid({
            dataSource: dataSource,
            sortable: true,
            pageable: true,
            columnMenu: true,
            columnMenu: {
                sortable: true,
                filterable: true,
                columns: true,
                messages: {
                    columns: KendoMsjColumnMenuColumns,
                    filter: KendoMsjColumnMenuFilter,
                    sortAscending: KendoMsjColumnMenuSortAscending,
                    sortDescending: KendoMsjColumnMenuSortDescending,
                    settings: KendoMsjSettings
                }
            },
            columnMenuInit: function (e) {
                var menu = e.container.find(".k-menu").data("kendoMenu");
                menu.bind("select", function (e) {
                    var EtiquetaInput = $(".k-animation-container > .k-menu-group > .k-item > .k-content > .k-filter-menu > .k-textbox :input");
                    EtiquetaInput.focus();
                });
            },
            groupable: false,
            reorderable: true,
            selectable: "row",
            scrollable: true,
            resizable: true,
            filterable: {
                multi: true,
                checkAll: true,
                search: true,
                messages: {
                    clear: KendoMsjClear,
                    filter: KendoMsjFilter,
                    selectedItemsFormat: KendoMsjSelectedItemsFormat,
                    checkAll: KendoMsjCheckAll,
                    search: KendoMsjSearch
                }
            },
            //groupable: {
            //    info: true,
            //    messages: {
            //        empty: "<b style='font-style:italic';>Arrastre una cabecera aquí para agrupar su información por esa columna</b>"
            //    }
            //},
            pageable: {
                messages: {
                    empty: KendoMsjEmpty,
                    page: kendoMsjPage,
                    of: KendoMsjOf,
                    itemsPerPage: KendoMsjItemsPerPage,
                    first: KendoMsjFirst,
                    last: KendoMsjLast,
                    next: KendoMsjNext,
                    previous: KendoMsjPrevious,
                    refresh: KendoMsjRefresh,
                    morePages: KendoMsjMorePages,
                    display: KendoMsjDisplay
                },
                refresh: false,
                pageSizes: true,
                pageSizes: [5, 10, 15],
                /*para la cantidad de paginas se sugieren 5*/
                buttonCount: 5,
                /*Posicion de la pagina*/
                pageSize: 5
            },
            excel: { fileName: "Listado de Tickets en Criticidad Media.xlsx", filterable: true, allPages: true },
            columns: [
                {
                    width: 50,
                    command: {
                        template:
                            "<button class='btn-grid btn-xs BtnVerTicketMedia' type='button' title='Ver datos'><i class='fa fa-lg fa-fw fas fa-eye'></i></button>"
                            //+ " " +"<button class='btn-grid btn-xs BtnAnular' type='button' title='Ver datos'><i class='fa fa-lg fa-fw fas fa-ban'></i></button>"
                    },
                    attributes: { "class": "text-center" },
                    title: ""
                },
                { field: "NroTicket", title: "Nro. Ticket", width: 80, attributes: { "class": "text-center" } },
                { field: "StartDate", title: "Fecha Registro", width: 120, attributes: { "class": "text-center" } },
                { field: "StartHour", title: "Hora Registro", width: 140, attributes: { "class": "text-center" } },
                { field: "TitleDetalle", title: "Titulo Ticket", width: 150, attributes: { "class": "text-center" } },
                { field: "OperationName", title: "Operacion", width: 120, attributes: { "class": "text-center" } },
                { field: "FullNameTicket", title: "Quien Llama", width: 200, attributes: { "class": "text-center" } },
                { field: "ResponsibleNameTicket", title: "Responsable", width: 200, attributes: { "class": "text-center" } },
                { field: "CriticalityName", title: "Criticidad", hidden: true, width: 100, attributes: { "class": "text-center" } },
                { field: "ReasonName", title: "Razón", width: 120, attributes: { "class": "text-center" } },
                { field: "LocationNameTicket", title: "Locación", hidden: true, width: 120, attributes: { "class": "text-center" } },
                { field: "DetalleText", title: "Detalle Ticket", hidden: true, width: 150, attributes: { "class": "text-center" } },
                /*{ field: "StatusTicket", title: "Tipo Evento", width: 100, attributes: { "class": "text-center" } },*/
                { field: "TicketTypeStatus", title: "Tipo Creacion", width: 120, attributes: { "class": "text-center" } },
            ]

            //dataBound: function () {

            //    for (i = 0; i < $("#LstCotizacion").data("kendoGrid").dataSource._view.length; i++) {
            //        var diasRestantes = $("#LstCotizacion").data("kendoGrid").tbody.children()[i].children[2].textContent;

            //        if (diasRestantes < 11) {
            //            $($("#LstCotizacion").data("kendoGrid").tbody.children()[i]).addClass('colorRojo');
            //        }
            //        else if (diasRestantes > 10 && diasRestantes < 21) {
            //            $($("#LstCotizacion").data("kendoGrid").tbody.children()[i]).addClass('colorAmarillo');
            //        }
            //        else if (diasRestantes > 20) {
            //            $($("#LstCotizacion").data("kendoGrid").tbody.children()[i]).addClass('colorVerde');
            //        }
            //        else {
            //            $($("#LstCotizacion").data("kendoGrid").tbody.children()[i]).addClass('colorRojo');
            //        }
            //    }

            //    var Grilla = this;
            //    Grilla.tbody.find("tr[role='row']").each(function () {
            //        var model = Grilla.dataItem(this);
            //        if (model.QuotationStatus != "C") {
            //            $(this).find("td > button.BtnVerInfo").remove();
            //        }

            //    });

            //}
        });


    }

    function GrillaListadoBajaTicket() {

        var dataSource = new kendo.data.DataSource({
            transport: {
                read: function (options) {
                    $.ajax({
                        type: "GET",
                        url: tRutaServidor + "/Ticket/ListarTicketBaja", /* es importante poner los .. delante */
                        dataType: "json",
                        data: {
                            StatusCategory : ValueFilterTicket
                        },
                        /*async: false,*/
                        success: function (resultado) {
                           /*exitosamente*/
                            let html;

                            var ValorCantidadTickets;

                            if (resultado.length > 0) {
                                /* proceso exitoso con datos*/
                                if (resultado[0].ValorConsulta == "1") {

                                    html = resultado.length;

                                    document.getElementById("txtCantidadBajaTicket").innerHTML = html;

                                    $("#LstTicketsCriticidadBaja").removeClass("hidden");
                                    $("#imgCargaLstTicketsCriticidadBaja").addClass("hidden");
                                    $("#msjErrorLstTicketsCriticidadBaja").addClass("hidden");
                                    $("#msjVacioLstTicketsCriticidadBaja").addClass("hidden");
                                    $("#msjErrorListarLstTicketsCriticidadBaja").addClass("hidden");
                                    $("#msjSuperaLimiteLstTicketsCriticidadBaja").addClass("hidden");

                                    //$("#btnBuscar").prop('disabled', false);
                                    $("#BtnExportarExcelCriticidadBaja").prop('disabled', false);

                                } else if (resultado[0].ValorConsulta == "-1") {

                                    $("#LstTicketsCriticidadBaja").addClass("hidden");
                                    $("#imgCargaLstTicketsCriticidadBaja").addClass("hidden");
                                    $("#msjErrorLstTicketsCriticidadBaja").addClass("hidden");
                                    $("#msjVacioLstTicketsCriticidadBaja").addClass("hidden");
                                    $("#msjErrorListarLstTicketsCriticidadBaja").addClass("hidden");
                                    $("#msjSuperaLimiteLstTicketsCriticidadBaja").removeClass("hidden");

                                    //$("#btnBuscar").prop('disabled', false);
                                    //$("#BtnExportarExcel").prop('disabled', true);
                                }
                                else {
                                    /* proceso fallido catch listado datos*/
                                    $("#LstTicketsCriticidadBaja").addClass("hidden");
                                    $("#imgCargaLstTicketsCriticidadBaja").addClass("hidden");
                                    $("#msjErrorLstTicketsCriticidadBaja").addClass("hidden");
                                    $("#msjVacioLstTicketsCriticidadBaja").addClass("hidden");
                                    $("#msjErrorListarLstTicketsCriticidadBaja").removeClass("hidden");
                                    $("#msjSuperaLimiteLstTicketsCriticidadBaja").addClass("hidden");

                                    //$("#btnBuscar").prop('disabled', true);
                                    //$("#BtnExportarExcel").prop('disabled', true);
                                    console.log(resultado);
                                }

                            } else {

                                html = 0;

                                document.getElementById("txtCantidadBajaTicket").innerHTML = html;

                                $("#LstTicketsCriticidadBaja").addClass("hidden");
                                $("#imgCargaLstTicketsCriticidadBaja").addClass("hidden");
                                $("#msjErrorLstTicketsCriticidadBaja").addClass("hidden");
                                $("#msjVacioLstTicketsCriticidadBaja").removeClass("hidden");
                                $("#msjErrorListarLstTicketsCriticidadBaja").addClass("hidden");
                                $("#msjSuperaLimiteLstTicketsCriticidadBaja").addClass("hidden");

                                //$("#btnBuscar").prop('disabled', false);
                                $("#BtnExportarExcelCriticidadBaja").prop('disabled', true);
                            }

                            options.success(resultado);
                            var grid = $("#LstTicketsCriticidadBaja").data("kendoGrid");
                            if (grid.dataSource.total() > 0) {
                                grid.setDataSource(dataSource);
                            }

                        },
                        error: function (xhr, ajaxOptions, thrownError) {
                            /*fallo al llamar a la funcion ajax*/
                            $("#LstTicketsCriticidadBaja").addClass("hidden");
                            $("#imgCargaLstTicketsCriticidadBaja").addClass("hidden");
                            $("#msjErrorLstTicketsCriticidadBaja").removeClass("hidden");
                            $("#msjVacioLstTicketsCriticidadBaja").addClass("hidden");
                            $("#msjErrorListarLstTicketsCriticidadBaja").addClass("hidden");
                            $("#msjSuperaLimiteLstTicketsCriticidadBaja").addClass("hidden");

                            //$("#btnBuscar").prop('disabled', true);
                            //$("#BtnExportarExcel").prop('disabled', true);
                            console.log("ERROR AJAX : " + ajaxOptions);
                            console.log("ERROR AJAX : " + thrownError);
                            console.log(xhr.responseText);
                            console.log(xhr);

                        }
                    });
                },
                parameterMap: function (data, operation) {
                    if (operation !== "read" && data.models) {
                        return JSON.stringify({ JSONparam: data.models });
                    }
                }
            },
            error: function (e) {
                alert("Status: " + e.status + "; Error message: " + e.errorThrown);
            },
            batch: false,
            pageSize: PaginationKendoGrid,
            schema: {
                model: {
                    fields: {
                        IdTicket: { type: "number" },
                        NroTicket: { type: "string" },
                        StartDate: { type: "string" },
                        UsuarioNameTicket: { type: "string" },
                        ResponsibleNameTicket: { type: "string" },
                        FullNameTicket: { type: "string" },
                        OperationName: { type: "string" },
                        ReasonName: { type: "string" },
                        LocationNameTicket: { type: "string" },
                        CriticalityName: { type: "string" },
                        TitleDetalle: { type: "string" },
                        DetalleText: { type: "string" },
                        ResponsibleId: { type: "number" },
                        MigrationStatus: { type: "string" },
                        StatusTicket: { type: "string" },
                        CategoryTicketStatus: { type: "string" },
                        ProblemTicket: { type: "string" },
                        SolutionTicket: { type: "string" },
                        TicketTypeStatus: { type: "string" },
                        ValidationUserOpId: { type: "string" },
                        DateValidationUserOp: { type: "string" },
                        StartHour: { type: "string" },
                    }
                }
            },
            //aggregate: [
            //    {
            //        field: "TicketNumber",
            //        aggregate: "count"
            //    },
            //    {
            //        field: "FuelQuantity",
            //        aggregate: "sum"
            //    }
            //]
        });

        $("#LstTicketsCriticidadBaja").kendoGrid({
            dataSource: dataSource,
            sortable: true,
            pageable: true,
            columnMenu: true,
            columnMenu: {
                sortable: true,
                filterable: true,
                columns: true,
                messages: {
                    columns: KendoMsjColumnMenuColumns,
                    filter: KendoMsjColumnMenuFilter,
                    sortAscending: KendoMsjColumnMenuSortAscending,
                    sortDescending: KendoMsjColumnMenuSortDescending,
                    settings: KendoMsjSettings
                }
            },
            columnMenuInit: function (e) {
                var menu = e.container.find(".k-menu").data("kendoMenu");
                menu.bind("select", function (e) {
                    var EtiquetaInput = $(".k-animation-container > .k-menu-group > .k-item > .k-content > .k-filter-menu > .k-textbox :input");
                    EtiquetaInput.focus();
                });
            },
            groupable: false,
            reorderable: true,
            selectable: "row",
            scrollable: true,
            resizable: true,
            filterable: {
                multi: true,
                checkAll: true,
                search: true,
                messages: {
                    clear: KendoMsjClear,
                    filter: KendoMsjFilter,
                    selectedItemsFormat: KendoMsjSelectedItemsFormat,
                    checkAll: KendoMsjCheckAll,
                    search: KendoMsjSearch
                }
            },
            //groupable: {
            //    info: true,
            //    messages: {
            //        empty: "<b style='font-style:italic';>Arrastre una cabecera aquí para agrupar su información por esa columna</b>"
            //    }
            //},
            pageable: {
                messages: {
                    empty: KendoMsjEmpty,
                    page: kendoMsjPage,
                    of: KendoMsjOf,
                    itemsPerPage: KendoMsjItemsPerPage,
                    first: KendoMsjFirst,
                    last: KendoMsjLast,
                    next: KendoMsjNext,
                    previous: KendoMsjPrevious,
                    refresh: KendoMsjRefresh,
                    morePages: KendoMsjMorePages,
                    display: KendoMsjDisplay
                },
                refresh: false,
                pageSizes: true,
                pageSizes: [5, 10, 15],
                /*para la cantidad de paginas se sugieren 5*/
                buttonCount: 5,
                /*Posicion de la pagina*/
                pageSize: 5
            },
            excel: { fileName: "Listado de Tickets en Criticidad Baja.xlsx", filterable: true, allPages: true },
            columns: [
                {
                    width: 70,
                    command: {
                        template:
                            "<button class='btn-grid btn-xs BtnVerTicketBaja' type='button' title='Ver datos'><i class='fa fa-lg fa-fw fas fa-eye'></i></button>"
                            //+ " " +"<button class='btn-grid btn-xs BtnAnular' type='button' title='Ver datos'><i class='fa fa-lg fa-fw fas fa-ban'></i></button>"
                    },
                    attributes: { "class": "text-center" },
                    title: ""
                },
                { field: "NroTicket", title: "Nro. Ticket", width: 80, attributes: { "class": "text-center" } },
                { field: "StartDate", title: "Fecha Registro", width: 120, attributes: { "class": "text-center" } },
                { field: "StartHour", title: "Hora Registro", width: 140, attributes: { "class": "text-center" } },
                { field: "TitleDetalle", title: "Titulo Ticket", width: 150, attributes: { "class": "text-center" } },
                { field: "OperationName", title: "Operacion", width: 120, attributes: { "class": "text-center" } },
                { field: "FullNameTicket", title: "Quien Llama", width: 200, attributes: { "class": "text-center" } },
                { field: "ResponsibleNameTicket", title: "Responsable", width: 200, attributes: { "class": "text-center" } },
                { field: "CriticalityName", title: "Criticidad", hidden: true, width: 100, attributes: { "class": "text-center" } },
                { field: "ReasonName", title: "Razón", width: 120, attributes: { "class": "text-center" } },
                { field: "LocationNameTicket", title: "Locación", hidden: true, width: 120, attributes: { "class": "text-center" } },
                { field: "DetalleText", title: "Detalle Ticket", hidden: true, width: 150, attributes: { "class": "text-center" } },
                /*{ field: "StatusTicket", title: "Tipo Evento", width: 100, attributes: { "class": "text-center" } },*/
                { field: "TicketTypeStatus", title: "Tipo Creacion", width: 120, attributes: { "class": "text-center" } },
            ]

            //dataBound: function () {

            //    for (i = 0; i < $("#LstCotizacion").data("kendoGrid").dataSource._view.length; i++) {
            //        var diasRestantes = $("#LstCotizacion").data("kendoGrid").tbody.children()[i].children[2].textContent;

            //        if (diasRestantes < 11) {
            //            $($("#LstCotizacion").data("kendoGrid").tbody.children()[i]).addClass('colorRojo');
            //        }
            //        else if (diasRestantes > 10 && diasRestantes < 21) {
            //            $($("#LstCotizacion").data("kendoGrid").tbody.children()[i]).addClass('colorAmarillo');
            //        }
            //        else if (diasRestantes > 20) {
            //            $($("#LstCotizacion").data("kendoGrid").tbody.children()[i]).addClass('colorVerde');
            //        }
            //        else {
            //            $($("#LstCotizacion").data("kendoGrid").tbody.children()[i]).addClass('colorRojo');
            //        }
            //    }

            //    var Grilla = this;
            //    Grilla.tbody.find("tr[role='row']").each(function () {
            //        var model = Grilla.dataItem(this);
            //        if (model.QuotationStatus != "C") {
            //            $(this).find("td > button.BtnVerInfo").remove();
            //        }

            //    });

            //}
        });


    }

    function GrillaListadoAltaTicket() {

        var dataSource = new kendo.data.DataSource({
            transport: {
                read: function (options) {
                    $.ajax({
                        type: "GET",
                        url: tRutaServidor + "/Ticket/ListarTicketAlta", /* es importante poner los .. delante */
                        dataType: "json",
                        /*async: false,*/
                        data: {
                            StatusCategory : ValueFilterTicket
                        },
                        success: function (resultado) {
                           /*exitosamente*/
                            let html;

                            if (resultado.length > 0) {
                                /* proceso exitoso con datos*/
                                if (resultado[0].ValorConsulta == "1") {

                                    html = resultado.length;

                                    document.getElementById("txtCantidadAltaTicket").innerHTML = html;

                                    $("#LstTicketsCriticidadAlta").removeClass("hidden");
                                    $("#imgCargaLstTicketsCriticidadAlta").addClass("hidden");
                                    $("#msjErrorLstTicketsCriticidadAlta").addClass("hidden");
                                    $("#msjVacioLstTicketsCriticidadAlta").addClass("hidden");
                                    $("#msjErrorListarLstTicketsCriticidadAlta").addClass("hidden");
                                    $("#msjSuperaLimiteLstTicketsCriticidadAlta").addClass("hidden");

                                    //$("#btnBuscar").prop('disabled', false);
                                    $("#BtnExpotarTicketCriticidadAltaA").prop('disabled', false);

                                } else if (resultado[0].ValorConsulta == "-1") {

                                    $("#LstTicketsCriticidadAlta").addClass("hidden");
                                    $("#imgCargaLstTicketsCriticidadAlta").addClass("hidden");
                                    $("#msjErrorLstTicketsCriticidadAlta").addClass("hidden");
                                    $("#msjVacioLstTicketsCriticidadAlta").addClass("hidden");
                                    $("#msjErrorListarLstTicketsCriticidadAlta").addClass("hidden");
                                    $("#msjSuperaLimiteLstTicketsCriticidadAlta").removeClass("hidden");

                                    //$("#btnBuscar").prop('disabled', false);
                                    $("#BtnExpotarTicketCriticidadAltaA").prop('disabled', true);
                                }
                                else {
                                    /* proceso fallido catch listado datos*/
                                    $("#LstTicketsCriticidadAlta").addClass("hidden");
                                    $("#imgCargaLstTicketsCriticidadAlta").addClass("hidden");
                                    $("#msjErrorLstTicketsCriticidadAlta").addClass("hidden");
                                    $("#msjVacioLstTicketsCriticidadAlta").addClass("hidden");
                                    $("#msjErrorListarLstTicketsCriticidadAlta").removeClass("hidden");
                                    $("#msjSuperaLimiteLstTicketsCriticidadAlta").addClass("hidden");

                                    //$("#btnBuscar").prop('disabled', true);
                                    $("#BtnExpotarTicketCriticidadAltaA").prop('disabled', true);
                                    console.log(resultado);
                                }

                            } else {

                                html = 0;

                                document.getElementById("txtCantidadAltaTicket").innerHTML = html;

                                $("#LstTicketsCriticidadAlta").addClass("hidden");
                                $("#imgCargaLstTicketsCriticidadAlta").addClass("hidden");
                                $("#msjErrorLstTicketsCriticidadAlta").addClass("hidden");
                                $("#msjVacioLstTicketsCriticidadAlta").removeClass("hidden");
                                $("#msjErrorListarLstTicketsCriticidadAlta").addClass("hidden");
                                $("#msjSuperaLimiteLstTicketsCriticidadAlta").addClass("hidden");

                                //$("#btnBuscar").prop('disabled', false);
                                $("#BtnExpotarTicketCriticidadAltaA").prop('disabled', true);
                            }

                            options.success(resultado);
                            var grid = $("#LstTicketsCriticidadAlta").data("kendoGrid");
                            if (grid.dataSource.total() > 0) {
                                grid.setDataSource(dataSource);
                            }

                        },
                        error: function (xhr, ajaxOptions, thrownError) {
                            /*fallo al llamar a la funcion ajax*/
                            $("#LstTicketsCriticidadAlta").addClass("hidden");
                            $("#imgCargaLstTicketsCriticidadAlta").addClass("hidden");
                            $("#msjErrorLstTicketsCriticidadAlta").removeClass("hidden");
                            $("#msjVacioLstTicketsCriticidadAlta").addClass("hidden");
                            $("#msjErrorListarLstTicketsCriticidadAlta").addClass("hidden");
                            $("#msjSuperaLimiteLstTicketsCriticidadAlta").addClass("hidden");

                            //$("#btnBuscar").prop('disabled', true);
                            //$("#BtnExportarExcel").prop('disabled', true);
                            console.log("ERROR AJAX : " + ajaxOptions);
                            console.log("ERROR AJAX : " + thrownError);
                            console.log(xhr.responseText);
                            console.log(xhr);

                        }
                    });
                },
                parameterMap: function (data, operation) {
                    if (operation !== "read" && data.models) {
                        return JSON.stringify({ JSONparam: data.models });
                    }
                }
            },
            error: function (e) {
                alert("Status: " + e.status + "; Error message: " + e.errorThrown);
            },
            batch: false,
            pageSize: PaginationKendoGrid,
            schema: {
                model: {
                    fields: {
                        IdTicket: { type: "number" },
                        NroTicket: { type: "string" },
                        StartDate: { type: "string" },
                        UsuarioNameTicket: { type: "string" },
                        ResponsibleNameTicket: { type: "string" },
                        FullNameTicket: { type: "string" },
                        OperationName: { type: "string" },
                        ReasonName: { type: "string" },
                        LocationNameTicket: { type: "string" },
                        CriticalityName: { type: "string" },
                        TitleDetalle: { type: "string" },
                        DetalleText: { type: "string" },
                        ResponsibleId: { type: "number" },
                        MigrationStatus: { type: "string" },
                        StatusTicket: { type: "string" },
                        CategoryTicketStatus: { type: "string" },
                        ProblemTicket: { type: "string" },
                        SolutionTicket: { type: "string" },
                        TicketTypeStatus: { type: "string" },
                        ValidationUserOpId: { type: "string" },
                        DateValidationUserOp: { type: "string" },
                        StartHour: { type: "string" },
                    }
                }
            },
            //aggregate: [
            //    {
            //        field: "TicketNumber",
            //        aggregate: "count"
            //    },
            //    {
            //        field: "FuelQuantity",
            //        aggregate: "sum"
            //    }
            //]
        });

        $("#LstTicketsCriticidadAlta").kendoGrid({
            dataSource: dataSource,
            sortable: true,
            pageable: true,
            columnMenu: true,
            columnMenu: {
                sortable: true,
                filterable: true,
                columns: true,
                messages: {
                    columns: KendoMsjColumnMenuColumns,
                    filter: KendoMsjColumnMenuFilter,
                    sortAscending: KendoMsjColumnMenuSortAscending,
                    sortDescending: KendoMsjColumnMenuSortDescending,
                    settings: KendoMsjSettings
                }
            },
            columnMenuInit: function (e) {
                var menu = e.container.find(".k-menu").data("kendoMenu");
                menu.bind("select", function (e) {
                    var EtiquetaInput = $(".k-animation-container > .k-menu-group > .k-item > .k-content > .k-filter-menu > .k-textbox :input");
                    EtiquetaInput.focus();
                });
            },
            groupable: false,
            reorderable: true,
            selectable: "row",
            scrollable: true,
            resizable: true,
            filterable: {
                multi: true,
                checkAll: true,
                search: true,
                messages: {
                    clear: KendoMsjClear,
                    filter: KendoMsjFilter,
                    selectedItemsFormat: KendoMsjSelectedItemsFormat,
                    checkAll: KendoMsjCheckAll,
                    search: KendoMsjSearch
                }
            },
            //groupable: {
            //    info: true,
            //    messages: {
            //        empty: "<b style='font-style:italic';>Arrastre una cabecera aquí para agrupar su información por esa columna</b>"
            //    }
            //},
            pageable: {
                messages: {
                    empty: KendoMsjEmpty,
                    page: kendoMsjPage,
                    of: KendoMsjOf,
                    itemsPerPage: KendoMsjItemsPerPage,
                    first: KendoMsjFirst,
                    last: KendoMsjLast,
                    next: KendoMsjNext,
                    previous: KendoMsjPrevious,
                    refresh: KendoMsjRefresh,
                    morePages: KendoMsjMorePages,
                    display: KendoMsjDisplay
                },
                refresh: false,
                pageSizes: true,
                pageSizes: [5, 10, 15],
                /*para la cantidad de paginas se sugieren 5*/
                buttonCount: 5,
                /*Posicion de la pagina*/
                pageSize: 5
            },
            excel: { fileName: "Listado de Tickets en Criticidad Alta.xlsx", filterable: true, allPages: true },
            columns: [
                {
                    width: 70,
                    command: {
                        template:
                            "<button class='btn-grid btn-xs BtnVerTicketAlta' type='button' title='Ver datos'><i class='fa fa-lg fa-fw fas fa-eye'></i></button>"
                            //+ " " +"<button class='btn-grid btn-xs BtnAnular' type='button' title='Ver datos'><i class='fa fa-lg fa-fw fas fa-ban'></i></button>"
                    },
                    attributes: { "class": "text-center" },
                    title: ""
                },
                { field: "NroTicket", title: "Nro. Ticket", width: 80, attributes: { "class": "text-center" } },
                { field: "StartDate", title: "Fecha Registro", width: 120, attributes: { "class": "text-center" } },
                { field: "StartHour", title: "Hora Registro", width: 140, attributes: { "class": "text-center" } },
                { field: "TitleDetalle", title: "Titulo Ticket", width: 150, attributes: { "class": "text-center" } },
                { field: "OperationName", title: "Operacion", width: 120, attributes: { "class": "text-center" } },
                { field: "FullNameTicket", title: "Quien Llama", width: 200, attributes: { "class": "text-center" } },
                { field: "ResponsibleNameTicket", title: "Responsable", width: 200, attributes: { "class": "text-center" } },
                { field: "CriticalityName", title: "Criticidad", hidden: true, width: 100, attributes: { "class": "text-center" } },
                { field: "ReasonName", title: "Razón", width: 120, attributes: { "class": "text-center" } },
                { field: "LocationNameTicket", title: "Locación", hidden: true, width: 120, attributes: { "class": "text-center" } },
                { field: "DetalleText", title: "Detalle Ticket", hidden: true, width: 150, attributes: { "class": "text-center" } },
                /*{ field: "StatusTicket", title: "Tipo Evento", width: 100, attributes: { "class": "text-center" } },*/
                { field: "TicketTypeStatus", title: "Tipo Creacion", width: 120, attributes: { "class": "text-center" } },
            ]

            //dataBound: function () {

            //    for (i = 0; i < $("#LstCotizacion").data("kendoGrid").dataSource._view.length; i++) {
            //        var diasRestantes = $("#LstCotizacion").data("kendoGrid").tbody.children()[i].children[2].textContent;

            //        if (diasRestantes < 11) {
            //            $($("#LstCotizacion").data("kendoGrid").tbody.children()[i]).addClass('colorRojo');
            //        }
            //        else if (diasRestantes > 10 && diasRestantes < 21) {
            //            $($("#LstCotizacion").data("kendoGrid").tbody.children()[i]).addClass('colorAmarillo');
            //        }
            //        else if (diasRestantes > 20) {
            //            $($("#LstCotizacion").data("kendoGrid").tbody.children()[i]).addClass('colorVerde');
            //        }
            //        else {
            //            $($("#LstCotizacion").data("kendoGrid").tbody.children()[i]).addClass('colorRojo');
            //        }
            //    }

            //    var Grilla = this;
            //    Grilla.tbody.find("tr[role='row']").each(function () {
            //        var model = Grilla.dataItem(this);
            //        if (model.QuotationStatus != "C") {
            //            $(this).find("td > button.BtnVerInfo").remove();
            //        }

            //    });

            //}
        });


    }

    function GrillaListadoActivityReferenceTicket(ValueNumberTicket) {

        $("#LstTicketsRelatedActivity").addClass("hidden");
        $("#imgCargaLstTicketsRelatedActivity").removeClass("hidden");
        $("#msjErrorLstTicketsRelatedActivity").addClass("hidden");
        $("#msjVacioLstTicketsRelatedActivity").addClass("hidden");
        $("#msjErrorListarLstTicketsRelatedActivity").addClass("hidden");
        $("#msjSuperaLimiteLstTicketsRelatedActivity").addClass("hidden");


        var dataSource = new kendo.data.DataSource({
            transport: {
                read: function (options) {
                    $.ajax({
                        type: "GET",
                        url: tRutaServidor + "/Ticket/ListarActRefereceTicket", /* es importante poner los .. delante */
                        dataType: "json",
                        data: {
                            NroTicket : ValueNumberTicket
                        },
                        success: function (resultado) {
                           /*exitosamente*/
                            if (resultado.length > 0) {
                                /* proceso exitoso con datos*/
                                if (resultado[0].ValorConsulta == "1") {

                                    $("#LstTicketsRelatedActivity").removeClass("hidden");
                                    $("#imgCargaLstTicketsRelatedActivity").addClass("hidden");
                                    $("#msjErrorLstTicketsRelatedActivity").addClass("hidden");
                                    $("#msjVacioLstTicketsRelatedActivity").addClass("hidden");
                                    $("#msjErrorListarLstTicketsRelatedActivity").addClass("hidden");
                                    $("#msjSuperaLimiteLstTicketsRelatedActivity").addClass("hidden");

                                    //$("#btnBuscar").prop('disabled', false);
                                    //$("#BtnExpotarTicketCriticidadAltaA").prop('disabled', false);

                                } else if (resultado[0].ValorConsulta == "-1") {

                                    $("#LstTicketsRelatedActivity").addClass("hidden");
                                    $("#imgCargaLstTicketsRelatedActivity").addClass("hidden");
                                    $("#msjErrorLstTicketsRelatedActivity").addClass("hidden");
                                    $("#msjVacioLstTicketsRelatedActivity").addClass("hidden");
                                    $("#msjErrorListarLstTicketsRelatedActivity").addClass("hidden");
                                    $("#msjSuperaLimiteLstTicketsRelatedActivity").removeClass("hidden");

                                    //$("#btnBuscar").prop('disabled', false);
                                    //$("#BtnExpotarTicketCriticidadAltaA").prop('disabled', true);
                                }
                                else {
                                    /* proceso fallido catch listado datos*/
                                    $("#LstTicketsRelatedActivity").addClass("hidden");
                                    $("#imgCargaLstTicketsRelatedActivity").addClass("hidden");
                                    $("#msjErrorLstTicketsRelatedActivity").addClass("hidden");
                                    $("#msjVacioLstTicketsRelatedActivity").addClass("hidden");
                                    $("#msjErrorListarLstTicketsRelatedActivity").removeClass("hidden");
                                    $("#msjSuperaLimiteLstTicketsRelatedActivity").addClass("hidden");

                                    //$("#btnBuscar").prop('disabled', true);
                                    //$("#BtnExpotarTicketCriticidadAltaA").prop('disabled', true);
                                    console.log(resultado);
                                }

                            } else {

                                $("#LstTicketsRelatedActivity").addClass("hidden");
                                $("#imgCargaLstTicketsRelatedActivity").addClass("hidden");
                                $("#msjErrorLstTicketsRelatedActivity").addClass("hidden");
                                $("#msjVacioLstTicketsRelatedActivity").removeClass("hidden");
                                $("#msjErrorListarLstTicketsRelatedActivity").addClass("hidden");
                                $("#msjSuperaLimiteLstTicketsRelatedActivity").addClass("hidden");

                                //$("#btnBuscar").prop('disabled', false);
                                //$("#BtnExpotarTicketCriticidadAltaA").prop('disabled', true);
                            }

                            options.success(resultado);
                            var grid = $("#LstTicketsRelatedActivity").data("kendoGrid");
                            if (grid.dataSource.total() > 0) {
                                grid.setDataSource(dataSource);
                            }

                        },
                        error: function (xhr, ajaxOptions, thrownError) {
                            /*fallo al llamar a la funcion ajax*/
                            $("#LstTicketsRelatedActivity").addClass("hidden");
                            $("#imgCargaLstTicketsRelatedActivity").addClass("hidden");
                            $("#msjErrorLstTicketsRelatedActivity").removeClass("hidden");
                            $("#msjVacioLstTicketsRelatedActivity").addClass("hidden");
                            $("#msjErrorListarLstTicketsRelatedActivity").addClass("hidden");
                            $("#msjSuperaLimiteLstTicketsRelatedActivity").addClass("hidden");

                            //$("#btnBuscar").prop('disabled', true);
                            //$("#BtnExportarExcel").prop('disabled', true);
                            console.log("ERROR AJAX : " + ajaxOptions);
                            console.log("ERROR AJAX : " + thrownError);
                            console.log(xhr.responseText);
                            console.log(xhr);

                        }
                    });
                },
                parameterMap: function (data, operation) {
                    if (operation !== "read" && data.models) {
                        return JSON.stringify({ JSONparam: data.models });
                    }
                }
            },
            error: function (e) {
                alert("Status: " + e.status + "; Error message: " + e.errorThrown);
            },
            batch: false,
            pageSize: PaginationKendoGrid,
            schema: {
                model: {
                    fields: {
                        IdTicket: { type: "number" },
                        NroTicket: { type: "string" },
                        StartDate: { type: "string" },
                        FullNameTicket: { type: "string" },
                        ResponsibleNameTicket: { type: "string" },
                        LocationNameTicket: { type: "string" },
                        OperationName: { type: "string" },
                        ReasonName: { type: "string" },
                        CriticalityName: { type: "string" },
                        TitleDetalle: { type: "string" },
                        DetalleText: { type: "string" },
                    }
                }
            },
            //aggregate: [
            //    {
            //        field: "TicketNumber",
            //        aggregate: "count"
            //    },
            //    {
            //        field: "FuelQuantity",
            //        aggregate: "sum"
            //    }
            //]
        });

        $("#LstTicketsRelatedActivity").kendoGrid({
            dataSource: dataSource,
            sortable: true,
            pageable: true,
            columnMenu: true,
            columnMenu: {
                sortable: true,
                filterable: true,
                columns: true,
                messages: {
                    columns: KendoMsjColumnMenuColumns,
                    filter: KendoMsjColumnMenuFilter,
                    sortAscending: KendoMsjColumnMenuSortAscending,
                    sortDescending: KendoMsjColumnMenuSortDescending,
                    settings: KendoMsjSettings
                }
            },
            columnMenuInit: function (e) {
                var menu = e.container.find(".k-menu").data("kendoMenu");
                menu.bind("select", function (e) {
                    var EtiquetaInput = $(".k-animation-container > .k-menu-group > .k-item > .k-content > .k-filter-menu > .k-textbox :input");
                    EtiquetaInput.focus();
                });
            },
            groupable: false,
            reorderable: true,
            selectable: "row",
            scrollable: true,
            resizable: true,
            filterable: {
                multi: true,
                checkAll: true,
                search: true,
                messages: {
                    clear: KendoMsjClear,
                    filter: KendoMsjFilter,
                    selectedItemsFormat: KendoMsjSelectedItemsFormat,
                    checkAll: KendoMsjCheckAll,
                    search: KendoMsjSearch
                }
            },
            //groupable: {
            //    info: true,
            //    messages: {
            //        empty: "<b style='font-style:italic';>Arrastre una cabecera aquí para agrupar su información por esa columna</b>"
            //    }
            //},
            pageable: {
                messages: {
                    empty: KendoMsjEmpty,
                    page: kendoMsjPage,
                    of: KendoMsjOf,
                    itemsPerPage: KendoMsjItemsPerPage,
                    first: KendoMsjFirst,
                    last: KendoMsjLast,
                    next: KendoMsjNext,
                    previous: KendoMsjPrevious,
                    refresh: KendoMsjRefresh,
                    morePages: KendoMsjMorePages,
                    display: KendoMsjDisplay
                },
                refresh: false,
                pageSizes: true,
                pageSizes: [5, 10, 15],
                /*para la cantidad de paginas se sugieren 5*/
                buttonCount: 5,
                /*Posicion de la pagina*/
                pageSize: 5
            },
            excel: { fileName: "Listado de Tickets en Referencia a la Actividad.xlsx", filterable: true, allPages: true },
            columns: [
                {
                    width: 100,
                    command: {
                        template:
                            "<button class='btn-grid btn-xs BtnVerInfo' type='button' title='Ver datos'><i class='fa fa-lg fa-fw fas fa-eye'></i></button>"
                            //+ " " +"<button class='btn-grid btn-xs BtnAnular' type='button' title='Ver datos'><i class='fa fa-lg fa-fw fas fa-ban'></i></button>"
                    },
                    attributes: { "class": "text-center" },
                    title: ""
                },
                { field: "NroTicket", title: "Nro. Ticket", width: 80, attributes: { "class": "text-center" } },
                { field: "StartDate", title: "Fecha Registro", width: 120, attributes: { "class": "text-center" } },
                { field: "OperationName", title: "Operacion", width: 120, attributes: { "class": "text-center" } },
                { field: "FullNameTicket", title: "Quien Llama", width: 200, attributes: { "class": "text-center" } },
                { field: "ResponsibleNameTicket", title: "Responsable", width: 200, attributes: { "class": "text-center" } },
                { field: "CriticalityName", title: "Criticidad", width: 120, attributes: { "class": "text-center" } },
                { field: "ReasonName", title: "Razón", width: 120, attributes: { "class": "text-center" } },
                { field: "LocationNameTicket", title: "Locación", hidden: true, width: 120, attributes: { "class": "text-center" } },
                { field: "TitleDetalle", title: "Titulo Detalle", width: 150, attributes: { "class": "text-center" } },
                { field: "DetalleText", title: "Detalle Ticket", hidden: true, width: 150, attributes: { "class": "text-center" } }
            ]

            //dataBound: function () {

            //    for (i = 0; i < $("#LstCotizacion").data("kendoGrid").dataSource._view.length; i++) {
            //        var diasRestantes = $("#LstCotizacion").data("kendoGrid").tbody.children()[i].children[2].textContent;

            //        if (diasRestantes < 11) {
            //            $($("#LstCotizacion").data("kendoGrid").tbody.children()[i]).addClass('colorRojo');
            //        }
            //        else if (diasRestantes > 10 && diasRestantes < 21) {
            //            $($("#LstCotizacion").data("kendoGrid").tbody.children()[i]).addClass('colorAmarillo');
            //        }
            //        else if (diasRestantes > 20) {
            //            $($("#LstCotizacion").data("kendoGrid").tbody.children()[i]).addClass('colorVerde');
            //        }
            //        else {
            //            $($("#LstCotizacion").data("kendoGrid").tbody.children()[i]).addClass('colorRojo');
            //        }
            //    }

            //    var Grilla = this;
            //    Grilla.tbody.find("tr[role='row']").each(function () {
            //        var model = Grilla.dataItem(this);
            //        if (model.QuotationStatus != "C") {
            //            $(this).find("td > button.BtnVerInfo").remove();
            //        }

            //    });

            //}
        });


    }

    function GrillaListadoActReferenceTicketPendiente(ValueNumberTicket) {

        $("#LstTicketsRelatedActPendiente").addClass("hidden");
        $("#imgCargaLstTicketsRelatedActPendiente").removeClass("hidden");
        $("#msjErrorLstTicketsRelatedActPendiente").addClass("hidden");
        $("#msjVacioLstTicketsRelatedActPendiente").addClass("hidden");
        $("#msjErrorListarLstTicketsRelatedActPendiente").addClass("hidden");
        $("#msjSuperaLimiteLstTicketsRelatedActPendiente").addClass("hidden");

        var dataSource = new kendo.data.DataSource({
            transport: {
                read: function (options) {
                    $.ajax({
                        type: "GET",
                        url: tRutaServidor + "/Ticket/ListarActRefereceTicketPendiente", /* es importante poner los .. delante */
                        dataType: "json",
                        data: {
                            NroTicket : ValueNumberTicket
                        },
                        success: function (resultado) {
                           /*exitosamente*/
                            if (resultado.length > 0) {
                                /* proceso exitoso con datos*/
                                if (resultado[0].ValorConsulta == "1") {

                                    $("#LstTicketsRelatedActPendiente").removeClass("hidden");
                                    $("#imgCargaLstTicketsRelatedActPendiente").addClass("hidden");
                                    $("#msjErrorLstTicketsRelatedActPendiente").addClass("hidden");
                                    $("#msjVacioLstTicketsRelatedActPendiente").addClass("hidden");
                                    $("#msjErrorListarLstTicketsRelatedActPendiente").addClass("hidden");
                                    $("#msjSuperaLimiteLstTicketsRelatedActPendiente").addClass("hidden");

                                    //$("#btnBuscar").prop('disabled', false);
                                    //$("#BtnExpotarTicketCriticidadAltaA").prop('disabled', false);

                                } else if (resultado[0].ValorConsulta == "-1") {

                                    $("#LstTicketsRelatedActPendiente").addClass("hidden");
                                    $("#imgCargaLstTicketsRelatedActPendiente").addClass("hidden");
                                    $("#msjErrorLstTicketsRelatedActPendiente").addClass("hidden");
                                    $("#msjVacioLstTicketsRelatedActPendiente").addClass("hidden");
                                    $("#msjErrorListarLstTicketsRelatedActPendiente").addClass("hidden");
                                    $("#msjSuperaLimiteLstTicketsRelatedActPendiente").removeClass("hidden");

                                    //$("#btnBuscar").prop('disabled', false);
                                    //$("#BtnExpotarTicketCriticidadAltaA").prop('disabled', true);
                                }
                                else {
                                    /* proceso fallido catch listado datos*/
                                    $("#LstTicketsRelatedActPendiente").addClass("hidden");
                                    $("#imgCargaLstTicketsRelatedActPendiente").addClass("hidden");
                                    $("#msjErrorLstTicketsRelatedActPendiente").addClass("hidden");
                                    $("#msjVacioLstTicketsRelatedActPendiente").addClass("hidden");
                                    $("#msjErrorListarLstTicketsRelatedActPendiente").removeClass("hidden");
                                    $("#msjSuperaLimiteLstTicketsRelatedActPendiente").addClass("hidden");

                                    //$("#btnBuscar").prop('disabled', true);
                                    //$("#BtnExpotarTicketCriticidadAltaA").prop('disabled', true);
                                    console.log(resultado);
                                }

                            } else {

                                $("#LstTicketsRelatedActPendiente").addClass("hidden");
                                $("#imgCargaLstTicketsRelatedActPendiente").addClass("hidden");
                                $("#msjErrorLstTicketsRelatedActPendiente").addClass("hidden");
                                $("#msjVacioLstTicketsRelatedActPendiente").removeClass("hidden");
                                $("#msjErrorListarLstTicketsRelatedActPendiente").addClass("hidden");
                                $("#msjSuperaLimiteLstTicketsRelatedActPendiente").addClass("hidden");

                                //$("#btnBuscar").prop('disabled', false);
                                //$("#BtnExpotarTicketCriticidadAltaA").prop('disabled', true);
                            }

                            options.success(resultado);
                            var grid = $("#LstTicketsRelatedActPendiente").data("kendoGrid");
                            if (grid.dataSource.total() > 0) {
                                grid.setDataSource(dataSource);
                            }

                        },
                        error: function (xhr, ajaxOptions, thrownError) {
                            /*fallo al llamar a la funcion ajax*/
                            $("#LstTicketsRelatedActPendiente").addClass("hidden");
                            $("#imgCargaLstTicketsRelatedActPendiente").addClass("hidden");
                            $("#msjErrorLstTicketsRelatedActPendiente").removeClass("hidden");
                            $("#msjVacioLstTicketsRelatedActPendiente").addClass("hidden");
                            $("#msjErrorListarLstTicketsRelatedActPendiente").addClass("hidden");
                            $("#msjSuperaLimiteLstTicketsRelatedActPendiente").addClass("hidden");

                            //$("#btnBuscar").prop('disabled', true);
                            //$("#BtnExportarExcel").prop('disabled', true);
                            console.log("ERROR AJAX : " + ajaxOptions);
                            console.log("ERROR AJAX : " + thrownError);
                            console.log(xhr.responseText);
                            console.log(xhr);

                        }
                    });
                },
                parameterMap: function (data, operation) {
                    if (operation !== "read" && data.models) {
                        return JSON.stringify({ JSONparam: data.models });
                    }
                }
            },
            error: function (e) {
                alert("Status: " + e.status + "; Error message: " + e.errorThrown);
            },
            batch: false,
            pageSize: PaginationKendoGrid,
            schema: {
                model: {
                    fields: {
                        IdTicket: { type: "number" },
                        NroTicket: { type: "string" },
                        StartDate: { type: "string" },
                        FullNameTicket: { type: "string" },
                        ResponsibleNameTicket: { type: "string" },
                        LocationNameTicket: { type: "string" },
                        OperationName: { type: "string" },
                        ReasonName: { type: "string" },
                        CriticalityName: { type: "string" },
                        TitleDetalle: { type: "string" },
                        DetalleText: { type: "string" },
                    }
                }
            },
            //aggregate: [
            //    {
            //        field: "TicketNumber",
            //        aggregate: "count"
            //    },
            //    {
            //        field: "FuelQuantity",
            //        aggregate: "sum"
            //    }
            //]
        });

        $("#LstTicketsRelatedActPendiente").kendoGrid({
            dataSource: dataSource,
            sortable: true,
            pageable: true,
            columnMenu: true,
            columnMenu: {
                sortable: true,
                filterable: true,
                columns: true,
                messages: {
                    columns: KendoMsjColumnMenuColumns,
                    filter: KendoMsjColumnMenuFilter,
                    sortAscending: KendoMsjColumnMenuSortAscending,
                    sortDescending: KendoMsjColumnMenuSortDescending,
                    settings: KendoMsjSettings
                }
            },
            columnMenuInit: function (e) {
                var menu = e.container.find(".k-menu").data("kendoMenu");
                menu.bind("select", function (e) {
                    var EtiquetaInput = $(".k-animation-container > .k-menu-group > .k-item > .k-content > .k-filter-menu > .k-textbox :input");
                    EtiquetaInput.focus();
                });
            },
            groupable: false,
            reorderable: true,
            selectable: "row",
            scrollable: true,
            resizable: true,
            filterable: {
                multi: true,
                checkAll: true,
                search: true,
                messages: {
                    clear: KendoMsjClear,
                    filter: KendoMsjFilter,
                    selectedItemsFormat: KendoMsjSelectedItemsFormat,
                    checkAll: KendoMsjCheckAll,
                    search: KendoMsjSearch
                }
            },
            //groupable: {
            //    info: true,
            //    messages: {
            //        empty: "<b style='font-style:italic';>Arrastre una cabecera aquí para agrupar su información por esa columna</b>"
            //    }
            //},
            pageable: {
                messages: {
                    empty: KendoMsjEmpty,
                    page: kendoMsjPage,
                    of: KendoMsjOf,
                    itemsPerPage: KendoMsjItemsPerPage,
                    first: KendoMsjFirst,
                    last: KendoMsjLast,
                    next: KendoMsjNext,
                    previous: KendoMsjPrevious,
                    refresh: KendoMsjRefresh,
                    morePages: KendoMsjMorePages,
                    display: KendoMsjDisplay
                },
                refresh: false,
                pageSizes: true,
                pageSizes: [5, 10, 15],
                /*para la cantidad de paginas se sugieren 5*/
                buttonCount: 5,
                /*Posicion de la pagina*/
                pageSize: 5
            },
            excel: { fileName: "Listado de Tickets en Referencia a la Actividad.xlsx", filterable: true, allPages: true },
            columns: [
                {
                    width: 100,
                    command: {
                        template:
                            "<button class='btn-grid btn-xs BtnVerInfo' type='button' title='Ver datos'><i class='fa fa-lg fa-fw fas fa-eye'></i></button>"
                            //+ " " +"<button class='btn-grid btn-xs BtnAnular' type='button' title='Ver datos'><i class='fa fa-lg fa-fw fas fa-ban'></i></button>"
                    },
                    attributes: { "class": "text-center" },
                    title: ""
                },
                { field: "NroTicket", title: "Nro. Ticket", width: 80, attributes: { "class": "text-center" } },
                { field: "StartDate", title: "Fecha Registro", width: 120, attributes: { "class": "text-center" } },
                { field: "OperationName", title: "Operacion", width: 120, attributes: { "class": "text-center" } },
                { field: "FullNameTicket", title: "Quien Llama", width: 200, attributes: { "class": "text-center" } },
                { field: "ResponsibleNameTicket", title: "Responsable", width: 200, attributes: { "class": "text-center" } },
                { field: "CriticalityName", title: "Criticidad", width: 120, attributes: { "class": "text-center" } },
                { field: "ReasonName", title: "Razón", width: 120, attributes: { "class": "text-center" } },
                { field: "LocationNameTicket", title: "Locación", hidden: true, width: 120, attributes: { "class": "text-center" } },
                { field: "TitleDetalle", title: "Titulo Detalle", width: 150, attributes: { "class": "text-center" } },
                { field: "DetalleText", title: "Detalle Ticket", hidden: true, width: 150, attributes: { "class": "text-center" } }
            ]

            //dataBound: function () {

            //    for (i = 0; i < $("#LstCotizacion").data("kendoGrid").dataSource._view.length; i++) {
            //        var diasRestantes = $("#LstCotizacion").data("kendoGrid").tbody.children()[i].children[2].textContent;

            //        if (diasRestantes < 11) {
            //            $($("#LstCotizacion").data("kendoGrid").tbody.children()[i]).addClass('colorRojo');
            //        }
            //        else if (diasRestantes > 10 && diasRestantes < 21) {
            //            $($("#LstCotizacion").data("kendoGrid").tbody.children()[i]).addClass('colorAmarillo');
            //        }
            //        else if (diasRestantes > 20) {
            //            $($("#LstCotizacion").data("kendoGrid").tbody.children()[i]).addClass('colorVerde');
            //        }
            //        else {
            //            $($("#LstCotizacion").data("kendoGrid").tbody.children()[i]).addClass('colorRojo');
            //        }
            //    }

            //    var Grilla = this;
            //    Grilla.tbody.find("tr[role='row']").each(function () {
            //        var model = Grilla.dataItem(this);
            //        if (model.QuotationStatus != "C") {
            //            $(this).find("td > button.BtnVerInfo").remove();
            //        }

            //    });

            //}
        });


    }

    function GrillaListadoActReferenceTicketCompletado(ValueNumberTicket) {

        $("#LstTicketsRelatedActivityCompletado").addClass("hidden");
        $("#imgCargaLstTicketsRelatedActivityCompletado").removeClass("hidden");
        $("#msjErrorLstTicketsRelatedActivityCompletado").addClass("hidden");
        $("#msjVacioLstTicketsRelatedActivityCompletado").addClass("hidden");
        $("#msjErrorListarLstTicketsRelatedActivityCompletado").addClass("hidden");
        $("#msjSuperaLimiteLstTicketsRelatedActivityCompletado").addClass("hidden");

        var dataSource = new kendo.data.DataSource({
            transport: {
                read: function (options) {
                    $.ajax({
                        type: "GET",
                        url: tRutaServidor + "/Ticket/ListarActRefereceTicketCompletado", /* es importante poner los .. delante */
                        dataType: "json",
                        data: {
                            NroTicket : ValueNumberTicket
                        },
                        success: function (resultado) {
                           /*exitosamente*/
                            if (resultado.length > 0) {
                                /* proceso exitoso con datos*/
                                if (resultado[0].ValorConsulta == "1") {

                                    $("#LstTicketsRelatedActivityCompletado").removeClass("hidden");
                                    $("#imgCargaLstTicketsRelatedActivityCompletado").addClass("hidden");
                                    $("#msjErrorLstTicketsRelatedActivityCompletado").addClass("hidden");
                                    $("#msjVacioLstTicketsRelatedActivityCompletado").addClass("hidden");
                                    $("#msjErrorListarLstTicketsRelatedActivityCompletado").addClass("hidden");
                                    $("#msjSuperaLimiteLstTicketsRelatedActivityCompletado").addClass("hidden");

                                    //$("#btnBuscar").prop('disabled', false);
                                    //$("#BtnExpotarTicketCriticidadAltaA").prop('disabled', false);

                                } else if (resultado[0].ValorConsulta == "-1") {

                                    $("#LstTicketsRelatedActivityCompletado").addClass("hidden");
                                    $("#imgCargaLstTicketsRelatedActivityCompletado").addClass("hidden");
                                    $("#msjErrorLstTicketsRelatedActivityCompletado").addClass("hidden");
                                    $("#msjVacioLstTicketsRelatedActivityCompletado").addClass("hidden");
                                    $("#msjErrorListarLstTicketsRelatedActivityCompletado").addClass("hidden");
                                    $("#msjSuperaLimiteLstTicketsRelatedActivityCompletado").removeClass("hidden");

                                    //$("#btnBuscar").prop('disabled', false);
                                    //$("#BtnExpotarTicketCriticidadAltaA").prop('disabled', true);
                                }
                                else {
                                    /* proceso fallido catch listado datos*/
                                    $("#LstTicketsRelatedActivityCompletado").addClass("hidden");
                                    $("#imgCargaLstTicketsRelatedActivityCompletado").addClass("hidden");
                                    $("#msjErrorLstTicketsRelatedActivityCompletado").addClass("hidden");
                                    $("#msjVacioLstTicketsRelatedActivityCompletado").addClass("hidden");
                                    $("#msjErrorListarLstTicketsRelatedActivityCompletado").removeClass("hidden");
                                    $("#msjSuperaLimiteLstTicketsRelatedActivityCompletado").addClass("hidden");

                                    //$("#btnBuscar").prop('disabled', true);
                                    //$("#BtnExpotarTicketCriticidadAltaA").prop('disabled', true);
                                    console.log(resultado);
                                }

                            } else {

                                $("#LstTicketsRelatedActivityCompletado").addClass("hidden");
                                $("#imgCargaLstTicketsRelatedActivityCompletado").addClass("hidden");
                                $("#msjErrorLstTicketsRelatedActivityCompletado").addClass("hidden");
                                $("#msjVacioLstTicketsRelatedActivityCompletado").removeClass("hidden");
                                $("#msjErrorListarLstTicketsRelatedActivityCompletado").addClass("hidden");
                                $("#msjSuperaLimiteLstTicketsRelatedActivityCompletado").addClass("hidden");

                                //$("#btnBuscar").prop('disabled', false);
                                //$("#BtnExpotarTicketCriticidadAltaA").prop('disabled', true);
                            }

                            options.success(resultado);
                            var grid = $("#LstTicketsRelatedActivityCompletado").data("kendoGrid");
                            if (grid.dataSource.total() > 0) {
                                grid.setDataSource(dataSource);
                            }

                        },
                        error: function (xhr, ajaxOptions, thrownError) {
                            /*fallo al llamar a la funcion ajax*/
                            $("#LstTicketsRelatedActivityCompletado").addClass("hidden");
                            $("#imgCargaLstTicketsRelatedActivityCompletado").addClass("hidden");
                            $("#msjErrorLstTicketsRelatedActivityCompletado").removeClass("hidden");
                            $("#msjVacioLstTicketsRelatedActivityCompletado").addClass("hidden");
                            $("#msjErrorListarLstTicketsRelatedActivityCompletado").addClass("hidden");
                            $("#msjSuperaLimiteLstTicketsRelatedActivityCompletado").addClass("hidden");

                            //$("#btnBuscar").prop('disabled', true);
                            //$("#BtnExportarExcel").prop('disabled', true);
                            console.log("ERROR AJAX : " + ajaxOptions);
                            console.log("ERROR AJAX : " + thrownError);
                            console.log(xhr.responseText);
                            console.log(xhr);

                        }
                    });
                },
                parameterMap: function (data, operation) {
                    if (operation !== "read" && data.models) {
                        return JSON.stringify({ JSONparam: data.models });
                    }
                }
            },
            error: function (e) {
                alert("Status: " + e.status + "; Error message: " + e.errorThrown);
            },
            batch: false,
            pageSize: PaginationKendoGrid,
            schema: {
                model: {
                    fields: {
                        IdTicket: { type: "number" },
                        NroTicket: { type: "string" },
                        StartDate: { type: "string" },
                        FullNameTicket: { type: "string" },
                        ResponsibleNameTicket: { type: "string" },
                        LocationNameTicket: { type: "string" },
                        OperationName: { type: "string" },
                        ReasonName: { type: "string" },
                        CriticalityName: { type: "string" },
                        TitleDetalle: { type: "string" },
                        DetalleText: { type: "string" },
                    }
                }
            },
            //aggregate: [
            //    {
            //        field: "TicketNumber",
            //        aggregate: "count"
            //    },
            //    {
            //        field: "FuelQuantity",
            //        aggregate: "sum"
            //    }
            //]
        });

        $("#LstTicketsRelatedActivityCompletado").kendoGrid({
            dataSource: dataSource,
            sortable: true,
            pageable: true,
            columnMenu: true,
            columnMenu: {
                sortable: true,
                filterable: true,
                columns: true,
                messages: {
                    columns: KendoMsjColumnMenuColumns,
                    filter: KendoMsjColumnMenuFilter,
                    sortAscending: KendoMsjColumnMenuSortAscending,
                    sortDescending: KendoMsjColumnMenuSortDescending,
                    settings: KendoMsjSettings
                }
            },
            columnMenuInit: function (e) {
                var menu = e.container.find(".k-menu").data("kendoMenu");
                menu.bind("select", function (e) {
                    var EtiquetaInput = $(".k-animation-container > .k-menu-group > .k-item > .k-content > .k-filter-menu > .k-textbox :input");
                    EtiquetaInput.focus();
                });
            },
            groupable: false,
            reorderable: true,
            selectable: "row",
            scrollable: true,
            resizable: true,
            filterable: {
                multi: true,
                checkAll: true,
                search: true,
                messages: {
                    clear: KendoMsjClear,
                    filter: KendoMsjFilter,
                    selectedItemsFormat: KendoMsjSelectedItemsFormat,
                    checkAll: KendoMsjCheckAll,
                    search: KendoMsjSearch
                }
            },
            //groupable: {
            //    info: true,
            //    messages: {
            //        empty: "<b style='font-style:italic';>Arrastre una cabecera aquí para agrupar su información por esa columna</b>"
            //    }
            //},
            pageable: {
                messages: {
                    empty: KendoMsjEmpty,
                    page: kendoMsjPage,
                    of: KendoMsjOf,
                    itemsPerPage: KendoMsjItemsPerPage,
                    first: KendoMsjFirst,
                    last: KendoMsjLast,
                    next: KendoMsjNext,
                    previous: KendoMsjPrevious,
                    refresh: KendoMsjRefresh,
                    morePages: KendoMsjMorePages,
                    display: KendoMsjDisplay
                },
                refresh: false,
                pageSizes: true,
                pageSizes: [5, 10, 15],
                /*para la cantidad de paginas se sugieren 5*/
                buttonCount: 5,
                /*Posicion de la pagina*/
                pageSize: 5
            },
            excel: { fileName: "Listado de Tickets en Referencia a la Actividad.xlsx", filterable: true, allPages: true },
            columns: [
                {
                    width: 100,
                    command: {
                        template:
                            "<button class='btn-grid btn-xs BtnVerInfo' type='button' title='Ver datos'><i class='fa fa-lg fa-fw fas fa-eye'></i></button>"
                            //+ " " +"<button class='btn-grid btn-xs BtnAnular' type='button' title='Ver datos'><i class='fa fa-lg fa-fw fas fa-ban'></i></button>"
                    },
                    attributes: { "class": "text-center" },
                    title: ""
                },
                { field: "NroTicket", title: "Nro. Ticket", width: 80, attributes: { "class": "text-center" } },
                { field: "StartDate", title: "Fecha Registro", width: 120, attributes: { "class": "text-center" } },
                { field: "OperationName", title: "Operacion", width: 120, attributes: { "class": "text-center" } },
                { field: "FullNameTicket", title: "Quien Llama", width: 200, attributes: { "class": "text-center" } },
                { field: "ResponsibleNameTicket", title: "Responsable", width: 200, attributes: { "class": "text-center" } },
                { field: "CriticalityName", title: "Criticidad", width: 120, attributes: { "class": "text-center" } },
                { field: "ReasonName", title: "Razón", width: 120, attributes: { "class": "text-center" } },
                { field: "LocationNameTicket", title: "Locación", hidden: true, width: 120, attributes: { "class": "text-center" } },
                { field: "TitleDetalle", title: "Titulo Detalle", width: 150, attributes: { "class": "text-center" } },
                { field: "DetalleText", title: "Detalle Ticket", hidden: true, width: 150, attributes: { "class": "text-center" } }
            ]

            //dataBound: function () {

            //    for (i = 0; i < $("#LstCotizacion").data("kendoGrid").dataSource._view.length; i++) {
            //        var diasRestantes = $("#LstCotizacion").data("kendoGrid").tbody.children()[i].children[2].textContent;

            //        if (diasRestantes < 11) {
            //            $($("#LstCotizacion").data("kendoGrid").tbody.children()[i]).addClass('colorRojo');
            //        }
            //        else if (diasRestantes > 10 && diasRestantes < 21) {
            //            $($("#LstCotizacion").data("kendoGrid").tbody.children()[i]).addClass('colorAmarillo');
            //        }
            //        else if (diasRestantes > 20) {
            //            $($("#LstCotizacion").data("kendoGrid").tbody.children()[i]).addClass('colorVerde');
            //        }
            //        else {
            //            $($("#LstCotizacion").data("kendoGrid").tbody.children()[i]).addClass('colorRojo');
            //        }
            //    }

            //    var Grilla = this;
            //    Grilla.tbody.find("tr[role='row']").each(function () {
            //        var model = Grilla.dataItem(this);
            //        if (model.QuotationStatus != "C") {
            //            $(this).find("td > button.BtnVerInfo").remove();
            //        }

            //    });

            //}
        });


    }

    /* -------------------------------------------------------------------------- */

    function CrearCargo() {

        $("#CargaTemporal").removeClass("hidden");

        $.ajax({
            type: "POST",
            url: tRutaServidor + "/Position/CrearCargo",
            dataType: "json",
            data: "PositionName=" + $("#txtCargoNombre").val().trim(),
            success: function (resultado) {

                if (resultado == "1") {
                    $("#CargaTemporal").addClass("hidden");
                    toastr.options.timeOut = nTiempoCorto;
                    toastr.options.extendedTimeOut = nTiempoCorto;
                    /*success - info - warning - error*/
                    var $toast = toastr["success"](tMensajeCreadoExito, tTituloExito); $toastlast = $toast;

                    ComboCargo('1', $("#txtCargoNombre").val().trim());
                    document.getElementById('btnGrabarNuevoCargo').disabled = false;
                    $('#ModalCargo').modal('hide');

                } else if (resultado == "2") {
                    $("#CargaTemporal").addClass("hidden");
                    toastr.options.timeOut = nTiempoMedio;
                    toastr.options.extendedTimeOut = nTiempoMedio;
                    /*success - info - warning - error*/
                    var $toast = toastr["error"](tMensajeErrorYaExiste, tTituloError); $toastlast = $toast;
                    document.getElementById('btnGrabarNuevoCargo').disabled = false;

                } else if (resultado == "0") {
                    $("#CargaTemporal").addClass("hidden");
                    toastr.options.timeOut = nTiempoMedio;
                    toastr.options.extendedTimeOut = nTiempoMedio;
                    /*success - info - warning - error*/
                    var $toast = toastr["error"](tMensajeErrorDesconocido, tTituloError); $toastlast = $toast;
                    console.log("Mensaje del error : " + resultado);

                } else {
                    $("#CargaTemporal").addClass("hidden");
                    toastr.options.timeOut = nTiempoMedio;
                    toastr.options.extendedTimeOut = nTiempoMedio;
                    /*success - info - warning - error*/
                    var $toast = toastr["error"](tMensajeErrorDesconocido, tTituloError); $toastlast = $toast;
                    console.log("Mensaje del error : " + resultado);
                }

            },
            error: function (xhr, ajaxOptions, thrownError) {
                $("#CargaTemporal").addClass("hidden");
                /*fallo al llamar a la funcion ajax*/
                toastr.options.timeOut = nTiempoLargo;
                toastr.options.extendedTimeOut = nTiempoLargo;
                /*success - info - warning - error*/
                var $toast = toastr["error"](tMensajeErrorConexion, tTituloErrorConexion); $toastlast = $toast;
                console.log("ERROR AJAX : " + ajaxOptions);
                console.log("ERROR AJAX : " + thrownError);
                console.log(xhr.responseText);
                console.log(xhr);
            }
        });
    }

    function CrearOperacion() {
            //$("#CargaTemporal").removeClass("hidden");
            $.ajax({
                type: "POST",
                url: tRutaServidor + "/Operation/CrearOperacion",
                dataType: "json",
                data:
                {
                    OperationName: $("#txtNombreOperacion").val().trim()
                },
                success: function (resultado) {

                    if (resultado == "1") {
                        //$("#CargaTemporal").addClass("hidden");
                        toastr.options.timeOut = nTiempoCorto;
                        toastr.options.extendedTimeOut = nTiempoCorto;
                        /*success - info - warning - error*/
                        var $toast = toastr["success"](tMensajeCreadoExito, tTituloExito); $toastlast = $toast;

                        ComboOperacion("1", $("#txtNombreOperacion").val().trim());
                        document.getElementById('btnGrabarNuevaOperacion').disabled = false;
                        $('#ModalOperacion').modal('hide');

                    } else if (resultado == "2") {
                        //$("#CargaTemporal").addClass("hidden");
                        toastr.options.timeOut = nTiempoMedio;
                        toastr.options.extendedTimeOut = nTiempoMedio;
                        /*success - info - warning - error*/
                        var $toast = toastr["error"](tMensajeErrorYaExiste, tTituloError); $toastlast = $toast;
                        document.getElementById('btnGrabarNuevaOperacion').disabled = false;

                    } else if (resultado == "0") {
                        //$("#CargaTemporal").addClass("hidden");
                        toastr.options.timeOut = nTiempoMedio;
                        toastr.options.extendedTimeOut = nTiempoMedio;
                        /*success - info - warning - error*/
                        var $toast = toastr["error"](tMensajeErrorDesconocido, tTituloError); $toastlast = $toast;
                        console.log("Mensaje del error : " + resultado);

                    } else {
                        //$("#CargaTemporal").addClass("hidden");
                        toastr.options.timeOut = nTiempoMedio;
                        toastr.options.extendedTimeOut = nTiempoMedio;
                        /*success - info - warning - error*/
                        var $toast = toastr["error"](tMensajeErrorDesconocido, tTituloError); $toastlast = $toast;
                        console.log("Mensaje del error : " + resultado);
                    }

                },
                error: function (xhr, ajaxOptions, thrownError) {
                    //$("#CargaTemporal").addClass("hidden");
                    /*fallo al llamar a la funcion ajax*/
                    toastr.options.timeOut = nTiempoLargo;
                    toastr.options.extendedTimeOut = nTiempoLargo;
                    /*success - info - warning - error*/
                    var $toast = toastr["error"](tMensajeErrorConexion, tTituloErrorConexion); $toastlast = $toast;
                    console.log("ERROR AJAX : " + ajaxOptions);
                    console.log("ERROR AJAX : " + thrownError);
                    console.log(xhr.responseText);
                    console.log(xhr);
                }
            });
        }

    function CrearReason() {

        //$("#CargaTemporal").removeClass("hidden");

        $.ajax({
            type: "POST",
            url: tRutaServidor + "/Reason/CrearReason",
            dataType: "json",
            data: "ReasonName=" + $("#txtReasonNombre").val().trim(),
            success: function (resultado) {

                if (resultado == "1") {

                    //$("#CargaTemporal").addClass("hidden");
                    toastr.options.timeOut = nTiempoCorto;
                    toastr.options.extendedTimeOut = nTiempoCorto;
                    /*success - info - warning - error*/
                    var $toast = toastr["success"](tMensajeCreadoExito, tTituloExito); $toastlast = $toast;

                    //ComboCargo('1', $("#txtCargoNombre").val().trim());
                    document.getElementById('txtReasonNombre').value = "";
                    document.getElementById('btnAgregarRazon').disabled = false;

                    ComboReason();

                    $('#ModalReason').modal('hide');

                } else if (resultado == "2") {
                    //$("#CargaTemporal").addClass("hidden");
                    toastr.options.timeOut = nTiempoMedio;
                    toastr.options.extendedTimeOut = nTiempoMedio;
                    /*success - info - warning - error*/
                    var $toast = toastr["error"](tMensajeErrorYaExiste, tTituloError); $toastlast = $toast;
                    document.getElementById('btnAgregarRazon').disabled = false;

                } else if (resultado == "0") {
                    $("#CargaTemporal").addClass("hidden");
                    toastr.options.timeOut = nTiempoMedio;
                    toastr.options.extendedTimeOut = nTiempoMedio;
                    /*success - info - warning - error*/
                    var $toast = toastr["error"](tMensajeErrorDesconocido, tTituloError); $toastlast = $toast;
                    console.log("Mensaje del error : " + resultado);

                } else {
                    $("#CargaTemporal").addClass("hidden");
                    toastr.options.timeOut = nTiempoMedio;
                    toastr.options.extendedTimeOut = nTiempoMedio;
                    /*success - info - warning - error*/
                    var $toast = toastr["error"](tMensajeErrorDesconocido, tTituloError); $toastlast = $toast;
                    console.log("Mensaje del error : " + resultado);
                }

            },
            error: function (xhr, ajaxOptions, thrownError) {
                $("#CargaTemporal").addClass("hidden");
                /*fallo al llamar a la funcion ajax*/
                toastr.options.timeOut = nTiempoLargo;
                toastr.options.extendedTimeOut = nTiempoLargo;
                /*success - info - warning - error*/
                var $toast = toastr["error"](tMensajeErrorConexion, tTituloErrorConexion); $toastlast = $toast;
                console.log("ERROR AJAX : " + ajaxOptions);
                console.log("ERROR AJAX : " + thrownError);
                console.log(xhr.responseText);
                console.log(xhr);
            }
        });
    }

    function CrearLocacion() {

        //$("#CargaTemporal").removeClass("hidden");

        $.ajax({
            type: "POST",
            url: tRutaServidor + "/Reason/CrearLocacion",
            dataType: "json",
            data: "LocacionName=" + $("#txtLocacionNombre").val().trim(),
            success: function (resultado) {

                if (resultado == "1") {

                    //$("#CargaTemporal").addClass("hidden");
                    toastr.options.timeOut = nTiempoCorto;
                    toastr.options.extendedTimeOut = nTiempoCorto;
                    /*success - info - warning - error*/
                    var $toast = toastr["success"](tMensajeCreadoExito, tTituloExito); $toastlast = $toast;

                    //ComboCargo('1', $("#txtCargoNombre").val().trim());
                    document.getElementById('txtLocacionNombre').value = "";
                    document.getElementById('btnAgregarLocation').disabled = false;

                    ComboLocation();

                    $('#ModalLocation').modal('hide');

                } else if (resultado == "2") {
                    //$("#CargaTemporal").addClass("hidden");
                    toastr.options.timeOut = nTiempoMedio;
                    toastr.options.extendedTimeOut = nTiempoMedio;
                    /*success - info - warning - error*/
                    var $toast = toastr["error"](tMensajeErrorYaExiste, tTituloError); $toastlast = $toast;
                    document.getElementById('btnAgregarLocation').disabled = false;

                } else if (resultado == "0") {
                    $("#CargaTemporal").addClass("hidden");
                    toastr.options.timeOut = nTiempoMedio;
                    toastr.options.extendedTimeOut = nTiempoMedio;
                    /*success - info - warning - error*/
                    var $toast = toastr["error"](tMensajeErrorDesconocido, tTituloError); $toastlast = $toast;
                    console.log("Mensaje del error : " + resultado);

                } else {
                    $("#CargaTemporal").addClass("hidden");
                    toastr.options.timeOut = nTiempoMedio;
                    toastr.options.extendedTimeOut = nTiempoMedio;
                    /*success - info - warning - error*/
                    var $toast = toastr["error"](tMensajeErrorDesconocido, tTituloError); $toastlast = $toast;
                    console.log("Mensaje del error : " + resultado);
                }

            },
            error: function (xhr, ajaxOptions, thrownError) {
                $("#CargaTemporal").addClass("hidden");
                /*fallo al llamar a la funcion ajax*/
                toastr.options.timeOut = nTiempoLargo;
                toastr.options.extendedTimeOut = nTiempoLargo;
                /*success - info - warning - error*/
                var $toast = toastr["error"](tMensajeErrorConexion, tTituloErrorConexion); $toastlast = $toast;
                console.log("ERROR AJAX : " + ajaxOptions);
                console.log("ERROR AJAX : " + thrownError);
                console.log(xhr.responseText);
                console.log(xhr);
            }
        });
    }

    function ListarActiviadesTodas() {

         var dataSource = new kendo.data.DataSource({
            transport: {
                read: function (options) {
                    $.ajax({
                        type: "GET",
                        url: tRutaServidor + "/Activity/ListarActividadesTodas", /* es importante poner los .. delante */
                        dataType: "json",
                        /*async: false,*/
                        data: {
                            IdPerson: UsusarioPersonId,
                            StatusCategory: ValueFilterTicket
                        },
                        success: function (resultado) {
                           /*exitosamente*/
                            let html;

                            if (resultado.length > 0) {
                                /* proceso exitoso con datos*/
                                if (resultado[0].ValorConsulta == "1") {

                                    html = resultado.length;

                                    document.getElementById("txtCantidadTotalActividades").innerHTML = html;

                                    $("#LstActivityPendiente").removeClass("hidden");
                                    $("#imgCargaLstActivityPendiente").addClass("hidden");
                                    $("#msjErrorLstActivityPendiente").addClass("hidden");
                                    $("#msjVacioLstActivityPendiente").addClass("hidden");
                                    $("#msjErrorListarLstActivityPendiente").addClass("hidden");
                                    $("#msjSuperaLimiteLstActivityPendiente").addClass("hidden");

                                    //$("#btnBuscar").prop('disabled', false);
                                    //$("#BtnExportarExcelActividadesCompletadas").prop('disabled', false);

                                } else if (resultado[0].ValorConsulta == "-1") {

                                    $("#LstActivityPendiente").addClass("hidden");
                                    $("#imgCargaLstActivityPendiente").addClass("hidden");
                                    $("#msjErrorLstActivityPendiente").addClass("hidden");
                                    $("#msjVacioLstActivityPendiente").addClass("hidden");
                                    $("#msjErrorListarLstActivityPendiente").addClass("hidden");
                                    $("#msjSuperaLimiteLstActivityPendiente").removeClass("hidden");

                                    ////$("#btnBuscar").prop('disabled', false);
                                    //$("#BtnExportarExcelActividadesCompletadas").prop('disabled', true);
                                }
                                else {
                                    /* proceso fallido catch listado datos*/
                                    $("#LstActivityPendiente").addClass("hidden");
                                    $("#imgCargaLstActivityPendiente").addClass("hidden");
                                    $("#msjErrorLstActivityPendiente").addClass("hidden");
                                    $("#msjVacioLstActivityPendiente").addClass("hidden");
                                    $("#msjErrorListarLstActivityPendiente").removeClass("hidden");
                                    $("#msjSuperaLimiteLstActivityPendiente").addClass("hidden");

                                    //$("#btnBuscar").prop('disabled', true);
                                    //$("#BtnExportarExcelActividadesCompletadas").prop('disabled', true);
                                    console.log(resultado);
                                }

                            } else {

                                html = 0;

                                document.getElementById("txtCantidadTotalActividades").innerHTML = html;

                                $("#LstActivityPendiente").addClass("hidden");
                                $("#imgCargaLstActivityPendiente").addClass("hidden");
                                $("#msjErrorLstActivityPendiente").addClass("hidden");
                                $("#msjVacioLstActivityPendiente").removeClass("hidden");
                                $("#msjErrorListarLstActivityPendiente").addClass("hidden");
                                $("#msjSuperaLimiteLstActivityPendiente").addClass("hidden");

                                //$("#btnBuscar").prop('disabled', false);
                                //$("#BtnExportarExcelActividadesCompletadas").prop('disabled', true);
                            }

                            options.success(resultado);
                            var grid = $("#LstActivityPendiente").data("kendoGrid");
                            if (grid.dataSource.total() > 0) {
                                grid.setDataSource(dataSource);
                            }

                        },
                        error: function (xhr, ajaxOptions, thrownError) {
                            /*fallo al llamar a la funcion ajax*/
                            $("#LstActivityPendiente").addClass("hidden");
                            $("#imgCargaLstActivityPendiente").addClass("hidden");
                            $("#msjErrorLstActivityPendiente").removeClass("hidden");
                            $("#msjVacioLstActivityPendiente").addClass("hidden");
                            $("#msjErrorListarLstActivityPendiente").addClass("hidden");
                            $("#msjSuperaLimiteLstActivityPendiente").addClass("hidden");

                            //$("#btnBuscar").prop('disabled', true);
                            //$("#BtnExportarExcel").prop('disabled', true);
                            console.log("ERROR AJAX : " + ajaxOptions);
                            console.log("ERROR AJAX : " + thrownError);
                            console.log(xhr.responseText);
                            console.log(xhr);

                        }
                    });
                },
                parameterMap: function (data, operation) {
                    if (operation !== "read" && data.models) {
                        return JSON.stringify({ JSONparam: data.models });
                    }
                }
            },
            error: function (e) {
                alert("Status: " + e.status + "; Error message: " + e.errorThrown);
            },
            batch: false,
            pageSize: PaginationKendoGrid,
            schema: {
                model: {
                    fields: {
                            NroTicket: { type: "string" },
                            StartDate: { type: "string" },
                            UsuarioNameTicket: { type: "string" },
                            ResponsibleNameTicket: { type: "string" },
                            FullNameTicket: { type: "string" },
                            OperationName: { type: "string" },
                            ReasonName: { type: "string" },
                            LocationNameTicket: { type: "string" },
                            CriticalityName: { type: "string" },
                            TitleDescription: { type: "string" },
                            DetalleText: { type: "string" },
                            ResponsibleId: { type: "number" },
                            MigrationStatus: { type: "string" },
                            /*--------------*/
                            IdActivity: { type: "number" },
                            OldDifferenceDate: { type: "string" },
                            //TitleDescription: { type: "string" },
                            ActivityText: { type: "string" },
                            FullNameActivity: { type: "string" },
                            DescripcionActivity: { type: "string" },
                            FechaCierre: { type: "string" },
                            Estado: { type: "string" },
                            OperationName: { type: "string" },
                            ResponsibleId: { type: "number" },
                            ValidationButton:{ type: "string" },
                    }
                }
            },
            //aggregate: [
            //    {
            //        field: "TicketNumber",
            //        aggregate: "count"
            //    },
            //    {
            //        field: "FuelQuantity",
            //        aggregate: "sum"
            //    }
            //]
        });

        $("#LstActivityPendiente").kendoGrid({
            dataSource: dataSource,
            sortable: true,
            pageable: true,
            columnMenu: true,
            columnMenu: {
                sortable: true,
                filterable: true,
                columns: true,
                messages: {
                    columns: KendoMsjColumnMenuColumns,
                    filter: KendoMsjColumnMenuFilter,
                    sortAscending: KendoMsjColumnMenuSortAscending,
                    sortDescending: KendoMsjColumnMenuSortDescending,
                    settings: KendoMsjSettings
                }
            },
            columnMenuInit: function (e) {
                var menu = e.container.find(".k-menu").data("kendoMenu");
                menu.bind("select", function (e) {
                    var EtiquetaInput = $(".k-animation-container > .k-menu-group > .k-item > .k-content > .k-filter-menu > .k-textbox :input");
                    EtiquetaInput.focus();
                });
            },
            groupable: false,
            reorderable: true,
            selectable: "row",
            scrollable: true,
            resizable: true,
            filterable: {
                multi: true,
                checkAll: true,
                search: true,
                messages: {
                    clear: KendoMsjClear,
                    filter: KendoMsjFilter,
                    selectedItemsFormat: KendoMsjSelectedItemsFormat,
                    checkAll: KendoMsjCheckAll,
                    search: KendoMsjSearch
                }
            },
            //groupable: {
            //    info: true,
            //    messages: {
            //        empty: "<b style='font-style:italic';>Arrastre una cabecera aquí para agrupar su información por esa columna</b>"
            //    }
            //},
            pageable: {
                messages: {
                    empty: KendoMsjEmpty,
                    page: kendoMsjPage,
                    of: KendoMsjOf,
                    itemsPerPage: KendoMsjItemsPerPage,
                    first: KendoMsjFirst,
                    last: KendoMsjLast,
                    next: KendoMsjNext,
                    previous: KendoMsjPrevious,
                    refresh: KendoMsjRefresh,
                    morePages: KendoMsjMorePages,
                    display: KendoMsjDisplay
                },
                refresh: false,
                pageSizes: true,
                pageSizes: [5, 10, 15],
                /*para la cantidad de paginas se sugieren 5*/
                buttonCount: 5,
                /*Posicion de la pagina*/
                pageSize: 5
            },
            //excel: { fileName: "Listado de Acta de Reunión.xlsx", filterable: true, allPages: true },
            columns: [
                {
                    width: 100,
                    command: {
                        template:
                            "<button class='btn-grid btn-xs BtnVerInfo' type='button' title='Ver datos'><i class='fa fa-lg fa-fw fas fa-eye'></i></button>"
                            //+ " " +"<button class='btn-grid btn-xs BtnAnular' type='button' title='Ver datos'><i class='fa fa-lg fa-fw fas fa-ban'></i></button>"
                    },
                    attributes: { "class": "text-center" },
                    title: ""
                },
                    { field: "NroTicket", title: "Nro. Ticket", width: 120, attributes: { "class": "text-center" } },
                    { field: "OperationName", title: "Operación", hidden: true, width: 120, attributes: { "class": "text-center" } },
                    { field: "TitleDescription", title: "Titulo Detalle", width: 120, attributes: { "class": "text-center" } },
                    { field: "OldDifferenceDate", title: "Antiguedad Dias", width: 120, attributes: { "class": "text-center" } },
                    { field: "ActivityText", title: "Nombre Actividad", width: 120, attributes: { "class": "text-center" } },
                    { field: "FullNameActivity", title: "Responsable", width: 120, attributes: { "class": "text-center" } },
                    //{ field: "DescripcionActivity", title: "Descripcion", width: 120, attributes: { "class": "text-center" } },
                    { field: "FechaCierre", title: "Fecha Cierre", width: 120, attributes: { "class": "text-center" } },
                    { field: "Estado", title: "Estado", width: 120, attributes: { "class": "text-center" } }
            ],

            dataBound: function () {

                var Grilla = this;

                for (i = 0; i < Grilla.dataSource._view.length; i++) {
                    var estadoActual = Grilla.tbody.children()[i].children[8].textContent;
                    if (estadoActual == 'COMPLETADO') {
                        $($("#LstActivityPendiente").data("kendoGrid").tbody.children()[i]).addClass('colorVerde');
                    }
                    else if (estadoActual == 'PENDIENTE') {
                        $($("#LstActivityPendiente").data("kendoGrid").tbody.children()[i]).addClass('colorAmarillo');
                    }
                    else {
                        $($("#LstActivityPendiente").data("kendoGrid").tbody.children()[i]).addClass('colorRojo');
                    }
                }

            }
        });
    }

    function GrillaListarActividadesCompletas() {

        var dataSource = new kendo.data.DataSource({
            transport: {
                read: function (options) {
                    $.ajax({
                        type: "GET",
                        url: tRutaServidor + "/Activity/ListarActividadesCompletas", /* es importante poner los .. delante */
                        dataType: "json",
                        data: {
                            StatusCategory : ValueFilterTicket
                        },
                        /*async: false,*/
                        success: function (resultado) {
                           /*exitosamente*/
                            let html;

                            if (resultado.length > 0) {
                                /* proceso exitoso con datos*/
                                if (resultado[0].ValorConsulta == "1") {

                                    html = resultado.length;

                                    document.getElementById("txtCantidadTotalCompletas").innerHTML = html;

                                    $("#LstActivityComplete").removeClass("hidden");
                                    $("#imgCargaLstActivityComplete").addClass("hidden");
                                    $("#msjErrorLstActivityComplete").addClass("hidden");
                                    $("#msjVacioLstActivityComplete").addClass("hidden");
                                    $("#msjErrorListarLstActivityComplete").addClass("hidden");
                                    $("#msjSuperaLimiteLstActivityComplete").addClass("hidden");

                                    //$("#btnBuscar").prop('disabled', false);
                                    $("#BtnExportarExcelActividadesCompletadas").prop('disabled', false);

                                } else if (resultado[0].ValorConsulta == "-1") {

                                    $("#LstActivityComplete").addClass("hidden");
                                    $("#imgCargaLstActivityComplete").addClass("hidden");
                                    $("#msjErrorLstActivityComplete").addClass("hidden");
                                    $("#msjVacioLstActivityComplete").addClass("hidden");
                                    $("#msjErrorListarLstActivityComplete").addClass("hidden");
                                    $("#msjSuperaLimiteLstActivityComplete").removeClass("hidden");

                                    //$("#btnBuscar").prop('disabled', false);
                                    $("#BtnExportarExcelActividadesCompletadas").prop('disabled', true);
                                }
                                else {
                                    /* proceso fallido catch listado datos*/
                                    $("#LstActivityComplete").addClass("hidden");
                                    $("#imgCargaLstActivityComplete").addClass("hidden");
                                    $("#msjErrorLstActivityComplete").addClass("hidden");
                                    $("#msjVacioLstActivityComplete").addClass("hidden");
                                    $("#msjErrorListarLstActivityComplete").removeClass("hidden");
                                    $("#msjSuperaLimiteLstActivityComplete").addClass("hidden");

                                    //$("#btnBuscar").prop('disabled', true);
                                    $("#BtnExportarExcelActividadesCompletadas").prop('disabled', true);
                                    console.log(resultado);
                                }

                            } else {

                                html = 0;

                                document.getElementById("txtCantidadTotalCompletas").innerHTML = html;

                                $("#LstActivityComplete").addClass("hidden");
                                $("#imgCargaLstActivityComplete").addClass("hidden");
                                $("#msjErrorLstActivityComplete").addClass("hidden");
                                $("#msjVacioLstActivityComplete").removeClass("hidden");
                                $("#msjErrorListarLstActivityComplete").addClass("hidden");
                                $("#msjSuperaLimiteLstActivityComplete").addClass("hidden");

                                //$("#btnBuscar").prop('disabled', false);
                                $("#BtnExportarExcelActividadesCompletadas").prop('disabled', true);
                            }

                            options.success(resultado);
                            var grid = $("#LstActivityComplete").data("kendoGrid");
                            if (grid.dataSource.total() > 0) {
                                grid.setDataSource(dataSource);
                            }

                        },
                        error: function (xhr, ajaxOptions, thrownError) {
                            /*fallo al llamar a la funcion ajax*/
                            $("#LstActivityComplete").addClass("hidden");
                            $("#imgCargaLstActivityComplete").addClass("hidden");
                            $("#msjErrorLstActivityComplete").removeClass("hidden");
                            $("#msjVacioLstActivityComplete").addClass("hidden");
                            $("#msjErrorListarLstActivityComplete").addClass("hidden");
                            $("#msjSuperaLimiteLstActivityComplete").addClass("hidden");

                            //$("#btnBuscar").prop('disabled', true);
                            //$("#BtnExportarExcel").prop('disabled', true);
                            console.log("ERROR AJAX : " + ajaxOptions);
                            console.log("ERROR AJAX : " + thrownError);
                            console.log(xhr.responseText);
                            console.log(xhr);

                        }
                    });
                },
                parameterMap: function (data, operation) {
                    if (operation !== "read" && data.models) {
                        return JSON.stringify({ JSONparam: data.models });
                    }
                }
            },
            error: function (e) {
                alert("Status: " + e.status + "; Error message: " + e.errorThrown);
            },
            batch: false,
            pageSize: PaginationKendoGrid,
            schema: {
                model: {
                    fields: {
                         IdTicket: { type: "number" },
                         NroTicket: { type: "string" },
                         StartDate: { type: "string" },
                         FullNameTicket: { type: "string" },
                         UsuarioNameTicket: { type: "string" },
                         ResponsibleNameTicket: { type: "string" },
                         OperationName: { type: "string" },
                         ReasonName: { type: "string" },
                         LocationNameTicket: { type: "string" },
                         CriticalityName: { type: "string" },
                         TitleDescription: { type: "string" },
                         DetalleText: { type: "string" },
                         ResponsibleId: { type: "number" },
                         MigrationStatus: { type: "string" },
                         ////
                         IdActivity: { type: "number" },
                         ActivityText: { type: "string" },
                         TitleDescription: { type: "string" },
                         FullNameActivity: { type: "string" },
                         DescripcionActivity: { type: "string" },
                         FechaCierre: { type: "string" },
                         Estado: { type: "string" },
                    }
                }
            },
            //aggregate: [
            //    {
            //        field: "TicketNumber",
            //        aggregate: "count"
            //    },
            //    {
            //        field: "FuelQuantity",
            //        aggregate: "sum"
            //    }
            //]
        });

        $("#LstActivityComplete").kendoGrid({
            dataSource: dataSource,
            sortable: true,
            pageable: true,
            columnMenu: true,
            columnMenu: {
                sortable: true,
                filterable: true,
                columns: true,
                messages: {
                    columns: KendoMsjColumnMenuColumns,
                    filter: KendoMsjColumnMenuFilter,
                    sortAscending: KendoMsjColumnMenuSortAscending,
                    sortDescending: KendoMsjColumnMenuSortDescending,
                    settings: KendoMsjSettings
                }
            },
            columnMenuInit: function (e) {
                var menu = e.container.find(".k-menu").data("kendoMenu");
                menu.bind("select", function (e) {
                    var EtiquetaInput = $(".k-animation-container > .k-menu-group > .k-item > .k-content > .k-filter-menu > .k-textbox :input");
                    EtiquetaInput.focus();
                });
            },
            groupable: false,
            reorderable: true,
            selectable: "row",
            scrollable: true,
            resizable: true,
            filterable: {
                multi: true,
                checkAll: true,
                search: true,
                messages: {
                    clear: KendoMsjClear,
                    filter: KendoMsjFilter,
                    selectedItemsFormat: KendoMsjSelectedItemsFormat,
                    checkAll: KendoMsjCheckAll,
                    search: KendoMsjSearch
                }
            },
            //groupable: {
            //    info: true,
            //    messages: {
            //        empty: "<b style='font-style:italic';>Arrastre una cabecera aquí para agrupar su información por esa columna</b>"
            //    }
            //},
            pageable: {
                messages: {
                    empty: KendoMsjEmpty,
                    page: kendoMsjPage,
                    of: KendoMsjOf,
                    itemsPerPage: KendoMsjItemsPerPage,
                    first: KendoMsjFirst,
                    last: KendoMsjLast,
                    next: KendoMsjNext,
                    previous: KendoMsjPrevious,
                    refresh: KendoMsjRefresh,
                    morePages: KendoMsjMorePages,
                    display: KendoMsjDisplay
                },
                refresh: false,
                pageSizes: true,
                pageSizes: [5, 10, 15],
                /*para la cantidad de paginas se sugieren 5*/
                buttonCount: 5,
                /*Posicion de la pagina*/
                pageSize: 5
            },
            //excel: { fileName: "Listado de Acta de Reunión.xlsx", filterable: true, allPages: true },
            columns: [
                {
                    width: 100,
                    command: {
                        template:
                            "<button class='btn-grid btn-xs BtnVerInfo' type='button' title='Ver datos'><i class='fa fa-lg fa-fw fas fa-eye'></i></button>"
                            //+ " " +"<button class='btn-grid btn-xs BtnAnular' type='button' title='Ver datos'><i class='fa fa-lg fa-fw fas fa-ban'></i></button>"
                    },
                    attributes: { "class": "text-center" },
                    title: ""
                },
                    { field: "NroTicket", title: "Nro. Ticket", width: 100, attributes: { "class": "text-center" } },
                    { field: "OperationName", title: "Operación", width: 120, attributes: { "class": "text-center" } },
                    { field: "TitleDescription", title: "Titulo Ticket", width: 120, attributes: { "class": "text-center" } },
                    { field: "ActivityText", title: "Nombre Actividad", width: 140, attributes: { "class": "text-center" } },
                    { field: "FullNameActivity", title: "Responsable", width: 120, attributes: { "class": "text-center" } },
                    //{ field: "DescripcionActivity", title: "Descripcion", width: 120, attributes: { "class": "text-center" } },
                    { field: "FechaCierre", title: "Fecha Cierre", width: 120, attributes: { "class": "text-center" } },
                    { field: "Estado", title: "Estado", width: 120, attributes: { "class": "text-center" } }
            ],
            dataBound: function () {

                var Grilla = this;

                for (i = 0; i < Grilla.dataSource._view.length; i++) {
                    var estadoActual = Grilla.tbody.children()[i].children[7].textContent;
                    if (estadoActual == 'COMPLETADO') {
                        $($("#LstActivityComplete").data("kendoGrid").tbody.children()[i]).addClass('colorVerde');
                    }
                    else if (estadoActual == 'PENDIENTE') {
                        $($("#LstActivityComplete").data("kendoGrid").tbody.children()[i]).addClass('colorAmarillo');
                    }
                    else {
                        $($("#LstActivityComplete").data("kendoGrid").tbody.children()[i]).addClass('colorRojo');
                    }
                }

            }
        });
    }

    /*----------------------------------------GRAFICO 1------------------------------------*/

    function listadoTicketsXOperacion(estado) {

            $.ajax({
                type: "GET", /*Puede ser post*/
                url: tRutaServidor + "/Ticket/ListarTicketsXOperacion", /* es importante poner los .. delante*/
                contentType: "application/json; charset=utf-8",
                data: {
                     fechaInicio: $("#txtFechaInicioDash").val(),
                     fechaFin: $("#txtFechaFinalDash").val(),
                     Estado: StatusValor,
                     StatusCategory: ValueFilterTicket
                },
                dataType: "json",
                success: function (resultado) {

                    /*exitosamente*/
                    if (resultado.length > 0) {
                        /* proceso exitoso con datos*/
                        if (resultado[0].ValorConsulta == "1") {

                            $("#ContenedorExGrafica1").removeClass("hidden");
                            $("#btnExGrafica1").prop('disabled', false);

                            estadoCargarGrafico1 = "1";
                            //estadoCargarGrafico11 = "1";

                            resultadojson1 = resultado;
                            //listadoEstadosCotizaciones(resultado, estado);

                            llamadaTicketsXOperacion(estado);

                        }
                        else {
                            //estadoCargarGrafico11 = "0";
                            //estadoCargarGrafico11 = "0";

                            /*Grafico 1*/
                            $("#grGraficaTicketXOperacion").addClass("hidden");
                            $("#imgCargaGraficaTicketXOperacion").addClass("hidden");
                            $("#msjErrorGraficaTicketXOperacion").addClass("hidden");
                            $("#msjVacioGraficaTicketXOperacion").addClass("hidden");
                            $("#msjErrorListarGraficaTicketXOperacion").removeClass("hidden");
                            $("#msjSuperaLimiteGraficaTicketXOperacion").addClass("hidden");

                        }

                    } else {

                        //$("#btnBuscarReporteCotizaciones").prop('disabled', false);
                        //estadoCargarGrafico11 = "0";
                        //estadoCargarGrafico11 = "0";
                        /*Grafico 1*/
                        $("#grGraficaTicketXOperacion").addClass("hidden");
                        $("#imgCargaGraficaTicketXOperacion").addClass("hidden");
                        $("#msjErrorGraficaTicketXOperacion").addClass("hidden");
                        $("#msjVacioGraficaTicketXOperacion").removeClass("hidden");
                        $("#msjErrorListarGraficaTicketXOperacion").addClass("hidden");
                        $("#msjSuperaLimiteGraficaTicketXOperacion").addClass("hidden");

                    }

                },
                error: function (xhr, ajaxOptions, thrownError) {
                    //estadoCargarGrafico10 = "0";
                    //estadoCargarGrafico11 = "0";
                    /*fallo al llamar a la funcion ajax*/
                    /*Grafico 1*/
                    $("#grGraficaTicketXOperacion").addClass("hidden");
                    $("#imgCargaGraficaTicketXOperacion").addClass("hidden");
                    $("#msjErrorGraficaTicketXOperacion").removeClass("hidden");
                    $("#msjVacioGraficaTicketXOperacion").addClass("hidden");
                    $("#msjErrorListarGraficaTicketXOperacion").addClass("hidden");
                    $("#msjSuperaLimiteGraficaTicketXOperacion").addClass("hidden");

                    console.log("ERROR AJAX : " + ajaxOptions);
                    console.log("ERROR AJAX : " + thrownError);
                    console.log(xhr.responseText);
                    console.log(xhr);

                }
            });
    }

    function llamadaTicketsXOperacion(estado) {

            if (estado == "1") {

                /**Llamar a la funcion que dibuja el grafico, y en caso se mueva la pantalla redibujar*/
                google.charts.load('visualization', '1.0', { 'packages': ['corechart' , 'bar'] });
                google.charts.setOnLoadCallback(DibujarTicketsXOperacion);

                Valor1 = '1';

            } else {
                ConvertirDataTicketsXOperacion(estado);
            }
     }

    function DibujarTicketsXOperacion() {
             ConvertirDataTicketsXOperacion("1");
    }

    function ConvertirDataTicketsXOperacion(estado) {


        var dataTableData = new google.visualization.DataTable();
        dataTableData.addColumn('string', 'Operacion'); // Implicit domain label col.
        dataTableData.addColumn('number', 'Cantidad');
        //dataTableData.addColumn('number', 'NoProgramado');
        dataTableData.addColumn({ type: 'string', role: 'tooltip', 'p': { 'html': true } });

           //for (i = 0; i < resultadojson10.length; i++) {

                //if (resultadojson10[i].Latitud == 0 && resultadojson10[i].Latitud == 0) {
                //    EstadoCuatro += 1;
                //} else if (resultadojson10[i].StatusRegister == 1) {
                //    EstadoUno += 1;
                //} else if (resultadojson10[i].StatusRegister == 2) {
                //    EstadoDos += 1;
                //} else if (resultadojson10[i].StatusRegister == 3) {
                //    EstadoTres += 1;
                //}
               //ValoGoogleChart = [
               //    { Name: 'P', Estado: resultadojson10[0].Programado},
               //    { Name: 'NP', Estado: resultadojson10[0].NoProgramado},
               //    //{ Name: 'Superior a 48 Horas', Estado: EstadoTres },
               //    //{ Name: 'No existe registros', Estado: EstadoCuatro },
               //];
           //}

           var textoOperacion = "";

           for (i = 0; i < resultadojson1.length; i++) { //recorro todas las fechas únicas

                if (resultadojson1[i].TicketQuantity > 1) {

                    textoOperacion = "Tickets en " + resultadojson1[i].OperationName;

                } else {

                    textoOperacion = "Ticket en " + resultadojson1[i].OperationName;

                }

               dataTableData.addRow([resultadojson1[i].OperationName, resultadojson1[i].TicketQuantity, CreandoHtml10(resultadojson1[i].TicketQuantity, textoOperacion, "#3366CC" , resultadojson1[i].OperationName)]);
           }

           dataGroupGrafico1 = dataTableData;
           GraficaTicketsXOperacion(estado);
    }

    function CreandoHtml10(contador, texto, color, OperationName) {

        return "<div style='padding:5px; width: 350px; display:flex; flex-flow: row nowrap; align-items:center'>" +
            "<div style='width:15px;'><div style='width:12px; height:12px; background-color:" + color + "; border: 1px solid black; margin:5px 2px 0px 0px;' ></div></div>" +
            "<div style='width:240px; font-weight: bold; font-family: Arial, Helvetica, sans-serif; margin:10px 3px 0px 3px; font-size:14px; display:flex; flex-flow: row wrap;'><p style='word-break: break-all; text-align:justify;'>Existe(n) " + contador + " " + texto + ".</p></div>" +
            "<div style='width:50px;'><button class='btn btn-success' onclick=\"ClickGrillaDetalle10('" + OperationName + "')\" style='color:white; padding:3px; font-size:12px;' value=''><i class='fa fa-list'></i> Ver detalle</button></div>" +
            "</div>";

    }

    function ClickGrillaDetalle10(OperationNameGraphic) {

        ListarTicketGraphic(OperationNameGraphic);

        $('#ModalTicketGraphic').modal('show');

    }

    function ListarTicketGraphic(OperationNameGraphic) {

        $("#LstTicketGraphic").addClass("hidden");
        $("#imgCargaLstTicketGraphic").removeClass("hidden");
        $("#msjErrorLstTicketGraphic").addClass("hidden");
        $("#msjVacioLstTicketGraphic").addClass("hidden");
        $("#msjErrorListarLstTicketGraphic").addClass("hidden");
        $("#msjSuperaLimiteLstTicketGraphic").addClass("hidden");

        var dataSource = new kendo.data.DataSource({
            transport: {
                read: function (options) {
                    $.ajax({
                        type: "GET",
                        url: tRutaServidor + "/Ticket/ListarTicketGraphic", /* es importante poner los .. delante */
                        dataType: "json",
                        data: {
                            OperationName : OperationNameGraphic
                        },
                        success: function (resultado) {
                           /*exitosamente*/

                            if (resultado.length > 0) {
                                /* proceso exitoso con datos*/
                                if (resultado[0].ValorConsulta == "1") {

                                    //html = resultado.length;

                                    document.getElementById("txtLstOperacionGraphic").value = OperationNameGraphic;

                                    $("#LstTicketGraphic").removeClass("hidden");
                                    $("#imgCargaLstTicketGraphic").addClass("hidden");
                                    $("#msjErrorLstTicketGraphic").addClass("hidden");
                                    $("#msjVacioLstTicketGraphic").addClass("hidden");
                                    $("#msjErrorListarLstTicketGraphic").addClass("hidden");
                                    $("#msjSuperaLimiteLstTicketGraphic").addClass("hidden");

                                    //$("#btnBuscar").prop('disabled', false);
                                    //$("#BtnExportarExcelCriticidadMedia").prop('disabled', false);

                                } else if (resultado[0].ValorConsulta == "-1") {

                                    $("#LstTicketGraphic").addClass("hidden");
                                    $("#imgCargaLstTicketGraphic").addClass("hidden");
                                    $("#msjErrorLstTicketGraphic").addClass("hidden");
                                    $("#msjVacioLstTicketGraphic").addClass("hidden");
                                    $("#msjErrorListarLstTicketGraphic").addClass("hidden");
                                    $("#msjSuperaLimiteLstTicketGraphic").removeClass("hidden");

                                    //$("#btnBuscar").prop('disabled', false);
                                    //$("#BtnExportarExcel").prop('disabled', true);
                                }
                                else {
                                    /* proceso fallido catch listado datos*/
                                    $("#LstTicketGraphic").addClass("hidden");
                                    $("#imgCargaLstTicketGraphic").addClass("hidden");
                                    $("#msjErrorLstTicketGraphic").addClass("hidden");
                                    $("#msjVacioLstTicketGraphic").addClass("hidden");
                                    $("#msjErrorListarLstTicketGraphic").removeClass("hidden");
                                    $("#msjSuperaLimiteLstTicketGraphic").addClass("hidden");

                                    //$("#btnBuscar").prop('disabled', true);
                                    //$("#BtnExportarExcel").prop('disabled', true);
                                    console.log(resultado);
                                }

                            } else {

                                $("#LstTicketGraphic").addClass("hidden");
                                $("#imgCargaLstTicketGraphic").addClass("hidden");
                                $("#msjErrorLstTicketGraphic").addClass("hidden");
                                $("#msjVacioLstTicketGraphic").removeClass("hidden");
                                $("#msjErrorListarLstTicketGraphic").addClass("hidden");
                                $("#msjSuperaLimiteLstTicketGraphic").addClass("hidden");

                                //$("#btnBuscar").prop('disabled', false);
                                //$("#BtnExportarExcelCriticidadMedia").prop('disabled', true);
                            }

                            options.success(resultado);
                            var grid = $("#LstTicketGraphic").data("kendoGrid");
                            if (grid.dataSource.total() > 0) {
                                grid.setDataSource(dataSource);
                            }

                        },
                        error: function (xhr, ajaxOptions, thrownError) {
                            /*fallo al llamar a la funcion ajax*/
                            $("#LstTicketGraphic").addClass("hidden");
                            $("#imgCargaLstTicketGraphic").addClass("hidden");
                            $("#msjErrorLstTicketGraphic").removeClass("hidden");
                            $("#msjVacioLstTicketGraphic").addClass("hidden");
                            $("#msjErrorListarLstTicketGraphic").addClass("hidden");
                            $("#msjSuperaLimiteLstTicketGraphic").addClass("hidden");

                            //$("#btnBuscar").prop('disabled', true);
                            //$("#BtnExportarExcel").prop('disabled', true);
                            console.log("ERROR AJAX : " + ajaxOptions);
                            console.log("ERROR AJAX : " + thrownError);
                            console.log(xhr.responseText);
                            console.log(xhr);

                        }
                    });
                },
                parameterMap: function (data, operation) {
                    if (operation !== "read" && data.models) {
                        return JSON.stringify({ JSONparam: data.models });
                    }
                }
            },
            error: function (e) {
                alert("Status: " + e.status + "; Error message: " + e.errorThrown);
            },
            batch: false,
            pageSize: PaginationKendoGrid,
            schema: {
                model: {
                    fields: {
                        IdTicket: { type: "number" },
                        NroTicket: { type: "string" },
                        StartDate: { type: "string" },
                        FullNameTicket: { type: "string" },
                        ResponsibleNameTicket: { type: "string" },
                        LocationNameTicket: { type: "string" },
                        OperationName: { type: "string" },
                        ReasonName: { type: "string" },
                        CriticalityName: { type: "string" },
                        TitleDetalle: { type: "string" },
                        DetalleText: { type: "string" },
                        //ResponsibleId: {type: "number"},
                    }
                }
            },
            //aggregate: [
            //    {
            //        field: "TicketNumber",
            //        aggregate: "count"
            //    },
            //    {
            //        field: "FuelQuantity",
            //        aggregate: "sum"
            //    }
            //]
        });

        $("#LstTicketGraphic").kendoGrid({
            dataSource: dataSource,
            sortable: true,
            pageable: true,
            columnMenu: true,
            columnMenu: {
                sortable: true,
                filterable: true,
                columns: true,
                messages: {
                    columns: KendoMsjColumnMenuColumns,
                    filter: KendoMsjColumnMenuFilter,
                    sortAscending: KendoMsjColumnMenuSortAscending,
                    sortDescending: KendoMsjColumnMenuSortDescending,
                    settings: KendoMsjSettings
                }
            },
            columnMenuInit: function (e) {
                var menu = e.container.find(".k-menu").data("kendoMenu");
                menu.bind("select", function (e) {
                    var EtiquetaInput = $(".k-animation-container > .k-menu-group > .k-item > .k-content > .k-filter-menu > .k-textbox :input");
                    EtiquetaInput.focus();
                });
            },
            groupable: false,
            reorderable: true,
            selectable: "row",
            scrollable: true,
            resizable: true,
            filterable: {
                multi: true,
                checkAll: true,
                search: true,
                messages: {
                    clear: KendoMsjClear,
                    filter: KendoMsjFilter,
                    selectedItemsFormat: KendoMsjSelectedItemsFormat,
                    checkAll: KendoMsjCheckAll,
                    search: KendoMsjSearch
                }
            },
            //groupable: {
            //    info: true,
            //    messages: {
            //        empty: "<b style='font-style:italic';>Arrastre una cabecera aquí para agrupar su información por esa columna</b>"
            //    }
            //},
            pageable: {
                messages: {
                    empty: KendoMsjEmpty,
                    page: kendoMsjPage,
                    of: KendoMsjOf,
                    itemsPerPage: KendoMsjItemsPerPage,
                    first: KendoMsjFirst,
                    last: KendoMsjLast,
                    next: KendoMsjNext,
                    previous: KendoMsjPrevious,
                    refresh: KendoMsjRefresh,
                    morePages: KendoMsjMorePages,
                    display: KendoMsjDisplay
                },
                refresh: false,
                pageSizes: true,
                pageSizes: [5, 10, 15],
                /*para la cantidad de paginas se sugieren 5*/
                buttonCount: 5,
                /*Posicion de la pagina*/
                pageSize: 5
            },
            excel: { fileName: "Listado de Tickets en Criticidad Media.xlsx", filterable: true, allPages: true },
            columns: [
                //{
                //    width: 100,
                //    command: {
                //        template:
                //            "<button class='btn-grid btn-xs BtnVerInfo' type='button' title='Ver datos'><i class='fa fa-lg fa-fw fas fa-eye'></i></button>"
                //            //+ " " +"<button class='btn-grid btn-xs BtnAnular' type='button' title='Ver datos'><i class='fa fa-lg fa-fw fas fa-ban'></i></button>"
                //    },
                //    attributes: { "class": "text-center" },
                //    title: ""
                //},
                { field: "NroTicket", title: "Nro. Ticket", width: 100, attributes: { "class": "text-center" } },
                { field: "StartDate", title: "Fecha Registro", width: 120, attributes: { "class": "text-center" } },
                { field: "OperationName", title: "Operacion", width: 120, attributes: { "class": "text-center" } },
                { field: "FullNameTicket", title: "Quien Llama", width: 170, attributes: { "class": "text-center" } },
                { field: "ResponsibleNameTicket", title: "Responsable", width: 170, attributes: { "class": "text-center" } },
                { field: "ReasonName", title: "Razón", width: 120, attributes: { "class": "text-center" } },
                { field: "CriticalityName", title: "Criticidad", width: 120, attributes: { "class": "text-center" } },
                { field: "LocationNameTicket", title: "Locación", hidden: true, width: 120, attributes: { "class": "text-center" } },
                { field: "TitleDetalle", title: "Titulo Detalle", width: 150, attributes: { "class": "text-center" } },
                { field: "DetalleText", title: "Detalle Ticket",hidden: true, width: 150, attributes: { "class": "text-center" } }
            ],
            dataBound: function () {

               var Grilla = this;

               for (i = 0; i < Grilla.dataSource._view.length; i++) {
                   var estadoActual = Grilla.tbody.children()[i].children[4].textContent;

                   if (estadoActual == 'COMPLETADO') {
                       $($("#LstTicketPorActividad").data("kendoGrid").tbody.children()[i]).addClass('colorVerde');
                   }
                   else if (estadoActual == 'PENDIENTE') {
                       $($("#LstTicketPorActividad").data("kendoGrid").tbody.children()[i]).addClass('colorAmarillo');
                   }
                   else {
                       $($("#LstTicketPorActividad").data("kendoGrid").tbody.children()[i]).addClass('colorRojo');
                   }
               }

            }
        });
    }

    function GraficaTicketsXOperacion(estado) {

             var optionsGrafico1 = {
                 title: 'Grafico de Tickets X Operacion',
                 titleTextStyle: {
                     color: 'black',
                     fontName: 'Arial',
                     fontSize: 20,
                     bold: true,
                     italic: true,
                 },

                 slices: {
                     0: { color: '#3366CC' }, //azul
                     1: { color: '#FF8000' },
                     //1: { color: '#DC3912' }, //rojo
                     //2: { color: '#FF9900' }, //amarillo
                     //3: { color: '#109618' }, //verde
                     //4: { color: '#990099' }, //Morado
                     //5: { color: '#0099C6' }, //Celeste
                     //6: { color: '#DD4477' }, //Rosado
                 },

                 chartArea: {
                     //backgroundColor: "yellow",
                     width: "100%",
                     height: "100%",
                     left: 5,
                     right: 5,
                     top: 50,
                     bottom: 0,
                 },
                 //backgroundColor: {
                 //    fill: "yellow",
                 //    strokeWidth: 3,
                 //    stroke: "blue"
                 //},
                 //is3D:true,
                 //pieHole: 0.4,
                 //pieSliceText: 'label',
                 //pieSliceBorderColor: 'black',
                 //pieSliceTextStyle: {
                 //    color: 'white',
                 //    //fontName: "",
                 //    fontSize: 18
                 //},
                 //pieStartAngle: 45,
                 lineWidth: 2,
                 legend: {
                     //position: 'bottom',
                     position: 'labeled',
                     //position: 'left',
                     //position: 'none',
                     //position: 'right',
                     //position: 'top',
                     alignment: 'center',
                     labeledValueText: 'value',
                     textStyle: {
                         bold: true,
                         italic: true,
                         fontSize: 10,
                     },
                 },
                 tooltip: {
                     isHtml: true,
                     showColorCode: true,
                     textStyle: {
                         //color:  "red",//<string>,
                         //fontName: "",//<string>,
                         fontSize: 10,//<number>,
                         bold: true,//<boolean>,
                         //italic: false//<boolean>

                     },
                     //trigger: 'focus',// - The tooltip will be displayed when the user hovers over the element.
                     //trigger: 'none', //- The tooltip will not be displayed.
                     trigger: 'selection',// - The tooltip will be displayed when the user selects the element.
                 }

             };

             if (estado == "1") {
                 var chartDiv = document.getElementById('grGraficaTicketXOperacion');
                 pchartG1 = new google.visualization.PieChart(chartDiv);
             }

             $("#grGraficaTicketXOperacion").removeClass("hidden");
             $("#imgCargaGraficaTicketXOperacion").addClass("hidden");
             $("#msjErrorGraficaTicketXOperacion").addClass("hidden");
             $("#msjVacioGraficaTicketXOperacion").addClass("hidden");
             $("#msjErrorListarGraficaTicketXOperacion").addClass("hidden");
             $("#msjSuperaLimiteGraficaTicketXOperacion").addClass("hidden");

             $("#ContenedorExGrafica1").removeClass("hidden");
             $("#btnExGrafica1").prop('disabled', false);
             //$("#btnBuscar").prop('disabled', false);

             if (estado == "1") {
                 /********************************EVENTO ***READY****************************************/
                 google.visualization.events.addListener(pchartG1, 'ready', function () {
                     //alert(1);
                     try {
                         /*Centrar el titulo del grafico */
                         var $container = $('#grGraficaTicketXOperacion');
                         widthG1 = $container.find('svg').width();
                         //heightG10 = $container.find('svg').height();
                         //var $titleElem = $container.find("text:contains(" + optionsGrafico12.title + ")");
                         //var titleWidth = $titleElem.html().length * ($titleElem.attr('font-size') / 2);
                         //var xAxisAlign = (widthG12 - titleWidth) / 2;
                         //$titleElem.attr('x', xAxisAlign);

                     } catch (e) {
                         console.log(e);
                     }
                     /*Setear valor para el exportar*/
                     ImageURI1 = pchartG1.getImageURI();

                     /*Redibujar la grafica al cambiar del tamaño de pantalla*/
                     reDibujarGrafica1();

                 });

                 /******************************EVENTO ****ERROR*****************************************/
                 google.visualization.events.addListener(pchartG1, 'error', function (error) {
                     /**Para remover el mensaje de error de google del grafico (Tambien hay un atributo para remover todos los errores)*/
                     console.log(error);
                     google.visualization.errors.removeError(error.id);
                 });
             }

             pchartG1.draw(dataGroupGrafico1, optionsGrafico1);


             var columns = [];
             var series = {};
             for (var i = 0; i < dataGroupGrafico1.getNumberOfColumns(); i++) {
                 columns.push(i);

                 if (i > 0) {
                     series[i - 1] = {};

                 }
             }

             if (estado == "1") {
                 /***********************************EVENTO-SELECT********************************************/
                 google.visualization.events.addListener(pchartG1, 'select', function () {

                     //var view = new google.visualization.DataView(dataGroupGrafico13);
                     //view.hideColumns([1]);
                     //pchartG13.draw(view, optionsGrafico13);

                     var selec = pchartG1.getSelection();
                     //console.log(selec);

                     if (selec.length > 0) {
                         if (selec[0].row == null) {
                             var col = selec[0].column;
                             if (columns[col] == col) {

                                 columns[col] = {
                                     label: dataGroupGrafico1.getColumnLabel(col),
                                     type: dataGroupGrafico1.getColumnType(col),
                                     calc: function () {
                                         return null;
                                     }
                                 };
                                 series[col - 1].color = '#CCCCCC';
                             }
                             else {

                                 columns[col] = col;
                                 series[col - 1].color = null;
                             }

                             /*Se puede agregar opciones con options."atributo" = "El valor " */
                             optionsGrafico1.animation = ''; /*Para quitar la animacion lo pongo como vacio*/
                             optionsGrafico1.series = series;

                             var view = new google.visualization.DataView(dataGroupGrafico1);
                             view.setColumns(columns);
                             pchartG1.draw(view, optionsGrafico1);
                         }

                         //if (selec[0].row == 0) { /*Activos*/
                         //    estadoGeneralRestriccion = "A";
                         //    estadoGeneralRestriccionDescrip = "Activo";
                         //    ConvertirDataG11("2", "B", dataGroupGrafico10.jc[selec[0].row][0].gf);

                         //} else { /*Inactivos*/
                         //    estadoGeneralRestriccion = "I";
                         //    estadoGeneralRestriccionDescrip = "Inactivo";
                         //    ConvertirDataG11("2", "B", dataGroupGrafico10.jc[selec[0].row][0].gf);

                         //}
                     }
                 });

                 /**********************************EVENTO-ONMOUSEOVER*********************************************************************/
                 google.visualization.events.addListener(pchartG1, 'onmouseover', function () { document.getElementById('grGraficaTicketXOperacion').style.cursor = 'pointer'; });

                 /**********************************EVENTO-ONMOUSEOUT**********************************************************************/
                 google.visualization.events.addListener(pchartG1, 'onmouseout', function () { document.getElementById('grGraficaTicketXOperacion').style.cursor = 'default'; });
             }

        }

    function reDibujarGrafica1() {

             jQuery(window).on("resize", function (event) {

                 if (estadoCargarGrafico1 == "1") {

                     var win = $(this); //this = window

                     if (contadorGrafica1 == 0) {

                         //$("#grGrafica10").html = "";

                         contadorGrafica1 = 1;
                         tamanoAnchoPantalla1 = win.width();

                         var chartDiv = jQuery("#grGraficaTicketXOperacion");
                         chartDiv.css({ display: "none" });
                         chartDiv.css({ width: chartDiv.parent().innerWidth(), display: "block" });

                         GraficaTicketsXOperacion("2");
                         //pchartG10.draw(dataGroup, options);

                     } else {

                         //$("#grGrafica10").html = "";
                         var tamanoAnchoActual = win.width();

                         var calculo = Math.abs(tamanoAnchoActual - tamanoAnchoPantalla1);
                         if (calculo > 10) {

                             tamanoAnchoPantalla1 = win.width();

                             var chartDiv = jQuery("#grGraficaTicketXOperacion");
                             chartDiv.css({ display: "none" });
                             chartDiv.css({ width: chartDiv.parent().innerWidth(), display: "block" });

                             GraficaTicketsXOperacion("2");
                             //pchartG10.draw(dataGroup, options);
                         }
                     }
                 }

             });
         }

    /*----------------------------------------GRAFICO 2-1------------------------------------*/

    function listadoTicketsXMeses(estado) {

        $.ajax({
            type: "GET", /*Puede ser post*/
            url: tRutaServidor + "/Ticket/ListarTicketsXMeses", /* es importante poner los .. delante*/
            contentType: "application/json; charset=utf-8",
            data: {
                fechaInicio: $("#txtFechaInicioDash").val(),
                fechaFin: $("#txtFechaFinalDash").val(),
                Estado: StatusValor,
                StatusCategory: ValueFilterTicket
            },
            dataType: "json",
            success: function (resultado) {

                /*exitosamente*/
                if (resultado.length > 0) {
                    /* proceso exitoso con datos*/
                    if (resultado[0].ValorConsulta == "1") {

                        $("#ContenedorExGraficaXZ").removeClass("hidden");
                        $("#btnExGraficaXZ").prop('disabled', false);

                        estadoCargarGrafico1X2 = "1";
                        //estadoCargarGrafico11 = "1";

                        resultadojson1X2 = resultado;
                        //listadoEstadosCotizaciones(resultado, estado);

                        llamadaTicketsXMeses(estado);

                    }
                    else {
                        //estadoCargarGrafico11 = "0";
                        //estadoCargarGrafico11 = "0";

                        /*Grafico 1*/
                        $("#grGraficaTicketByMes").addClass("hidden");
                        $("#imgCargaGraficaTicketByMes").addClass("hidden");
                        $("#msjErrorGraficaTicketByMes").addClass("hidden");
                        $("#msjVacioGraficaTicketByMes").addClass("hidden");
                        $("#msjErrorListarGraficaTicketByMes").removeClass("hidden");
                        $("#msjSuperaLimiteGraficaTicketByMes").addClass("hidden");

                    }

                } else {

                    //$("#btnBuscarReporteCotizaciones").prop('disabled', false);
                    //estadoCargarGrafico11 = "0";
                    //estadoCargarGrafico11 = "0";
                    /*Grafico 1*/
                    $("#grGraficaTicketByMes").addClass("hidden");
                    $("#imgCargaGraficaTicketByMes").addClass("hidden");
                    $("#msjErrorGraficaTicketByMes").addClass("hidden");
                    $("#msjVacioGraficaTicketByMes").removeClass("hidden");
                    $("#msjErrorListarGraficaTicketByMes").addClass("hidden");
                    $("#msjSuperaLimiteGraficaTicketByMes").addClass("hidden");

                }

            },
            error: function (xhr, ajaxOptions, thrownError) {
                //estadoCargarGrafico10 = "0";
                //estadoCargarGrafico11 = "0";
                /*fallo al llamar a la funcion ajax*/
                /*Grafico 1*/
                $("#grGraficaTicketByMes").addClass("hidden");
                $("#imgCargaGraficaTicketByMes").addClass("hidden");
                $("#msjErrorGraficaTicketByMes").removeClass("hidden");
                $("#msjVacioGraficaTicketByMes").addClass("hidden");
                $("#msjErrorListarGraficaTicketByMes").addClass("hidden");
                $("#msjSuperaLimiteGraficaTicketByMes").addClass("hidden");

                console.log("ERROR AJAX : " + ajaxOptions);
                console.log("ERROR AJAX : " + thrownError);
                console.log(xhr.responseText);
                console.log(xhr);

            }
        });
    }

    function llamadaTicketsXMeses(estado) {

        if (estado == "1") {

            /**Llamar a la funcion que dibuja el grafico, y en caso se mueva la pantalla redibujar*/
            google.charts.load('visualization', '1.0', { 'packages': ['corechart', 'bar'] });
            google.charts.setOnLoadCallback(DibujarTicketsXMeses);

            Valor1 = '1';

        } else {
            ConvertirDataTicketsXMeses(estado);
        }
    }

    function DibujarTicketsXMeses() {
        ConvertirDataTicketsXMeses("1");
    }

    function ConvertirDataTicketsXMeses(estado) {


        var dataTableData = new google.visualization.DataTable();
        dataTableData.addColumn('string', 'Mes'); // Implicit domain label col.
        dataTableData.addColumn('number', 'Cantidad');
        //dataTableData.addColumn('number', 'NoProgramado');
        dataTableData.addColumn({ type: 'string', role: 'tooltip', 'p': { 'html': true } });

        //for (i = 0; i < resultadojson10.length; i++) {

        //if (resultadojson10[i].Latitud == 0 && resultadojson10[i].Latitud == 0) {
        //    EstadoCuatro += 1;
        //} else if (resultadojson10[i].StatusRegister == 1) {
        //    EstadoUno += 1;
        //} else if (resultadojson10[i].StatusRegister == 2) {
        //    EstadoDos += 1;
        //} else if (resultadojson10[i].StatusRegister == 3) {
        //    EstadoTres += 1;
        //}
        //ValoGoogleChart = [
        //    { Name: 'P', Estado: resultadojson10[0].Programado},
        //    { Name: 'NP', Estado: resultadojson10[0].NoProgramado},
        //    //{ Name: 'Superior a 48 Horas', Estado: EstadoTres },
        //    //{ Name: 'No existe registros', Estado: EstadoCuatro },
        //];
        //}

        var textoOperacion = "";

        for (i = 0; i < resultadojson1X2.length; i++) { //recorro todas las fechas únicas

            if (resultadojson1X2[i].TicketQuantity > 1) {

                textoOperacion = "Tickets en " + resultadojson1X2[i].CalendarMonthName;

            } else {

                textoOperacion = "Ticket en " + resultadojson1X2[i].CalendarMonthName;

            }

            dataTableData.addRow([resultadojson1X2[i].CalendarMonthName, resultadojson1X2[i].TicketQuantity, CreandoHtmlX(resultadojson1X2[i].TicketQuantity, textoOperacion, "#3366CC", resultadojson1X2[i].CalendarMonthName)]);
        }

        dataGroupGrafico1X2 = dataTableData;
        GraficaTicketsXMeses(estado);
    }

    function CreandoHtmlX(contador, texto, color, numTicket) {

        //return "<div style='padding:10px 5px 10px 5px; width: 300px; display:flex; flex-flow: row wrap;'> <div style='width: 10px; height:10px; background-color:" + color + "; border: 1px solid black; margin:5px 2px 0px 0px;' ></div> " +
        //    "<div style='width:250px; font-weight: bold; font-family: Arial, Helvetica, sans-serif; margin:0px 0px 0px 0px; font-size:14px;'>Existe(n) " + contador + " " + texto + ".</div>" +
        //    " <div style='width:40px;'><input class='btn btn-info' onclick='ClickGrillaDetalle11(" + numSlice + ")' type='button' style='color:white;' value='Detalle'></div></div>";

        return "<div style='padding:5px; width: 350px; display:flex; flex-flow: row nowrap; align-items:center'>" +
            "<div style='width:15px;'><div style='width:12px; height:12px; background-color:" + color + "; border: 1px solid black; margin:5px 2px 0px 0px;' ></div></div>" +
            "<div style='width:240px; font-weight: bold; font-family: Arial, Helvetica, sans-serif; margin:10px 3px 0px 3px; font-size:14px; display:flex; flex-flow: row wrap;'><p style='word-break: break-all; text-align:justify;'>Existe(n) " + contador + " " + texto + ".</p></div>" +
            "<div style='width:50px;'><button class='btn btn-success' onclick=\"ClickGrillaDetalleXX('" + numTicket + "')\" style='color:white; padding:3px; font-size:12px;' value=''><i class='fa fa-list'></i> Ver detalle</button></div>" +
            "</div>";
    }

    function GraficaTicketsXMeses(estado) {

        var optionsGrafico1 = {
            title: 'Grafico de Tickets X Mes',
            titleTextStyle: {
                color: 'black',
                fontName: 'Arial',
                fontSize: 20,
                bold: true,
                italic: true,
            },

            slices: {
                0: { color: '#3366CC' }, //azul
                1: { color: '#FF8000' },
                //1: { color: '#DC3912' }, //rojo
                //2: { color: '#FF9900' }, //amarillo
                //3: { color: '#109618' }, //verde
                //4: { color: '#990099' }, //Morado
                //5: { color: '#0099C6' }, //Celeste
                //6: { color: '#DD4477' }, //Rosado
            },

            chartArea: {
                //backgroundColor: "yellow",
                width: "100%",
                height: "100%",
                left: 5,
                right: 5,
                top: 50,
                bottom: 0,
            },
            //backgroundColor: {
            //    fill: "yellow",
            //    strokeWidth: 3,
            //    stroke: "blue"
            //},
            //is3D:true,
            //pieHole: 0.4,
            //pieSliceText: 'label',
            //pieSliceBorderColor: 'black',
            //pieSliceTextStyle: {
            //    color: 'white',
            //    //fontName: "",
            //    fontSize: 18
            //},
            //pieStartAngle: 45,
            lineWidth: 2,
            legend: {
                //position: 'bottom',
                position: 'labeled',
                //position: 'left',
                //position: 'none',
                //position: 'right',
                //position: 'top',
                alignment: 'center',
                labeledValueText: 'value',
                textStyle: {
                    bold: true,
                    italic: true,
                    fontSize: 10,
                },
            },
            tooltip: {
                isHtml: true,
                showColorCode: true,
                textStyle: {
                    //color:  "red",//<string>,
                    //fontName: "",//<string>,
                    fontSize: 10,//<number>,
                    bold: true,//<boolean>,
                    //italic: false//<boolean>

                },
                //trigger: 'focus',// - The tooltip will be displayed when the user hovers over the element.
                //trigger: 'none', //- The tooltip will not be displayed.
                trigger: 'selection',// - The tooltip will be displayed when the user selects the element.
            }

        };

        if (estado == "1") {
            var chartDiv = document.getElementById('grGraficaTicketByMes');
            pchartG1X2 = new google.visualization.PieChart(chartDiv);
        }

        $("#grGraficaTicketByMes").removeClass("hidden");
        $("#imgCargaGraficaTicketByMes").addClass("hidden");
        $("#msjErrorGraficaTicketByMes").addClass("hidden");
        $("#msjVacioGraficaTicketByMes").addClass("hidden");
        $("#msjErrorListarGraficaTicketByMes").addClass("hidden");
        $("#msjSuperaLimiteGraficaTicketByMes").addClass("hidden");

        $("#ContenedorExGraficaXZ").removeClass("hidden");
        $("#btnExGraficaXZ").prop('disabled', false);
        //$("#btnBuscar").prop('disabled', false);

        if (estado == "1") {
            /********************************EVENTO ***READY****************************************/
            google.visualization.events.addListener(pchartG1X2, 'ready', function () {
                //alert(1);
                try {
                    /*Centrar el titulo del grafico */
                    var $container = $('#grGraficaTicketByMes');
                    widthG1X2 = $container.find('svg').width();
                    //heightG10 = $container.find('svg').height();
                    //var $titleElem = $container.find("text:contains(" + optionsGrafico12.title + ")");
                    //var titleWidth = $titleElem.html().length * ($titleElem.attr('font-size') / 2);
                    //var xAxisAlign = (widthG12 - titleWidth) / 2;
                    //$titleElem.attr('x', xAxisAlign);

                } catch (e) {
                    console.log(e);
                }
                /*Setear valor para el exportar*/
                ImageURI1X2 = pchartG1X2.getImageURI();

                /*Redibujar la grafica al cambiar del tamaño de pantalla*/
                /*reDibujarGrafica1();*/

            });

            /******************************EVENTO ****ERROR*****************************************/
            google.visualization.events.addListener(pchartG1X2, 'error', function (error) {
                /**Para remover el mensaje de error de google del grafico (Tambien hay un atributo para remover todos los errores)*/
                console.log(error);
                google.visualization.errors.removeError(error.id);
            });
        }

        pchartG1X2.draw(dataGroupGrafico1X2, optionsGrafico1);


        var columns = [];
        var series = {};
        for (var i = 0; i < dataGroupGrafico1X2.getNumberOfColumns(); i++) {
            columns.push(i);

            if (i > 0) {
                series[i - 1] = {};

            }
        }

        if (estado == "1") {
            /***********************************EVENTO-SELECT********************************************/
            google.visualization.events.addListener(pchartG1X2, 'select', function () {

                //var view = new google.visualization.DataView(dataGroupGrafico13);
                //view.hideColumns([1]);
                //pchartG13.draw(view, optionsGrafico13);

                var selec = pchartG1X2.getSelection();
                //console.log(selec);

                if (selec.length > 0) {
                    if (selec[0].row == null) {
                        var col = selec[0].column;
                        if (columns[col] == col) {

                            columns[col] = {
                                label: dataGroupGrafico1.getColumnLabel(col),
                                type: dataGroupGrafico1.getColumnType(col),
                                calc: function () {
                                    return null;
                                }
                            };
                            series[col - 1].color = '#CCCCCC';
                        }
                        else {

                            columns[col] = col;
                            series[col - 1].color = null;
                        }

                        /*Se puede agregar opciones con options."atributo" = "El valor " */
                        optionsGrafico1.animation = ''; /*Para quitar la animacion lo pongo como vacio*/
                        optionsGrafico1.series = series;

                        var view = new google.visualization.DataView(dataGroupGrafico1X2);
                        view.setColumns(columns);
                        pchartG1X2.draw(view, optionsGrafico1);
                    }

                    //if (selec[0].row == 0) { /*Activos*/
                    //    estadoGeneralRestriccion = "A";
                    //    estadoGeneralRestriccionDescrip = "Activo";
                    //    ConvertirDataG11("2", "B", dataGroupGrafico10.jc[selec[0].row][0].gf);

                    //} else { /*Inactivos*/
                    //    estadoGeneralRestriccion = "I";
                    //    estadoGeneralRestriccionDescrip = "Inactivo";
                    //    ConvertirDataG11("2", "B", dataGroupGrafico10.jc[selec[0].row][0].gf);

                    //}
                }
            });

            /**********************************EVENTO-ONMOUSEOVER*********************************************************************/
            google.visualization.events.addListener(pchartG1X2, 'onmouseover', function () { document.getElementById('grGraficaTicketByMes').style.cursor = 'pointer'; });

            /**********************************EVENTO-ONMOUSEOUT**********************************************************************/
            google.visualization.events.addListener(pchartG1X2, 'onmouseout', function () { document.getElementById('grGraficaTicketByMes').style.cursor = 'default'; });
        }

    }

    /*------------------------------------- GRAFICO - 2 -------------------------------- */

    function listadoActividadesXTicket(estado) {

            $.ajax({
                type: "GET", /*Puede ser post*/
                url: tRutaServidor + "/Ticket/ListActivityXTicket", /* es importante poner los .. delante*/
                contentType: "application/json; charset=utf-8",
                dataType: "json",
                data: {
                     fechaInicio: $("#txtFechaInicioDash").val(),
                     fechaFin: $("#txtFechaFinalDash").val(),
                     Estado: StatusValor,
                     StatusCategory : ValueFilterTicket
                },
                success: function (resultado) {

                    /*exitosamente*/
                    if (resultado.length > 0) {
                        /* proceso exitoso con datos*/
                        if (resultado[0].ValorConsulta == "1" ) {

                            $("#ContenedorExGrafica2").removeClass("hidden");
                            $("#btnExGrafica2").prop('disabled', false);

                            estadoCargarGrafico2 = "1";
                            //estadoCargarGrafico11 = "1";

                            resultadojson2 = resultado;
                            //listadoEstadosCotizaciones(resultado, estado);

                            llamadaActividadesXTicket(estado);

                        }
                        else {
                            estadoCargarGrafico2 = "0";
                            //estadoCargarGrafico11 = "0";

                            /*Grafico 1*/
                            $("#grGraficaActividadesXTicket").addClass("hidden");
                            $("#imgCargaGraficaActividadesXTicket").addClass("hidden");
                            $("#msjErrorGraficaActividadesXTicket").addClass("hidden");
                            $("#msjVacioGraficaActividadesXTicket").addClass("hidden");
                            $("#msjErrorListarGraficaActividadesXTicket").removeClass("hidden");
                            $("#msjSuperaLimiteGraficaActividadesXTicket").addClass("hidden");

                            //$("#ContenedorExGrafica10").addClass("hidden");
                            //$("#btnExGrafica10").prop('disabled', true);

                        }

                    } else {

                        //$("#btnBuscarReporteCotizaciones").prop('disabled', false);
                        //estadoCargarGrafico10 = "0";
                        //estadoCargarGrafico11 = "0";
                        /*Grafico 1*/
                        $("#grGraficaActividadesXTicket").addClass("hidden");
                        $("#imgCargaGraficaActividadesXTicket").addClass("hidden");
                        $("#msjErrorGraficaActividadesXTicket").addClass("hidden");
                        $("#msjVacioGraficaActividadesXTicket").removeClass("hidden");
                        $("#msjErrorListarGraficaActividadesXTicket").addClass("hidden");
                        $("#msjSuperaLimiteGraficaActividadesXTicket").addClass("hidden");

                        //$("#ContenedorExGrafica10").addClass("hidden");
                        //$("#btnExGrafica10").prop('disabled', true);
                    }

                },
                error: function (xhr, ajaxOptions, thrownError) {
                    estadoCargarGrafico10 = "0";
                    //estadoCargarGrafico11 = "0";
                    /*fallo al llamar a la funcion ajax*/
                    /*Grafico 1*/
                    $("#grGraficaActividadesXTicket").addClass("hidden");
                    $("#imgCargaGraficaActividadesXTicket").addClass("hidden");
                    $("#msjErrorGraficaActividadesXTicket").removeClass("hidden");
                    $("#msjVacioGraficaActividadesXTicket").addClass("hidden");
                    $("#msjErrorListarGraficaActividadesXTicket").addClass("hidden");
                    $("#msjSuperaLimiteGraficaActividadesXTicket").addClass("hidden");

                    //$("#ContenedorExGrafica10").addClass("hidden");
                    //$("#btnExGrafica10").prop('disabled', true);

                    console.log("ERROR AJAX : " + ajaxOptions);
                    console.log("ERROR AJAX : " + thrownError);
                    console.log(xhr.responseText);
                    console.log(xhr);

                }
            });
        }

    function llamadaActividadesXTicket(estado) {

            if (estado == "1") {

                /**Llamar a la funcion que dibuja el grafico, y en caso se mueva la pantalla redibujar*/
                google.charts.load('visualization', '1.0', { 'packages': ['corechart'] });
                google.charts.setOnLoadCallback(DibujarActividadesXTicket)

                Valor2 = 1;

            } else {
                ConvertirDataActividadesXTicket(estado);
            }
        }

    function DibujarActividadesXTicket() {
            ConvertirDataActividadesXTicket("1");
        }

    function ConvertirDataActividadesXTicket(estado) {

             /*Se crean las cabeceras*/

             var dataTableData = new google.visualization.DataTable();
             dataTableData.addColumn('string', 'Ticket'); // Implicit domain label col.
             dataTableData.addColumn('number', 'Cantidad');
             dataTableData.addColumn({ type: 'string', role: 'tooltip', 'p': { 'html': true } });

             //for (i = 0; i < resultadojson10.length; i++) {

                  //if (resultadojson10[i].Latitud == 0 && resultadojson10[i].Latitud == 0) {
                  //    EstadoCuatro += 1;
                  //} else if (resultadojson10[i].StatusRegister == 1) {
                  //    EstadoUno += 1;
                  //} else if (resultadojson10[i].StatusRegister == 2) {
                  //    EstadoDos += 1;
                  //} else if (resultadojson10[i].StatusRegister == 3) {
                  //    EstadoTres += 1;
                  //}OperationName

             //for (i = 0; i < resultadojson1.length; i++) {

             //      ValoGoogleChart += [
             //          { Name: resultadojson1[i].OperationName, Cantidad: resultadojson1[i].ActivityQuantity},
             //      ];

             //}


            var textoActividad = "";


            for (i = 0; i < resultadojson2.length; i++) { //recorro todas las fechas únicas

                if (resultadojson2[i].ActivityQuantity > 1) {

                    textoActividad = "Actividades";

                } else {

                    textoActividad = "Actividadad";

                }

                console.log(StatusValor);
                dataTableData.addRow([resultadojson2[i].NumberTicket, resultadojson2[i].ActivityQuantity, CreandoHtml11(resultadojson2[i].ActivityQuantity, textoActividad, "#3366CC" , resultadojson2[i].NumberTicket)]);
            }

             dataGroupGrafico2 = dataTableData;
             GraficaActividadesXTicket(estado);
    }

    function CreandoHtml11(contador, texto, color, numTicket) {

        //return "<div style='padding:10px 5px 10px 5px; width: 300px; display:flex; flex-flow: row wrap;'> <div style='width: 10px; height:10px; background-color:" + color + "; border: 1px solid black; margin:5px 2px 0px 0px;' ></div> " +
        //    "<div style='width:250px; font-weight: bold; font-family: Arial, Helvetica, sans-serif; margin:0px 0px 0px 0px; font-size:14px;'>Existe(n) " + contador + " " + texto + ".</div>" +
        //    " <div style='width:40px;'><input class='btn btn-info' onclick='ClickGrillaDetalle11(" + numSlice + ")' type='button' style='color:white;' value='Detalle'></div></div>";

        return "<div style='padding:5px; width: 350px; display:flex; flex-flow: row nowrap; align-items:center'>" +
            "<div style='width:15px;'><div style='width:12px; height:12px; background-color:" + color + "; border: 1px solid black; margin:5px 2px 0px 0px;' ></div></div>" +
            "<div style='width:240px; font-weight: bold; font-family: Arial, Helvetica, sans-serif; margin:10px 3px 0px 3px; font-size:14px; display:flex; flex-flow: row wrap;'><p style='word-break: break-all; text-align:justify;'>Existe(n) " + contador + " " + texto + ".</p></div>" +
            "<div style='width:50px;'><button class='btn btn-success' onclick=\"ClickGrillaDetalle11('" + numTicket + "')\" style='color:white; padding:3px; font-size:12px;' value=''><i class='fa fa-list'></i> Ver detalle</button></div>" +
            "</div>";
    }

    function ClickGrillaDetalle11(NumeroTicket) {

        ListarDetalleTicketGraphic(NumeroTicket);

        $('#ModalTicketPorActividad').modal('show');

    }

    function ListarDetalleTicketGraphic(ValorNumTicket) {

        //$("#CargaTemporal").removeClass("hidden");

        $.ajax({
            type: "GET",
            url: tRutaServidor + "/Ticket/ListarDetalleTicketGraphic",
            dataType: "json",
            data: {
                NumberTicket: ValorNumTicket
            },
            success: function (resultado) {

                if (resultado.length > 0) {

                    document.getElementById("txtOperacionGraphic").value = resultado[0].OperationName;
                    document.getElementById("txtQuienLlamaGraphic").value = resultado[0].FullNameTicket;
                    document.getElementById("txtQuienRegistraGraphic").value = resultado[0].UsuarioNameTicket;
                    document.getElementById("txtResponsableGraphic").value = resultado[0].ResponsibleNameTicket;
                    document.getElementById("txtRazonGraphic").value = resultado[0].ReasonName;
                    document.getElementById("txtCriticidadGraphic").value = resultado[0].CriticalityName;
                    document.getElementById("txtLocacionGraphic").value = resultado[0].LocationNameTicket;
                    document.getElementById("txtFechaInicioGraphic").value = resultado[0].StartDate;
                    document.getElementById("txtTituloGraphic").value = resultado[0].TitleDescription;
                    document.getElementById("txtDetallerGraphic").value = resultado[0].DetalleText;

                    ValorIdTicketGraphic = resultado[0].IdTicket;

                    ListarActividadesGraphic(resultado[0].IdTicket);

                } else {
                    toastr.options.timeOut = nTiempoMedio;
                    toastr.options.extendedTimeOut = nTiempoMedio;
                    /*success - info - warning - error*/
                    var $toast = toastr["error"](tMensajeErrorDesconocido, tTituloError); $toastlast = $toast;
                    console.log("Mensaje del error : " + resultado);
                }

                $("#CargaTemporal").addClass("hidden");

            },
            error: function (xhr, ajaxOptions, thrownError) {
                /*fallo al llamar a la funcion ajax*/
                toastr.options.timeOut = nTiempoLargo;
                toastr.options.extendedTimeOut = nTiempoLargo;
                /*success - info - warning - error*/
                var $toast = toastr["error"](tMensajeErrorConexion, tTituloErrorConexion); $toastlast = $toast;
                console.log("ERROR AJAX : " + ajaxOptions);
                console.log("ERROR AJAX : " + thrownError);
                console.log(xhr.responseText);
                console.log(xhr);

            }
        });
    }

    function ListarActividadesGraphic(ValorIdTicket) {

        $("#LstTicketPorActividad").addClass("hidden");
        $("#imgCargaLstTicketPorActividad").removeClass("hidden");
        $("#msjErrorLstTicketPorActividad").addClass("hidden");
        $("#msjVacioLstTicketPorActividad").addClass("hidden");
        $("#msjErrorListarLstTicketPorActividad").addClass("hidden");
        $("#msjSuperaLimiteLstTicketPorActividad").addClass("hidden");

        var dataSource = new kendo.data.DataSource({
            transport: {
                read: function (options) {
                    $.ajax({
                        type: "GET",
                        url: tRutaServidor + "/Ticket/ListarTicketPorActividad", /* es importante poner los .. delante */
                        dataType: "json",
                        data: {
                            IdTicket : ValorIdTicket,
                            Estado : StatusValor
                        },
                        success: function (resultado) {
                           /*exitosamente*/

                            if (resultado.length > 0) {
                                /* proceso exitoso con datos*/
                                if (resultado[0].ValorConsulta == "1") {

                                    //html = resultado.length;

                                    //document.getElementById("txtCantidadMediaTicket").innerHTML = html;

                                    $("#LstTicketPorActividad").removeClass("hidden");
                                    $("#imgCargaLstTicketPorActividad").addClass("hidden");
                                    $("#msjErrorLstTicketPorActividad").addClass("hidden");
                                    $("#msjVacioLstTicketPorActividad").addClass("hidden");
                                    $("#msjErrorListarLstTicketPorActividad").addClass("hidden");
                                    $("#msjSuperaLimiteLstTicketPorActividad").addClass("hidden");

                                    //$("#btnBuscar").prop('disabled', false);
                                    //$("#BtnExportarExcelCriticidadMedia").prop('disabled', false);

                                } else if (resultado[0].ValorConsulta == "-1") {

                                    $("#LstTicketPorActividad").addClass("hidden");
                                    $("#imgCargaLstTicketPorActividad").addClass("hidden");
                                    $("#msjErrorLstTicketPorActividad").addClass("hidden");
                                    $("#msjVacioLstTicketPorActividad").addClass("hidden");
                                    $("#msjErrorListarLstTicketPorActividad").addClass("hidden");
                                    $("#msjSuperaLimiteLstTicketPorActividad").removeClass("hidden");

                                    //$("#btnBuscar").prop('disabled', false);
                                    //$("#BtnExportarExcel").prop('disabled', true);
                                }
                                else {
                                    /* proceso fallido catch listado datos*/
                                    $("#LstTicketPorActividad").addClass("hidden");
                                    $("#imgCargaLstTicketPorActividad").addClass("hidden");
                                    $("#msjErrorLstTicketPorActividad").addClass("hidden");
                                    $("#msjVacioLstTicketPorActividad").addClass("hidden");
                                    $("#msjErrorListarLstTicketPorActividad").removeClass("hidden");
                                    $("#msjErrorListarLstTicketPorActividad").addClass("hidden");

                                    //$("#btnBuscar").prop('disabled', true);
                                    //$("#BtnExportarExcel").prop('disabled', true);
                                    console.log(resultado);
                                }

                            } else {

                                $("#LstTicketPorActividad").addClass("hidden");
                                $("#imgCargaLstTicketPorActividad").addClass("hidden");
                                $("#msjErrorLstTicketPorActividad").addClass("hidden");
                                $("#msjVacioLstTicketPorActividad").removeClass("hidden");
                                $("#msjErrorListarLstTicketPorActividad").addClass("hidden");
                                $("#msjErrorListarLstTicketPorActividad").addClass("hidden");

                                //$("#btnBuscar").prop('disabled', false);
                                //$("#BtnExportarExcelCriticidadMedia").prop('disabled', true);
                            }

                            options.success(resultado);
                            var grid = $("#LstTicketPorActividad").data("kendoGrid");
                            if (grid.dataSource.total() > 0) {
                                grid.setDataSource(dataSource);
                            }

                        },
                        error: function (xhr, ajaxOptions, thrownError) {
                            /*fallo al llamar a la funcion ajax*/
                            $("#LstTicketPorActividad").addClass("hidden");
                            $("#imgCargaLstTicketPorActividad").addClass("hidden");
                            $("#msjErrorLstTicketPorActividad").removeClass("hidden");
                            $("#msjVacioLstTicketPorActividad").addClass("hidden");
                            $("#msjVacioLstTicketPorActividad").addClass("hidden");
                            $("#msjErrorListarLstTicketPorActividad").addClass("hidden");

                            //$("#btnBuscar").prop('disabled', true);
                            //$("#BtnExportarExcel").prop('disabled', true);
                            console.log("ERROR AJAX : " + ajaxOptions);
                            console.log("ERROR AJAX : " + thrownError);
                            console.log(xhr.responseText);
                            console.log(xhr);

                        }
                    });
                },
                parameterMap: function (data, operation) {
                    if (operation !== "read" && data.models) {
                        return JSON.stringify({ JSONparam: data.models });
                    }
                }
            },
            error: function (e) {
                alert("Status: " + e.status + "; Error message: " + e.errorThrown);
            },
            batch: false,
            pageSize: PaginationKendoGrid,
            schema: {
                model: {
                    fields: {
                        IdActivity: { type: "number" },
                        ActivityText: { type: "string" },
                        FullNameActivity: { type: "string" },
                        FechaCierre: { type: "string" },
                        Estado: { type: "string" },
                        PercentageNumber: { type: "string" },
                    }
                }
            },
            //aggregate: [
            //    {
            //        field: "TicketNumber",
            //        aggregate: "count"
            //    },
            //    {
            //        field: "FuelQuantity",
            //        aggregate: "sum"
            //    }
            //]
        });

        $("#LstTicketPorActividad").kendoGrid({
            dataSource: dataSource,
            sortable: true,
            pageable: true,
            columnMenu: true,
            columnMenu: {
                sortable: true,
                filterable: true,
                columns: true,
                messages: {
                    columns: KendoMsjColumnMenuColumns,
                    filter: KendoMsjColumnMenuFilter,
                    sortAscending: KendoMsjColumnMenuSortAscending,
                    sortDescending: KendoMsjColumnMenuSortDescending,
                    settings: KendoMsjSettings
                }
            },
            columnMenuInit: function (e) {
                var menu = e.container.find(".k-menu").data("kendoMenu");
                menu.bind("select", function (e) {
                    var EtiquetaInput = $(".k-animation-container > .k-menu-group > .k-item > .k-content > .k-filter-menu > .k-textbox :input");
                    EtiquetaInput.focus();
                });
            },
            groupable: false,
            reorderable: true,
            selectable: "row",
            scrollable: true,
            resizable: true,
            filterable: {
                multi: true,
                checkAll: true,
                search: true,
                messages: {
                    clear: KendoMsjClear,
                    filter: KendoMsjFilter,
                    selectedItemsFormat: KendoMsjSelectedItemsFormat,
                    checkAll: KendoMsjCheckAll,
                    search: KendoMsjSearch
                }
            },
            //groupable: {
            //    info: true,
            //    messages: {
            //        empty: "<b style='font-style:italic';>Arrastre una cabecera aquí para agrupar su información por esa columna</b>"
            //    }
            //},
            pageable: {
                messages: {
                    empty: KendoMsjEmpty,
                    page: kendoMsjPage,
                    of: KendoMsjOf,
                    itemsPerPage: KendoMsjItemsPerPage,
                    first: KendoMsjFirst,
                    last: KendoMsjLast,
                    next: KendoMsjNext,
                    previous: KendoMsjPrevious,
                    refresh: KendoMsjRefresh,
                    morePages: KendoMsjMorePages,
                    display: KendoMsjDisplay
                },
                refresh: false,
                pageSizes: true,
                pageSizes: [5, 10, 15],
                /*para la cantidad de paginas se sugieren 5*/
                buttonCount: 5,
                /*Posicion de la pagina*/
                pageSize: 5
            },
            excel: { fileName: "Listado de Tickets en Criticidad Media.xlsx", filterable: true, allPages: true },
            columns: [
                //{
                //    width: 100,
                //    command: {
                //        template:
                //            "<button class='btn-grid btn-xs BtnVerInfo' type='button' title='Ver datos'><i class='fa fa-lg fa-fw fas fa-eye'></i></button>"
                //            //+ " " +"<button class='btn-grid btn-xs BtnAnular' type='button' title='Ver datos'><i class='fa fa-lg fa-fw fas fa-ban'></i></button>"
                //    },
                //    attributes: { "class": "text-center" },
                //    title: ""
                //},
                { field: "ActivityText", title: "Nombre Actividad", width: 120, attributes: { "class": "text-center" } },
                { field: "FullNameActivity", title: "Responsable", width: 120, attributes: { "class": "text-center" } },
                { field: "FechaCierre", title: "Fecha Cierre", width: 100, attributes: { "class": "text-center" } },
                { field: "Estado", title: "Estadia", width: 100, attributes: { "class": "text-center" } },
                { field: "PercentageNumber", title: "Responsable", width: 100, attributes: { "class": "text-center" } },
            ],
            dataBound: function () {

               var Grilla = this;

               for (i = 0; i < Grilla.dataSource._view.length; i++) {
                   var estadoActual = Grilla.tbody.children()[i].children[4].textContent;

                   if (estadoActual == 'COMPLETADO') {
                       $($("#LstTicketPorActividad").data("kendoGrid").tbody.children()[i]).addClass('colorVerde');
                   }
                   else if (estadoActual == 'PENDIENTE') {
                       $($("#LstTicketPorActividad").data("kendoGrid").tbody.children()[i]).addClass('colorAmarillo');
                   }
                   else {
                       $($("#LstTicketPorActividad").data("kendoGrid").tbody.children()[i]).addClass('colorRojo');
                   }
               }

            }
        });
    }

    function ListarFileTicketGraphic() {

        $("#LstTicketFiles").addClass("hidden");
        $("#imgCargaLstTicketFiles").removeClass("hidden");
        $("#msjErrorLstTicketFiles").addClass("hidden");
        $("#msjVacioLstTicketFiles").addClass("hidden");
        $("#msjErrorListarLstTicketFiles").addClass("hidden");
        $("#msjSuperaLimiteLstTicketFiles").addClass("hidden");

        var dataSource = new kendo.data.DataSource({
            transport: {
                read: function (options) {
                    $.ajax({
                        type: "GET",
                        url: tRutaServidor + "/Ticket/ListarFileTicketGraphic", /* es importante poner los .. delante */
                        dataType: "json",
                        data: {
                            IdTicket : ValorIdTicketGraphic
                        },
                        success: function (resultado) {
                           /*exitosamente*/

                            if (resultado.length > 0) {
                                /* proceso exitoso con datos*/
                                if (resultado[0].ValorConsulta == "1") {

                                    $("#LstTicketFiles").removeClass("hidden");
                                    $("#imgCargaLstTicketFiles").addClass("hidden");
                                    $("#msjErrorLstTicketFiles").addClass("hidden");
                                    $("#msjVacioLstTicketFiles").addClass("hidden");
                                    $("#msjErrorListarLstTicketFiles").addClass("hidden");
                                    $("#msjSuperaLimiteLstTicketFiles").addClass("hidden");

                                } else if (resultado[0].ValorConsulta == "-1") {

                                    $("#LstTicketFiles").addClass("hidden");
                                    $("#imgCargaLstTicketFiles").addClass("hidden");
                                    $("#msjErrorLstTicketFiles").addClass("hidden");
                                    $("#msjVacioLstTicketFiles").addClass("hidden");
                                    $("#msjErrorListarLstTicketFiles").addClass("hidden");
                                    $("#msjSuperaLimiteLstTicketFiles").removeClass("hidden");

                                }
                                else {
                                    /* proceso fallido catch listado datos*/
                                    $("#LstTicketFiles").addClass("hidden");
                                    $("#imgCargaLstTicketFiles").addClass("hidden");
                                    $("#msjErrorLstTicketFiles").addClass("hidden");
                                    $("#msjVacioLstTicketFiles").addClass("hidden");
                                    $("#msjErrorListarLstTicketFiles").removeClass("hidden");
                                    $("#msjSuperaLimiteLstTicketFiles").addClass("hidden");

                                    console.log(resultado);
                                }

                            } else {

                                $("#LstTicketFiles").addClass("hidden");
                                $("#imgCargaLstTicketFiles").addClass("hidden");
                                $("#msjErrorLstTicketFiles").addClass("hidden");
                                $("#msjVacioLstTicketFiles").removeClass("hidden");
                                $("#msjErrorListarLstTicketFiles").addClass("hidden");
                                $("#msjSuperaLimiteLstTicketFiles").addClass("hidden");

                            }

                            options.success(resultado);
                            var grid = $("#LstTicketFiles").data("kendoGrid");
                            if (grid.dataSource.total() > 0) {
                                grid.setDataSource(dataSource);
                            }

                        },
                        error: function (xhr, ajaxOptions, thrownError) {
                            /*fallo al llamar a la funcion ajax*/
                            $("#LstTicketFiles").addClass("hidden");
                            $("#imgCargaLstTicketFiles").addClass("hidden");
                            $("#msjErrorLstTicketFiles").removeClass("hidden");
                            $("#msjVacioLstTicketFiles").addClass("hidden");
                            $("#msjErrorListarLstTicketFiles").addClass("hidden");
                            $("#msjSuperaLimiteLstTicketFiles").addClass("hidden");

                            console.log("ERROR AJAX : " + ajaxOptions);
                            console.log("ERROR AJAX : " + thrownError);
                            console.log(xhr.responseText);
                            console.log(xhr);

                        }
                    });
                },
                parameterMap: function (data, operation) {
                    if (operation !== "read" && data.models) {
                        return JSON.stringify({ JSONparam: data.models });
                    }
                }
            },
            error: function (e) {
                alert("Status: " + e.status + "; Error message: " + e.errorThrown);
            },
            batch: false,
            pageSize: PaginationKendoGrid,
            schema: {
                model: {
                    fields: {
                       IdPathFile: { type: "number" },
                       FileTableAbbreviation: { type: "string" },
                       IdRegister: { type: "number" },
                       PathFile: { type: "string" },
                       FileNameRegister: { type: "string" },
                       FileSize: { type: "string" },
                       FullName: { type: "string" },
                       RegistrationDateString: { type: "string" }
                    }
                }
            },
            //aggregate: [
            //    {
            //        field: "TicketNumber",
            //        aggregate: "count"
            //    },
            //    {
            //        field: "FuelQuantity",
            //        aggregate: "sum"
            //    }
            //]
        });

        $("#LstTicketFiles").kendoGrid({
            dataSource: dataSource,
            sortable: true,
            pageable: true,
            columnMenu: true,
            columnMenu: {
                sortable: true,
                filterable: true,
                columns: true,
                messages: {
                    columns: KendoMsjColumnMenuColumns,
                    filter: KendoMsjColumnMenuFilter,
                    sortAscending: KendoMsjColumnMenuSortAscending,
                    sortDescending: KendoMsjColumnMenuSortDescending,
                    settings: KendoMsjSettings
                }
            },
            columnMenuInit: function (e) {
                var menu = e.container.find(".k-menu").data("kendoMenu");
                menu.bind("select", function (e) {
                    var EtiquetaInput = $(".k-animation-container > .k-menu-group > .k-item > .k-content > .k-filter-menu > .k-textbox :input");
                    EtiquetaInput.focus();
                });
            },
            groupable: false,
            reorderable: true,
            selectable: "row",
            scrollable: true,
            resizable: true,
            filterable: {
                multi: true,
                checkAll: true,
                search: true,
                messages: {
                    clear: KendoMsjClear,
                    filter: KendoMsjFilter,
                    selectedItemsFormat: KendoMsjSelectedItemsFormat,
                    checkAll: KendoMsjCheckAll,
                    search: KendoMsjSearch
                }
            },
            //groupable: {
            //    info: true,
            //    messages: {
            //        empty: "<b style='font-style:italic';>Arrastre una cabecera aquí para agrupar su información por esa columna</b>"
            //    }
            //},
            pageable: {
                messages: {
                    empty: KendoMsjEmpty,
                    page: kendoMsjPage,
                    of: KendoMsjOf,
                    itemsPerPage: KendoMsjItemsPerPage,
                    first: KendoMsjFirst,
                    last: KendoMsjLast,
                    next: KendoMsjNext,
                    previous: KendoMsjPrevious,
                    refresh: KendoMsjRefresh,
                    morePages: KendoMsjMorePages,
                    display: KendoMsjDisplay
                },
                refresh: false,
                pageSizes: true,
                pageSizes: [5, 10, 15],
                /*para la cantidad de paginas se sugieren 5*/
                buttonCount: 5,
                /*Posicion de la pagina*/
                pageSize: 5
            },
            excel: { fileName: "Listado de Tickets en Criticidad Media.xlsx", filterable: true, allPages: true },
            columns: [
                //{
                //    width: 100,
                //    command: {
                //        template:
                //            "<button class='btn-grid btn-xs BtnVerInfo' type='button' title='Ver datos'><i class='fa fa-lg fa-fw fas fa-eye'></i></button>"
                //            //+ " " +"<button class='btn-grid btn-xs BtnAnular' type='button' title='Ver datos'><i class='fa fa-lg fa-fw fas fa-ban'></i></button>"
                //    },
                //    attributes: { "class": "text-center" },
                //    title: ""
                //},
                { field: "IdPathFile", title: "IdPath", hidden: true, width: 120, attributes: { "class": "text-center" } },
                { field: "IdRegister", title: "IdRegister", hidden: true, width: 120, attributes: { "class": "text-center" } },
                { field: "PathFile", title: "PathFile", hidden: true, width: 120, attributes: { "class": "text-center" } },
                { field: "FileNameRegister", title: "Nombre Archivo", width: 200, attributes: { "class": "text-left" } },
                { field: "FileSize", title: "Tamaño Archivo", width: 150, attributes: { "class": "text-left" } },
                { field: "FullName", title: "Registrado por", width: 200, attributes: { "class": "text-left" } },
                { field: "RegistrationDateString", title: "Registrado", width: 160, attribute: { "class": "text-center" } }
            ],
            dataBound: function () {

               //var Grilla = this;

               //for (i = 0; i < Grilla.dataSource._view.length; i++) {
               //    var estadoActual = Grilla.tbody.children()[i].children[4].textContent;

               //    if (estadoActual == 'COMPLETADO') {
               //        $($("#LstTicketPorActividad").data("kendoGrid").tbody.children()[i]).addClass('colorVerde');
               //    }
               //    else if (estadoActual == 'PENDIENTE') {
               //        $($("#LstTicketPorActividad").data("kendoGrid").tbody.children()[i]).addClass('colorAmarillo');
               //    }
               //    else {
               //        $($("#LstTicketPorActividad").data("kendoGrid").tbody.children()[i]).addClass('colorRojo');
               //    }
               //}

            }
        });
    }

    function GraficaActividadesXTicket(estado) {

             var optionsGrafico2 = {
                 title: 'Grafico de Actividad X Ticket',
                 titleTextStyle: {
                     color: 'black',
                     fontName: 'Arial',
                     fontSize: 20,
                     bold: true,
                     italic: true,
                 },

                 slices: {
                     0: { color: '#3366CC' }, //azul
                     1: { color: '#FF8000' },
                     //1: { color: '#DC3912' }, //rojo
                     //2: { color: '#FF9900' }, //amarillo
                     //3: { color: '#109618' }, //verde
                     //4: { color: '#990099' }, //Morado
                     //5: { color: '#0099C6' }, //Celeste
                     //6: { color: '#DD4477' }, //Rosado
                 },

                 chartArea: {
                     //backgroundColor: "yellow",
                     width: "100%",
                     height: "100%",
                     left: 5,
                     right: 5,
                     top: 50,
                     bottom: 0,
                 },
                 //backgroundColor: {
                 //    fill: "yellow",
                 //    strokeWidth: 3,
                 //    stroke: "blue"
                 //},
                 //is3D:true,
                 //pieHole: 0.4,
                 //pieSliceText: 'label',
                 //pieSliceBorderColor: 'black',
                 //pieSliceTextStyle: {
                 //    color: 'white',
                 //    //fontName: "",
                 //    fontSize: 18
                 //},
                 //pieStartAngle: 45,
                 lineWidth: 2,
                 legend: {
                     //position: 'bottom',
                     position: 'labeled',
                     //position: 'left',
                     //position: 'none',
                     //position: 'right',
                     //position: 'top',
                     alignment: 'center',
                     labeledValueText: 'value',
                     textStyle: {
                         bold: true,
                         italic: true,
                         fontSize: 15,
                     },
                 },
                 tooltip: {
                     isHtml: true,
                     showColorCode: true,
                     textStyle: {
                         //color:  "red",//<string>,
                         //fontName: "",//<string>,
                         fontSize: 10,//<number>,
                         bold: true,//<boolean>,
                         //italic: false//<boolean>

                     },
                     //trigger: 'focus',// - The tooltip will be displayed when the user hovers over the element.
                     //trigger: 'none', //- The tooltip will not be displayed.
                     trigger: 'selection',// - The tooltip will be displayed when the user selects the element.
                 }

             };

             if (estado == "1") {
                 var chartDiv = document.getElementById('grGraficaActividadesXTicket');
                 pchartG2 = new google.visualization.PieChart(chartDiv);
             }

             $("#grGraficaActividadesXTicket").removeClass("hidden");
             $("#imgCargaGraficaActividadesXTicket").addClass("hidden");
             $("#msjErrorGraficaActividadesXTicket").addClass("hidden");
             $("#msjVacioGraficaActividadesXTicket").addClass("hidden");
             $("#msjErrorListarGraficaActividadesXTicket").addClass("hidden");
             $("#msjSuperaLimiteGraficaActividadesXTicket").addClass("hidden");

             //$("#ContenedorExGrafica1").removeClass("hidden");
             //$("#btnExGrafica1").prop('disabled', false);
             //$("#btnBuscar").prop('disabled', false);

             if (estado == "1") {
                 /********************************EVENTO ***READY****************************************/
                 google.visualization.events.addListener(pchartG2, 'ready', function () {
                     //alert(1);
                     try {
                         /*Centrar el titulo del grafico */
                         var $container = $('#grGraficaActividadesXTicket');
                         widthG2 = $container.find('svg').width();
                         //heightG10 = $container.find('svg').height();
                         //var $titleElem = $container.find("text:contains(" + optionsGrafico12.title + ")");
                         //var titleWidth = $titleElem.html().length * ($titleElem.attr('font-size') / 2);
                         //var xAxisAlign = (widthG12 - titleWidth) / 2;
                         //$titleElem.attr('x', xAxisAlign);

                     } catch (e) {
                         console.log(e);
                     }
                     /*Setear valor para el exportar*/
                     ImageURI2 = pchartG2.getImageURI();

                     /*Redibujar la grafica al cambiar del tamaño de pantalla*/
                     reDibujarGrafica2();

                 });

                 /******************************EVENTO ****ERROR*****************************************/
                 google.visualization.events.addListener(pchartG2, 'error', function (error) {
                     /**Para remover el mensaje de error de google del grafico (Tambien hay un atributo para remover todos los errores)*/
                     console.log(error);
                     google.visualization.errors.removeError(error.id);
                 });
             }

             pchartG2.draw(dataGroupGrafico2, optionsGrafico2);


             var columns = [];
             var series = {};
             for (var i = 0; i < dataGroupGrafico2.getNumberOfColumns(); i++) {
                 columns.push(i);

                 if (i > 0) {
                     series[i - 1] = {};

                 }
             }

             if (estado == "1") {
                 /***********************************EVENTO-SELECT********************************************/
                 google.visualization.events.addListener(pchartG2, 'select', function () {

                     //var view = new google.visualization.DataView(dataGroupGrafico13);
                     //view.hideColumns([1]);
                     //pchartG13.draw(view, optionsGrafico13);

                     var selec = pchartG2.getSelection();
                     //console.log(selec);

                     if (selec.length > 0) {
                         if (selec[0].row == null) {
                             var col = selec[0].column;
                             if (columns[col] == col) {

                                 columns[col] = {
                                     label: dataGroupGrafico2.getColumnLabel(col),
                                     type: dataGroupGrafico2.getColumnType(col),
                                     calc: function () {
                                         return null;
                                     }
                                 };
                                 series[col - 1].color = '#CCCCCC';
                             }
                             else {

                                 columns[col] = col;
                                 series[col - 1].color = null;
                             }

                             /*Se puede agregar opciones con options."atributo" = "El valor " */
                             optionsGrafico2.animation = ''; /*Para quitar la animacion lo pongo como vacio*/
                             optionsGrafico2.series = series;

                             var view = new google.visualization.DataView(dataGroupGrafico2);
                             view.setColumns(columns);
                             pchartG2.draw(view, optionsGrafico2);
                         }

                         //if (selec[0].row == 0) { /*Activos*/
                         //    estadoGeneralRestriccion = "A";
                         //    estadoGeneralRestriccionDescrip = "Activo";
                         //    ConvertirDataG11("2", "B", dataGroupGrafico10.jc[selec[0].row][0].gf);

                         //} else { /*Inactivos*/
                         //    estadoGeneralRestriccion = "I";
                         //    estadoGeneralRestriccionDescrip = "Inactivo";
                         //    ConvertirDataG11("2", "B", dataGroupGrafico10.jc[selec[0].row][0].gf);

                         //}
                     }
                 });

                 /**********************************EVENTO-ONMOUSEOVER*********************************************************************/
                 google.visualization.events.addListener(pchartG2, 'onmouseover', function () { document.getElementById('grGraficaActividadesXTicket').style.cursor = 'pointer'; });

                 /**********************************EVENTO-ONMOUSEOUT**********************************************************************/
                 google.visualization.events.addListener(pchartG2, 'onmouseout', function () { document.getElementById('grGraficaActividadesXTicket').style.cursor = 'default'; });
             }

        }

    function reDibujarGrafica2() {

             jQuery(window).on("resize", function (event) {

                 if (estadoCargarGrafico2 == "1") {

                     var win = $(this); //this = window

                     if (contadorGrafica2 == 0) {

                         //$("#grGrafica10").html = "";

                         contadorGrafica2 = 1;
                         tamanoAnchoPantalla2 = win.width();

                         var chartDiv = jQuery("#grGraficaActividadesXTicket");
                         chartDiv.css({ display: "none" });
                         chartDiv.css({ width: chartDiv.parent().innerWidth(), display: "block" });

                         GraficaActividadesXTicket("2");
                         //pchartG10.draw(dataGroup, options);

                     } else {

                         //$("#grGrafica10").html = "";
                         var tamanoAnchoActual = win.width();

                         var calculo = Math.abs(tamanoAnchoActual - tamanoAnchoPantalla2);
                         if (calculo > 10) {

                             tamanoAnchoPantalla2 = win.width();

                             var chartDiv = jQuery("#grGraficaActividadesXTicket");
                             chartDiv.css({ display: "none" });
                             chartDiv.css({ width: chartDiv.parent().innerWidth(), display: "block" });

                             GraficaActividadesXTicket("2");
                             //pchartG10.draw(dataGroup, options);
                         }
                     }
                 }

             });
         }

     /* ------------------------------------- GRAFICO 4 -------------------------------------- */

     function listadoActividadesXUsuario(estado) {

            $.ajax({
                type: "GET", /*Puede ser post*/
                url: tRutaServidor + "/Ticket/ListarActividadesXUsuario", /* es importante poner los .. delante*/
                contentType: "application/json; charset=utf-8",
                data: {
                     fechaInicio: $("#txtFechaInicioDash").val(),
                     fechaFin: $("#txtFechaFinalDash").val(),
                     Estado: StatusValor,
                     StatusCategory: ValueFilterTicket
                },
                dataType: "json",
                success: function (resultado) {

                    /*exitosamente*/
                    if (resultado.length > 0) {
                        /* proceso exitoso con datos*/
                        if (resultado[0].ValorConsulta == "1") {

                            $("#ContenedorExGrafica3").removeClass("hidden");
                            $("#btnExGrafica3").prop('disabled', false);


                            estadoCargarGrafico3 = "1";
                            //estadoCargarGrafico11 = "1";

                            resultadojson3 = resultado;
                            //listadoEstadosCotizaciones(resultado, estado);

                            llamadaActividadesXUsuario(estado);

                        }
                        else {
                            //estadoCargarGrafico11 = "0";
                            //estadoCargarGrafico11 = "0";

                            /*Grafico 1*/
                            $("#grGraficaActividadesXUsuario").addClass("hidden");
                            $("#imgCargaGraficaActividadesXUsuario").addClass("hidden");
                            $("#msjErrorGraficaActividadesXUsuario").addClass("hidden");
                            $("#msjVacioGraficaActividadesXUsuario").addClass("hidden");
                            $("#msjErrorListarGraficaActividadesXUsuario").removeClass("hidden");
                            $("#msjSuperaLimiteGraficaActividadesXUsuario").addClass("hidden");

                            //$("#ContenedorExGrafica11").addClass("hidden");
                            //$("#btnExGrafica11").prop('disabled', true);

                            ///*Grafico 2*/
                            //$("#grGrafica11").addClass("hidden");
                            //$("#imgCargaGrafica11").addClass("hidden");
                            //$("#msjErrorGrafica11").addClass("hidden");
                            //$("#msjVacioGrafica11").addClass("hidden");
                            //$("#msjErrorListarGrafica11").removeClass("hidden");
                            //$("#msjSuperaLimiteGrafica11").addClass("hidden");

                            //$("#ContenedorExGrafica11").addClass("hidden");
                            //$("#btnExGrafica11").prop('disabled', true);

                            //$("#btnBuscar").prop('disabled', false);
                        }

                    } else {

                        //$("#btnBuscarReporteCotizaciones").prop('disabled', false);
                        //estadoCargarGrafico11 = "0";
                        //estadoCargarGrafico11 = "0";
                        /*Grafico 1*/
                        $("#grGraficaActividadesXUsuario").addClass("hidden");
                        $("#imgCargaGraficaActividadesXUsuario").addClass("hidden");
                        $("#msjErrorGraficaActividadesXUsuario").addClass("hidden");
                        $("#msjVacioGraficaActividadesXUsuario").removeClass("hidden");
                        $("#msjErrorListarGraficaActividadesXUsuario").addClass("hidden");
                        $("#msjSuperaLimiteGraficaActividadesXUsuario").addClass("hidden");

                        //$("#ContenedorExGrafica11").addClass("hidden");
                        //$("#btnExGrafica11").prop('disabled', true);
                        //$("#btnBuscar").prop('disabled', false);

                        ///*Grafico 2*/
                        //$("#grGrafica11").addClass("hidden");
                        //$("#imgCargaGrafica11").addClass("hidden");
                        //$("#msjErrorGrafica11").addClass("hidden");
                        //$("#msjVacioGrafica11").removeClass("hidden");
                        //$("#msjErrorListarGrafica11").addClass("hidden");
                        //$("#msjSuperaLimiteGrafica11").addClass("hidden");

                        //$("#ContenedorExGrafica11").addClass("hidden");
                        //$("#btnExGrafica11").prop('disabled', true);
                    }

                },
                error: function (xhr, ajaxOptions, thrownError) {
                    //estadoCargarGrafico10 = "0";
                    //estadoCargarGrafico11 = "0";
                    /*fallo al llamar a la funcion ajax*/
                    /*Grafico 1*/
                    $("#grGraficaActividadesXUsuario").addClass("hidden");
                    $("#imgCargaGraficaActividadesXUsuario").addClass("hidden");
                    $("#msjErrorGraficaActividadesXUsuario").removeClass("hidden");
                    $("#msjVacioGraficaActividadesXUsuario").addClass("hidden");
                    $("#msjErrorListarGraficaActividadesXUsuario").addClass("hidden");
                    $("#msjSuperaLimiteGraficaActividadesXUsuario").addClass("hidden");

                    //$("#ContenedorExGrafica10").addClass("hidden");
                    //$("#btnExGrafica10").prop('disabled', true);
                    //$("#btnBuscar").prop('disabled', false);

                    ///*Grafico 2*/
                    //$("#grGrafica11").addClass("hidden");
                    //$("#imgCargaGrafica11").addClass("hidden");
                    //$("#msjErrorGrafica11").removeClass("hidden");
                    //$("#msjVacioGrafica11").addClass("hidden");
                    //$("#msjErrorListarGrafica11").addClass("hidden");
                    //$("#msjSuperaLimiteGrafica11").addClass("hidden");

                    //$("#ContenedorExGrafica11").addClass("hidden");
                    //$("#btnExGrafica11").prop('disabled', true);

                    console.log("ERROR AJAX : " + ajaxOptions);
                    console.log("ERROR AJAX : " + thrownError);
                    console.log(xhr.responseText);
                    console.log(xhr);

                }
            });
        }

     function llamadaActividadesXUsuario(estado) {

            if (estado == "1") {

                /**Llamar a la funcion que dibuja el grafico, y en caso se mueva la pantalla redibujar*/
                google.charts.load('visualization', '1.0', { 'packages': ['corechart' , 'bar'] });
                google.charts.setOnLoadCallback(DibujarActividadesXUsuario);

                Valor3 = '1';

            } else {
                ConvertirDataActividadesXUsuario(estado);
            }
         }

     function DibujarActividadesXUsuario() {
             ConvertirDataActividadesXUsuario("1");
        }

     function ConvertirDataActividadesXUsuario(estado) {


             var dataTableData = new google.visualization.DataTable();
             dataTableData.addColumn('string', 'Usuario'); // Implicit domain label col.
             dataTableData.addColumn('number', 'Cantidad');
             dataTableData.addColumn({type: 'string', role: 'annotation'});
             //dataTableData.addColumn('number', 'NoProgramado');
             //dataTableData.addColumn({ type: 'string', role: 'tooltip', 'p': { 'html': true } });

             //for (i = 0; i < resultadojson10.length; i++) {

                  //if (resultadojson10[i].Latitud == 0 && resultadojson10[i].Latitud == 0) {
                  //    EstadoCuatro += 1;
                  //} else if (resultadojson10[i].StatusRegister == 1) {
                  //    EstadoUno += 1;
                  //} else if (resultadojson10[i].StatusRegister == 2) {
                  //    EstadoDos += 1;
                  //} else if (resultadojson10[i].StatusRegister == 3) {
                  //    EstadoTres += 1;
                  //}
                 //ValoGoogleChart = [
                 //    { Name: 'P', Estado: resultadojson10[0].Programado},
                 //    { Name: 'NP', Estado: resultadojson10[0].NoProgramado},
                 //    //{ Name: 'Superior a 48 Horas', Estado: EstadoTres },
                 //    //{ Name: 'No existe registros', Estado: EstadoCuatro },
                 //];
             //}
            //if (resultadojson3.length < 59) {

            //    var containerGrafico = document.getElementById('grGraficaActividadesXUsuarioASSAC');
            //    containerGrafico.style.width = '100%';

            //    var ScrollContenedor = document.getElementById('chartAreaWrapper');
            //    ScrollContenedor.style.overflowX = 'hidden';
            //    ScrollContenedor.style.overflowY = 'hidden';
            //    ScrollContenedor.style.width = '100%'
            // }
            // else {

            //     var containerGrafico = document.getElementById('grGraficaActividadesXUsuarioASSAC');
            //     containerGrafico.style.width = '3500px';
            //     containerGrafico.style.height = '500px';

            //     var ScrollContenedor = document.getElementById('chartAreaWrapper');
            //     ScrollContenedor.style.overflowX = 'scroll';
            //     ScrollContenedor.style.overflowY = 'hidden';
            //     ScrollContenedor.style.width = '100%'

            //}

            var CantidadAtencionesSumada;
            //var textoTicket;

            for (i = 0; i < resultadojson3.length; i++) { //recorro todas las fechas únicas

                CantidadAtencionesSumada = resultadojson3[i].ActivityQuantity;

                //if (resultadojson3[i].ActivityQuantity > 1) {

                //    textoTicket = "Tickets";

                //} else {

                //    textoTicket = "Ticket";

                //}

                //dataTableData.addRow([resultadojson3[i].ResponsibleName, resultadojson3[i].ActivityQuantity , CreandoHtml12(resultadojson3[i].ActivityQuantity, textoTicket, "#3366CC" , resultadojson3[i].ResponsibleId)]);
                dataTableData.addRow([resultadojson3[i].ResponsibleName, resultadojson3[i].ActivityQuantity, CantidadAtencionesSumada.toString()]);
            }

             dataGroupGrafico3 = dataTableData;
             GraficaActividadesXUsuario(estado);
         }

     function CreandoHtml12(contador, texto, color, IdResponsible) {

         //return "<div style='padding:10px 5px 10px 5px; width: 300px; display:flex; flex-flow: row wrap;'> <div style='width: 10px; height:10px; background-color:" + color + "; border: 1px solid black; margin:5px 2px 0px 0px;' ></div> " +
         //    "<div style='width:250px; font-weight: bold; font-family: Arial, Helvetica, sans-serif; margin:0px 0px 0px 0px; font-size:14px;'>Existe(n) " + contador + " " + texto + ".</div>" +
         //    " <div style='width:40px;'><input class='btn btn-info' onclick='ClickGrillaDetalle11(" + numSlice + ")' type='button' style='color:white;' value='Detalle'></div></div>";

         return "<div style='padding:5px; width: 350px; display:flex; flex-flow: row nowrap; align-items:center'>" +
             "<div style='width:15px;'><div style='width:12px; height:12px; background-color:" + color + "; border: 1px solid black; margin:5px 2px 0px 0px;' ></div></div>" +
             "<div style='width:240px; font-weight: bold; font-family: Arial, Helvetica, sans-serif; margin:10px 3px 0px 3px; font-size:14px; display:flex; flex-flow: row wrap;'><p style='word-break: break-all; text-align:justify;'>Existe(n) " + contador + " " + texto + ".</p></div>" +
             "<div style='width:50px;'><button class='btn btn-success' onclick=\"ClickGrillaDetalle12('" + IdResponsible + "')\" style='color:white; padding:3px; font-size:12px;' value=''><i class='fa fa-list'></i> Ver detalle</button></div>" +
             "</div>";
     }

     function ClickGrillaDetalle12(IdResponsible) {

          ListarDetalleTicketReponsableGraphic(IdResponsible);

          $('#ModalResponsibleGraphic').modal('show');

     }

     function ListarDetalleTicketReponsableGraphic(ValorIdResponsible) {

        //$("#CargaTemporal").removeClass("hidden");

        $("#LstResponsibleGraphic").addClass("hidden");
        $("#imgCargaLstResponsibleGraphic").removeClass("hidden");
        $("#msjErrorLstResponsibleGraphic").addClass("hidden");
        $("#msjVacioLstResponsibleGraphic").addClass("hidden");
        $("#msjErrorListarLstResponsibleGraphic").addClass("hidden");
        $("#msjSuperaLimiteLstResponsibleGraphic").addClass("hidden");

        var dataSource = new kendo.data.DataSource({
            transport: {
                read: function (options) {
                    $.ajax({
                        type: "GET",
                        url: tRutaServidor + "/Ticket/ListarTicketResponsibleGraphic", /* es importante poner los .. delante */
                        dataType: "json",
                        data: {
                            IdResponsible : ValorIdResponsible
                        },
                        success: function (resultado) {
                           /*exitosamente*/

                            if (resultado.length > 0) {
                                /* proceso exitoso con datos*/
                                if (resultado[0].ValorConsulta == "1") {

                                    $("#LstResponsibleGraphic").removeClass("hidden");
                                    $("#imgCargaLstResponsibleGraphic").addClass("hidden");
                                    $("#msjErrorLstResponsibleGraphic").addClass("hidden");
                                    $("#msjVacioLstResponsibleGraphic").addClass("hidden");
                                    $("#msjErrorListarLstResponsibleGraphic").addClass("hidden");
                                    $("#msjSuperaLimiteLstResponsibleGraphic").addClass("hidden");

                                    //$("#btnBuscar").prop('disabled', false);
                                    //$("#BtnExportarExcelCriticidadMedia").prop('disabled', false);

                                } else if (resultado[0].ValorConsulta == "-1") {

                                    $("#LstResponsibleGraphic").addClass("hidden");
                                    $("#imgCargaLstResponsibleGraphic").addClass("hidden");
                                    $("#msjErrorLstResponsibleGraphic").addClass("hidden");
                                    $("#msjVacioLstResponsibleGraphic").addClass("hidden");
                                    $("#msjErrorListarLstResponsibleGraphic").addClass("hidden");
                                    $("#msjSuperaLimiteLstResponsibleGraphic").removeClass("hidden");

                                    //$("#btnBuscar").prop('disabled', false);
                                    //$("#BtnExportarExcel").prop('disabled', true);
                                }
                                else {
                                    /* proceso fallido catch listado datos*/
                                    $("#LstResponsibleGraphic").addClass("hidden");
                                    $("#imgCargaLstResponsibleGraphic").addClass("hidden");
                                    $("#msjErrorLstResponsibleGraphic").addClass("hidden");
                                    $("#msjVacioLstResponsibleGraphic").addClass("hidden");
                                    $("#msjErrorListarLstResponsibleGraphic").removeClass("hidden");
                                    $("#msjSuperaLimiteLstResponsibleGraphic").addClass("hidden");

                                    //$("#btnBuscar").prop('disabled', true);
                                    //$("#BtnExportarExcel").prop('disabled', true);
                                    console.log(resultado);
                                }

                            } else {

                                $("#LstResponsibleGraphic").addClass("hidden");
                                $("#imgCargaLstResponsibleGraphic").addClass("hidden");
                                $("#msjErrorLstResponsibleGraphic").addClass("hidden");
                                $("#msjVacioLstResponsibleGraphic").removeClass("hidden");
                                $("#msjErrorListarLstResponsibleGraphic").addClass("hidden");
                                $("#msjSuperaLimiteLstResponsibleGraphic").addClass("hidden");

                                //$("#btnBuscar").prop('disabled', false);
                                //$("#BtnExportarExcelCriticidadMedia").prop('disabled', true);
                            }

                            options.success(resultado);
                            var grid = $("#LstResponsibleGraphic").data("kendoGrid");
                            if (grid.dataSource.total() > 0) {
                                grid.setDataSource(dataSource);
                            }

                        },
                        error: function (xhr, ajaxOptions, thrownError) {
                            /*fallo al llamar a la funcion ajax*/
                            $("#LstResponsibleGraphic").addClass("hidden");
                            $("#imgCargaLstResponsibleGraphic").addClass("hidden");
                            $("#msjErrorLstResponsibleGraphic").removeClass("hidden");
                            $("#msjVacioLstResponsibleGraphic").addClass("hidden");
                            $("#msjErrorListarLstResponsibleGraphic").addClass("hidden");
                            $("#msjSuperaLimiteLstResponsibleGraphic").addClass("hidden");

                            //$("#btnBuscar").prop('disabled', true);
                            //$("#BtnExportarExcel").prop('disabled', true);
                            console.log("ERROR AJAX : " + ajaxOptions);
                            console.log("ERROR AJAX : " + thrownError);
                            console.log(xhr.responseText);
                            console.log(xhr);

                        }
                    });
                },
                parameterMap: function (data, operation) {
                    if (operation !== "read" && data.models) {
                        return JSON.stringify({ JSONparam: data.models });
                    }
                }
            },
            error: function (e) {
                alert("Status: " + e.status + "; Error message: " + e.errorThrown);
            },
            batch: false,
            pageSize: PaginationKendoGrid,
            schema: {
                model: {
                    fields: {
                        IdTicket: { type: "number" },
                        NroTicket: { type: "string" },
                        StartDate: { type: "string" },
                        FullNameTicket: { type: "string" },
                        ResponsibleNameTicket: { type: "string" },
                        LocationNameTicket: { type: "string" },
                        OperationName: { type: "string" },
                        ReasonName: { type: "string" },
                        CriticalityName: { type: "string" },
                        TitleDetalle: { type: "string" },
                        DetalleText: { type: "string" },
                        //ResponsibleId: {type: "number"},
                    }
                }
            },
            //aggregate: [
            //    {
            //        field: "TicketNumber",
            //        aggregate: "count"
            //    },
            //    {
            //        field: "FuelQuantity",
            //        aggregate: "sum"
            //    }
            //]
        });

        $("#LstResponsibleGraphic").kendoGrid({
            dataSource: dataSource,
            sortable: true,
            pageable: true,
            columnMenu: true,
            columnMenu: {
                sortable: true,
                filterable: true,
                columns: true,
                messages: {
                    columns: KendoMsjColumnMenuColumns,
                    filter: KendoMsjColumnMenuFilter,
                    sortAscending: KendoMsjColumnMenuSortAscending,
                    sortDescending: KendoMsjColumnMenuSortDescending,
                    settings: KendoMsjSettings
                }
            },
            columnMenuInit: function (e) {
                var menu = e.container.find(".k-menu").data("kendoMenu");
                menu.bind("select", function (e) {
                    var EtiquetaInput = $(".k-animation-container > .k-menu-group > .k-item > .k-content > .k-filter-menu > .k-textbox :input");
                    EtiquetaInput.focus();
                });
            },
            groupable: false,
            reorderable: true,
            selectable: "row",
            scrollable: true,
            resizable: true,
            filterable: {
                multi: true,
                checkAll: true,
                search: true,
                messages: {
                    clear: KendoMsjClear,
                    filter: KendoMsjFilter,
                    selectedItemsFormat: KendoMsjSelectedItemsFormat,
                    checkAll: KendoMsjCheckAll,
                    search: KendoMsjSearch
                }
            },
            //groupable: {
            //    info: true,
            //    messages: {
            //        empty: "<b style='font-style:italic';>Arrastre una cabecera aquí para agrupar su información por esa columna</b>"
            //    }
            //},
            pageable: {
                messages: {
                    empty: KendoMsjEmpty,
                    page: kendoMsjPage,
                    of: KendoMsjOf,
                    itemsPerPage: KendoMsjItemsPerPage,
                    first: KendoMsjFirst,
                    last: KendoMsjLast,
                    next: KendoMsjNext,
                    previous: KendoMsjPrevious,
                    refresh: KendoMsjRefresh,
                    morePages: KendoMsjMorePages,
                    display: KendoMsjDisplay
                },
                refresh: false,
                pageSizes: true,
                pageSizes: [5, 10, 15],
                /*para la cantidad de paginas se sugieren 5*/
                buttonCount: 5,
                /*Posicion de la pagina*/
                pageSize: 5
            },
            excel: { fileName: "Listado de Tickets en Criticidad Media.xlsx", filterable: true, allPages: true },
            columns: [
                //{
                //    width: 100,
                //    command: {
                //        template:
                //            "<button class='btn-grid btn-xs BtnVerInfo' type='button' title='Ver datos'><i class='fa fa-lg fa-fw fas fa-eye'></i></button>"
                //            //+ " " +"<button class='btn-grid btn-xs BtnAnular' type='button' title='Ver datos'><i class='fa fa-lg fa-fw fas fa-ban'></i></button>"
                //    },
                //    attributes: { "class": "text-center" },
                //    title: ""
                //},
                { field: "NroTicket", title: "Nro. Ticket", width: 100, attributes: { "class": "text-center" } },
                { field: "StartDate", title: "Fecha Registro", width: 120, attributes: { "class": "text-center" } },
                { field: "OperationName", title: "Operacion", width: 120, attributes: { "class": "text-center" } },
                { field: "FullNameTicket", title: "Quien Llama", width: 170, attributes: { "class": "text-center" } },
                { field: "ResponsibleNameTicket", title: "Responsable", width: 170, attributes: { "class": "text-center" } },
                { field: "ReasonName", title: "Razón", width: 120, attributes: { "class": "text-center" } },
                { field: "CriticalityName", title: "Criticidad", width: 120, attributes: { "class": "text-center" } },
                { field: "LocationNameTicket", title: "Locación", hidden: true, width: 120, attributes: { "class": "text-center" } },
                { field: "TitleDetalle", title: "Titulo Detalle", width: 150, attributes: { "class": "text-center" } },
                { field: "DetalleText", title: "Detalle Ticket",hidden: true, width: 150, attributes: { "class": "text-center" } }
            ],
            dataBound: function () {

               //var Grilla = this;

               //for (i = 0; i < Grilla.dataSource._view.length; i++) {
               //    var estadoActual = Grilla.tbody.children()[i].children[4].textContent;

               //    if (estadoActual == 'COMPLETADO') {
               //        $($("#LstTicketPorActividad").data("kendoGrid").tbody.children()[i]).addClass('colorVerde');
               //    }
               //    else if (estadoActual == 'PENDIENTE') {
               //        $($("#LstTicketPorActividad").data("kendoGrid").tbody.children()[i]).addClass('colorAmarillo');
               //    }
               //    else {
               //        $($("#LstTicketPorActividad").data("kendoGrid").tbody.children()[i]).addClass('colorRojo');
               //    }
               //}

            }
        });
     }

     function GraficaActividadesXUsuario(estado) {

             var optionsGrafico3 = {
                 title: 'Grafico de Tickets X Responsable',
                 isStacked: true,
                 titleTextStyle: {
                     //color: '#0288d1',
                     color: 'black',
                     fontName: 'Arial',
                     fontSize: 20,
                     bold: true,
                     italic: true,
                 },
                 slices: {
                     0: { color: '#3366CC' }, //azul
                     1: { color: '#FF8000' },
                     //1: { color: '#DC3912' }, //rojo
                     //2: { color: '#FF9900' }, //amarillo
                     //3: { color: '#109618' }, //verde
                     //4: { color: '#990099' }, //Morado
                     //5: { color: '#0099C6' }, //Celeste
                     //6: { color: '#DD4477' }, //Rosado
                 },
                 // focusTarget: 'category',
                 chartArea: {
                    top: 108,
                    height: '40%'
                 },
                 legend: {position:'top'},
                 vAxis: {
                     title: 'Nroº TICKETS',
                     titleTextStyle: {
                         fontSize: '15px',
                         color: "#439889",
                         bold: true,
                         italic: true,
                     },
                     //format: '#,### gal',
                     format: '0',
                     //viewWindowMode: 'explicit',
                     // viewWindow: {   // De que rango a que rango se podra visualizar
                     //    max: dataGroupGrafico1.getColumnRange(0).max,
                     //    min: 0
                     //},
                     gridlines: {
                         count: 12   // Lineas grises que se desprenderan del eje y de manera horizonatal.
                     },
                     textStyle: {
                         color: "#0288d1",
                         fontName: 'Arial',
                         fontSize: '15px',
                         bold: true,
                         italic: true
                     },
                 },
                 hAxis: {
                     showTextEvery: 1,
                     slantedText: true,
                     slantedTextAngle: 90,
                     titleTextStyle: {
                         fontSize: '15px',
                         color: "#439889",
                         bold: true,
                         italic: true,
                     },
                     textStyle: {
                         color: "#0288d1",
                         fontName: 'Arial',
                         fontSize: '15px',
                         bold: true,
                         italic: true,

                     },
                     count: -1,
                     viewWindowMode: 'pretty',
                     format:'0',
                 },
                 animation: {
                     duration: 600,
                     easing: 'linear', //Constant speed.
                     //easing: 'in', // Ease in - Start slow and speed up.
                     //easing: 'out', // Ease out - Start fast and slow down.
                     //easing: 'inAndOut', // Ease in and out - Start slow, speed up, then slow down.
                     startup: true,
                 },

                 /**Opciones para quitar los margenes y padding por defecto*/
                 //chartArea: {
                 //    width: "100%",
                 //    height: "80%",
                 //    left: 60,
                 //    right: 20,
                 //    //top: 40,
                 //    //bottom: 20,
                 //},
                 lineWidth: 2,
                 pointShape: 'point',
                 pointSize: 5,
                 legend: {
                     position: 'bottom',
                     textStyle: {
                         bold: true,
                         italic: true,
                     },
                 },
                 crosshair: { trigger: 'both' },
                 //crosshair: { trigger: 'focus' }
                 //crosshair: { trigger: 'selection' }
                 //crosshair: { orientation: 'both' }
                 //crosshair: { orientation: 'horizontal' }
                 //crosshair: { orientation: 'vertical' }
                 //crosshair: { color: "red" } //'red' or '#f00'
                 //crosshair: { opacity: opacity_number }
                 //crosshair: { focused: { color: color_string } }
                 //crosshair: { focused: { opacity: opacity_number } }
                 //crosshair: { selected: { color: color_string } }
                 //crosshair: { selected: { opacity: opacity_number } }
                 tooltip: {
                     isHtml: false,
                     showColorCode: true,
                     textStyle: {
                         //color:  "red",//<string>,
                         //fontName: "",//<string>,
                         fontSize: 14,//<number>,
                         bold: true,//<boolean>,
                         //italic: false//<boolean>

                     },
                     //trigger: 'focus',// - The tooltip will be displayed when the user hovers over the element.
                     //trigger: 'none', //- The tooltip will not be displayed.
                     trigger: 'selection',// - The tooltip will be displayed when the user selects the element.
                 }

             };

             if (estado == "1") {
                 var chartDiv = document.getElementById('grGraficaActividadesXUsuario');
                 pchartG3 = new google.visualization.BarChart(chartDiv);
             }

             $("#grGraficaActividadesXUsuario").removeClass("hidden");
             $("#imgCargaGraficaActividadesXUsuario").addClass("hidden");
             $("#msjErrorGraficaActividadesXUsuario").addClass("hidden");
             $("#msjVacioGraficaActividadesXUsuario").addClass("hidden");
             $("#msjErrorListarGraficaActividadesXUsuario").addClass("hidden");
             $("#msjSuperaLimiteGraficaActividadesXUsuario").addClass("hidden");

             //$("#ContenedorExGrafica12").removeClass("hidden");
             //$("#btnExGrafica12").prop('disabled', false);
             //$("#btnBuscar").prop('disabled', false);

             if (estado == "1") {
                 /********************************EVENTO ***READY****************************************/
                 google.visualization.events.addListener(pchartG3, 'ready', function () {
                     //alert(1);
                     try {
                         /*Centrar el titulo del grafico */
                         var $container = $('#grGraficaActividadesXUsuario');
                         widthG3 = $container.find('svg').width();
                         //heightG10 = $container.find('svg').height();
                         //var $titleElem = $container.find("text:contains(" + optionsGrafico12.title + ")");
                         //var titleWidth = $titleElem.html().length * ($titleElem.attr('font-size') / 2);
                         //var xAxisAlign = (widthG12 - titleWidth) / 2;
                         //$titleElem.attr('x', xAxisAlign);

                     } catch (e) {
                         console.log(e);
                     }
                     /*Setear valor para el exportar*/
                     ImageURI3 = pchartG3.getImageURI();

                     /*Redibujar la grafica al cambiar del tamaño de pantalla*/
                     reDibujarGrafica3();

                 });

                 /******************************EVENTO ****ERROR*****************************************/
                 google.visualization.events.addListener(pchartG3, 'error', function (error) {
                     /**Para remover el mensaje de error de google del grafico (Tambien hay un atributo para remover todos los errores)*/
                     console.log(error);
                     google.visualization.errors.removeError(error.id);
                 });
             }

             pchartG3.draw(dataGroupGrafico3, optionsGrafico3);


             var columns = [];
             var series = {};
             for (var i = 0; i < dataGroupGrafico3.getNumberOfColumns(); i++) {
                 columns.push(i);

                 if (i > 0) {
                     series[i - 1] = {};

                 }
             }

             if (estado == "1") {
                 /***********************************EVENTO-SELECT********************************************/
                 google.visualization.events.addListener(pchartG3, 'select', function () {

                     //var view = new google.visualization.DataView(dataGroupGrafico13);
                     //view.hideColumns([1]);
                     //pchartG13.draw(view, optionsGrafico13);

                     var selec = pchartG3.getSelection();
                     //console.log(selec);

                     if (selec.length > 0) {
                         if (selec[0].row == null) {
                             var col = selec[0].column;
                             if (columns[col] == col) {

                                 columns[col] = {
                                     label: dataGroupGrafico3.getColumnLabel(col),
                                     type: dataGroupGrafico3.getColumnType(col),
                                     calc: function () {
                                         return null;
                                     }
                                 };
                                 series[col - 1].color = '#CCCCCC';
                             }
                             else {

                                 columns[col] = col;
                                 series[col - 1].color = null;
                             }

                             /*Se puede agregar opciones con options."atributo" = "El valor " */
                             optionsGrafico3.animation = ''; /*Para quitar la animacion lo pongo como vacio*/
                             optionsGrafico3.series = series;

                             var view = new google.visualization.DataView(dataGroupGrafico3);
                             view.setColumns(columns);
                             pchartG3.draw(view, optionsGrafico3);
                         }

                         //if (selec[0].row == 0) { /*Activos*/
                         //    estadoGeneralRestriccion = "A";
                         //    estadoGeneralRestriccionDescrip = "Activo";
                         //    ConvertirDataG11("2", "B", dataGroupGrafico11.jc[selec[0].row][0].gf);

                         //} else { /*Inactivos*/
                         //    estadoGeneralRestriccion = "I";
                         //    estadoGeneralRestriccionDescrip = "Inactivo";
                         //    ConvertirDataG11("2", "B", dataGroupGrafico11.jc[selec[0].row][0].gf);

                         //}
                     }
                 });

                 /**********************************EVENTO-ONMOUSEOVER*********************************************************************/
                 google.visualization.events.addListener(pchartG3, 'onmouseover', function () { document.getElementById('grGraficaActividadesXUsuario').style.cursor = 'pointer'; });

                 /**********************************EVENTO-ONMOUSEOUT**********************************************************************/
                 google.visualization.events.addListener(pchartG3, 'onmouseout', function () { document.getElementById('grGraficaActividadesXUsuario').style.cursor = 'default'; });
             }

         }

     function reDibujarGrafica3() {

             jQuery(window).on("resize", function (event) {

                 if (estadoCargarGrafico3 == "1") {

                     var win = $(this); //this = window

                     if (contadorGrafica3 == 0) {

                         //$("#grGrafica10").html = "";

                         contadorGrafica3 = 1;
                         tamanoAnchoPantalla3 = win.width();

                         var chartDiv = jQuery("#grGraficaActividadesXUsuario");
                         chartDiv.css({ display: "none" });
                         chartDiv.css({ width: chartDiv.parent().innerWidth(), display: "block" });

                         GraficaActividadesXUsuario("2");
                         //pchartG10.draw(dataGroup, options);

                     } else {

                         //$("#grGrafica10").html = "";
                         var tamanoAnchoActual = win.width();

                         var calculo = Math.abs(tamanoAnchoActual - tamanoAnchoPantalla3);
                         if (calculo > 10) {

                             tamanoAnchoPantalla3 = win.width();

                             var chartDiv = jQuery("#grGraficaActividadesXUsuario");
                             chartDiv.css({ display: "none" });
                             chartDiv.css({ width: chartDiv.parent().innerWidth(), display: "block" });

                             GraficaActividadesXUsuario("2");
                             //pchartG10.draw(dataGroup, options);
                         }
                     }
                 }

             });
         }

    ///*------------------------------------- GRAFICO - 5 -------------------------------- */

    function listadoTicketXActividad(estado) {

            var ValueIdTicket;

            if ($("#selectorTicketGrafico").val() == null || $("#selectorTicketGrafico").val() == "") {

                ValueIdTicket = 1;

            } else {

                $("#grGraficaTicketXActividad").addClass("hidden");
                $("#imgCargaGraficaTicketXActividad").removeClass("hidden");
                $("#msjErrorGraficaTicketXActividad").addClass("hidden");
                $("#msjVacioGraficaTicketXActividad").addClass("hidden");
                $("#msjErrorListarGraficaTicketXActividad").addClass("hidden");
                $("#msjSuperaLimiteGraficaTicketXActividad").addClass("hidden");

                ValueIdTicket = $("#selectorTicketGrafico").val()[0];

            }

            //console.log($("#selectorTicketGrafico").val());

            $.ajax({
                type: "GET", /*Puede ser post*/
                url: tRutaServidor + "/Ticket/ListarTicketXActividad", /* es importante poner los .. delante*/
                contentType: "application/json; charset=utf-8",
                data: {
                     IdTicket: ValueIdTicket,
                     StatusCategory: ValueFilterTicket
                },
                dataType: "json",
                success: function (resultado) {

                    /*exitosamente*/
                    if (resultado.length > 0) {
                        /* proceso exitoso con datos*/
                        if (resultado[0].ValorConsulta == "1") {

                            $("#ContenedorExGrafica7").removeClass("hidden");
                            $("#btnExGrafica7").prop('disabled', false);

                            estadoCargarGrafico7 = "1";
                            //estadoCargarGrafico11 = "1";

                            resultadojson7 = resultado;
                            //listadoEstadosCotizaciones(resultado, estado);

                            llamadaTicketXActividad(estado);

                        }
                        else {
                            //estadoCargarGrafico11 = "0";
                            //estadoCargarGrafico11 = "0";

                            /*Grafico 1*/
                            $("#grGraficaTicketXActividad").addClass("hidden");
                            $("#imgCargaGraficaTicketXActividad").addClass("hidden");
                            $("#msjErrorGraficaTicketXActividad").addClass("hidden");
                            $("#msjVacioGraficaTicketXActividad").addClass("hidden");
                            $("#msjErrorListarGraficaTicketXActividad").removeClass("hidden");
                            $("#msjSuperaLimiteGraficaTicketXActividad").addClass("hidden");

                            //$("#ContenedorExGrafica11").addClass("hidden");
                            //$("#btnExGrafica11").prop('disabled', true);

                            ///*Grafico 2*/
                            //$("#grGrafica11").addClass("hidden");
                            //$("#imgCargaGrafica11").addClass("hidden");
                            //$("#msjErrorGrafica11").addClass("hidden");
                            //$("#msjVacioGrafica11").addClass("hidden");
                            //$("#msjErrorListarGrafica11").removeClass("hidden");
                            //$("#msjSuperaLimiteGrafica11").addClass("hidden");

                            //$("#ContenedorExGrafica11").addClass("hidden");
                            //$("#btnExGrafica11").prop('disabled', true);

                            //$("#btnBuscar").prop('disabled', false);
                        }

                    } else {

                        //$("#btnBuscarReporteCotizaciones").prop('disabled', false);
                        //estadoCargarGrafico11 = "0";
                        //estadoCargarGrafico11 = "0";
                        /*Grafico 1*/
                        $("#grGraficaTicketXActividad").addClass("hidden");
                        $("#imgCargaGraficaTicketXActividad").addClass("hidden");
                        $("#msjErrorGraficaTicketXActividad").addClass("hidden");
                        $("#msjVacioGraficaTicketXActividad").removeClass("hidden");
                        $("#msjErrorListarGraficaTicketXActividad").addClass("hidden");
                        $("#msjSuperaLimiteGraficaTicketXActividad").addClass("hidden");

                        //$("#ContenedorExGrafica11").addClass("hidden");
                        //$("#btnExGrafica11").prop('disabled', true);
                        //$("#btnBuscar").prop('disabled', false);

                        ///*Grafico 2*/
                        //$("#grGrafica11").addClass("hidden");
                        //$("#imgCargaGrafica11").addClass("hidden");
                        //$("#msjErrorGrafica11").addClass("hidden");
                        //$("#msjVacioGrafica11").removeClass("hidden");
                        //$("#msjErrorListarGrafica11").addClass("hidden");
                        //$("#msjSuperaLimiteGrafica11").addClass("hidden");

                        //$("#ContenedorExGrafica11").addClass("hidden");
                        //$("#btnExGrafica11").prop('disabled', true);
                    }
                },
                error: function (xhr, ajaxOptions, thrownError) {
                    //estadoCargarGrafico10 = "0";
                    //estadoCargarGrafico11 = "0";
                    /*fallo al llamar a la funcion ajax*/
                    /*Grafico 1*/
                    $("#grGraficaTicketXActividad").addClass("hidden");
                    $("#imgCargaGraficaTicketXActividad").addClass("hidden");
                    $("#msjErrorGraficaTicketXActividad").removeClass("hidden");
                    $("#msjVacioGraficaTicketXActividad").addClass("hidden");
                    $("#msjErrorListarGraficaTicketXActividad").addClass("hidden");
                    $("#msjSuperaLimiteGraficaTicketXActividad").addClass("hidden");

                    //$("#ContenedorExGrafica10").addClass("hidden");
                    //$("#btnExGrafica10").prop('disabled', true);
                    //$("#btnBuscar").prop('disabled', false);

                    ///*Grafico 2*/
                    //$("#grGrafica11").addClass("hidden");
                    //$("#imgCargaGrafica11").addClass("hidden");
                    //$("#msjErrorGrafica11").removeClass("hidden");
                    //$("#msjVacioGrafica11").addClass("hidden");
                    //$("#msjErrorListarGrafica11").addClass("hidden");
                    //$("#msjSuperaLimiteGrafica11").addClass("hidden");

                    //$("#ContenedorExGrafica11").addClass("hidden");
                    //$("#btnExGrafica11").prop('disabled', true);

                    console.log("ERROR AJAX : " + ajaxOptions);
                    console.log("ERROR AJAX : " + thrownError);
                    console.log(xhr.responseText);
                    console.log(xhr);

                }
            });
        }

    function llamadaTicketXActividad(estado) {

            if (estado == "1") {

                /**Llamar a la funcion que dibuja el grafico, y en caso se mueva la pantalla redibujar*/
                google.charts.load('visualization', '1.0', { 'packages': ['corechart' , 'bar'] });
                google.charts.setOnLoadCallback(DibujarTicketXActividad);

                Valor3 = '1';

            } else {
                ConvertirDataTicketXActividad(estado);
            }
         }

    function DibujarTicketXActividad() {
             ConvertirDataTicketXActividad("1");
        }

    function ConvertirDataTicketXActividad(estado) {

             var dataTableData = new google.visualization.DataTable();
             dataTableData.addColumn('string', 'Responsable'); // Implicit domain label col.
             dataTableData.addColumn('number', 'Cantidad');
             dataTableData.addColumn({type: 'string', role: 'annotation'});
             //dataTableData.addColumn('number', 'NoProgramado');
             //dataTableData.addColumn({ type: 'string', role: 'tooltip', 'p': { 'html': true } });

             //for (i = 0; i < resultadojson10.length; i++) {

                  //if (resultadojson10[i].Latitud == 0 && resultadojson10[i].Latitud == 0) {
                  //    EstadoCuatro += 1;
                  //} else if (resultadojson10[i].StatusRegister == 1) {
                  //    EstadoUno += 1;
                  //} else if (resultadojson10[i].StatusRegister == 2) {
                  //    EstadoDos += 1;
                  //} else if (resultadojson10[i].StatusRegister == 3) {
                  //    EstadoTres += 1;
                  //}
                 //ValoGoogleChart = [
                 //    { Name: 'P', Estado: resultadojson10[0].Programado},
                 //    { Name: 'NP', Estado: resultadojson10[0].NoProgramado},
                 //    //{ Name: 'Superior a 48 Horas', Estado: EstadoTres },
                 //    //{ Name: 'No existe registros', Estado: EstadoCuatro },
                 //];
             //}
            //if (resultadojson3.length < 59) {

            //    var containerGrafico = document.getElementById('grGraficaActividadesXUsuarioASSAC');
            //    containerGrafico.style.width = '100%';

            //    var ScrollContenedor = document.getElementById('chartAreaWrapper');
            //    ScrollContenedor.style.overflowX = 'hidden';
            //    ScrollContenedor.style.overflowY = 'hidden';
            //    ScrollContenedor.style.width = '100%'
            // }
            // else {

            //     var containerGrafico = document.getElementById('grGraficaActividadesXUsuarioASSAC');
            //     containerGrafico.style.width = '3500px';
            //     containerGrafico.style.height = '500px';

            //     var ScrollContenedor = document.getElementById('chartAreaWrapper');
            //     ScrollContenedor.style.overflowX = 'scroll';
            //     ScrollContenedor.style.overflowY = 'hidden';
            //     ScrollContenedor.style.width = '100%'

            //}

            var CantidadAtencionesSumada;

            for (i = 0; i < resultadojson7.length; i++) { //recorro todas las fechas únicas

                 CantidadAtencionesSumada = resultadojson7[i].NumberPercentage;

                 dataTableData.addRow([resultadojson7[i].ResponsibleName, resultadojson7[i].NumberPercentage , CantidadAtencionesSumada.toString()]);
            }

             dataGroupGrafico7 = dataTableData;
             GraficaTicketXActividad(estado);
         }

    function GraficaTicketXActividad(estado) {

             var optionsGrafico7 = {
                 title: 'Grafico de Avance Porcentual de cada Responsable',
                 isStacked: true,
                 titleTextStyle: {
                     //color: '#0288d1',
                     color: 'black',
                     fontName: 'Arial',
                     fontSize: 20,
                     bold: true,
                     italic: true,
                 },
                 slices: {
                     0: { color: '#3366CC' }, //azul
                     1: { color: '#FF8000' },
                     //1: { color: '#DC3912' }, //rojo
                     //2: { color: '#FF9900' }, //amarillo
                     //3: { color: '#109618' }, //verde
                     //4: { color: '#990099' }, //Morado
                     //5: { color: '#0099C6' }, //Celeste
                     //6: { color: '#DD4477' }, //Rosado
                 },
                 // focusTarget: 'category',
                 chartArea: {
                    top: 108,
                    height: '40%'
                 },
                 legend: {position:'top'},
                 vAxis: {
                     title: 'Nroº TICKETS',
                     titleTextStyle: {
                         fontSize: '15px',
                         color: "#439889",
                         bold: true,
                         italic: true,
                     },
                     //format: '#,### gal',
                     format: '0',
                     //viewWindowMode: 'explicit',
                     // viewWindow: {   // De que rango a que rango se podra visualizar
                     //    max: dataGroupGrafico1.getColumnRange(0).max,
                     //    min: 0
                     //},
                     gridlines: {
                         count: 12   // Lineas grises que se desprenderan del eje y de manera horizonatal.
                     },
                     textStyle: {
                         color: "#0288d1",
                         fontName: 'Arial',
                         fontSize: '15px',
                         bold: true,
                         italic: true
                     },
                 },
                 hAxis: {
                     showTextEvery: 1,
                     slantedText: true,
                     slantedTextAngle: 90,
                     titleTextStyle: {
                         fontSize: '15px',
                         color: "#439889",
                         bold: true,
                         italic: true,
                     },
                     textStyle: {
                         color: "#0288d1",
                         fontName: 'Arial',
                         fontSize: '15px',
                         bold: true,
                         italic: true,

                     },
                     count: -1,
                     viewWindowMode: 'pretty',
                     format:'0',
                 },
                 animation: {
                     duration: 600,
                     easing: 'linear', //Constant speed.
                     //easing: 'in', // Ease in - Start slow and speed up.
                     //easing: 'out', // Ease out - Start fast and slow down.
                     //easing: 'inAndOut', // Ease in and out - Start slow, speed up, then slow down.
                     startup: true,
                 },

                 /**Opciones para quitar los margenes y padding por defecto*/
                 //chartArea: {
                 //    width: "100%",
                 //    height: "80%",
                 //    left: 60,
                 //    right: 20,
                 //    //top: 40,
                 //    //bottom: 20,
                 //},
                 lineWidth: 2,
                 pointShape: 'point',
                 pointSize: 5,
                 legend: {
                     position: 'bottom',
                     textStyle: {
                         bold: true,
                         italic: true,
                     },
                 },
                 crosshair: { trigger: 'both' },
                 //crosshair: { trigger: 'focus' }
                 //crosshair: { trigger: 'selection' }
                 //crosshair: { orientation: 'both' }
                 //crosshair: { orientation: 'horizontal' }
                 //crosshair: { orientation: 'vertical' }
                 //crosshair: { color: "red" } //'red' or '#f00'
                 //crosshair: { opacity: opacity_number }
                 //crosshair: { focused: { color: color_string } }
                 //crosshair: { focused: { opacity: opacity_number } }
                 //crosshair: { selected: { color: color_string } }
                 //crosshair: { selected: { opacity: opacity_number } }
                 tooltip: {
                     isHtml: false,
                     showColorCode: true,
                     textStyle: {
                         //color:  "red",//<string>,
                         //fontName: "",//<string>,
                         fontSize: 14,//<number>,
                         bold: true,//<boolean>,
                         //italic: false//<boolean>

                     },
                     //trigger: 'focus',// - The tooltip will be displayed when the user hovers over the element.
                     //trigger: 'none', //- The tooltip will not be displayed.
                     trigger: 'selection',// - The tooltip will be displayed when the user selects the element.
                 }

             };

             if (estado == "1") {
                 var chartDiv = document.getElementById('grGraficaTicketXActividad');
                 pchartG7 = new google.visualization.BarChart(chartDiv);
             }

             $("#grGraficaTicketXActividad").removeClass("hidden");
             $("#imgCargaGraficaTicketXActividad").addClass("hidden");
             $("#msjErrorGraficaTicketXActividad").addClass("hidden");
             $("#msjVacioGraficaTicketXActividad").addClass("hidden");
             $("#msjErrorListarGraficaTicketXActividad").addClass("hidden");
             $("#msjSuperaLimiteGraficaTicketXActividad").addClass("hidden");

             //$("#ContenedorExGrafica12").removeClass("hidden");
             //$("#btnExGrafica12").prop('disabled', false);
             //$("#btnBuscar").prop('disabled', false);

             if (estado == "1") {
                 /********************************EVENTO ***READY****************************************/
                 google.visualization.events.addListener(pchartG7, 'ready', function () {
                     //alert(1);
                     try {
                         /*Centrar el titulo del grafico */
                         var $container = $('#grGraficaTicketXActividad');
                         widthG7 = $container.find('svg').width();
                         //heightG10 = $container.find('svg').height();
                         //var $titleElem = $container.find("text:contains(" + optionsGrafico12.title + ")");
                         //var titleWidth = $titleElem.html().length * ($titleElem.attr('font-size') / 2);
                         //var xAxisAlign = (widthG12 - titleWidth) / 2;
                         //$titleElem.attr('x', xAxisAlign);

                     } catch (e) {
                         console.log(e);
                     }
                     /*Setear valor para el exportar*/
                     ImageURI7 = pchartG7.getImageURI();

                     /*Redibujar la grafica al cambiar del tamaño de pantalla*/
                     reDibujarGrafica7();

                 });

                 /******************************EVENTO ****ERROR*****************************************/
                 google.visualization.events.addListener(pchartG7, 'error', function (error) {
                     /**Para remover el mensaje de error de google del grafico (Tambien hay un atributo para remover todos los errores)*/
                     console.log(error);
                     google.visualization.errors.removeError(error.id);
                 });
             }

             pchartG7.draw(dataGroupGrafico7, optionsGrafico7);


             var columns = [];
             var series = {};
             for (var i = 0; i < dataGroupGrafico7.getNumberOfColumns(); i++) {
                 columns.push(i);

                 if (i > 0) {
                     series[i - 1] = {};

                 }
             }

             if (estado == "1") {
                 /***********************************EVENTO-SELECT********************************************/
                 google.visualization.events.addListener(pchartG7, 'select', function () {

                     //var view = new google.visualization.DataView(dataGroupGrafico13);
                     //view.hideColumns([1]);
                     //pchartG13.draw(view, optionsGrafico13);

                     var selec = pchartG7.getSelection();
                     //console.log(selec);

                     if (selec.length > 0) {
                         if (selec[0].row == null) {
                             var col = selec[0].column;
                             if (columns[col] == col) {

                                 columns[col] = {
                                     label: dataGroupGrafico7.getColumnLabel(col),
                                     type: dataGroupGrafico7.getColumnType(col),
                                     calc: function () {
                                         return null;
                                     }
                                 };
                                 series[col - 1].color = '#CCCCCC';
                             }
                             else {

                                 columns[col] = col;
                                 series[col - 1].color = null;
                             }

                             /*Se puede agregar opciones con options."atributo" = "El valor " */
                             optionsGrafico7.animation = ''; /*Para quitar la animacion lo pongo como vacio*/
                             optionsGrafico7.series = series;

                             var view = new google.visualization.DataView(dataGroupGrafico7);
                             view.setColumns(columns);
                             pchartG7.draw(view, optionsGrafico7);
                         }

                         //if (selec[0].row == 0) { /*Activos*/
                         //    estadoGeneralRestriccion = "A";
                         //    estadoGeneralRestriccionDescrip = "Activo";
                         //    ConvertirDataG11("2", "B", dataGroupGrafico11.jc[selec[0].row][0].gf);

                         //} else { /*Inactivos*/
                         //    estadoGeneralRestriccion = "I";
                         //    estadoGeneralRestriccionDescrip = "Inactivo";
                         //    ConvertirDataG11("2", "B", dataGroupGrafico11.jc[selec[0].row][0].gf);

                         //}
                     }
                 });

                 /**********************************EVENTO-ONMOUSEOVER*********************************************************************/
                 google.visualization.events.addListener(pchartG7, 'onmouseover', function () { document.getElementById('grGraficaTicketXActividad').style.cursor = 'pointer'; });

                 /**********************************EVENTO-ONMOUSEOUT**********************************************************************/
                 google.visualization.events.addListener(pchartG7, 'onmouseout', function () { document.getElementById('grGraficaTicketXActividad').style.cursor = 'default'; });
             }

         }

    function reDibujarGrafica7() {

             jQuery(window).on("resize", function (event) {

                 if (estadoCargarGrafico7 == "1") {

                     var win = $(this); //this = window

                     if (contadorGrafica7 == 0) {

                         //$("#grGrafica10").html = "";

                         contadorGrafica7 = 1;
                         tamanoAnchoPantalla7 = win.width();

                         var chartDiv = jQuery("#grGraficaTicketXActividad");
                         chartDiv.css({ display: "none" });
                         chartDiv.css({ width: chartDiv.parent().innerWidth(), display: "block" });

                         GraficaTicketXActividad("2");
                         //pchartG10.draw(dataGroup, options);

                     } else {

                         //$("#grGrafica10").html = "";
                         var tamanoAnchoActual = win.width();

                         var calculo = Math.abs(tamanoAnchoActual - tamanoAnchoPantalla7);
                         if (calculo > 10) {

                             tamanoAnchoPantalla7 = win.width();

                             var chartDiv = jQuery("#grGraficaTicketXActividad");
                             chartDiv.css({ display: "none" });
                             chartDiv.css({ width: chartDiv.parent().innerWidth(), display: "block" });

                             GraficaTicketXActividad("2");
                             //pchartG10.draw(dataGroup, options);
                         }
                     }
                 }

             });
     }

    /*-------------------------------------------------------------------------------------*/

    function GrillaListadoActividadBusqueda() {

            var dataSource = new kendo.data.DataSource({
                transport: {
                    read: function (options) {
                        $.ajax({
                            type: "GET",
                            url: tRutaServidor + "/Activity/ListarActivityBusqueda", /* es importante poner los .. delante*/
                            data: {
                                NroTicket: NroTicketActivity,
                            },
                            dataType: "json",
                            /*async: false,*/
                            success: function (resultado) {
                                  /*exitosamente*/
                                let FechaFinModificado;

                                if (resultado.length > 0) {

                                    /* proceso exitoso con datos*/
                                    if (resultado[0].ValorConsulta == "1") {

                                        var dates = [];

                                        for (i = 0; i < resultado.length; i++) {

                                            var fechita = "";

                                            fechita = resultado[i].FechaCierre;

                                            fechita = fechita.split("/").reverse().join("/");

                                            dates.push(new Date(fechita));

                                        }

                                        var max = new Date(Math.max.apply(null,dates));

                                        //var max = new Date(Math.max(dates));
                                        function pad(s) { return (s < 10) ? '0' + s : s; }

                                        var fechaFinReal = [pad(max.getDate()), pad(max.getMonth() + 1), max.getFullYear()].join('/');

                                        FechaFinModificado = document.querySelector("#lblFechaFinBusqueda");
                                        FechaFinModificado.innerHTML = "";
                                        FechaFinModificado.innerHTML = fechaFinReal.toString();

                                        $("#GrillaLstActivityBusqueda").removeClass("hidden");
                                        $("#imgCargaLstActivityBusqueda").addClass("hidden");
                                        $("#msjErrorLstActivityBusqueda").addClass("hidden");
                                        $("#msjVacioLstActivityBusqueda").addClass("hidden");
                                        $("#msjErrorListarLstActivityBusqueda").addClass("hidden");
                                        $("#msjSuperaLimiteLstActivityBusqueda").addClass("hidden");

                                        //$("#btnBuscar").prop('disabled', false);
                                        //$("#BtnExportarExcel").prop('disabled', false);

                                    } else if (resultado[0].ValorConsulta == "-1") {

                                        $("#GrillaLstActivityBusqueda").addClass("hidden");
                                        $("#imgCargaLstActivityBusqueda").addClass("hidden");
                                        $("#msjErrorLstActivityBusqueda").addClass("hidden");
                                        $("#msjVacioLstActivityBusqueda").addClass("hidden");
                                        $("#msjErrorListarLstActivityBusqueda").addClass("hidden");
                                        $("#msjSuperaLimiteLstActivityBusqueda").removeClass("hidden");

                                        //$("#btnBuscar").prop('disabled', false);
                                        //$("#BtnExportarExcel").prop('disabled', true);
                                    }
                                    else {
                                        /* proceso fallido catch listado datos*/
                                        $("#GrillaLstActivityBusqueda").addClass("hidden");
                                        $("#imgCargaLstActivityBusqueda").addClass("hidden");
                                        $("#msjErrorLstActivityBusqueda").addClass("hidden");
                                        $("#msjVacioLstActivityBusqueda").addClass("hidden");
                                        $("#msjErrorListarLstActivityBusqueda").removeClass("hidden");
                                        $("#msjSuperaLimiteLstActivityBusqueda").addClass("hidden");

                                        //$("#btnBuscar").prop('disabled', true);
                                        //$("#BtnExportarExcel").prop('disabled', true);
                                        console.log(resultado);
                                    }

                                } else {


                                    FechaFinModificado = document.querySelector("#lblFechaFinBusqueda");
                                    FechaFinModificado.innerHTML = "";
                                    FechaFinModificado.innerHTML = "00/00/0000";

                                    $("#GrillaLstActivityBusqueda").addClass("hidden");
                                    $("#imgCargaLstActivityBusqueda").addClass("hidden");
                                    $("#msjErrorLstActivityBusqueda").addClass("hidden");
                                    $("#msjVacioLstActivityBusqueda").removeClass("hidden");
                                    $("#msjErrorListarLstActivityBusqueda").addClass("hidden");
                                    $("#msjSuperaLimiteLstActivityBusqueda").addClass("hidden");

                                    //$("#btnBuscar").prop('disabled', false);
                                    //$("#BtnExportarExcel").prop('disabled', true);
                                }

                                options.success(resultado);
                                var grid = $("#GrillaLstActivityBusqueda").data("kendoGrid");
                                if (grid.dataSource.total() > 0) {
                                    grid.setDataSource(dataSource);
                                }

                            },
                            error: function (xhr, ajaxOptions, thrownError) {
                                /*fallo al llamar a la funcion ajax*/
                                $("#GrillaLstActivityBusqueda").addClass("hidden");
                                $("#imgCargaLstActivityBusqueda").addClass("hidden");
                                $("#msjErrorLstActivityBusqueda").removeClass("hidden");
                                $("#msjVacioLstActivityBusqueda").addClass("hidden");
                                $("#msjErrorListarLstActivityBusqueda").addClass("hidden");
                                $("#msjSuperaLimiteLstActivityBusqueda").addClass("hidden");

                                //$("#btnBuscar").prop('disabled', true);
                                //$("#BtnExportarExcel").prop('disabled', true);
                                console.log("ERROR AJAX : " + ajaxOptions);
                                console.log("ERROR AJAX : " + thrownError);
                                console.log(xhr.responseText);
                                console.log(xhr);

                            }
                        });
                    },
                    parameterMap: function (data, operation) {
                        if (operation !== "read" && data.models) {
                            return JSON.stringify({ JSONparam: data.models });
                        }
                    }
                },
                error: function (e) {
                    alert("Status: " + e.status + "; Error message: " + e.errorThrown);
                },
                batch: false,
                pageSize: PaginationKendoGrid,
                schema: {
                    model: {
                        fields: {
                            IdActivity: { type: "number" },
                            ActivityText: { type: "string" },
                            FullNameActivity: { type: "string" },
                            DescripcionActivity: { type: "string" },
                            FechaCierre: { type: "string" },
                            Estado: { type: "string" },
                            PercentageNumber: { type: "string" },
                            ValidationButton: { type: "string" },
                        }
                    }
                },
                //aggregate: [
                //    {
                //        field: "TicketNumber",
                //        aggregate: "count"
                //    },
                //    {
                //        field: "FuelQuantity",
                //        aggregate: "sum"
                //    }
                //]
            });

            $("#GrillaLstActivityBusqueda").kendoGrid({
                dataSource: dataSource,
                sortable: true,
                pageable: true,
                columnMenu: true,
                columnMenu: {
                    sortable: true,
                    filterable: true,
                    columns: true,
                    messages: {
                        columns: KendoMsjColumnMenuColumns,
                        filter: KendoMsjColumnMenuFilter,
                        sortAscending: KendoMsjColumnMenuSortAscending,
                        sortDescending: KendoMsjColumnMenuSortDescending,
                        settings: KendoMsjSettings
                    }
                },
                columnMenuInit: function (e) {
                    var menu = e.container.find(".k-menu").data("kendoMenu");
                    menu.bind("select", function (e) {
                        var EtiquetaInput = $(".k-animation-container > .k-menu-group > .k-item > .k-content > .k-filter-menu > .k-textbox :input");
                        EtiquetaInput.focus();
                    });
                },
                groupable: false,
                reorderable: true,
                selectable: "row",
                scrollable: true,
                resizable: true,
                filterable: {
                    multi: true,
                    checkAll: true,
                    search: true,
                    messages: {
                        clear: KendoMsjClear,
                        filter: KendoMsjFilter,
                        selectedItemsFormat: KendoMsjSelectedItemsFormat,
                        checkAll: KendoMsjCheckAll,
                        search: KendoMsjSearch
                    }
                },
                //groupable: {
                //    info: true,
                //    messages: {
                //        empty: "<b style='font-style:italic';>Arrastre una cabecera aquí para agrupar su información por esa columna</b>"
                //    }
                //},
                pageable: {
                    messages: {
                        empty: KendoMsjEmpty,
                        page: kendoMsjPage,
                        of: KendoMsjOf,
                        itemsPerPage: KendoMsjItemsPerPage,
                        first: KendoMsjFirst,
                        last: KendoMsjLast,
                        next: KendoMsjNext,
                        previous: KendoMsjPrevious,
                        refresh: KendoMsjRefresh,
                        morePages: KendoMsjMorePages,
                        display: KendoMsjDisplay
                    },
                    refresh: false,
                    pageSizes: true,
                    pageSizes: [5, 10, 15],
                    /*para la cantidad de paginas se sugieren 5*/
                    buttonCount: 5,
                    /*Posicion de la pagina*/
                    pageSize: 5
                },
                excel: { fileName: "Listado de Actividades.xlsx", filterable: true, allPages: true },
                columns: [
                    {
                        width: 100,
                        command: {
                            template:
                                "<button class='btn-grid btn-xs BtnVerInfo2' type='button' title='Ver datos'><i class='fa fa-lg fa-fw fas fa-eye'></i></button>"
                        },
                        attributes: { "class": "text-center" },
                        title: ""
                    },
                    { field: "ActivityText", title: "Nombre Actividad", width: 120, attributes: { "class": "text-center" } },
                    { field: "FullNameActivity", title: "Responsable", width: 120, attributes: { "class": "text-center" } },
                    //{ field: "DescripcionActivity", title: "Descripcion", width: 120, attributes: { "class": "text-center" } },
                    { field: "FechaCierre", title: "Fecha Cierre", width: 120, attributes: { "class": "text-center" } },
                    { field: "Estado", title: "Estado", width: 120, attributes: { "class": "text-center" } },
                    { field: "PercentageNumber", title: "Porcentaje Avance", width: 120, attributes: { "class": "text-center" } }
                ],
                dataBound: function () {
                     var Grilla = this;

                       //Grilla.tbody.find("tr[role='row']").each(function () {
                       //    var model = Grilla.dataItem(this);
                       //    //var estadoOrden = model.bE_Purchase_Order.PurchaseOrderStatus;

                       //    //if (estadoOrden == 'Z') {
                       //    //    $(this).find("td > button.BtnRegistrar").remove();
                       //    //}

                       //    //if (model.BillingCompleted == 'Z') {
                       //    //    $(this).find("td > button.BtnRegistrar").remove();
                       //    //}
                       //});


                       for (i = 0; i < Grilla.dataSource._view.length; i++) {
                           var estadoActual = Grilla.tbody.children()[i].children[4].textContent;
                           if (estadoActual == 'COMPLETADO') {
                              $($("#GrillaLstActivityBusqueda").data("kendoGrid").tbody.children()[i]).addClass('colorVerde');
                           }
                           else if (estadoActual == 'PENDIENTE') {
                              $($("#GrillaLstActivityBusqueda").data("kendoGrid").tbody.children()[i]).addClass('colorAmarillo');
                           }
                           else {
                              $($("#GrillaLstActivityBusqueda").data("kendoGrid").tbody.children()[i]).addClass('colorRojo');
                           }
                       }

                //    for (i = 0; i < $("#LstCotizacion").data("kendoGrid").dataSource._view.length; i++) {
                //        var diasRestantes = $("#LstCotizacion").data("kendoGrid").tbody.children()[i].children[2].textContent;

                //        if (diasRestantes < 11) {
                //            $($("#LstCotizacion").data("kendoGrid").tbody.children()[i]).addClass('colorRojo');
                //        }
                //        else if (diasRestantes > 10 && diasRestantes < 21) {
                //            $($("#LstCotizacion").data("kendoGrid").tbody.children()[i]).addClass('colorAmarillo');
                //        }
                //        else if (diasRestantes > 20) {
                //          $($("#LstCotizacion").data("kendoGrid").tbody.children()[i]).addClass('colorAmarillo');
                //        }
                //        else {
                //            $($("#LstCotizacion").data("kendoGrid").tbody.children()[i]).addClass('colorRojo');
                //        }
                //    }

                //    var Grilla = this;
                //    Grilla.tbody.find("tr[role='row']").each(function () {
                //        var model = Grilla.dataItem(this);
                //        if (model.QuotationStatus != "C") {
                //            $(this).find("td > button.BtnVerInfo").remove();
                //        }

                //    });

                }
            });
        }

    function GrillaListadoActividad() {

            var dataSource = new kendo.data.DataSource({
                transport: {
                    read: function (options) {
                        $.ajax({
                            type: "GET",
                            url: tRutaServidor + "/Activity/ListarActivityCreadoDASH", /* es importante poner los .. delante*/
                            data: {
                                NroTicket: NroTicketActivity,
                            },
                            dataType: "json",
                            /*async: false,*/
                            success: function (resultado) {
                                  /*exitosamente*/
                                let FechaFinModificado;

                                if (resultado.length > 0) {

                                    /* proceso exitoso con datos*/
                                    if (resultado[0].ValorConsulta == "1") {

                                        //var dates = [];

                                        //for (i = 0; i < resultado.length; i++) {

                                        //    var fechita = "";

                                        //    fechita = resultado[i].FechaCierre;

                                        //    fechita = fechita.split("/").reverse().join("/");

                                        //    dates.push(new Date(fechita));

                                        //}

                                        //var max = new Date(Math.max.apply(null,dates));

                                        ////var max = new Date(Math.max(dates));
                                        //function pad(s) { return (s < 10) ? '0' + s : s; }

                                        //var fechaFinReal = [pad(max.getDate()), pad(max.getMonth() + 1), max.getFullYear()].join('/');

                                        //FechaFinModificado = document.querySelector("#lblFechaFin");
                                        //FechaFinModificado.innerHTML = "";
                                        //FechaFinModificado.innerHTML = fechaFinReal.toString();

                                        var CantidadArray = resultado.length;

                                        var fechaUltima = resultado[CantidadArray - 1].FechaCierre;

                                        let fechaFinReal = fechaUltima.substring(0, fechaUltima.length - 9);

                                        FechaFinModificado = document.querySelector("#lblFechaFin");
                                        FechaFinModificado.innerHTML = "";
                                        FechaFinModificado.innerHTML = fechaFinReal.toString();


                                        $("#GrillaLstActivityAdd").removeClass("hidden");
                                        $("#imgCargaLstActivityAdd").addClass("hidden");
                                        $("#msjErrorLstActivityAdd").addClass("hidden");
                                        $("#msjVacioLstActivityAdd").addClass("hidden");
                                        $("#msjErrorListarLstActivityAdd").addClass("hidden");
                                        $("#msjSuperaLimiteLstActivityAdd").addClass("hidden");

                                        //$("#btnBuscar").prop('disabled', false);
                                        //$("#BtnExportarExcel").prop('disabled', false);

                                    } else if (resultado[0].ValorConsulta == "-1") {

                                        $("#GrillaLstActivityAdd").addClass("hidden");
                                        $("#imgCargaLstActivity").addClass("hidden");
                                        $("#msjErrorLstActivity").addClass("hidden");
                                        $("#msjVacioLstActivity").addClass("hidden");
                                        $("#msjErrorListarLstActivityAdd").addClass("hidden");
                                        $("#msjSuperaLimiteLstActivityAdd").removeClass("hidden");

                                        //$("#btnBuscar").prop('disabled', false);
                                        //$("#BtnExportarExcel").prop('disabled', true);
                                    }
                                    else {
                                        /* proceso fallido catch listado datos*/
                                        $("#GrillaLstActivityAdd").addClass("hidden");
                                        $("#imgCargaLstActivity").addClass("hidden");
                                        $("#msjErrorLstActivity").addClass("hidden");
                                        $("#msjVacioLstActivity").addClass("hidden");
                                        $("#msjErrorListarLstActivityAdd").removeClass("hidden");
                                        $("#msjSuperaLimiteLstActivityAdd").addClass("hidden");

                                        //$("#btnBuscar").prop('disabled', true);
                                        //$("#BtnExportarExcel").prop('disabled', true);
                                        console.log(resultado);
                                    }

                                } else {


                                    FechaFinModificado = document.querySelector("#lblFechaFin");
                                    FechaFinModificado.innerHTML = "";
                                    FechaFinModificado.innerHTML = "00/00/0000";

                                    $("#GrillaLstActivityAdd").addClass("hidden");
                                    $("#imgCargaLstActivityAdd").addClass("hidden");
                                    $("#msjErrorLstActivityAdd").addClass("hidden");
                                    $("#msjVacioLstActivityAdd").removeClass("hidden");
                                    $("#msjErrorListarLstActivityAdd").addClass("hidden");
                                    $("#msjSuperaLimiteLstActivityAdd").addClass("hidden");

                                    //$("#btnBuscar").prop('disabled', false);
                                    //$("#BtnExportarExcel").prop('disabled', true);
                                }

                                options.success(resultado);
                                var grid = $("#GrillaLstActivityAdd").data("kendoGrid");
                                if (grid.dataSource.total() > 0) {
                                    grid.setDataSource(dataSource);
                                }

                            },
                            error: function (xhr, ajaxOptions, thrownError) {
                                /*fallo al llamar a la funcion ajax*/
                                $("#GrillaLstActivityAdd").addClass("hidden");
                                $("#imgCargaLstActivityAdd").addClass("hidden");
                                $("#msjErrorLstActivityAdd").removeClass("hidden");
                                $("#msjVacioLstActivityAdd").addClass("hidden");
                                $("#msjErrorListarLstActivityAdd").addClass("hidden");
                                $("#msjSuperaLimiteLstActivityAdd").addClass("hidden");

                                //$("#btnBuscar").prop('disabled', true);
                                //$("#BtnExportarExcel").prop('disabled', true);
                                console.log("ERROR AJAX : " + ajaxOptions);
                                console.log("ERROR AJAX : " + thrownError);
                                console.log(xhr.responseText);
                                console.log(xhr);

                            }
                        });
                    },
                    parameterMap: function (data, operation) {
                        if (operation !== "read" && data.models) {
                            return JSON.stringify({ JSONparam: data.models });
                        }
                    }
                },
                error: function (e) {
                    alert("Status: " + e.status + "; Error message: " + e.errorThrown);
                },
                batch: false,
                pageSize: PaginationKendoGrid,
                schema: {
                    model: {
                        fields: {
                            IdActivity: { type: "number" },
                            ActivityText: { type: "string" },
                            FullNameActivity: { type: "string" },
                            DescripcionActivity: { type: "string" },
                            FechaCierre: { type: "string" },
                            IdResponsible: { type: "number" },
                            Estado: { type: "string" },
                        }
                    }
                },
                //aggregate: [
                //    {
                //        field: "TicketNumber",
                //        aggregate: "count"
                //    },
                //    {
                //        field: "FuelQuantity",
                //        aggregate: "sum"
                //    }
                //]
            });

            $("#GrillaLstActivityAdd").kendoGrid({
                dataSource: dataSource,
                sortable: true,
                pageable: true,
                columnMenu: true,
                columnMenu: {
                    sortable: true,
                    filterable: true,
                    columns: true,
                    messages: {
                        columns: KendoMsjColumnMenuColumns,
                        filter: KendoMsjColumnMenuFilter,
                        sortAscending: KendoMsjColumnMenuSortAscending,
                        sortDescending: KendoMsjColumnMenuSortDescending,
                        settings: KendoMsjSettings
                    }
                },
                columnMenuInit: function (e) {
                    var menu = e.container.find(".k-menu").data("kendoMenu");
                    menu.bind("select", function (e) {
                        var EtiquetaInput = $(".k-animation-container > .k-menu-group > .k-item > .k-content > .k-filter-menu > .k-textbox :input");
                        EtiquetaInput.focus();
                    });
                },
                groupable: false,
                reorderable: true,
                selectable: "row",
                scrollable: true,
                resizable: true,
                filterable: {
                    multi: true,
                    checkAll: true,
                    search: true,
                    messages: {
                        clear: KendoMsjClear,
                        filter: KendoMsjFilter,
                        selectedItemsFormat: KendoMsjSelectedItemsFormat,
                        checkAll: KendoMsjCheckAll,
                        search: KendoMsjSearch
                    }
                },
                //groupable: {
                //    info: true,
                //    messages: {
                //        empty: "<b style='font-style:italic';>Arrastre una cabecera aquí para agrupar su información por esa columna</b>"
                //    }
                //},
                pageable: {
                    messages: {
                        empty: KendoMsjEmpty,
                        page: kendoMsjPage,
                        of: KendoMsjOf,
                        itemsPerPage: KendoMsjItemsPerPage,
                        first: KendoMsjFirst,
                        last: KendoMsjLast,
                        next: KendoMsjNext,
                        previous: KendoMsjPrevious,
                        refresh: KendoMsjRefresh,
                        morePages: KendoMsjMorePages,
                        display: KendoMsjDisplay
                    },
                    refresh: false,
                    pageSizes: true,
                    pageSizes: [5, 10, 15],
                    /*para la cantidad de paginas se sugieren 5*/
                    buttonCount: 5,
                    /*Posicion de la pagina*/
                    pageSize: 5
                },
                excel: { fileName: "Listado de Actividades.xlsx", filterable: true, allPages: true },
                columns: [
                    {
                        width: 100,
                        command: {
                            template:
                                "<button class='btn-grid btn-xs BtnVerInfo2' type='button' title='Ver datos'><i class='fa fa-lg fa-fw fas fa-eye'></i></button>"
                        },
                        attributes: { "class": "text-center" },
                        title: ""
                    },
                    { field: "ActivityText", title: "Nombre Actividad", width: 120, attributes: { "class": "text-center" } },
                    { field: "FullNameActivity", title: "Responsable", width: 120, attributes: { "class": "text-center" } },
                    //{ field: "DescripcionActivity", title: "Descripcion", width: 120, attributes: { "class": "text-center" } },
                    { field: "FechaCierre", title: "Fecha Cierre", width: 120, attributes: { "class": "text-center" } },
                    { field: "Estado", title: "Estado", width: 120, attributes: { "class": "text-center" } }
                ],
                dataBound: function () {
                     var Grilla = this;

                       //Grilla.tbody.find("tr[role='row']").each(function () {
                       //    var model = Grilla.dataItem(this);
                       //    //var estadoOrden = model.bE_Purchase_Order.PurchaseOrderStatus;

                       //    //if (estadoOrden == 'Z') {
                       //    //    $(this).find("td > button.BtnRegistrar").remove();
                       //    //}

                       //    //if (model.BillingCompleted == 'Z') {
                       //    //    $(this).find("td > button.BtnRegistrar").remove();
                       //    //}
                       //});


                       for (i = 0; i < Grilla.dataSource._view.length; i++) {
                           var estadoActual = Grilla.tbody.children()[i].children[4].textContent;
                           if (estadoActual == 'COMPLETADO') {
                              $($("#GrillaLstActivityAdd").data("kendoGrid").tbody.children()[i]).addClass('colorVerde');
                           }
                           else if (estadoActual == 'PENDIENTE') {
                              $($("#GrillaLstActivityAdd").data("kendoGrid").tbody.children()[i]).addClass('colorAmarillo');
                           }
                           else {
                              $($("#GrillaLstActivityAdd").data("kendoGrid").tbody.children()[i]).addClass('colorRojo');
                           }
                       }

                //    for (i = 0; i < $("#LstCotizacion").data("kendoGrid").dataSource._view.length; i++) {
                //        var diasRestantes = $("#LstCotizacion").data("kendoGrid").tbody.children()[i].children[2].textContent;

                //        if (diasRestantes < 11) {
                //            $($("#LstCotizacion").data("kendoGrid").tbody.children()[i]).addClass('colorRojo');
                //        }
                //        else if (diasRestantes > 10 && diasRestantes < 21) {
                //            $($("#LstCotizacion").data("kendoGrid").tbody.children()[i]).addClass('colorAmarillo');
                //        }
                //        else if (diasRestantes > 20) {
                //          $($("#LstCotizacion").data("kendoGrid").tbody.children()[i]).addClass('colorAmarillo');
                //        }
                //        else {
                //            $($("#LstCotizacion").data("kendoGrid").tbody.children()[i]).addClass('colorRojo');
                //        }
                //    }

                //    var Grilla = this;
                //    Grilla.tbody.find("tr[role='row']").each(function () {
                //        var model = Grilla.dataItem(this);
                //        if (model.QuotationStatus != "C") {
                //            $(this).find("td > button.BtnVerInfo").remove();
                //        }

                //    });

                }
            });
        }

    function GrillaListadoActividadAlertas() {

            ListadoActividadesGenerales = [];

            var dataSource = new kendo.data.DataSource({
                transport: {
                    read: function (options) {
                        $.ajax({
                            type: "GET",
                            url: tRutaServidor + "/Activity/ListarActivityCreado", /* es importante poner los .. delante*/
                            data: {
                                NroTicket: NroTicketActivity,
                            },
                            dataType: "json",
                            /*async: false,*/
                            success: function (resultado) {
                                /*exitosamente*/
                                if (resultado.length > 0) {

                                    let FechaFinModificado;

                                    /* proceso exitoso con datos*/
                                    if (resultado[0].ValorConsulta == "1") {

                                        ListadoActividadesGenerales = resultado;

                                        //var dates = [];

                                        //for (i = 0; i < resultado.length; i++) {

                                        //    var fechita = "";

                                        //    fechita = resultado[i].FechaCierre;

                                        //    fechita = fechita.split("/").reverse().join("/");

                                        //    dates.push(new Date(fechita));

                                        //}

                                        //var max = new Date(Math.max.apply(null,dates));

                                        ////var max = new Date(Math.max(dates));
                                        //function pad(s) { return (s < 10) ? '0' + s : s; }

                                        //var fechaFinReal = [pad(max.getDate()), pad(max.getMonth() + 1), max.getFullYear()].join('/');

                                        var CantidadArray = resultado.length;

                                        var fechaUltima = resultado[CantidadArray - 1].FechaCierre;

                                        let fechaFinReal = fechaUltima.substring(0, fechaUltima.length - 9);

                                        FechaFinModificado = document.querySelector("#lblFechaFinAlertas");
                                        FechaFinModificado.innerHTML = "";
                                        FechaFinModificado.innerHTML = fechaFinReal.toString();

                                        $("#GrillaLstActivityAddAlertas").removeClass("hidden");
                                        $("#imgCargaLstActivityAddAlertas").addClass("hidden");
                                        $("#msjErrorLstActivityAddAlertas").addClass("hidden");
                                        $("#msjVacioLstActivityAddAlertas").addClass("hidden");
                                        $("#msjErrorListarLstActivityAddAlertas").addClass("hidden");
                                        $("#msjSuperaLimiteLstActivityAddAlertas").addClass("hidden");

                                        //$("#btnBuscar").prop('disabled', false);
                                        $("#BtnExportarExcelActividades").prop('disabled', false);

                                    } else if (resultado[0].ValorConsulta == "-1") {

                                        $("#GrillaLstActivityAddAlertas").addClass("hidden");
                                        $("#imgCargaLstActivityAddAlertas").addClass("hidden");
                                        $("#msjErrorLstActivityAddAlertas").addClass("hidden");
                                        $("#msjVacioLstActivityAddAlertas").addClass("hidden");
                                        $("#msjErrorListarLstActivityAddAlertas").addClass("hidden");
                                        $("#msjSuperaLimiteLstActivityAddAlertas").removeClass("hidden");

                                        //$("#btnBuscar").prop('disabled', false);
                                        //$("#BtnExportarExcel").prop('disabled', true);
                                    }
                                    else {
                                        /* proceso fallido catch listado datos*/
                                        $("#GrillaLstActivityAddAlertas").addClass("hidden");
                                        $("#imgCargaLstActivityAddAlertas").addClass("hidden");
                                        $("#msjErrorLstActivityAddAlertas").addClass("hidden");
                                        $("#msjVacioLstActivityAddAlertas").addClass("hidden");
                                        $("#msjErrorListarLstActivityAddAlertas").removeClass("hidden");
                                        $("#msjSuperaLimiteLstActivityAddAlertas").addClass("hidden");

                                        //$("#btnBuscar").prop('disabled', true);
                                        //$("#BtnExportarExcel").prop('disabled', true);
                                        console.log(resultado);
                                    }

                                } else {

                                    FechaFinModificado = document.querySelector("#lblFechaFinAlertas");
                                    FechaFinModificado.innerHTML = "";
                                    FechaFinModificado.innerHTML = "00/00/0000";

                                    $("#GrillaLstActivityAddAlertas").addClass("hidden");
                                    $("#imgCargaLstActivityAddAlertas").addClass("hidden");
                                    $("#msjErrorLstActivityAddAlertas").addClass("hidden");
                                    $("#msjVacioLstActivityAddAlertas").removeClass("hidden");
                                    $("#msjErrorListarLstActivityAddAlertas").addClass("hidden");
                                    $("#msjSuperaLimiteLstActivityAddAlertas").addClass("hidden");

                                    ////$("#btnBuscar").prop('disabled', false);
                                    //$("#BtnExportarExcelActividades").prop('disabled', true);
                                }

                                options.success(resultado);
                                var grid = $("#GrillaLstActivityAddAlertas").data("kendoGrid");
                                if (grid.dataSource.total() > 0) {
                                    grid.setDataSource(dataSource);
                                }

                            },
                            error: function (xhr, ajaxOptions, thrownError) {
                                /*fallo al llamar a la funcion ajax*/
                                $("#GrillaLstActivityAddAlertas").addClass("hidden");
                                $("#imgCargaLstActivityAddAlertas").addClass("hidden");
                                $("#msjErrorLstActivityAddAlertas").removeClass("hidden");
                                $("#msjVacioLstActivityAddAlertas").addClass("hidden");
                                $("#msjErrorListarLstActivityAddAlertas").addClass("hidden");
                                $("#msjSuperaLimiteLstActivityAddAlertas").addClass("hidden");


                                //$("#btnBuscar").prop('disabled', true);
                                //$("#BtnExportarExcel").prop('disabled', true);
                                console.log("ERROR AJAX : " + ajaxOptions);
                                console.log("ERROR AJAX : " + thrownError);
                                console.log(xhr.responseText);
                                console.log(xhr);

                            }
                        });
                    },
                    parameterMap: function (data, operation) {
                        if (operation !== "read" && data.models) {
                            return JSON.stringify({ JSONparam: data.models });
                        }
                    }
                },
                error: function (e) {
                    alert("Status: " + e.status + "; Error message: " + e.errorThrown);
                },
                batch: false,
                pageSize: PaginationKendoGrid,
                schema: {
                    model: {
                        fields: {
                            IdActivity: { type: "number" },
                            ActivityText: { type: "string" },
                            FullNameActivity: { type: "string" },
                            //DescripcionActivity: { type: "string" },
                            FechaCierre: { type: "string" },
                            Estado: { type: "string" },
                            ValidationButton: { type: "string" },
                            IdResponsible: { type: "number" },
                            IdResponsibleActivity: { type: "number" },
                            PercentageNumber: { type: "string" }
                        }
                    }
                },
                //aggregate: [
                //    {
                //        field: "TicketNumber",
                //        aggregate: "count"
                //    },
                //    {
                //        field: "FuelQuantity",
                //        aggregate: "sum"
                //    }
                //]
            });

            $("#GrillaLstActivityAddAlertas").kendoGrid({
                dataSource: dataSource,
                sortable: true,
                pageable: true,
                columnMenu: true,
                columnMenu: {
                    sortable: true,
                    filterable: true,
                    columns: true,
                    messages: {
                        columns: KendoMsjColumnMenuColumns,
                        filter: KendoMsjColumnMenuFilter,
                        sortAscending: KendoMsjColumnMenuSortAscending,
                        sortDescending: KendoMsjColumnMenuSortDescending,
                        settings: KendoMsjSettings
                    }
                },
                columnMenuInit: function (e) {
                    var menu = e.container.find(".k-menu").data("kendoMenu");
                    menu.bind("select", function (e) {
                        var EtiquetaInput = $(".k-animation-container > .k-menu-group > .k-item > .k-content > .k-filter-menu > .k-textbox :input");
                        EtiquetaInput.focus();
                    });
                },
                groupable: false,
                reorderable: true,
                selectable: "row",
                scrollable: true,
                resizable: true,
                filterable: {
                    multi: true,
                    checkAll: true,
                    search: true,
                    messages: {
                        clear: KendoMsjClear,
                        filter: KendoMsjFilter,
                        selectedItemsFormat: KendoMsjSelectedItemsFormat,
                        checkAll: KendoMsjCheckAll,
                        search: KendoMsjSearch
                    }
                },
                //groupable: {
                //    info: true,
                //    messages: {
                //        empty: "<b style='font-style:italic';>Arrastre una cabecera aquí para agrupar su información por esa columna</b>"
                //    }
                //},
                pageable: {
                    messages: {
                        empty: KendoMsjEmpty,
                        page: kendoMsjPage,
                        of: KendoMsjOf,
                        itemsPerPage: KendoMsjItemsPerPage,
                        first: KendoMsjFirst,
                        last: KendoMsjLast,
                        next: KendoMsjNext,
                        previous: KendoMsjPrevious,
                        refresh: KendoMsjRefresh,
                        morePages: KendoMsjMorePages,
                        display: KendoMsjDisplay
                    },
                    refresh: false,
                    pageSizes: true,
                    pageSizes: [5, 10, 15],
                    /*para la cantidad de paginas se sugieren 5*/
                    buttonCount: 5,
                    /*Posicion de la pagina*/
                    pageSize: 5
                },
                excel: { fileName: "Listado de Actividades.xlsx", filterable: true, allPages: true },
                columns: [
                    {
                        width: 100,
                        command: {
                            template:
                                ButtonsGridActivity
                        },
                        attributes: { "class": "text-center" },
                        title: ""
                    },
                    { field: "ActivityText", title: "Nombre Actividad", width: 120, attributes: { "class": "text-center" } },
                    { field: "FullNameActivity", title: "Responsable", width: 120, attributes: { "class": "text-center" } },
                    //{ field: "DescripcionActivity", title: "Descripcion", width: 120, attributes: { "class": "text-center" } },
                    { field: "FechaCierre", title: "Fecha Cierre", width: 120, attributes: { "class": "text-center" } },
                    { field: "Estado", title: "Estado", width: 120, attributes: { "class": "text-center" } },
                    { field: "PercentageNumber", title: "Porcentaje Avance", width: 120, attributes: { "class": "text-center" } },
                ],
                dataBound: function () {
                    var Grilla = this;

                    //Grilla.tbody.find("tr[role='row']").each(function () {
                    //    var model = Grilla.dataItem(this);
                    //    //var estadoOrden = model.bE_Purchase_Order.PurchaseOrderStatus;

                    //    //if (estadoOrden == 'Z') {
                    //    //    $(this).find("td > button.BtnRegistrar").remove();
                    //    //}

                    //    //if (model.BillingCompleted == 'Z') {
                    //    //    $(this).find("td > button.BtnRegistrar").remove();
                    //    //}
                    //});


                    for (i = 0; i < Grilla.dataSource._view.length; i++) {
                        var estadoActual = Grilla.tbody.children()[i].children[4].textContent;
                        if (estadoActual == 'COMPLETADO') {
                            $($("#GrillaLstActivityAddAlertas").data("kendoGrid").tbody.children()[i]).addClass('colorVerde');
                        }
                        else if (estadoActual == 'PENDIENTE') {
                            $($("#GrillaLstActivityAddAlertas").data("kendoGrid").tbody.children()[i]).addClass('colorAmarillo');
                        }
                        else {
                            $($("#GrillaLstActivityAddAlertas").data("kendoGrid").tbody.children()[i]).addClass('colorRojo');
                        }
                    }

                    //    for (i = 0; i < $("#LstCotizacion").data("kendoGrid").dataSource._view.length; i++) {
                    //        var diasRestantes = $("#LstCotizacion").data("kendoGrid").tbody.children()[i].children[2].textContent;

                    //        if (diasRestantes < 11) {
                    //            $($("#LstCotizacion").data("kendoGrid").tbody.children()[i]).addClass('colorRojo');
                    //        }
                    //        else if (diasRestantes > 10 && diasRestantes < 21) {
                    //            $($("#LstCotizacion").data("kendoGrid").tbody.children()[i]).addClass('colorAmarillo');
                    //        }
                    //        else if (diasRestantes > 20) {
                    //          $($("#LstCotizacion").data("kendoGrid").tbody.children()[i]).addClass('colorAmarillo');
                    //        }
                    //        else {
                    //            $($("#LstCotizacion").data("kendoGrid").tbody.children()[i]).addClass('colorRojo');
                    //        }
                    //    }

                    //    var Grilla = this;
                    //    Grilla.tbody.find("tr[role='row']").each(function () {
                    //        var model = Grilla.dataItem(this);
                    //        if (model.QuotationStatus != "C") {
                    //            $(this).find("td > button.BtnVerInfo").remove();
                    //        }

                    //    });

                }
            });
        }

    function GrillaListadoActividadAlertasUsuario() {

        ListadoActividadesGenerales = [];

        var dataSource = new kendo.data.DataSource({
            transport: {
                read: function (options) {
                    $.ajax({
                        type: "GET",
                        url: tRutaServidor + "/Activity/ListarActivityCreadoUsuario", /* es importante poner los .. delante*/
                        data: {
                            NroTicket: NroTicketActivity,
                        },
                        dataType: "json",
                        /*async: false,*/
                        success: function (resultado) {
                            /*exitosamente*/
                            if (resultado.length > 0) {

                                let FechaFinModificado;

                                /* proceso exitoso con datos*/
                                if (resultado[0].ValorConsulta == "1") {

                                    ListadoActividadesGenerales = resultado;

                                    var CantidadArray = resultado.length;

                                    var fechaUltima = resultado[CantidadArray - 1].FechaCierre;

                                    let fechaFinReal = fechaUltima.substring(0, fechaUltima.length - 9);

                                    FechaFinModificado = document.querySelector("#lblFechaFinAlertas");
                                    FechaFinModificado.innerHTML = "";
                                    FechaFinModificado.innerHTML = fechaFinReal.toString();

                                    $("#GrillaLstActivityAddAlertas").removeClass("hidden");
                                    $("#imgCargaLstActivityAddAlertas").addClass("hidden");
                                    $("#msjErrorLstActivityAddAlertas").addClass("hidden");
                                    $("#msjVacioLstActivityAddAlertas").addClass("hidden");
                                    $("#msjErrorListarLstActivityAddAlertas").addClass("hidden");
                                    $("#msjSuperaLimiteLstActivityAddAlertas").addClass("hidden");

                                    //$("#btnBuscar").prop('disabled', false);
                                    $("#BtnExportarExcelActividades").prop('disabled', false);

                                } else if (resultado[0].ValorConsulta == "-1") {

                                    $("#GrillaLstActivityAddAlertas").addClass("hidden");
                                    $("#imgCargaLstActivityAddAlertas").addClass("hidden");
                                    $("#msjErrorLstActivityAddAlertas").addClass("hidden");
                                    $("#msjVacioLstActivityAddAlertas").addClass("hidden");
                                    $("#msjErrorListarLstActivityAddAlertas").addClass("hidden");
                                    $("#msjSuperaLimiteLstActivityAddAlertas").removeClass("hidden");

                                    //$("#btnBuscar").prop('disabled', false);
                                    //$("#BtnExportarExcel").prop('disabled', true);
                                }
                                else {
                                    /* proceso fallido catch listado datos*/
                                    $("#GrillaLstActivityAddAlertas").addClass("hidden");
                                    $("#imgCargaLstActivityAddAlertas").addClass("hidden");
                                    $("#msjErrorLstActivityAddAlertas").addClass("hidden");
                                    $("#msjVacioLstActivityAddAlertas").addClass("hidden");
                                    $("#msjErrorListarLstActivityAddAlertas").removeClass("hidden");
                                    $("#msjSuperaLimiteLstActivityAddAlertas").addClass("hidden");

                                    //$("#btnBuscar").prop('disabled', true);
                                    //$("#BtnExportarExcel").prop('disabled', true);
                                    console.log(resultado);
                                }

                            } else {

                                FechaFinModificado = document.querySelector("#lblFechaFinAlertas");
                                FechaFinModificado.innerHTML = "";
                                FechaFinModificado.innerHTML = "00/00/0000";

                                $("#GrillaLstActivityAddAlertas").addClass("hidden");
                                $("#imgCargaLstActivityAddAlertas").addClass("hidden");
                                $("#msjErrorLstActivityAddAlertas").addClass("hidden");
                                $("#msjVacioLstActivityAddAlertas").removeClass("hidden");
                                $("#msjErrorListarLstActivityAddAlertas").addClass("hidden");
                                //$("#msjSuperaLimiteLstActivityAddAlertas").addClass("hidden");

                                ////$("#btnBuscar").prop('disabled', false);
                                //$("#BtnExportarExcelActividades").prop('disabled', true);
                            }

                            options.success(resultado);
                            var grid = $("#GrillaLstActivityAddAlertas").data("kendoGrid");
                            if (grid.dataSource.total() > 0) {
                                grid.setDataSource(dataSource);
                            }

                        },
                        error: function (xhr, ajaxOptions, thrownError) {
                            /*fallo al llamar a la funcion ajax*/
                            $("#GrillaLstActivityAddAlertas").addClass("hidden");
                            $("#imgCargaLstActivityAddAlertas").addClass("hidden");
                            $("#msjErrorLstActivityAddAlertas").removeClass("hidden");
                            $("#msjVacioLstActivityAddAlertas").addClass("hidden");
                            $("#msjErrorListarLstActivityAddAlertas").addClass("hidden");
                            $("#msjSuperaLimiteLstActivityAddAlertas").addClass("hidden");


                            //$("#btnBuscar").prop('disabled', true);
                            //$("#BtnExportarExcel").prop('disabled', true);
                            console.log("ERROR AJAX : " + ajaxOptions);
                            console.log("ERROR AJAX : " + thrownError);
                            console.log(xhr.responseText);
                            console.log(xhr);

                        }
                    });
                },
                parameterMap: function (data, operation) {
                    if (operation !== "read" && data.models) {
                        return JSON.stringify({ JSONparam: data.models });
                    }
                }
            },
            error: function (e) {
                alert("Status: " + e.status + "; Error message: " + e.errorThrown);
            },
            batch: false,
            pageSize: PaginationKendoGrid,
            schema: {
                model: {
                    fields: {
                        IdActivity: { type: "number" },
                        ActivityText: { type: "string" },
                        FullNameActivity: { type: "string" },
                        //DescripcionActivity: { type: "string" },
                        FechaCierre: { type: "string" },
                        Estado: { type: "string" },
                        ValidationButton: { type: "string" },
                        IdResponsible: { type: "number" },
                        IdResponsibleActivity: { type: "number" },
                        PercentageNumber: { type: "string" }
                    }
                }
            },
            //aggregate: [
            //    {
            //        field: "TicketNumber",
            //        aggregate: "count"
            //    },
            //    {
            //        field: "FuelQuantity",
            //        aggregate: "sum"
            //    }
            //]
        });

        $("#GrillaLstActivityAddAlertas").kendoGrid({
            dataSource: dataSource,
            sortable: true,
            pageable: true,
            columnMenu: true,
            columnMenu: {
                sortable: true,
                filterable: true,
                columns: true,
                messages: {
                    columns: KendoMsjColumnMenuColumns,
                    filter: KendoMsjColumnMenuFilter,
                    sortAscending: KendoMsjColumnMenuSortAscending,
                    sortDescending: KendoMsjColumnMenuSortDescending,
                    settings: KendoMsjSettings
                }
            },
            columnMenuInit: function (e) {
                var menu = e.container.find(".k-menu").data("kendoMenu");
                menu.bind("select", function (e) {
                    var EtiquetaInput = $(".k-animation-container > .k-menu-group > .k-item > .k-content > .k-filter-menu > .k-textbox :input");
                    EtiquetaInput.focus();
                });
            },
            groupable: false,
            reorderable: true,
            selectable: "row",
            scrollable: true,
            resizable: true,
            filterable: {
                multi: true,
                checkAll: true,
                search: true,
                messages: {
                    clear: KendoMsjClear,
                    filter: KendoMsjFilter,
                    selectedItemsFormat: KendoMsjSelectedItemsFormat,
                    checkAll: KendoMsjCheckAll,
                    search: KendoMsjSearch
                }
            },
            //groupable: {
            //    info: true,
            //    messages: {
            //        empty: "<b style='font-style:italic';>Arrastre una cabecera aquí para agrupar su información por esa columna</b>"
            //    }
            //},
            pageable: {
                messages: {
                    empty: KendoMsjEmpty,
                    page: kendoMsjPage,
                    of: KendoMsjOf,
                    itemsPerPage: KendoMsjItemsPerPage,
                    first: KendoMsjFirst,
                    last: KendoMsjLast,
                    next: KendoMsjNext,
                    previous: KendoMsjPrevious,
                    refresh: KendoMsjRefresh,
                    morePages: KendoMsjMorePages,
                    display: KendoMsjDisplay
                },
                refresh: false,
                pageSizes: true,
                pageSizes: [5, 10, 15],
                /*para la cantidad de paginas se sugieren 5*/
                buttonCount: 5,
                /*Posicion de la pagina*/
                pageSize: 5
            },
            excel: { fileName: "Listado de Actividades.xlsx", filterable: true, allPages: true },
            columns: [
                {
                    width: 100,
                    command: {
                        template:
                            ButtonsGridActivity
                    },
                    attributes: { "class": "text-center" },
                    title: ""
                },
                { field: "ActivityText", title: "Nombre Actividad", width: 120, attributes: { "class": "text-center" } },
                { field: "FullNameActivity", title: "Responsable", width: 120, attributes: { "class": "text-center" } },
                //{ field: "DescripcionActivity", title: "Descripcion", width: 120, attributes: { "class": "text-center" } },
                { field: "FechaCierre", title: "Fecha Cierre", width: 120, attributes: { "class": "text-center" } },
                { field: "Estado", title: "Estado", width: 120, attributes: { "class": "text-center" } },
                { field: "PercentageNumber", title: "Porcentaje Avance", width: 120, attributes: { "class": "text-center" } },
            ],
            dataBound: function () {
                var Grilla = this;

                //Grilla.tbody.find("tr[role='row']").each(function () {
                //    var model = Grilla.dataItem(this);
                //    //var estadoOrden = model.bE_Purchase_Order.PurchaseOrderStatus;

                //    //if (estadoOrden == 'Z') {
                //    //    $(this).find("td > button.BtnRegistrar").remove();
                //    //}

                //    //if (model.BillingCompleted == 'Z') {
                //    //    $(this).find("td > button.BtnRegistrar").remove();
                //    //}
                //});


                for (i = 0; i < Grilla.dataSource._view.length; i++) {
                    var estadoActual = Grilla.tbody.children()[i].children[4].textContent;
                    if (estadoActual == 'COMPLETADO') {
                        $($("#GrillaLstActivityAddAlertas").data("kendoGrid").tbody.children()[i]).addClass('colorVerde');
                    }
                    else if (estadoActual == 'PENDIENTE') {
                        $($("#GrillaLstActivityAddAlertas").data("kendoGrid").tbody.children()[i]).addClass('colorAmarillo');
                    }
                    else {
                        $($("#GrillaLstActivityAddAlertas").data("kendoGrid").tbody.children()[i]).addClass('colorRojo');
                    }
                }

                //    for (i = 0; i < $("#LstCotizacion").data("kendoGrid").dataSource._view.length; i++) {
                //        var diasRestantes = $("#LstCotizacion").data("kendoGrid").tbody.children()[i].children[2].textContent;

                //        if (diasRestantes < 11) {
                //            $($("#LstCotizacion").data("kendoGrid").tbody.children()[i]).addClass('colorRojo');
                //        }
                //        else if (diasRestantes > 10 && diasRestantes < 21) {
                //            $($("#LstCotizacion").data("kendoGrid").tbody.children()[i]).addClass('colorAmarillo');
                //        }
                //        else if (diasRestantes > 20) {
                //          $($("#LstCotizacion").data("kendoGrid").tbody.children()[i]).addClass('colorAmarillo');
                //        }
                //        else {
                //            $($("#LstCotizacion").data("kendoGrid").tbody.children()[i]).addClass('colorRojo');
                //        }
                //    }

                //    var Grilla = this;
                //    Grilla.tbody.find("tr[role='row']").each(function () {
                //        var model = Grilla.dataItem(this);
                //        if (model.QuotationStatus != "C") {
                //            $(this).find("td > button.BtnVerInfo").remove();
                //        }

                //    });

            }
        });
    }

    function GrillaListadoActividad2() {

            var dataSource = new kendo.data.DataSource({
                transport: {
                    read: function (options) {
                        $.ajax({
                            type: "GET",
                            url: tRutaServidor + "/Activity/ListarActivityCreadoDASH", /* es importante poner los .. delante*/
                            data: {
                                NroTicket: NroTicketActivity,
                            },
                            dataType: "json",
                            /*async: false,*/
                            success: function (resultado) {
                                  /*exitosamente*/
                                let FechaFinModificado;

                                if (resultado.length > 0) {

                                    /* proceso exitoso con datos*/
                                    if (resultado[0].ValorConsulta == "1") {

                                        /*var dates = [];*/

                                        //for (i = 0; i < resultado.length; i++) {

                                        //    var fechita = "";

                                        //    fechita = resultado[i].FechaCierre;

                                        //    fechita = fechita.split("/").reverse().join("/");

                                        //    dates.push(new Date(fechita));

                                        //}

                                        //var max = new Date(Math.max.apply(null,dates));

                                        ////var max = new Date(Math.max(dates));
                                        //function pad(s) { return (s < 10) ? '0' + s : s; }

                                        //var fechaFinReal = [pad(max.getDate()), pad(max.getMonth() + 1), max.getFullYear()].join('/');

                                        //FechaFinModificado = document.querySelector("#lblFechaFin2");
                                        //FechaFinModificado.innerHTML = "";
                                        //FechaFinModificado.innerHTML = fechaFinReal.toString();

                                        var CantidadArray = resultado.length;

                                        var fechaUltima = resultado[CantidadArray - 1].FechaCierre;

                                        let fechaFinReal = fechaUltima.substring(0, fechaUltima.length - 9);

                                        FechaFinModificado = document.querySelector("#lblFechaFin2");
                                        FechaFinModificado.innerHTML = "";
                                        FechaFinModificado.innerHTML = fechaFinReal.toString();

                                        $("#GrillaLstActivityCaducada2").removeClass("hidden");
                                        $("#imgCargaLstActivityCaducada2").addClass("hidden");
                                        $("#msjErrorLstActivityCaducada2").addClass("hidden");
                                        $("#msjVacioLstActivityCaducada2").addClass("hidden");
                                        $("#msjErrorListarLstActivityCaducada2").addClass("hidden");
                                        $("#msjSuperaLimiteLstActivityCaducada2").addClass("hidden");

                                        //$("#btnBuscar").prop('disabled', false);
                                        //$("#BtnExportarExcel").prop('disabled', false);

                                    } else if (resultado[0].ValorConsulta == "-1") {

                                        $("#GrillaLstActivityCaducada2").addClass("hidden");
                                        $("#imgCargaLstActivityCaducada2").addClass("hidden");
                                        $("#msjErrorLstActivityCaducada2").addClass("hidden");
                                        $("#msjVacioLstActivityCaducada2").addClass("hidden");
                                        $("#msjErrorListarLstActivityCaducada2").addClass("hidden");
                                        $("#msjSuperaLimiteLstActivityCaducada2").removeClass("hidden");

                                        //$("#btnBuscar").prop('disabled', false);
                                        //$("#BtnExportarExcel").prop('disabled', true);
                                    }
                                    else {
                                        /* proceso fallido catch listado datos*/
                                        $("#GrillaLstActivityCaducada2").addClass("hidden");
                                        $("#imgCargaLstActivityCaducada2").addClass("hidden");
                                        $("#msjErrorLstActivityCaducada2").addClass("hidden");
                                        $("#msjVacioLstActivityCaducada2").addClass("hidden");
                                        $("#msjErrorListarLstActivityCaducada2").removeClass("hidden");
                                        $("#msjSuperaLimiteLstActivityCaducada2").addClass("hidden");

                                        //$("#btnBuscar").prop('disabled', true);
                                        //$("#BtnExportarExcel").prop('disabled', true);
                                        console.log(resultado);
                                    }

                                } else {


                                    FechaFinModificado = document.querySelector("#lblFechaFin2");
                                    FechaFinModificado.innerHTML = "";
                                    FechaFinModificado.innerHTML = "00/00/0000";

                                    $("#GrillaLstActivityCaducada2").addClass("hidden");
                                    $("#imgCargaLstActivityCaducada2").addClass("hidden");
                                    $("#msjErrorLstActivityCaducada2").addClass("hidden");
                                    $("#msjVacioLstActivityCaducada2").removeClass("hidden");
                                    $("#msjErrorListarLstActivityCaducada2").addClass("hidden");
                                    $("#msjSuperaLimiteLstActivityCaducada2").addClass("hidden");

                                    //$("#btnBuscar").prop('disabled', false);
                                    //$("#BtnExportarExcel").prop('disabled', true);
                                }

                                options.success(resultado);
                                var grid = $("#GrillaLstActivityCaducada2").data("kendoGrid");
                                if (grid.dataSource.total() > 0) {
                                    grid.setDataSource(dataSource);
                                }

                            },
                            error: function (xhr, ajaxOptions, thrownError) {
                                /*fallo al llamar a la funcion ajax*/
                                $("#GrillaLstActivityCaducada2").addClass("hidden");
                                $("#imgCargaLstActivityCaducada2").addClass("hidden");
                                $("#msjErrorLstActivityCaducada2").removeClass("hidden");
                                $("#msjVacioLstActivityCaducada2").addClass("hidden");
                                $("#msjErrorListarLstActivityCaducada2").addClass("hidden");
                                $("#msjSuperaLimiteLstActivityCaducada2").addClass("hidden");

                                //$("#btnBuscar").prop('disabled', true);
                                //$("#BtnExportarExcel").prop('disabled', true);
                                console.log("ERROR AJAX : " + ajaxOptions);
                                console.log("ERROR AJAX : " + thrownError);
                                console.log(xhr.responseText);
                                console.log(xhr);

                            }
                        });
                    },
                    parameterMap: function (data, operation) {
                        if (operation !== "read" && data.models) {
                            return JSON.stringify({ JSONparam: data.models });
                        }
                    }
                },
                error: function (e) {
                    alert("Status: " + e.status + "; Error message: " + e.errorThrown);
                },
                batch: false,
                pageSize: PaginationKendoGrid,
                schema: {
                    model: {
                        fields: {
                            IdActivity: { type: "number" },
                            ActivityText: { type: "string" },
                            FullNameActivity: { type: "string" },
                            DescripcionActivity: { type: "string" },
                            FechaCierre: { type: "string" },
                            IdResponsible: { type: "number" },
                            Estado: { type: "string" },
                        }
                    }
                },
                //aggregate: [
                //    {
                //        field: "TicketNumber",
                //        aggregate: "count"
                //    },
                //    {
                //        field: "FuelQuantity",
                //        aggregate: "sum"
                //    }
                //]
            });

            $("#GrillaLstActivityCaducada2").kendoGrid({
                dataSource: dataSource,
                sortable: true,
                pageable: true,
                columnMenu: true,
                columnMenu: {
                    sortable: true,
                    filterable: true,
                    columns: true,
                    messages: {
                        columns: KendoMsjColumnMenuColumns,
                        filter: KendoMsjColumnMenuFilter,
                        sortAscending: KendoMsjColumnMenuSortAscending,
                        sortDescending: KendoMsjColumnMenuSortDescending,
                        settings: KendoMsjSettings
                    }
                },
                columnMenuInit: function (e) {
                    var menu = e.container.find(".k-menu").data("kendoMenu");
                    menu.bind("select", function (e) {
                        var EtiquetaInput = $(".k-animation-container > .k-menu-group > .k-item > .k-content > .k-filter-menu > .k-textbox :input");
                        EtiquetaInput.focus();
                    });
                },
                groupable: false,
                reorderable: true,
                selectable: "row",
                scrollable: true,
                resizable: true,
                filterable: {
                    multi: true,
                    checkAll: true,
                    search: true,
                    messages: {
                        clear: KendoMsjClear,
                        filter: KendoMsjFilter,
                        selectedItemsFormat: KendoMsjSelectedItemsFormat,
                        checkAll: KendoMsjCheckAll,
                        search: KendoMsjSearch
                    }
                },
                //groupable: {
                //    info: true,
                //    messages: {
                //        empty: "<b style='font-style:italic';>Arrastre una cabecera aquí para agrupar su información por esa columna</b>"
                //    }
                //},
                pageable: {
                    messages: {
                        empty: KendoMsjEmpty,
                        page: kendoMsjPage,
                        of: KendoMsjOf,
                        itemsPerPage: KendoMsjItemsPerPage,
                        first: KendoMsjFirst,
                        last: KendoMsjLast,
                        next: KendoMsjNext,
                        previous: KendoMsjPrevious,
                        refresh: KendoMsjRefresh,
                        morePages: KendoMsjMorePages,
                        display: KendoMsjDisplay
                    },
                    refresh: false,
                    pageSizes: true,
                    pageSizes: [5, 10, 15],
                    /*para la cantidad de paginas se sugieren 5*/
                    buttonCount: 5,
                    /*Posicion de la pagina*/
                    pageSize: 5
                },
                excel: { fileName: "Listado de Actividades Caducadas.xlsx", filterable: true, allPages: true },
                columns: [
                    {
                        width: 100,
                        command: {
                            template:
                                "<button class='btn-grid btn-xs BtnVerInfo2' type='button' title='Ver datos'><i class='fa fa-lg fa-fw fas fa-eye'></i></button>"
                        },
                        attributes: { "class": "text-center" },
                        title: ""
                    },
                    { field: "ActivityText", title: "Nombre Actividad", width: 120, attributes: { "class": "text-center" } },
                    { field: "FullNameActivity", title: "Responsable", width: 120, attributes: { "class": "text-center" } },
                    //{ field: "DescripcionActivity", title: "Descripcion", width: 120, attributes: { "class": "text-center" } },
                    { field: "FechaCierre", title: "Fecha Cierre", width: 120, attributes: { "class": "text-center" } },
                    { field: "Estado", title: "Estado", width: 120, attributes: { "class": "text-center" } }
                ],
                dataBound: function () {
                     var Grilla = this;

                       //Grilla.tbody.find("tr[role='row']").each(function () {
                       //    var model = Grilla.dataItem(this);
                       //    //var estadoOrden = model.bE_Purchase_Order.PurchaseOrderStatus;

                       //    //if (estadoOrden == 'Z') {
                       //    //    $(this).find("td > button.BtnRegistrar").remove();
                       //    //}

                       //    //if (model.BillingCompleted == 'Z') {
                       //    //    $(this).find("td > button.BtnRegistrar").remove();
                       //    //}
                       //});


                       for (i = 0; i < Grilla.dataSource._view.length; i++) {
                           var estadoActual = Grilla.tbody.children()[i].children[4].textContent;
                           if (estadoActual == 'COMPLETADO') {
                              $($("#GrillaLstActivityCaducada2").data("kendoGrid").tbody.children()[i]).addClass('colorAmarillo');
                           }
                           else if (estadoActual == 'PENDIENTE') {
                              $($("#GrillaLstActivityCaducada2").data("kendoGrid").tbody.children()[i]).addClass('colorAmarillo');
                           }
                           else {
                              $($("#GrillaLstActivityCaducada2").data("kendoGrid").tbody.children()[i]).addClass('colorRojo');
                           }
                       }

                //    for (i = 0; i < $("#LstCotizacion").data("kendoGrid").dataSource._view.length; i++) {
                //        var diasRestantes = $("#LstCotizacion").data("kendoGrid").tbody.children()[i].children[2].textContent;

                //        if (diasRestantes < 11) {
                //            $($("#LstCotizacion").data("kendoGrid").tbody.children()[i]).addClass('colorRojo');
                //        }
                //        else if (diasRestantes > 10 && diasRestantes < 21) {
                //            $($("#LstCotizacion").data("kendoGrid").tbody.children()[i]).addClass('colorAmarillo');
                //        }
                //        else if (diasRestantes > 20) {
                //          $($("#LstCotizacion").data("kendoGrid").tbody.children()[i]).addClass('colorAmarillo');
                //        }
                //        else {
                //            $($("#LstCotizacion").data("kendoGrid").tbody.children()[i]).addClass('colorRojo');
                //        }
                //    }

                //    var Grilla = this;
                //    Grilla.tbody.find("tr[role='row']").each(function () {
                //        var model = Grilla.dataItem(this);
                //        if (model.QuotationStatus != "C") {
                //            $(this).find("td > button.BtnVerInfo").remove();
                //        }

                //    });

                }
            });
        }

    function GrillaListadoActividad3() {

            var dataSource = new kendo.data.DataSource({
                transport: {
                    read: function (options) {
                        $.ajax({
                            type: "GET",
                            url: tRutaServidor + "/Activity/ListarActivityCreadoDASH", /* es importante poner los .. delante*/
                            data: {
                                NroTicket: NroTicketActivity,
                            },
                            dataType: "json",
                            /*async: false,*/
                            success: function (resultado) {
                                  /*exitosamente*/
                                let FechaFinModificado;

                                if (resultado.length > 0) {

                                    /* proceso exitoso con datos*/
                                    if (resultado[0].ValorConsulta == "1") {

                                        //var dates = [];

                                        //for (i = 0; i < resultado.length; i++) {

                                        //    var fechita = "";

                                        //    fechita = resultado[i].FechaCierre;

                                        //    fechita = fechita.split("/").reverse().join("/");

                                        //    dates.push(new Date(fechita));

                                        //}

                                        //var max = new Date(Math.max.apply(null,dates));

                                        ////var max = new Date(Math.max(dates));
                                        //function pad(s) { return (s < 10) ? '0' + s : s; }

                                        //var fechaFinReal = [pad(max.getDate()), pad(max.getMonth() + 1), max.getFullYear()].join('/');

                                        //FechaFinModificado = document.querySelector("#lblFechaFin3");
                                        //FechaFinModificado.innerHTML = "";
                                        //FechaFinModificado.innerHTML = fechaFinReal.toString();

                                        var CantidadArray = resultado.length;

                                        var fechaUltima = resultado[CantidadArray - 1].FechaCierre;

                                        let fechaFinReal = fechaUltima.substring(0, fechaUltima.length - 9);

                                        FechaFinModificado = document.querySelector("#lblFechaFin3");
                                        FechaFinModificado.innerHTML = "";
                                        FechaFinModificado.innerHTML = fechaFinReal.toString();

                                        $("#GrillaLstActivityCaducada3").removeClass("hidden");
                                        $("#imgCargaLstActivityCaducada3").addClass("hidden");
                                        $("#msjErrorLstActivityCaducada3").addClass("hidden");
                                        $("#msjVacioLstActivityCaducada3").addClass("hidden");
                                        $("#msjErrorListarLstActivityCaducada3").addClass("hidden");
                                        $("#msjSuperaLimiteLstActivityCaducada3").addClass("hidden");

                                        //$("#btnBuscar").prop('disabled', false);
                                        //$("#BtnExportarExcel").prop('disabled', false);

                                    } else if (resultado[0].ValorConsulta == "-1") {

                                        $("#GrillaLstActivityCaducada3").addClass("hidden");
                                        $("#imgCargaLstActivityCaducada3").addClass("hidden");
                                        $("#msjErrorLstActivityCaducada3").addClass("hidden");
                                        $("#msjVacioLstActivityCaducada3").addClass("hidden");
                                        $("#msjErrorListarLstActivityCaducada3").addClass("hidden");
                                        $("#msjSuperaLimiteLstActivityCaducada3").removeClass("hidden");

                                        //$("#btnBuscar").prop('disabled', false);
                                        //$("#BtnExportarExcel").prop('disabled', true);
                                    }
                                    else {
                                        /* proceso fallido catch listado datos*/
                                        $("#GrillaLstActivityCaducada3").addClass("hidden");
                                        $("#imgCargaLstActivityCaducada3").addClass("hidden");
                                        $("#msjErrorLstActivityCaducada3").addClass("hidden");
                                        $("#msjVacioLstActivityCaducada3").addClass("hidden");
                                        $("#msjErrorListarLstActivityCaducada3").removeClass("hidden");
                                        $("#msjSuperaLimiteLstActivityCaducada3").addClass("hidden");

                                        //$("#btnBuscar").prop('disabled', true);
                                        //$("#BtnExportarExcel").prop('disabled', true);
                                        console.log(resultado);
                                    }

                                } else {


                                    FechaFinModificado = document.querySelector("#lblFechaFin3");
                                    FechaFinModificado.innerHTML = "";
                                    FechaFinModificado.innerHTML = "00/00/0000";

                                    $("#GrillaLstActivityCaducada3").addClass("hidden");
                                    $("#imgCargaLstActivityCaducada3").addClass("hidden");
                                    $("#msjErrorLstActivityCaducada3").addClass("hidden");
                                    $("#msjVacioLstActivityCaducada3").removeClass("hidden");
                                    $("#msjErrorListarLstActivityCaducada3").addClass("hidden");
                                    $("#msjSuperaLimiteLstActivityCaducada3").addClass("hidden");

                                    //$("#btnBuscar").prop('disabled', false);
                                    //$("#BtnExportarExcel").prop('disabled', true);
                                }

                                options.success(resultado);
                                var grid = $("#GrillaLstActivityCaducada3").data("kendoGrid");
                                if (grid.dataSource.total() > 0) {
                                    grid.setDataSource(dataSource);
                                }

                            },
                            error: function (xhr, ajaxOptions, thrownError) {
                                /*fallo al llamar a la funcion ajax*/
                                $("#GrillaLstActivityCaducada3").addClass("hidden");
                                $("#imgCargaLstActivityCaducada3").addClass("hidden");
                                $("#msjErrorLstActivityCaducada3").removeClass("hidden");
                                $("#msjVacioLstActivityCaducada3").addClass("hidden");
                                $("#msjErrorListarLstActivityCaducada3").addClass("hidden");
                                $("#msjSuperaLimiteLstActivityCaducada3").addClass("hidden");

                                //$("#btnBuscar").prop('disabled', true);
                                //$("#BtnExportarExcel").prop('disabled', true);
                                console.log("ERROR AJAX : " + ajaxOptions);
                                console.log("ERROR AJAX : " + thrownError);
                                console.log(xhr.responseText);
                                console.log(xhr);

                            }
                        });
                    },
                    parameterMap: function (data, operation) {
                        if (operation !== "read" && data.models) {
                            return JSON.stringify({ JSONparam: data.models });
                        }
                    }
                },
                error: function (e) {
                    alert("Status: " + e.status + "; Error message: " + e.errorThrown);
                },
                batch: false,
                pageSize: PaginationKendoGrid,
                schema: {
                    model: {
                        fields: {
                            IdActivity: { type: "number" },
                            ActivityText: { type: "string" },
                            FullNameActivity: { type: "string" },
                            DescripcionActivity: { type: "string" },
                            FechaCierre: { type: "string" },
                            IdResponsible: { type: "number" },
                            Estado: { type: "string" },
                        }
                    }
                },
                //aggregate: [
                //    {
                //        field: "TicketNumber",
                //        aggregate: "count"
                //    },
                //    {
                //        field: "FuelQuantity",
                //        aggregate: "sum"
                //    }
                //]
            });

            $("#GrillaLstActivityCaducada3").kendoGrid({
                dataSource: dataSource,
                sortable: true,
                pageable: true,
                columnMenu: true,
                columnMenu: {
                    sortable: true,
                    filterable: true,
                    columns: true,
                    messages: {
                        columns: KendoMsjColumnMenuColumns,
                        filter: KendoMsjColumnMenuFilter,
                        sortAscending: KendoMsjColumnMenuSortAscending,
                        sortDescending: KendoMsjColumnMenuSortDescending,
                        settings: KendoMsjSettings
                    }
                },
                columnMenuInit: function (e) {
                    var menu = e.container.find(".k-menu").data("kendoMenu");
                    menu.bind("select", function (e) {
                        var EtiquetaInput = $(".k-animation-container > .k-menu-group > .k-item > .k-content > .k-filter-menu > .k-textbox :input");
                        EtiquetaInput.focus();
                    });
                },
                groupable: false,
                reorderable: true,
                selectable: "row",
                scrollable: true,
                resizable: true,
                filterable: {
                    multi: true,
                    checkAll: true,
                    search: true,
                    messages: {
                        clear: KendoMsjClear,
                        filter: KendoMsjFilter,
                        selectedItemsFormat: KendoMsjSelectedItemsFormat,
                        checkAll: KendoMsjCheckAll,
                        search: KendoMsjSearch
                    }
                },
                //groupable: {
                //    info: true,
                //    messages: {
                //        empty: "<b style='font-style:italic';>Arrastre una cabecera aquí para agrupar su información por esa columna</b>"
                //    }
                //},
                pageable: {
                    messages: {
                        empty: KendoMsjEmpty,
                        page: kendoMsjPage,
                        of: KendoMsjOf,
                        itemsPerPage: KendoMsjItemsPerPage,
                        first: KendoMsjFirst,
                        last: KendoMsjLast,
                        next: KendoMsjNext,
                        previous: KendoMsjPrevious,
                        refresh: KendoMsjRefresh,
                        morePages: KendoMsjMorePages,
                        display: KendoMsjDisplay
                    },
                    refresh: false,
                    pageSizes: true,
                    pageSizes: [5, 10, 15],
                    /*para la cantidad de paginas se sugieren 5*/
                    buttonCount: 5,
                    /*Posicion de la pagina*/
                    pageSize: 5
                },
                excel: { fileName: "Listado de Actividades Caducadas.xlsx", filterable: true, allPages: true },
                columns: [
                    {
                        width: 100,
                        command: {
                            template:
                                "<button class='btn-grid btn-xs BtnVerInfo2' type='button' title='Ver datos'><i class='fa fa-lg fa-fw fas fa-eye'></i></button>"
                        },
                        attributes: { "class": "text-center" },
                        title: ""
                    },
                    { field: "ActivityText", title: "Nombre Actividad", width: 120, attributes: { "class": "text-center" } },
                    { field: "FullNameActivity", title: "Responsable", width: 120, attributes: { "class": "text-center" } },
                    //{ field: "DescripcionActivity", title: "Descripcion", width: 120, attributes: { "class": "text-center" } },
                    { field: "FechaCierre", title: "Fecha Cierre", width: 120, attributes: { "class": "text-center" } },
                    { field: "Estado", title: "Estado", width: 120, attributes: { "class": "text-center" } }
                ],
                dataBound: function () {
                     var Grilla = this;

                       //Grilla.tbody.find("tr[role='row']").each(function () {
                       //    var model = Grilla.dataItem(this);
                       //    //var estadoOrden = model.bE_Purchase_Order.PurchaseOrderStatus;

                       //    //if (estadoOrden == 'Z') {
                       //    //    $(this).find("td > button.BtnRegistrar").remove();
                       //    //}

                       //    //if (model.BillingCompleted == 'Z') {
                       //    //    $(this).find("td > button.BtnRegistrar").remove();
                       //    //}
                       //});


                       for (i = 0; i < Grilla.dataSource._view.length; i++) {
                           var estadoActual = Grilla.tbody.children()[i].children[4].textContent;
                           if (estadoActual == 'COMPLETADO') {
                              $($("#GrillaLstActivityCaducada3").data("kendoGrid").tbody.children()[i]).addClass('colorAmarillo');
                           }
                           else if (estadoActual == 'PENDIENTE') {
                              $($("#GrillaLstActivityCaducada3").data("kendoGrid").tbody.children()[i]).addClass('colorAmarillo');
                           }
                           else {
                              $($("#GrillaLstActivityCaducada3").data("kendoGrid").tbody.children()[i]).addClass('colorRojo');
                           }
                       }

                //    for (i = 0; i < $("#LstCotizacion").data("kendoGrid").dataSource._view.length; i++) {
                //        var diasRestantes = $("#LstCotizacion").data("kendoGrid").tbody.children()[i].children[2].textContent;

                //        if (diasRestantes < 11) {
                //            $($("#LstCotizacion").data("kendoGrid").tbody.children()[i]).addClass('colorRojo');
                //        }
                //        else if (diasRestantes > 10 && diasRestantes < 21) {
                //            $($("#LstCotizacion").data("kendoGrid").tbody.children()[i]).addClass('colorAmarillo');
                //        }
                //        else if (diasRestantes > 20) {
                //          $($("#LstCotizacion").data("kendoGrid").tbody.children()[i]).addClass('colorAmarillo');
                //        }
                //        else {
                //            $($("#LstCotizacion").data("kendoGrid").tbody.children()[i]).addClass('colorRojo');
                //        }
                //    }

                //    var Grilla = this;
                //    Grilla.tbody.find("tr[role='row']").each(function () {
                //        var model = Grilla.dataItem(this);
                //        if (model.QuotationStatus != "C") {
                //            $(this).find("td > button.BtnVerInfo").remove();
                //        }

                //    });

                }
            });
        }

    function GrillaListadoActividadExpiration() {

            var dataSource = new kendo.data.DataSource({
                transport: {
                    read: function (options) {
                        $.ajax({
                            type: "GET",
                            url: tRutaServidor + "/Activity/ListarActivityExpirationbDash", /* es importante poner los .. delante*/
                            data: {
                                NroTicket: '0',
                                StatusCategory: ValueFilterTicket
                            },
                            dataType: "json",
                            /*async: false,*/
                            success: function (resultado) {
                                /*exitosamente*/
                                if (resultado.length > 0) {

                                    let html;

                                    /* proceso exitoso con datos*/
                                    if (resultado[0].ValorConsulta == "1") {

                                        html = resultado.length;

                                        document.getElementById("txtCantidadActividadesCaducadasGeneral").innerHTML = html;

                                        $("#LstActivityExpiration").removeClass("hidden");
                                        $("#imgCargaLstActivityExpiration").addClass("hidden");
                                        $("#msjErrorLstActivityExpiration").addClass("hidden");
                                        $("#msjVacioLstActivityExpiration").addClass("hidden");
                                        $("#msjErrorListarLstActivityExpiration").addClass("hidden");
                                        $("#msjSuperaLimiteLstActivityExpiration").addClass("hidden");

                                        //$("#btnBuscar").prop('disabled', false);
                                        //$("#BtnExportarExcel").prop('disabled', false);

                                    } else if (resultado[0].ValorConsulta == "-1") {

                                        $("#LstActivityExpiration").addClass("hidden");
                                        $("#imgCargaLstActivityExpiration").addClass("hidden");
                                        $("#msjErrorLstActivityExpiration").addClass("hidden");
                                        $("#msjVacioLstActivityExpiration").addClass("hidden");
                                        $("#msjErrorListarLstActivityExpiration").addClass("hidden");
                                        $("#msjSuperaLimiteLstActivityExpiration").removeClass("hidden");

                                        //$("#btnBuscar").prop('disabled', false);
                                        //$("#BtnExportarExcel").prop('disabled', true);
                                    }
                                    else {
                                        /* proceso fallido catch listado datos*/
                                        $("#LstActivityExpiration").addClass("hidden");
                                        $("#imgCargaLstActivityExpiration").addClass("hidden");
                                        $("#msjErrorLstActivityExpiration").addClass("hidden");
                                        $("#msjVacioLstActivityExpiration").addClass("hidden");
                                        $("#msjErrorListarLstActivityExpiration").removeClass("hidden");
                                        $("#msjSuperaLimiteLstActivityExpiration").addClass("hidden");

                                        //$("#btnBuscar").prop('disabled', true);
                                        //$("#BtnExportarExcel").prop('disabled', true);
                                        console.log(resultado);
                                    }

                                } else {

                                    html = 0;

                                    document.getElementById("txtCantidadActividadesCaducadasGeneral").innerHTML = html;

                                    $("#LstActivityExpiration").addClass("hidden");
                                    $("#imgCargaLstActivityExpiration").addClass("hidden");
                                    $("#msjErrorLstActivityExpiration").addClass("hidden");
                                    $("#msjVacioLstActivityExpiration").removeClass("hidden");
                                    $("#msjErrorListarLstActivityExpiration").addClass("hidden");
                                    $("#msjSuperaLimiteLstActivityExpiration").addClass("hidden");

                                    //$("#btnBuscar").prop('disabled', false);
                                    //$("#BtnExportarExcel").prop('disabled', true);
                                }

                                options.success(resultado);
                                var grid = $("#LstActivityExpiration").data("kendoGrid");
                                if (grid.dataSource.total() > 0) {
                                    grid.setDataSource(dataSource);
                                }

                            },
                            error: function (xhr, ajaxOptions, thrownError) {
                                /*fallo al llamar a la funcion ajax*/
                                $("#LstActivityExpiration").addClass("hidden");
                                $("#imgCargaLstActivityExpiration").addClass("hidden");
                                $("#msjErrorLstActivityExpiration").removeClass("hidden");
                                $("#msjVacioLstActivityExpiration").addClass("hidden");
                                $("#msjErrorListarLstActivityExpiration").addClass("hidden");
                                $("#msjSuperaLimiteLstActivityExpiration").addClass("hidden");

                                //$("#btnBuscar").prop('disabled', true);
                                //$("#BtnExportarExcel").prop('disabled', true);
                                console.log("ERROR AJAX : " + ajaxOptions);
                                console.log("ERROR AJAX : " + thrownError);
                                console.log(xhr.responseText);
                                console.log(xhr);

                            }
                        });
                    },
                    parameterMap: function (data, operation) {
                        if (operation !== "read" && data.models) {
                            return JSON.stringify({ JSONparam: data.models });
                        }
                    }
                },
                error: function (e) {
                    alert("Status: " + e.status + "; Error message: " + e.errorThrown);
                },
                batch: false,
                pageSize: PaginationKendoGrid,
                schema: {
                    model: {
                        fields: {
                            NroTicket: { type: "string" },
                            StartDate: { type: "string" },
                            UsuarioNameTicket: { type: "string" },
                            ResponsibleNameTicket: { type: "string" },
                            FullNameTicket: { type: "string" },
                            OperationName: { type: "string" },
                            ReasonName: { type: "string" },
                            LocationNameTicket: { type: "string" },
                            CriticalityName: { type: "string" },
                            TitleDescription: { type: "string" },
                            DetalleText: { type: "string" },
                            ResponsibleId: { type: "number" },
                            MigrationStatus: { type: "string" },
                            /*--------------*/
                            IdActivity: { type: "number" },
                            //NroTicket: { type: "string" },
                            //TitleDescription: { type: "string" },
                            ActivityText: { type: "string" },
                            FullNameActivity: { type: "string" },
                            DescripcionActivity: { type: "string" },
                            FechaCierre: { type: "string" },
                            Estado: { type: "string" },
                            OperationName: { type: "string" },
                            ResponsibleId: { type: "number" },
                            ValidationButton:{ type: "string" },
                        }
                    }
                },
                //aggregate: [
                //    {
                //        field: "TicketNumber",
                //        aggregate: "count"
                //    },
                //    {
                //        field: "FuelQuantity",
                //        aggregate: "sum"
                //    }
                //]
            });

            $("#LstActivityExpiration").kendoGrid({
                dataSource: dataSource,
                sortable: true,
                pageable: true,
                columnMenu: true,
                columnMenu: {
                    sortable: true,
                    filterable: true,
                    columns: true,
                    messages: {
                        columns: KendoMsjColumnMenuColumns,
                        filter: KendoMsjColumnMenuFilter,
                        sortAscending: KendoMsjColumnMenuSortAscending,
                        sortDescending: KendoMsjColumnMenuSortDescending,
                        settings: KendoMsjSettings
                    }
                },
                columnMenuInit: function (e) {
                    var menu = e.container.find(".k-menu").data("kendoMenu");
                    menu.bind("select", function (e) {
                        var EtiquetaInput = $(".k-animation-container > .k-menu-group > .k-item > .k-content > .k-filter-menu > .k-textbox :input");
                        EtiquetaInput.focus();
                    });
                },
                groupable: false,
                reorderable: true,
                selectable: "row",
                scrollable: true,
                resizable: true,
                filterable: {
                    multi: true,
                    checkAll: true,
                    search: true,
                    messages: {
                        clear: KendoMsjClear,
                        filter: KendoMsjFilter,
                        selectedItemsFormat: KendoMsjSelectedItemsFormat,
                        checkAll: KendoMsjCheckAll,
                        search: KendoMsjSearch
                    }
                },
                //groupable: {
                //    info: true,
                //    messages: {
                //        empty: "<b style='font-style:italic';>Arrastre una cabecera aquí para agrupar su información por esa columna</b>"
                //    }
                //},
                pageable: {
                    messages: {
                        empty: KendoMsjEmpty,
                        page: kendoMsjPage,
                        of: KendoMsjOf,
                        itemsPerPage: KendoMsjItemsPerPage,
                        first: KendoMsjFirst,
                        last: KendoMsjLast,
                        next: KendoMsjNext,
                        previous: KendoMsjPrevious,
                        refresh: KendoMsjRefresh,
                        morePages: KendoMsjMorePages,
                        display: KendoMsjDisplay
                    },
                    refresh: false,
                    pageSizes: true,
                    pageSizes: [5, 10, 15],
                    /*para la cantidad de paginas se sugieren 5*/
                    buttonCount: 5,
                    /*Posicion de la pagina*/
                    pageSize: 5
                },
                excel: { fileName: "Listado de Actividades.xlsx", filterable: true, allPages: true },
                columns: [
                    {
                        width: 100,
                        command: {
                            template:
                                "<button class='btn-grid btn-xs BtnVerInfo' type='button' title='Ver datos'><i class='fa fa-lg fa-fw fas fa-eye'></i></button>"
                        },
                        attributes: { "class": "text-center" },
                        title: ""
                    },
                    { field: "NroTicket", title: "Nro. Ticket", width: 100, attributes: { "class": "text-center" } },
                    { field: "OperationName", title: "Operacion", width: 120, attributes: { "class": "text-center" } },
                    { field: "TitleDescription", title: "Titulo Ticket", width: 120, attributes: { "class": "text-center" } },
                    { field: "ActivityText", title: "Nombre Actividad", width: 140, attributes: { "class": "text-center" } },
                    { field: "FullNameActivity", title: "Responsable", width: 120, attributes: { "class": "text-center" } },
                    //{ field: "DescripcionActivity", title: "Descripcion", width: 120, attributes: { "class": "text-center" } },
                    { field: "FechaCierre", title: "Fecha Cierre", width: 120, attributes: { "class": "text-center" } },
                    { field: "Estado", title: "Estado", width: 120, attributes: { "class": "text-center" } }
                ],
                dataBound: function () {
                     var Grilla = this;

                       //Grilla.tbody.find("tr[role='row']").each(function () {
                       //    var model = Grilla.dataItem(this);
                       //    //var estadoOrden = model.bE_Purchase_Order.PurchaseOrderStatus;

                       //    //if (estadoOrden == 'Z') {
                       //    //    $(this).find("td > button.BtnRegistrar").remove();
                       //    //}

                       //    //if (model.BillingCompleted == 'Z') {
                       //    //    $(this).find("td > button.BtnRegistrar").remove();
                       //    //}
                       //});


                       for (i = 0; i < Grilla.dataSource._view.length; i++) {
                           var estadoActual = Grilla.tbody.children()[i].children[4].textContent;
                           if (estadoActual == 'COMPLETO') {
                              $($("#LstActivityExpiration").data("kendoGrid").tbody.children()[i]).addClass('colorAmarillo');
                           }
                           else if (estadoActual == 'PENDIENTE') {
                              $($("#LstActivityExpiration").data("kendoGrid").tbody.children()[i]).addClass('colorAmarillo');
                           }
                           else {
                              $($("#LstActivityExpiration").data("kendoGrid").tbody.children()[i]).addClass('colorRojo');
                           }
                       }

                //    for (i = 0; i < $("#LstCotizacion").data("kendoGrid").dataSource._view.length; i++) {
                //        var diasRestantes = $("#LstCotizacion").data("kendoGrid").tbody.children()[i].children[2].textContent;

                //        if (diasRestantes < 11) {
                //            $($("#LstCotizacion").data("kendoGrid").tbody.children()[i]).addClass('colorRojo');
                //        }
                //        else if (diasRestantes > 10 && diasRestantes < 21) {
                //            $($("#LstCotizacion").data("kendoGrid").tbody.children()[i]).addClass('colorAmarillo');
                //        }
                //        else if (diasRestantes > 20) {
                //          $($("#LstCotizacion").data("kendoGrid").tbody.children()[i]).addClass('colorAmarillo');
                //        }
                //        else {
                //            $($("#LstCotizacion").data("kendoGrid").tbody.children()[i]).addClass('colorRojo');
                //        }
                //    }

                //    var Grilla = this;
                //    Grilla.tbody.find("tr[role='row']").each(function () {
                //        var model = Grilla.dataItem(this);
                //        if (model.QuotationStatus != "C") {
                //            $(this).find("td > button.BtnVerInfo").remove();
                //        }

                //    });

                }
            });
        }

    function GrillaListadoActividadToTicketToAct(ValueIdTicket) {


             $("#LstActivityToTicketToActivity").addClass("hidden");
             $("#imgCargaLstActivityToTicketToActivity").removeClass("hidden");
             $("#msjErrorLstActivityToTicketToActivity").addClass("hidden");
             $("#msjVacioLstActivityToTicketToActivity").addClass("hidden");
             $("#msjErrorListarLstActivityToTicketToActivity").addClass("hidden");
             $("#msjSuperaLimiteLstActivityToTicketToActivity").addClass("hidden");

            var dataSource = new kendo.data.DataSource({
                transport: {
                    read: function (options) {
                        $.ajax({
                            type: "GET",
                            url: tRutaServidor + "/Activity/ListarActivityToTicketToAct", /* es importante poner los .. delante*/
                            data: {
                                IdTicket: ValueIdTicket,
                            },
                            dataType: "json",
                            /*async: false,*/
                            success: function (resultado) {
                                /*exitosamente*/
                                if (resultado.length > 0) {

                                    /* proceso exitoso con datos*/
                                    if (resultado[0].ValorConsulta == "1") {

                                        $("#LstActivityToTicketToActivity").removeClass("hidden");
                                        $("#imgCargaLstActivityToTicketToActivity").addClass("hidden");
                                        $("#msjErrorLstActivityToTicketToActivity").addClass("hidden");
                                        $("#msjVacioLstActivityToTicketToActivity").addClass("hidden");
                                        $("#msjErrorListarLstActivityToTicketToActivity").addClass("hidden");
                                        $("#msjSuperaLimiteLstActivityToTicketToActivity").addClass("hidden");

                                        //$("#btnBuscar").prop('disabled', false);
                                        //$("#BtnExportarExcel").prop('disabled', false);

                                    } else if (resultado[0].ValorConsulta == "-1") {

                                        $("#LstActivityToTicketToActivity").addClass("hidden");
                                        $("#imgCargaLstActivityToTicketToActivity").addClass("hidden");
                                        $("#msjErrorLstActivityToTicketToActivity").addClass("hidden");
                                        $("#msjVacioLstActivityToTicketToActivity").addClass("hidden");
                                        $("#msjErrorListarLstActivityToTicketToActivity").addClass("hidden");
                                        $("#msjSuperaLimiteLstActivityToTicketToActivity").removeClass("hidden");

                                        //$("#btnBuscar").prop('disabled', false);
                                        //$("#BtnExportarExcel").prop('disabled', true);
                                    }
                                    else {
                                        /* proceso fallido catch listado datos*/
                                        $("#LstActivityToTicketToActivity").addClass("hidden");
                                        $("#imgCargaLstActivityToTicketToActivity").addClass("hidden");
                                        $("#msjErrorLstActivityToTicketToActivity").addClass("hidden");
                                        $("#msjVacioLstActivityToTicketToActivity").addClass("hidden");
                                        $("#msjErrorListarLstActivityToTicketToActivity").removeClass("hidden");
                                        $("#msjSuperaLimiteLstActivityToTicketToActivity").addClass("hidden");

                                        //$("#btnBuscar").prop('disabled', true);
                                        //$("#BtnExportarExcel").prop('disabled', true);
                                        console.log(resultado);
                                    }

                                } else {

                                    $("#LstActivityToTicketToActivity").addClass("hidden");
                                    $("#imgCargaLstActivityToTicketToActivity").addClass("hidden");
                                    $("#msjErrorLstActivityToTicketToActivity").addClass("hidden");
                                    $("#msjVacioLstActivityToTicketToActivity").removeClass("hidden");
                                    $("#msjErrorListarLstActivityToTicketToActivity").addClass("hidden");
                                    $("#msjSuperaLimiteLstActivityToTicketToActivity").addClass("hidden");

                                    //$("#btnBuscar").prop('disabled', false);
                                    //$("#BtnExportarExcel").prop('disabled', true);
                                }

                                options.success(resultado);
                                var grid = $("#LstActivityToTicketToActivity").data("kendoGrid");
                                if (grid.dataSource.total() > 0) {
                                    grid.setDataSource(dataSource);
                                }

                            },
                            error: function (xhr, ajaxOptions, thrownError) {
                                /*fallo al llamar a la funcion ajax*/
                                $("#LstActivityToTicketToActivity").addClass("hidden");
                                $("#imgCargaLstActivityToTicketToActivity").addClass("hidden");
                                $("#msjErrorLstActivityToTicketToActivity").removeClass("hidden");
                                $("#msjVacioLstActivityToTicketToActivity").addClass("hidden");
                                $("#msjErrorListarLstActivityToTicketToActivity").addClass("hidden");
                                $("#msjSuperaLimiteLstActivityToTicketToActivity").addClass("hidden");

                                //$("#btnBuscar").prop('disabled', true);
                                //$("#BtnExportarExcel").prop('disabled', true);
                                console.log("ERROR AJAX : " + ajaxOptions);
                                console.log("ERROR AJAX : " + thrownError);
                                console.log(xhr.responseText);
                                console.log(xhr);

                            }
                        });
                    },
                    parameterMap: function (data, operation) {
                        if (operation !== "read" && data.models) {
                            return JSON.stringify({ JSONparam: data.models });
                        }
                    }
                },
                error: function (e) {
                    alert("Status: " + e.status + "; Error message: " + e.errorThrown);
                },
                batch: false,
                pageSize: PaginationKendoGrid,
                schema: {
                    model: {
                        fields: {
                            IdActivity: { type: "number" },
                            //NroTicket: { type: "string" },
                            ActivityText: { type: "string" },
                            FullNameActivity: { type: "string" },
                            DescripcionActivity: { type: "string" },
                            FechaCierre: { type: "string" },
                            Estado: { type: "string" },
                            //OperationName: { type: "string" },
                            ResponsibleId: { type: "number" },
                            ValidationButton:{ type: "string" },
                        }
                    }
                },
                //aggregate: [
                //    {
                //        field: "TicketNumber",
                //        aggregate: "count"
                //    },
                //    {
                //        field: "FuelQuantity",
                //        aggregate: "sum"
                //    }
                //]
            });

            $("#LstActivityToTicketToActivity").kendoGrid({
                dataSource: dataSource,
                sortable: true,
                pageable: true,
                columnMenu: true,
                columnMenu: {
                    sortable: true,
                    filterable: true,
                    columns: true,
                    messages: {
                        columns: KendoMsjColumnMenuColumns,
                        filter: KendoMsjColumnMenuFilter,
                        sortAscending: KendoMsjColumnMenuSortAscending,
                        sortDescending: KendoMsjColumnMenuSortDescending,
                        settings: KendoMsjSettings
                    }
                },
                columnMenuInit: function (e) {
                    var menu = e.container.find(".k-menu").data("kendoMenu");
                    menu.bind("select", function (e) {
                        var EtiquetaInput = $(".k-animation-container > .k-menu-group > .k-item > .k-content > .k-filter-menu > .k-textbox :input");
                        EtiquetaInput.focus();
                    });
                },
                groupable: false,
                reorderable: true,
                selectable: "row",
                scrollable: true,
                resizable: true,
                filterable: {
                    multi: true,
                    checkAll: true,
                    search: true,
                    messages: {
                        clear: KendoMsjClear,
                        filter: KendoMsjFilter,
                        selectedItemsFormat: KendoMsjSelectedItemsFormat,
                        checkAll: KendoMsjCheckAll,
                        search: KendoMsjSearch
                    }
                },
                //groupable: {
                //    info: true,
                //    messages: {
                //        empty: "<b style='font-style:italic';>Arrastre una cabecera aquí para agrupar su información por esa columna</b>"
                //    }
                //},
                pageable: {
                    messages: {
                        empty: KendoMsjEmpty,
                        page: kendoMsjPage,
                        of: KendoMsjOf,
                        itemsPerPage: KendoMsjItemsPerPage,
                        first: KendoMsjFirst,
                        last: KendoMsjLast,
                        next: KendoMsjNext,
                        previous: KendoMsjPrevious,
                        refresh: KendoMsjRefresh,
                        morePages: KendoMsjMorePages,
                        display: KendoMsjDisplay
                    },
                    refresh: false,
                    pageSizes: true,
                    pageSizes: [5, 10, 15],
                    /*para la cantidad de paginas se sugieren 5*/
                    buttonCount: 5,
                    /*Posicion de la pagina*/
                    pageSize: 5
                },
                excel: { fileName: "Listado de Actividades.xlsx", filterable: true, allPages: true },
                columns: [
                    {
                        width: 100,
                        command: {
                            template:
                                "<button class='btn-grid btn-xs BtnVerInfo' type='button' title='Ver datos'><i class='fa fa-lg fa-fw fas fa-eye'></i></button>"
                        },
                        attributes: { "class": "text-center" },
                        title: ""
                    },
                    //{ field: "NroTicket", title: "Nro. Ticket", width: 120, attributes: { "class": "text-center" } },
                    //{ field: "OperationName", title: "Operacion", width: 120, attributes: { "class": "text-center" } },
                    { field: "ActivityText", title: "Nombre Actividad", width: 120, attributes: { "class": "text-center" } },
                    { field: "FullNameActivity", title: "Responsable", width: 120, attributes: { "class": "text-center" } },
                    //{ field: "DescripcionActivity", title: "Descripcion", width: 120, attributes: { "class": "text-center" } },
                    { field: "FechaCierre", title: "Fecha Cierre", width: 120, attributes: { "class": "text-center" } },
                    { field: "Estado", title: "Estado", width: 120, attributes: { "class": "text-center" } }
                ],
                dataBound: function () {
                     var Grilla = this;

                       //Grilla.tbody.find("tr[role='row']").each(function () {
                       //    var model = Grilla.dataItem(this);
                       //    //var estadoOrden = model.bE_Purchase_Order.PurchaseOrderStatus;

                       //    //if (estadoOrden == 'Z') {
                       //    //    $(this).find("td > button.BtnRegistrar").remove();
                       //    //}

                       //    //if (model.BillingCompleted == 'Z') {
                       //    //    $(this).find("td > button.BtnRegistrar").remove();
                       //    //}
                       //});

                       for (i = 0; i < Grilla.dataSource._view.length; i++) {
                           var estadoActual = Grilla.tbody.children()[i].children[4].textContent;
                           if (estadoActual == 'COMPLETO') {
                              $($("#LstActivityExpiration").data("kendoGrid").tbody.children()[i]).addClass('colorAmarillo');
                           }
                           else if (estadoActual == 'PENDIENTE') {
                              $($("#LstActivityExpiration").data("kendoGrid").tbody.children()[i]).addClass('colorAmarillo');
                           }
                           else {
                              $($("#LstActivityExpiration").data("kendoGrid").tbody.children()[i]).addClass('colorRojo');
                           }
                       }

                //    for (i = 0; i < $("#LstCotizacion").data("kendoGrid").dataSource._view.length; i++) {
                //        var diasRestantes = $("#LstCotizacion").data("kendoGrid").tbody.children()[i].children[2].textContent;

                //        if (diasRestantes < 11) {
                //            $($("#LstCotizacion").data("kendoGrid").tbody.children()[i]).addClass('colorRojo');
                //        }
                //        else if (diasRestantes > 10 && diasRestantes < 21) {
                //            $($("#LstCotizacion").data("kendoGrid").tbody.children()[i]).addClass('colorAmarillo');
                //        }
                //        else if (diasRestantes > 20) {
                //          $($("#LstCotizacion").data("kendoGrid").tbody.children()[i]).addClass('colorAmarillo');
                //        }
                //        else {
                //            $($("#LstCotizacion").data("kendoGrid").tbody.children()[i]).addClass('colorRojo');
                //        }
                //    }

                //    var Grilla = this;
                //    Grilla.tbody.find("tr[role='row']").each(function () {
                //        var model = Grilla.dataItem(this);
                //        if (model.QuotationStatus != "C") {
                //            $(this).find("td > button.BtnVerInfo").remove();
                //        }

                //    });

                }
            });
        }

    function GrillaListadoActividadToTicketToActPendiente(ValueIdTicket) {

             $("#LstActivityToTicketToActivityPendiente").addClass("hidden");
             $("#imgCargaLstActivityToTicketToActivityPendiente").removeClass("hidden");
             $("#msjErrorLstActivityToTicketToActivityPendiente").addClass("hidden");
             $("#msjVacioLstActivityToTicketToActivityPendiente").addClass("hidden");
             $("#msjErrorListarLstActivityToTicketToActivityPendiente").addClass("hidden");
             $("#msjSuperaLimiteLstActivityToTicketToActivityPendiente").addClass("hidden");

            var dataSource = new kendo.data.DataSource({
                transport: {
                    read: function (options) {
                        $.ajax({
                            type: "GET",
                            url: tRutaServidor + "/Activity/ListarActivityToTicketToActPendiente", /* es importante poner los .. delante*/
                            data: {
                                IdTicket: ValueIdTicket,
                            },
                            dataType: "json",
                            /*async: false,*/
                            success: function (resultado) {
                                /*exitosamente*/
                                if (resultado.length > 0) {

                                    /* proceso exitoso con datos*/
                                    if (resultado[0].ValorConsulta == "1") {

                                        $("#LstActivityToTicketToActivityPendiente").removeClass("hidden");
                                        $("#imgCargaLstActivityToTicketToActivityPendiente").addClass("hidden");
                                        $("#msjErrorLstActivityToTicketToActivityPendiente").addClass("hidden");
                                        $("#msjVacioLstActivityToTicketToActivityPendiente").addClass("hidden");
                                        $("#msjErrorListarLstActivityToTicketToActivityPendiente").addClass("hidden");
                                        $("#msjSuperaLimiteLstActivityToTicketToActivityPendiente").addClass("hidden");

                                        //$("#btnBuscar").prop('disabled', false);
                                        //$("#BtnExportarExcel").prop('disabled', false);

                                    } else if (resultado[0].ValorConsulta == "-1") {

                                        $("#LstActivityToTicketToActivityPendiente").addClass("hidden");
                                        $("#imgCargaLstActivityToTicketToActivityPendiente").addClass("hidden");
                                        $("#msjErrorLstActivityToTicketToActivityPendiente").addClass("hidden");
                                        $("#msjVacioLstActivityToTicketToActivityPendiente").addClass("hidden");
                                        $("#msjErrorListarLstActivityToTicketToActivityPendiente").addClass("hidden");
                                        $("#msjSuperaLimiteLstActivityToTicketToActivityPendiente").removeClass("hidden");

                                        //$("#btnBuscar").prop('disabled', false);
                                        //$("#BtnExportarExcel").prop('disabled', true);
                                    }
                                    else {
                                        /* proceso fallido catch listado datos*/
                                        $("#LstActivityToTicketToActivityPendiente").addClass("hidden");
                                        $("#imgCargaLstActivityToTicketToActivityPendiente").addClass("hidden");
                                        $("#msjErrorLstActivityToTicketToActivityPendiente").addClass("hidden");
                                        $("#msjVacioLstActivityToTicketToActivityPendiente").addClass("hidden");
                                        $("#msjErrorListarLstActivityToTicketToActivityPendiente").removeClass("hidden");
                                        $("#msjSuperaLimiteLstActivityToTicketToActivityPendiente").addClass("hidden");

                                        //$("#btnBuscar").prop('disabled', true);
                                        //$("#BtnExportarExcel").prop('disabled', true);
                                        console.log(resultado);
                                    }

                                } else {

                                    $("#LstActivityToTicketToActivityPendiente").addClass("hidden");
                                    $("#imgCargaLstActivityToTicketToActivityPendiente").addClass("hidden");
                                    $("#msjErrorLstActivityToTicketToActivityPendiente").addClass("hidden");
                                    $("#msjVacioLstActivityToTicketToActivityPendiente").removeClass("hidden");
                                    $("#msjErrorListarLstActivityToTicketToActivityPendiente").addClass("hidden");
                                    $("#msjSuperaLimiteLstActivityToTicketToActivityPendiente").addClass("hidden");

                                    //$("#btnBuscar").prop('disabled', false);
                                    //$("#BtnExportarExcel").prop('disabled', true);
                                }

                                options.success(resultado);
                                var grid = $("#LstActivityToTicketToActivityPendiente").data("kendoGrid");
                                if (grid.dataSource.total() > 0) {
                                    grid.setDataSource(dataSource);
                                }

                            },
                            error: function (xhr, ajaxOptions, thrownError) {
                                /*fallo al llamar a la funcion ajax*/
                                $("#LstActivityToTicketToActivityPendiente").addClass("hidden");
                                $("#imgCargaLstActivityToTicketToActivityPendiente").addClass("hidden");
                                $("#msjErrorLstActivityToTicketToActivityPendiente").removeClass("hidden");
                                $("#msjVacioLstActivityToTicketToActivityPendiente").addClass("hidden");
                                $("#msjErrorListarLstActivityToTicketToActivityPendiente").addClass("hidden");
                                $("#msjSuperaLimiteLstActivityToTicketToActivityPendiente").addClass("hidden");

                                //$("#btnBuscar").prop('disabled', true);
                                //$("#BtnExportarExcel").prop('disabled', true);
                                console.log("ERROR AJAX : " + ajaxOptions);
                                console.log("ERROR AJAX : " + thrownError);
                                console.log(xhr.responseText);
                                console.log(xhr);

                            }
                        });
                    },
                    parameterMap: function (data, operation) {
                        if (operation !== "read" && data.models) {
                            return JSON.stringify({ JSONparam: data.models });
                        }
                    }
                },
                error: function (e) {
                    alert("Status: " + e.status + "; Error message: " + e.errorThrown);
                },
                batch: false,
                pageSize: PaginationKendoGrid,
                schema: {
                    model: {
                        fields: {
                            IdActivity: { type: "number" },
                            //NroTicket: { type: "string" },
                            ActivityText: { type: "string" },
                            FullNameActivity: { type: "string" },
                            DescripcionActivity: { type: "string" },
                            FechaCierre: { type: "string" },
                            Estado: { type: "string" },
                            //OperationName: { type: "string" },
                            ResponsibleId: { type: "number" },
                            ValidationButton:{ type: "string" },
                        }
                    }
                },
                //aggregate: [
                //    {
                //        field: "TicketNumber",
                //        aggregate: "count"
                //    },
                //    {
                //        field: "FuelQuantity",
                //        aggregate: "sum"
                //    }
                //]
            });

            $("#LstActivityToTicketToActivityPendiente").kendoGrid({
                dataSource: dataSource,
                sortable: true,
                pageable: true,
                columnMenu: true,
                columnMenu: {
                    sortable: true,
                    filterable: true,
                    columns: true,
                    messages: {
                        columns: KendoMsjColumnMenuColumns,
                        filter: KendoMsjColumnMenuFilter,
                        sortAscending: KendoMsjColumnMenuSortAscending,
                        sortDescending: KendoMsjColumnMenuSortDescending,
                        settings: KendoMsjSettings
                    }
                },
                columnMenuInit: function (e) {
                    var menu = e.container.find(".k-menu").data("kendoMenu");
                    menu.bind("select", function (e) {
                        var EtiquetaInput = $(".k-animation-container > .k-menu-group > .k-item > .k-content > .k-filter-menu > .k-textbox :input");
                        EtiquetaInput.focus();
                    });
                },
                groupable: false,
                reorderable: true,
                selectable: "row",
                scrollable: true,
                resizable: true,
                filterable: {
                    multi: true,
                    checkAll: true,
                    search: true,
                    messages: {
                        clear: KendoMsjClear,
                        filter: KendoMsjFilter,
                        selectedItemsFormat: KendoMsjSelectedItemsFormat,
                        checkAll: KendoMsjCheckAll,
                        search: KendoMsjSearch
                    }
                },
                //groupable: {
                //    info: true,
                //    messages: {
                //        empty: "<b style='font-style:italic';>Arrastre una cabecera aquí para agrupar su información por esa columna</b>"
                //    }
                //},
                pageable: {
                    messages: {
                        empty: KendoMsjEmpty,
                        page: kendoMsjPage,
                        of: KendoMsjOf,
                        itemsPerPage: KendoMsjItemsPerPage,
                        first: KendoMsjFirst,
                        last: KendoMsjLast,
                        next: KendoMsjNext,
                        previous: KendoMsjPrevious,
                        refresh: KendoMsjRefresh,
                        morePages: KendoMsjMorePages,
                        display: KendoMsjDisplay
                    },
                    refresh: false,
                    pageSizes: true,
                    pageSizes: [5, 10, 15],
                    /*para la cantidad de paginas se sugieren 5*/
                    buttonCount: 5,
                    /*Posicion de la pagina*/
                    pageSize: 5
                },
                excel: { fileName: "Listado de Actividades.xlsx", filterable: true, allPages: true },
                columns: [
                    {
                        width: 100,
                        command: {
                            template:
                                "<button class='btn-grid btn-xs BtnVerInfo' type='button' title='Ver datos'><i class='fa fa-lg fa-fw fas fa-eye'></i></button>"
                        },
                        attributes: { "class": "text-center" },
                        title: ""
                    },
                    //{ field: "NroTicket", title: "Nro. Ticket", width: 120, attributes: { "class": "text-center" } },
                    //{ field: "OperationName", title: "Operacion", width: 120, attributes: { "class": "text-center" } },
                    { field: "ActivityText", title: "Nombre Actividad", width: 120, attributes: { "class": "text-center" } },
                    { field: "FullNameActivity", title: "Responsable", width: 120, attributes: { "class": "text-center" } },
                    //{ field: "DescripcionActivity", title: "Descripcion", width: 120, attributes: { "class": "text-center" } },
                    { field: "FechaCierre", title: "Fecha Cierre", width: 120, attributes: { "class": "text-center" } },
                    { field: "Estado", title: "Estado", width: 120, attributes: { "class": "text-center" } }
                ],
                dataBound: function () {
                     var Grilla = this;

                       //Grilla.tbody.find("tr[role='row']").each(function () {
                       //    var model = Grilla.dataItem(this);
                       //    //var estadoOrden = model.bE_Purchase_Order.PurchaseOrderStatus;

                       //    //if (estadoOrden == 'Z') {
                       //    //    $(this).find("td > button.BtnRegistrar").remove();
                       //    //}

                       //    //if (model.BillingCompleted == 'Z') {
                       //    //    $(this).find("td > button.BtnRegistrar").remove();
                       //    //}
                       //});

                       for (i = 0; i < Grilla.dataSource._view.length; i++) {
                           var estadoActual = Grilla.tbody.children()[i].children[4].textContent;
                           if (estadoActual == 'COMPLETO') {
                              $($("#LstActivityExpiration").data("kendoGrid").tbody.children()[i]).addClass('colorAmarillo');
                           }
                           else if (estadoActual == 'PENDIENTE') {
                              $($("#LstActivityExpiration").data("kendoGrid").tbody.children()[i]).addClass('colorAmarillo');
                           }
                           else {
                              $($("#LstActivityExpiration").data("kendoGrid").tbody.children()[i]).addClass('colorRojo');
                           }
                       }

                //    for (i = 0; i < $("#LstCotizacion").data("kendoGrid").dataSource._view.length; i++) {
                //        var diasRestantes = $("#LstCotizacion").data("kendoGrid").tbody.children()[i].children[2].textContent;

                //        if (diasRestantes < 11) {
                //            $($("#LstCotizacion").data("kendoGrid").tbody.children()[i]).addClass('colorRojo');
                //        }
                //        else if (diasRestantes > 10 && diasRestantes < 21) {
                //            $($("#LstCotizacion").data("kendoGrid").tbody.children()[i]).addClass('colorAmarillo');
                //        }
                //        else if (diasRestantes > 20) {
                //          $($("#LstCotizacion").data("kendoGrid").tbody.children()[i]).addClass('colorAmarillo');
                //        }
                //        else {
                //            $($("#LstCotizacion").data("kendoGrid").tbody.children()[i]).addClass('colorRojo');
                //        }
                //    }

                //    var Grilla = this;
                //    Grilla.tbody.find("tr[role='row']").each(function () {
                //        var model = Grilla.dataItem(this);
                //        if (model.QuotationStatus != "C") {
                //            $(this).find("td > button.BtnVerInfo").remove();
                //        }

                //    });

                }
            });
        }

    function GrillaListadoActividadToTicketToActCompletado(ValueIdTicket) {

         $("#LstActivityToTicketToActivityCompletadas").addClass("hidden");
         $("#imgCargaLstActivityToTicketToActivityCompletadas").removeClass("hidden");
         $("#msjErrorLstActivityToTicketToActivityCompletadas").addClass("hidden");
         $("#msjVacioLstActivityToTicketToActivityCompletadas").addClass("hidden");
         $("#msjErrorListarLstActivityToTicketToActivityCompletadas").addClass("hidden");
         $("#msjSuperaLimiteLstActivityToTicketToActivityCompletadas").addClass("hidden");

        var dataSource = new kendo.data.DataSource({
            transport: {
                read: function (options) {
                    $.ajax({
                        type: "GET",
                        url: tRutaServidor + "/Activity/ListarActivityToTicketToActCompletado", /* es importante poner los .. delante*/
                        data: {
                            IdTicket: ValueIdTicket,
                        },
                        dataType: "json",
                        /*async: false,*/
                        success: function (resultado) {
                            /*exitosamente*/
                            if (resultado.length > 0) {

                                /* proceso exitoso con datos*/
                                if (resultado[0].ValorConsulta == "1") {

                                    $("#LstActivityToTicketToActivityCompletadas").removeClass("hidden");
                                    $("#imgCargaLstActivityToTicketToActivityCompletadas").addClass("hidden");
                                    $("#msjErrorLstActivityToTicketToActivityCompletadas").addClass("hidden");
                                    $("#msjVacioLstActivityToTicketToActivityCompletadas").addClass("hidden");
                                    $("#msjErrorListarLstActivityToTicketToActivityCompletadas").addClass("hidden");
                                    $("#msjSuperaLimiteLstActivityToTicketToActivityCompletadas").addClass("hidden");

                                    //$("#btnBuscar").prop('disabled', false);
                                    //$("#BtnExportarExcel").prop('disabled', false);

                                } else if (resultado[0].ValorConsulta == "-1") {

                                    $("#LstActivityToTicketToActivityCompletadas").addClass("hidden");
                                    $("#imgCargaLstActivityToTicketToActivityCompletadas").addClass("hidden");
                                    $("#msjErrorLstActivityToTicketToActivityCompletadas").addClass("hidden");
                                    $("#msjVacioLstActivityToTicketToActivityCompletadas").addClass("hidden");
                                    $("#msjErrorListarLstActivityToTicketToActivityCompletadas").addClass("hidden");
                                    $("#msjSuperaLimiteLstActivityToTicketToActivityCompletadas").removeClass("hidden");

                                    //$("#btnBuscar").prop('disabled', false);
                                    //$("#BtnExportarExcel").prop('disabled', true);
                                }
                                else {
                                    /* proceso fallido catch listado datos*/
                                    $("#LstActivityToTicketToActivityCompletadas").addClass("hidden");
                                    $("#imgCargaLstActivityToTicketToActivityCompletadas").addClass("hidden");
                                    $("#msjErrorLstActivityToTicketToActivityCompletadas").addClass("hidden");
                                    $("#msjVacioLstActivityToTicketToActivityCompletadas").addClass("hidden");
                                    $("#msjErrorListarLstActivityToTicketToActivityCompletadas").removeClass("hidden");
                                    $("#msjSuperaLimiteLstActivityToTicketToActivityCompletadas").addClass("hidden");

                                    //$("#btnBuscar").prop('disabled', true);
                                    //$("#BtnExportarExcel").prop('disabled', true);
                                    console.log(resultado);
                                }

                            } else {

                                $("#LstActivityToTicketToActivityCompletadas").addClass("hidden");
                                $("#imgCargaLstActivityToTicketToActivityCompletadas").addClass("hidden");
                                $("#msjErrorLstActivityToTicketToActivityCompletadas").addClass("hidden");
                                $("#msjVacioLstActivityToTicketToActivityCompletadas").removeClass("hidden");
                                $("#msjErrorListarLstActivityToTicketToActivityCompletadas").addClass("hidden");
                                $("#msjSuperaLimiteLstActivityToTicketToActivityCompletadas").addClass("hidden");

                                //$("#btnBuscar").prop('disabled', false);
                                //$("#BtnExportarExcel").prop('disabled', true);
                            }

                            options.success(resultado);
                            var grid = $("#LstActivityToTicketToActivityCompletadas").data("kendoGrid");
                            if (grid.dataSource.total() > 0) {
                                grid.setDataSource(dataSource);
                            }

                        },
                        error: function (xhr, ajaxOptions, thrownError) {
                            /*fallo al llamar a la funcion ajax*/
                            $("#LstActivityToTicketToActivityCompletadas").addClass("hidden");
                            $("#imgCargaLstActivityToTicketToActivityCompletadas").addClass("hidden");
                            $("#msjErrorLstActivityToTicketToActivityCompletadas").removeClass("hidden");
                            $("#msjVacioLstActivityToTicketToActivityCompletadas").addClass("hidden");
                            $("#msjErrorListarLstActivityToTicketToActivityCompletadas").addClass("hidden");
                            $("#msjSuperaLimiteLstActivityToTicketToActivityCompletadas").addClass("hidden");

                            //$("#btnBuscar").prop('disabled', true);
                            //$("#BtnExportarExcel").prop('disabled', true);
                            console.log("ERROR AJAX : " + ajaxOptions);
                            console.log("ERROR AJAX : " + thrownError);
                            console.log(xhr.responseText);
                            console.log(xhr);

                        }
                    });
                },
                parameterMap: function (data, operation) {
                    if (operation !== "read" && data.models) {
                        return JSON.stringify({ JSONparam: data.models });
                    }
                }
            },
            error: function (e) {
                alert("Status: " + e.status + "; Error message: " + e.errorThrown);
            },
            batch: false,
            pageSize: PaginationKendoGrid,
            schema: {
                model: {
                    fields: {
                        IdActivity: { type: "number" },
                        //NroTicket: { type: "string" },
                        ActivityText: { type: "string" },
                        FullNameActivity: { type: "string" },
                        DescripcionActivity: { type: "string" },
                        FechaCierre: { type: "string" },
                        Estado: { type: "string" },
                        //OperationName: { type: "string" },
                        ResponsibleId: { type: "number" },
                        ValidationButton:{ type: "string" },
                    }
                }
            },
            //aggregate: [
            //    {
            //        field: "TicketNumber",
            //        aggregate: "count"
            //    },
            //    {
            //        field: "FuelQuantity",
            //        aggregate: "sum"
            //    }
            //]
        });

        $("#LstActivityToTicketToActivityCompletadas").kendoGrid({
            dataSource: dataSource,
            sortable: true,
            pageable: true,
            columnMenu: true,
            columnMenu: {
                sortable: true,
                filterable: true,
                columns: true,
                messages: {
                    columns: KendoMsjColumnMenuColumns,
                    filter: KendoMsjColumnMenuFilter,
                    sortAscending: KendoMsjColumnMenuSortAscending,
                    sortDescending: KendoMsjColumnMenuSortDescending,
                    settings: KendoMsjSettings
                }
            },
            columnMenuInit: function (e) {
                var menu = e.container.find(".k-menu").data("kendoMenu");
                menu.bind("select", function (e) {
                    var EtiquetaInput = $(".k-animation-container > .k-menu-group > .k-item > .k-content > .k-filter-menu > .k-textbox :input");
                    EtiquetaInput.focus();
                });
            },
            groupable: false,
            reorderable: true,
            selectable: "row",
            scrollable: true,
            resizable: true,
            filterable: {
                multi: true,
                checkAll: true,
                search: true,
                messages: {
                    clear: KendoMsjClear,
                    filter: KendoMsjFilter,
                    selectedItemsFormat: KendoMsjSelectedItemsFormat,
                    checkAll: KendoMsjCheckAll,
                    search: KendoMsjSearch
                }
            },
            //groupable: {
            //    info: true,
            //    messages: {
            //        empty: "<b style='font-style:italic';>Arrastre una cabecera aquí para agrupar su información por esa columna</b>"
            //    }
            //},
            pageable: {
                messages: {
                    empty: KendoMsjEmpty,
                    page: kendoMsjPage,
                    of: KendoMsjOf,
                    itemsPerPage: KendoMsjItemsPerPage,
                    first: KendoMsjFirst,
                    last: KendoMsjLast,
                    next: KendoMsjNext,
                    previous: KendoMsjPrevious,
                    refresh: KendoMsjRefresh,
                    morePages: KendoMsjMorePages,
                    display: KendoMsjDisplay
                },
                refresh: false,
                pageSizes: true,
                pageSizes: [5, 10, 15],
                /*para la cantidad de paginas se sugieren 5*/
                buttonCount: 5,
                /*Posicion de la pagina*/
                pageSize: 5
            },
            excel: { fileName: "Listado de Actividades.xlsx", filterable: true, allPages: true },
            columns: [
                {
                    width: 100,
                    command: {
                        template:
                            "<button class='btn-grid btn-xs BtnVerInfo' type='button' title='Ver datos'><i class='fa fa-lg fa-fw fas fa-eye'></i></button>"
                    },
                    attributes: { "class": "text-center" },
                    title: ""
                },
                //{ field: "NroTicket", title: "Nro. Ticket", width: 120, attributes: { "class": "text-center" } },
                //{ field: "OperationName", title: "Operacion", width: 120, attributes: { "class": "text-center" } },
                { field: "ActivityText", title: "Nombre Actividad", width: 120, attributes: { "class": "text-center" } },
                { field: "FullNameActivity", title: "Responsable", width: 120, attributes: { "class": "text-center" } },
                //{ field: "DescripcionActivity", title: "Descripcion", width: 120, attributes: { "class": "text-center" } },
                { field: "FechaCierre", title: "Fecha Cierre", width: 120, attributes: { "class": "text-center" } },
                { field: "Estado", title: "Estado", width: 120, attributes: { "class": "text-center" } }
            ],
            dataBound: function () {
                 var Grilla = this;

                   //Grilla.tbody.find("tr[role='row']").each(function () {
                   //    var model = Grilla.dataItem(this);
                   //    //var estadoOrden = model.bE_Purchase_Order.PurchaseOrderStatus;

                   //    //if (estadoOrden == 'Z') {
                   //    //    $(this).find("td > button.BtnRegistrar").remove();
                   //    //}

                   //    //if (model.BillingCompleted == 'Z') {
                   //    //    $(this).find("td > button.BtnRegistrar").remove();
                   //    //}
                   //});

                   for (i = 0; i < Grilla.dataSource._view.length; i++) {
                       var estadoActual = Grilla.tbody.children()[i].children[4].textContent;
                       if (estadoActual == 'COMPLETO') {
                          $($("#LstActivityExpiration").data("kendoGrid").tbody.children()[i]).addClass('colorAmarillo');
                       }
                       else if (estadoActual == 'PENDIENTE') {
                          $($("#LstActivityExpiration").data("kendoGrid").tbody.children()[i]).addClass('colorAmarillo');
                       }
                       else {
                          $($("#LstActivityExpiration").data("kendoGrid").tbody.children()[i]).addClass('colorRojo');
                       }
                   }

            //    for (i = 0; i < $("#LstCotizacion").data("kendoGrid").dataSource._view.length; i++) {
            //        var diasRestantes = $("#LstCotizacion").data("kendoGrid").tbody.children()[i].children[2].textContent;

            //        if (diasRestantes < 11) {
            //            $($("#LstCotizacion").data("kendoGrid").tbody.children()[i]).addClass('colorRojo');
            //        }
            //        else if (diasRestantes > 10 && diasRestantes < 21) {
            //            $($("#LstCotizacion").data("kendoGrid").tbody.children()[i]).addClass('colorAmarillo');
            //        }
            //        else if (diasRestantes > 20) {
            //          $($("#LstCotizacion").data("kendoGrid").tbody.children()[i]).addClass('colorAmarillo');
            //        }
            //        else {
            //            $($("#LstCotizacion").data("kendoGrid").tbody.children()[i]).addClass('colorRojo');
            //        }
            //    }

            //    var Grilla = this;
            //    Grilla.tbody.find("tr[role='row']").each(function () {
            //        var model = Grilla.dataItem(this);
            //        if (model.QuotationStatus != "C") {
            //            $(this).find("td > button.BtnVerInfo").remove();
            //        }

            //    });

            }
        });
    }

    function ExportarExcel(Etiqueta) {
            var Grilla = $("#" + Etiqueta).data("kendoGrid");
            var count = Grilla.dataSource.total();

            if (count > CantidadRegistrosExportar) {

                swal({
                    title: tTituloConfirmacionExportarExcel,
                    text: tMensajeConfirmacionExportarExcel,
                    type: "warning",
                    showCancelButton: true,
                    confirmButtonColor: tColorBoton,
                    confirmButtonText: tNombreBotonSi,
                    cancelButtonText: tNombreBotonNo,
                    closeOnConfirm: true
                }, function () {

                    setTimeout(function () {
                        swal({
                            title: tTituloExportarExcel,
                            text: tMensajeExportarExcel,
                            type: "warning"
                        });
                    }, 500);

                    setTimeout(function () {
                        Grilla.saveAsExcel();
                    }, 2000)

                });

            } else {
                new swal({
                    title: tTituloExportarExcel,
                    text: tMensajeExportarExcel,
                    type: "warning"
                });

                setTimeout(function () {

                    Grilla.saveAsExcel();
                }, 2000)
            }
        };

    function GrillaListadoBusqueda() {

        if (BuscadorPrincipal != "1") {

            if ($("#txtSearchValues").val() == "" || $("#txtSearchValues").val() == null) {

                valorInputBusquedaInteligente = "0";

            } else {

                valorInputBusquedaInteligente = $("#txtSearchValues").val().trim();

            }

        }

        var dataSource = new kendo.data.DataSource({
            transport: {
                read: function (options) {
                    $.ajax({
                        type: "GET",
                        url: tRutaServidor + "/Ticket/ListarTicketBusqueda", /* es importante poner los .. delante*/
                        data: {
                           /*FilterValue : ValueFilter,*/
                            /*IdTicket: SelectTicketBusqueda,*/
                            StartDate: $("#txtFechaInicioTicket").val(),
                            EndDate: $("#txtFechaFinalTicket").val(),
                           /*FilterValuePenCom: ValuePenCom,*/
                            StatusCategory: ValueFilterTicket,
                            NumberTicketSearch: valorInputBusquedaInteligente,
                            FilterType: BuscadorPrincipal
                            /*PlatMovlStatus : FilterPlatMov*/
                        },
                        dataType: "json",
                        /*async: false,*/
                        success: function (resultado) {
                            /*exitosamente*/
                            if (resultado.length > 0) {
                                /* proceso exitoso con datos*/
                                if (resultado[0].ValorConsulta == "1") {


                                    if (BuscadorPrincipal == '1') {

                                        if (resultado.length == 1) {

                                            RellenarDatos(resultado);

                                            $("#txtSearchValues").val("");
                                        }
                                    }

                                    $("#LstTicketBusqueda").removeClass("hidden");
                                    $("#imgCargaLstTicketBusqueda").addClass("hidden");
                                    $("#msjErrorLstTicketBusqueda").addClass("hidden");
                                    $("#msjVacioLstTicketBusqueda").addClass("hidden");
                                    $("#msjErrorListarLstTicketBusqueda").addClass("hidden");
                                    $("#msjSuperaLimiteLstTicketBusqueda").addClass("hidden");

                                    $("#btnBusquedaTicket").prop('disabled', false);
                                    $("#BtnExportarExcelTicketBusqueda").prop('disabled', false);


                                } else if (resultado[0].ValorConsulta == "-1") {

                                    $("#LstTicketBusqueda").addClass("hidden");
                                    $("#imgCargaLstTicketBusqueda").addClass("hidden");
                                    $("#msjErrorLstTicketBusqueda").addClass("hidden");
                                    $("#msjVacioLstTicketBusqueda").addClass("hidden");
                                    $("#msjErrorListarLstTicketBusqueda").addClass("hidden");
                                    $("#msjSuperaLimiteLstTicketBusqueda").removeClass("hidden");

                                    $("#btnBusquedaTicket").prop('disabled', false);
                                    $("#BtnExportarExcelTicketBusqueda").prop('disabled', true);
                                }
                                else {
                                    /* proceso fallido catch listado datos*/
                                    $("#LstTicketBusqueda").addClass("hidden");
                                    $("#imgCargaLstTicketBusqueda").addClass("hidden");
                                    $("#msjErrorLstTicketBusqueda").addClass("hidden");
                                    $("#msjVacioLstTicketBusqueda").addClass("hidden");
                                    $("#msjErrorListarLstTicketBusqueda").removeClass("hidden");
                                    $("#msjSuperaLimiteLstTicketBusqueda").addClass("hidden");

                                    $("#btnBusquedaTicket").prop('disabled', true);
                                    $("#BtnExportarExcelTicketBusqueda").prop('disabled', true);
                                    console.log(resultado);
                                }

                            } else {
                                $("#LstTicketBusqueda").addClass("hidden");
                                $("#imgCargaLstTicketBusqueda").addClass("hidden");
                                $("#msjErrorLstTicketBusqueda").addClass("hidden");
                                $("#msjVacioLstTicketBusqueda").removeClass("hidden");
                                $("#msjErrorListarLstTicketBusqueda").addClass("hidden");
                                $("#msjSuperaLimiteLstTicketBusqueda").addClass("hidden");

                                $("#btnBusquedaTicket").prop('disabled', false);
                                $("#BtnExportarExcelTicketBusqueda").prop('disabled', true);
                            }

                            options.success(resultado);
                            var grid = $("#LstTicketBusqueda").data("kendoGrid");
                            if (grid.dataSource.total() > 0) {
                                grid.setDataSource(dataSource);
                            }



                        },
                        error: function (xhr, ajaxOptions, thrownError) {
                            /*fallo al llamar a la funcion ajax*/
                            $("#LstTicketBusqueda").addClass("hidden");
                            $("#imgCargaLstTicketBusqueda").addClass("hidden");
                            $("#msjErrorLstTicketBusqueda").removeClass("hidden");
                            $("#msjVacioLstTicketBusqueda").addClass("hidden");
                            $("#msjErrorListarLstTicketBusqueda").addClass("hidden");
                            $("#msjSuperaLimiteLstTicketBusqueda").addClass("hidden");

                            $("#btnBusquedaTicket").prop('disabled', true);
                            $("#BtnExportarExcelTicketBusqueda").prop('disabled', true);
                            console.log("ERROR AJAX : " + ajaxOptions);
                            console.log("ERROR AJAX : " + thrownError);
                            console.log(xhr.responseText);
                            console.log(xhr);

                        }
                    });
                },
                parameterMap: function (data, operation) {
                    if (operation !== "read" && data.models) {
                        return JSON.stringify({ JSONparam: data.models });
                    }
                }
            },
            error: function (e) {
                alert("Status: " + e.status + "; Error message: " + e.errorThrown);
            },
            batch: false,
            pageSize: 10,
            schema: {
                model: {
                    fields: {
                        IdTicket: { type: "number" },
                        NroTicket: { type: "string" },
                        StartDate: { type: "string" },
                        UsuarioNameTicket: { type: "string" },
                        ResponsibleNameTicket: { type: "string" },
                        FullNameTicket: { type: "string" },
                        OperationName: { type: "string" },
                        ReasonName: { type: "string" },
                        LocationNameTicket: { type: "string" },
                        CriticalityName: { type: "string" },
                        TitleDetalle: { type: "string" },
                        DetalleText: { type: "string" },
                        ResponsibleId: { type: "number" },
                        MigrationStatus: { type: "string" },
                        StatusTicket: { type: "string" },
                        CategoryTicketStatus: { type: "string" },
                        ProblemTicket: { type: "string" },
                        SolutionTicket: { type: "string" },
                        TicketTypeStatus: { type: "string" },
                        ValidationUserOpId: { type: "string" },
                        DateValidationUserOp: { type: "string" },
                        StartHour: { type: "string" },
                        WhoCallId: { type: "number" },
                        StartDatetime: { type: "string" },
                        OperandDateTime: { type: "string" },
                        EndDatetime: { type: "string" },
                        ComponentIds: { type: "string" },
                    }
                }
            },
            //aggregate: [
            //    {
            //        field: "TicketNumber",
            //        aggregate: "count"
            //    },
            //    {
            //        field: "FuelQuantity",
            //        aggregate: "sum"
            //    }
            //]
        });

        $("#LstTicketBusqueda").kendoGrid({
            dataSource: dataSource,
            sortable: true,
            pageable: true,
            columnMenu: true,
            columnMenu: {
                sortable: true,
                filterable: true,
                columns: true,
                messages: {
                    columns: KendoMsjColumnMenuColumns,
                    filter: KendoMsjColumnMenuFilter,
                    sortAscending: KendoMsjColumnMenuSortAscending,
                    sortDescending: KendoMsjColumnMenuSortDescending,
                    settings: KendoMsjSettings
                }
            },
            columnMenuInit: function (e) {
                var menu = e.container.find(".k-menu").data("kendoMenu");
                menu.bind("select", function (e) {
                    var EtiquetaInput = $(".k-animation-container > .k-menu-group > .k-item > .k-content > .k-filter-menu > .k-textbox :input");
                    EtiquetaInput.focus();
                });
            },
            groupable: false,
            reorderable: true,
            selectable: "row",
            scrollable: {
                virtual: false, // Deshabilita las columnas virtuales
                alwaysVisible: true // Muestra siempre el scrollbar
            },
            resizable: true,
            filterable: {
                multi: true,
                checkAll: true,
                search: true,
                messages: {
                    clear: KendoMsjClear,
                    filter: KendoMsjFilter,
                    selectedItemsFormat: KendoMsjSelectedItemsFormat,
                    checkAll: KendoMsjCheckAll,
                    search: KendoMsjSearch
                }
            },
            //groupable: {
            //    info: true,
            //    messages: {
            //        empty: "<b style='font-style:italic';>Arrastre una cabecera aquí para agrupar su información por esa columna</b>"
            //    }
            //},
            pageable: {
                messages: {
                    empty: KendoMsjEmpty,
                    page: kendoMsjPage,
                    of: KendoMsjOf,
                    itemsPerPage: KendoMsjItemsPerPage,
                    first: KendoMsjFirst,
                    last: KendoMsjLast,
                    next: KendoMsjNext,
                    previous: KendoMsjPrevious,
                    refresh: KendoMsjRefresh,
                    morePages: KendoMsjMorePages,
                    display: KendoMsjDisplay
                },
                refresh: false,
                pageSizes: true,
                pageSizes: [5, 10, 15],
                /*para la cantidad de paginas se sugieren 5*/
                buttonCount: 5,
                /*Posicion de la pagina*/
                pageSize: 5
            },
            excel: { fileName: "Listado de Ticket.xlsx", filterable: true, allPages: true },
            columns: [
                {
                    width: 70,
                    command: {
                        template:
                            "<button class='btn-grid btn-xs BtnVerInfo' type='button' title='Ver datos'><i class='fa fa-lg fa-fw fas fa-eye'></i></button>"
                        //+ " " + "<button class='btn-grid btn-xs BtnAnular' type='button' title='Ver datos'><i class='fa fa-lg fa-fw fas fa-ban'></i></button>"
                    },
                    attributes: { "class": "text-center" },
                    title: ""
                },
                { field: "StatusTicket", title: "Estado Ticket", width: 110, attributes: { "class": "text-center" } }, //hidden: true,
                { field: "NroTicket", title: "Nro. Ticket", width: 140, attributes: { "class": "text-center" } }, //hidden: true,
                { field: "StartDateTime", title: "Fecha Registro", width: 140, attributes: { "class": "text-center" } }, 
                { field: "OperandDateTime", title: "Fecha Operando", width: 140, attributes: { "class": "text-center" } },
                { field: "EndDateTime", title: "Fecha Cierre", width: 140, attributes: { "class": "text-center" } },
                /*{ field: "StartHour", title: "Hora Registro", width: 140, attributes: { "class": "text-center" } },*/
                { field: "TitleDetalle", title: "Titulo Ticket", width: 160, attributes: { "class": "text-center" } },
                /*  { field: "DetalleText", title: "Detalle Ticket", hidden: true,width: 150, attributes: { "class": "text-center" } },*/
                { field: "OperationName", title: "Operacion", width: 120, attributes: { "class": "text-center" } },
                { field: "FullNameTicket", title: "Quien Llama", width: 150, attributes: { "class": "text-center" } },
                { field: "UsuarioNameTicket", title: "Quien Registra", hidden: true, width: 150, attributes: { "class": "text-center" } },
                { field: "ResponsibleNameTicket", title: "Responsable", width: 150, attributes: { "class": "text-center" } },
                { field: "ReasonName", title: "Razón", width: 120, attributes: { "class": "text-center" } },
                { field: "CriticalityName", title: "Criticidad", width: 100, attributes: { "class": "text-center" } },
                { field: "LocationNameTicket", title: "Locación", width: 120, hidden: true, attributes: { "class": "text-center" } },
                { field: "CategoryTicketStatus", title: "Tipo Evento", width: 120, attributes: { "class": "text-center" } },
                { field: "TicketTypeStatus", title: "Tipo Creacion",  width: 120, attributes: { "class": "text-center" } },
                { field: "DateValidationUserOp", title: "Fecha Validacion Operaciones", hidden: true, width: 120, attributes: { "class": "text-center" } },
            ],
            dataBound: function () {

                var Grilla = this;

                //Grilla.tbody.find("tr[role='row']").each(function () {
                //    var model = Grilla.dataItem(this);
                //    //var estadoOrden = model.bE_Purchase_Order.PurchaseOrderStatus;

                //    //if (estadoOrden == 'Z') {
                //    //    $(this).find("td > button.BtnRegistrar").remove();
                //    //}

                //    //if (model.BillingCompleted == 'Z') {
                //    //    $(this).find("td > button.BtnRegistrar").remove();
                //    //}
                //});


                for (i = 0; i < Grilla.dataSource._view.length; i++) {
                    var estadoActual = Grilla.tbody.children()[i].children[1].textContent;
                    if (estadoActual == 'PENDIENTE') {
                        $($("#LstTicketBusqueda").data("kendoGrid").tbody.children()[i]).addClass('colorAmarillo');
                    }
                    else if (estadoActual == 'COMPLETADO') {
                        $($("#LstTicketBusqueda").data("kendoGrid").tbody.children()[i]).addClass('colorVerde');
                    }
                }

                //    for (i = 0; i < $("#LstCotizacion").data("kendoGrid").dataSource._view.length; i++) {
                //        var diasRestantes = $("#LstCotizacion").data("kendoGrid").tbody.children()[i].children[2].textContent;

                //        if (diasRestantes < 11) {
                //            $($("#LstCotizacion").data("kendoGrid").tbody.children()[i]).addClass('colorRojo');
                //        }
                //        else if (diasRestantes > 10 && diasRestantes < 21) {
                //            $($("#LstCotizacion").data("kendoGrid").tbody.children()[i]).addClass('colorAmarillo');
                //        }
                //        else if (diasRestantes > 20) {
                //          $($("#LstCotizacion").data("kendoGrid").tbody.children()[i]).addClass('colorAmarillo');
                //        }
                //        else {
                //            $($("#LstCotizacion").data("kendoGrid").tbody.children()[i]).addClass('colorRojo');
                //        }
                //    }

                //    var Grilla = this;
                //    Grilla.tbody.find("tr[role='row']").each(function () {
                //        var model = Grilla.dataItem(this);
                //        if (model.QuotationStatus != "C") {
                //            $(this).find("td > button.BtnVerInfo").remove();
                //        }

                //    });

            }
        });


     }

    function RellenarDatos(ArrayValor) {

        var UserLogIn = "@User.Identity.Name.ToUpper().ToString()";
         UserLogIn = UserLogIn.split(',')[0];

         var UserProfile = "@User.Identity.Name.ToUpper().ToString()";
         UserProfile = UserProfile.split(',')[2];

         var usuarioTicketName = "@User.Identity.Name.ToUpper().ToString()";
        usuarioTicketName = usuarioTicketName.split(',')[4];

        IdTicketLst = ArrayValor[0].IdTicket;

        NroTicket = 0;
        FechaRegistroTicket = "";
        CallTicket = "";
        RegisterTicket = "";
        ResponsibleTicket = "";
        OperacionTicket = "";
        RazonTicket = "";
        LocationTicket = "";
        CriticidadTicket = "";
        DetalleTicket = "";

        NroTicketActivity = ArrayValor[0].NroTicket;
        NroTicket = ArrayValor[0].NroTicket;
        FechaRegistroTicket = ArrayValor[0].StartDate;
        CallTicket = ArrayValor[0].FullNameTicket;
        RegisterTicket = ArrayValor[0].UsuarioNameTicket;
        ResponsibleTicket = ArrayValor[0].ResponsibleNameTicket;
        OperacionTicketInform = ArrayValor[0].OperationName;
        OperacionTicket = ArrayValor[0].OperationName;
        RazonTicket = ArrayValor[0].ReasonName;
        LocationTicket = ArrayValor[0].LocationNameTicket;
        CriticidadTicket = ArrayValor[0].CriticalityName;
        DetalleTicket = ArrayValor[0].DetalleText;
        TitleTicketGlobal = ArrayValor[0].TitleDetalle;

        $("#TitleDetalleTicketMovil").val("");
        $("#lblDetallerTicket").val("");
        $("#selectorTicketLocationComplete").selectpicker('val', "");
        $("#selectorTicketLocationComplete").selectpicker('refresh');

        UserResponsibleId = ArrayValor[0].ResponsibleId;

        TitleProblemGlobal = ArrayValor[0].ProblemTicket;
        TitleSolucionGlobal = ArrayValor[0].SolutionTicket;

        var lblOperacion;
        lblOperacion = document.getElementById("lblOperationTicket");
        lblOperacion.innerHTML = OperacionTicket;

        var lblQuienLlama;
        lblQuienLlama = document.getElementById("lblWhoCallTicket");
        lblQuienLlama.innerHTML = CallTicket;

        var lblQuienRegistra;
        lblQuienRegistra = document.getElementById("lblWhoRegisterTicket");
        lblQuienRegistra.innerHTML = RegisterTicket;

        var lblResponsable;
        lblResponsable = document.getElementById("lblResponsibleTicket");
        lblResponsable.innerHTML = ResponsibleTicket;

        var lblRason;
        lblRason = document.getElementById("lblReasonTicket");
        lblRason.innerHTML = RazonTicket;

        var lblCriticidad;
        lblCriticidad = document.getElementById("lblCritiziedTicket");
        lblCriticidad.innerHTML = CriticidadTicket;

        var lblLocacion;
        lblLocacion = document.getElementById("lblLocationTicket");
        lblLocacion.innerHTML = LocationTicket;

        var lblFechaFin;
        lblFechaFin = document.getElementById("lblEndDateTicket");
        lblFechaFin.innerHTML = FechaRegistroTicket;

        var lblTitleTicket;
        lblTitleTicket = document.getElementById("lblTitleTicket");
        lblTitleTicket.innerHTML = ArrayValor[0].TitleDetalle;

        var lblTitleTicketMovil;
        var lbltituloMovil = "";

        lblTitleTicketMovil = document.getElementById("TitleDetalleTicketMovil");
        lbltituloMovil = ArrayValor[0].TitleDetalle;
        lblTitleTicketMovil.innerHTML = lbltituloMovil;

        var lblDescripcion;
        lblDescripcion = document.getElementById("lblDetallerTicket");
        lblDescripcion.innerHTML = DetalleTicket;

        let FechaInicioModificado = document.querySelector("#lblFechaInicioAlertas");
        FechaInicioModificado.innerHTML = "";
        FechaInicioModificado.innerHTML = FechaRegistroTicket;

        var titulo;
        titulo = document.getElementById("lblModelTicketEditAlertas");

        var lblOperacionInforme;
        lblOperacionInforme = document.getElementById("lblOperacionFormatoTicket");
        lblOperacionInforme.innerHTML = OperacionTicket;

        var lblUsuarioTicket;
        lblUsuarioTicket = document.getElementById("lblDeQuienFormatoTicket");
        lblUsuarioTicket.innerHTML = usuarioTicketName;

        if (ArrayValor[0].MigrationStatus == 'C') {

            titulo.innerHTML = NroTicket + " - " + "<span style='color:green'>COMPLETADO</span>";

        } else if (ArrayValor[0].MigrationStatus == 'O') {

            titulo.innerHTML = NroTicket + " - " + "<span style='color:blue'>OPERANDO</span>";

        } else {

            titulo.innerHTML = NroTicket + " - " + "<span style='color:#dada27f7'>PENDIENTE</span>";

        }

        if (ArrayValor[0].TicketTypeStatus == 'MOVIL') {

            /*$("#btnProblemSolution").removeClass("hidden");*/

            FilterPlatMov = 'M';

            if (ArrayValor[0].ValidationUserOpId == '0') {

                $("#btnValidateTicket").prop('disabled', false);
                $("#chkValidationOperation").prop('disabled', false);
                $("#chkValidationOperation").prop('checked', false).change();


            }
            else {

                $("#btnValidateTicket").prop('disabled', true);
                $("#chkValidationOperation").prop('checked', true).change();
                $("#chkValidationOperation").prop('disabled', true);

            }

            if (ArrayValor[0].MigrationStatus == 'C') {

                /*$(".btnEditDetailTicket").addClass("hidden");*/
                $("#btnEditDetailTicketID").prop('disabled', true);
                $("#btnCerrarTicket").prop('disabled', true);
                $("#btnProcesandoTicket").removeClass("hidden");
                $("#btnProcesandoTicket").prop('disabled', true);
                $("#btnSubirInformeTicket").prop('disabled', true);
                $("#btnAgregarActivity").prop('disabled', true);
                $(".ContainerRegisterMovil").addClass("hidden");
                $("#btnSaveVitacora").prop('disabled', true);
                $("#btnSubirFormatoTicket2").prop('disabled', true);
                /* $("#btnSaveRegisterMovil").prop('disabled', true);*/
                $("#btnEnviarProblemSolution").prop('disabled', true);

                ButtonsGridActivity = "<button class='btn-grid btn-xs BtnVerInfo' type='button' title='Ver datos'><i class='fa fa-lg fa-fw fas fa-eye'></i></button>";

                $(".ContainerTitlelbl").removeClass("hidden");
                $(".ContainerTitleComplete").addClass("hidden");

                $(".ContainerLocationlbl").removeClass("hidden");
                $(".ContainerLocationComplete").addClass("hidden");

                /*$(".ContainerBtnEditTicketDetails").addClass("hidden");*/

                /*$("#txtProblemticket").prop('disabled', true);*/
                /*$("#txtSolutionticket").prop('disabled', true);*/

                let IdsComponentes = ArrayValor[0].ComponentIds;

                IdsComponentes = IdsComponentes.split(', ');

                $("#selectorComponente").val(IdsComponentes);
                $("#selectorComponente").prop('disabled', true);
                $("#selectorComponente").selectpicker('refresh');

                $("#txtProblemticket").prop('disabled', true);
                $("#txtSolutionticket").prop('disabled', true);
                $("#btnEnviarProblemSolution").prop('disabled', true);


                document.getElementById("txtProblemticket").value = ArrayValor[0].ProblemTicket;
                document.getElementById("txtSolutionticket").value = ArrayValor[0].SolutionTicket;

                $("#lblDetallerTicket").prop('disabled', true);

                /*$("#txtProblemticket").prop('disabled', true);*/
                /*$("#txtSolutionticket").prop('disabled', true);*/

                document.getElementById("lblDetallerTicket").value = "";
                //document.getElementById("txtProblemticket").value = "";
                //document.getElementById("txtSolutionticket").value = "";

                document.getElementById("lblDetallerTicket").value = ArrayValor[0].DetalleText;
                //document.getElementById("txtProblemticket").value = ArrayValor[0].ProblemTicket;
                //document.getElementById("txtSolutionticket").value = ArrayValor[0].SolutionTicket;

                $(".ContainerRegisterMovil").addClass("hidden");

                ButtonsGridFileTicket = "<button class='btn-grid btn-xs BtnDescargarTicket' type='button' title='Ver datos'><i class='fa fa-lg fa-fw fas fa-cloud-download'></i></button>";

            }
            else {

                $("#btnSaveVitacora").prop('disabled', false);

                if (ArrayValor[0].ComponentIds != '0') {

                    let IdsComponentes = ArrayValor[0].ComponentIds;

                    IdsComponentes = IdsComponentes.split(', ');

                    $("#selectorComponente").val(IdsComponentes);
                    $("#selectorComponente").prop('disabled', true);
                    $("#selectorComponente").selectpicker('refresh');

                    $("#txtProblemticket").prop('disabled', true);
                    $("#txtSolutionticket").prop('disabled', true);
                    $("#btnEnviarProblemSolution").prop('disabled', true);

                    document.getElementById("txtProblemticket").value = ArrayValor[0].ProblemTicket;
                    document.getElementById("txtSolutionticket").value = ArrayValor[0].SolutionTicket;

                }
                else {

                    $("#selectorComponente").val('');
                    $("#selectorComponente").prop('disabled', false);
                    $("#selectorComponente").selectpicker('refresh');

                    $("#txtProblemticket").prop('disabled', false);
                    $("#txtSolutionticket").prop('disabled', false);
                    $("#btnEnviarProblemSolution").prop('disabled', false);

                    document.getElementById("txtProblemticket").value = "";
                    document.getElementById("txtSolutionticket").value = "";

                }

                if (UserLogIn == 1 || UserProfile == 10 || UserLogIn == ArrayValor[0].WhoCallId) {

                    $("#btnCerrarTicket").prop('disabled', false);
                    $("#btnProcesandoTicket").removeClass("hidden");
                    /* $(".btnEditDetailTicket").removeClass("hidden");*/
                    /* $("#btnEditDetailTicketID").prop('disabled', false);*/

                    if (ArrayValor[0].MigrationStatus == 'O') {
                        $("#btnProcesandoTicket").prop('disabled', true);
                    } else {
                        $("#btnProcesandoTicket").prop('disabled', false);
                    }

                    $("#btnSubirFormatoTicket2").prop('disabled', false);

                    $("#btnSubirInformeTicket").prop('disabled', false);

                    $("#btnAgregarActivity").prop('disabled', false);



                    if (ArrayValor[0].TitleDetalle == "" && ArrayValor[0].LocationNameTicket == undefined) {

                        $(".ContainerTitleComplete").removeClass("hidden");
                        $(".ContainerTitlelbl").addClass("hidden");

                        //$("#lblDetallerTicket").val("");
                        //$("#TitleDetalleTicketMovil").val("");

                        $("#lblDetallerTicket").prop('disabled', false);

                        $(".ContainerLocationComplete").removeClass("hidden");
                        $(".ContainerLocationlbl").addClass("hidden");
                        $("#btnEditDetailTicketID").prop('disabled', false);
                        /*$(".btnEditDetailTicket").removeClass("hidden");*/
                    }
                    else {

                        $(".ContainerTitleComplete").addClass("hidden");
                        $(".ContainerTitlelbl").removeClass("hidden");
                        $("#btnEditDetailTicketID").prop('disabled', true);
                        /*  $("#lblDetallerTicket").prop('disabled', true);*/
                        /*   $(".btnEditDetailTicket").addClass("hidden");*/
                        $(".ContainerLocationComplete").addClass("hidden");
                        $(".ContainerLocationlbl").removeClass("hidden");
                    }

                    if (ArrayValor[0].DetalleText != "") {

                        $("#lblDetallerTicket").prop('disabled', false);
                        $("#lblDetallerTicket").val(DetalleTicket);
                        $("#lblDetallerTicket").prop('disabled', true);

                    } else {
                        $("#lblDetallerTicket").prop('disabled', false);
                        $("#btnEditDetailTicketID").prop('disabled', false);
                    }

                    ButtonsGridFileTicket = "<button class='btn-grid btn-xs BtnEditTicket' type='button' title='Ver datos'><i class='fa fa-lg fa-fw fas fa-edit'></i></button>" + " " +
                        "<button class='btn-grid btn-xs BtnDescargarTicket' type='button' title='Ver datos'><i class='fa fa-lg fa-fw fas fa-cloud-download'></i></button>"
                        + " " + "<button class='btn-grid btn-xs BtnDeleteTicket' type='button' title='Ver datos'><i class='fa fa-trash-o fa-lg'></i></button>";

                    ButtonsGridActivity = "<button class='btn-grid btn-xs BtnVerInfo' type='button' title='Ver datos'><i class='fa fa-lg fa-fw fas fa-eye'></i></button>" + " " +
                        "<button class='btn-grid btn-xs BtnEdit' type='button' title='Editar'><i class='fa fa-lg fa-fw fas fa-edit'></i></button>";

                }
                else {
                    /*          $(".btnEditDetailTicket").addClass("hidden");*/

                    $(".ContainerTitlelbl").removeClass("hidden");
                    $(".ContainerTitleComplete").addClass("hidden");

                    $(".ContainerLocationlbl").removeClass("hidden");
                    $(".ContainerLocationComplete").addClass("hidden");

                    $("#btnCerrarTicket").prop('disabled', true);
                    $("btnEditDetailTicketID").prop('disabled', true);

                    $("#btnSubirFormatoTicket2").prop('disabled', true);
                    $("#btnSubirInformeTicket").prop('disabled', true);
                    $("#btnAgregarActivity").prop('disabled', true);

                    /*$("#txtProblemticket").prop('disabled', true);*/
                    /*$("#txtSolutionticket").prop('disabled', true);*/

                    $("#btnValidateTicket").prop('disabled', true);

                    $("#chkValidationOperation").prop('disabled', true);
                    $("#btnProcesandoTicket").prop('disabled', true);

                    ButtonsGridFileTicket = "<button class='btn-grid btn-xs BtnDescargarTicket' type='button' title='Ver datos'><i class='fa fa-lg fa-fw fas fa-cloud-download'></i></button>";

                    ButtonsGridActivity = "<button class='btn-grid btn-xs BtnVerInfo' type='button' title='Ver datos'><i class='fa fa-lg fa-fw fas fa-eye'></i></button>";

                }

                ValidarStatusActividades();

            }

        }
        else if (ArrayValor[0].TicketTypeStatus == 'PLATAFORMA') {

            /*  $(".btnEditDetailTicket").addClass("hidden");*/
            $("#btnEditDetailTicketID").prop('disabled', true);
            $(".ContainerTitlelbl").removeClass("hidden");
            $(".ContainerTitleComplete").addClass("hidden");

            $(".ContainerLocationlbl").removeClass("hidden");
            $(".ContainerLocationComplete").addClass("hidden")

            $("#lblDetallerTicket").prop('disabled', true);

            /* $(".ContainerBtnEditTicketDetails").addClass("hidden");*/

            /* $("#btnProblemSolution").addClass("hidden");*/

            $(".Container3WS").removeClass("hidden");

            FilterPlatMov = 'P';

            if (ArrayValor[0].MigrationStatus == 'O') {
                $("#btnProcesandoTicket").prop('disabled', true);
            }
            else {
                $("#btnProcesandoTicket").prop('disabled', false);
            }

            if (ArrayValor[0].ValidationUserOpId == '0') {

                $("#btnValidateTicket").prop('disabled', false);
                $("#chkValidationOperation").prop('disabled', false);
                $("#chkValidationOperation").prop('checked', false).change();


            }
            else {

                $("#btnValidateTicket").prop('disabled', true);
                $("#chkValidationOperation").prop('checked', true).change();
                $("#chkValidationOperation").prop('disabled', true);

            }

            if (ArrayValor[0].DetalleText != "") {

                $("#lblDetallerTicket").prop('disabled', false);
                $("#lblDetallerTicket").val(DetalleTicket);
                $("#lblDetallerTicket").prop('disabled', true);

            }

            if (ArrayValor[0].MigrationStatus == 'C') {

                $("#btnCerrarTicket").prop('disabled', true);
                $("#btnSubirFormatoTicket2").prop('disabled', true);
                $("#btnSaveVitacora").prop('disabled', true);
                $("#btnAgregarActivity").prop('disabled', true);
                $("#btnSubirInformeTicket").prop('disabled', true);
                $("#txtVitacoraTextSend").prop('disabled', true);
                $("#btnProcesandoTicket").prop('disabled', true);
                $("#chkValidationOperation").prop('disabled', true);
                $("#btnValidateTicket").prop('disabled', true);

                ButtonsGridActivity = "<button class='btn-grid btn-xs BtnVerInfo' type='button' title='Ver datos'><i class='fa fa-lg fa-fw fas fa-eye'></i></button>";
                ButtonsGridFileTicket = "<button class='btn-grid btn-xs BtnDescargarTicket' type='button' title='Ver datos'><i class='fa fa-lg fa-fw fas fa-cloud-download'></i></button>";

                let IdsComponentes = ArrayValor[0].ComponentIds;

                IdsComponentes = IdsComponentes.split(', ');

                $("#selectorComponente").val(IdsComponentes);
                $("#selectorComponente").prop('disabled', true);
                $("#selectorComponente").selectpicker('refresh');

                $("#txtProblemticket").prop('disabled', true);
                $("#txtSolutionticket").prop('disabled', true);
                $("#btnEnviarProblemSolution").prop('disabled', true);


                document.getElementById("txtProblemticket").value = ArrayValor[0].ProblemTicket;
                document.getElementById("txtSolutionticket").value = ArrayValor[0].SolutionTicket;

            } else {

                if (ArrayValor[0].ComponentIds != '0') {

                    let IdsComponentes = ArrayValor[0].ComponentIds;

                    IdsComponentes = IdsComponentes.split(', ');

                    $("#selectorComponente").val(IdsComponentes);
                    $("#selectorComponente").prop('disabled', true);
                    $("#selectorComponente").selectpicker('refresh');

                    $("#txtProblemticket").prop('disabled', true);
                    $("#txtSolutionticket").prop('disabled', true);
                    $("#btnEnviarProblemSolution").prop('disabled', true);

                    document.getElementById("txtProblemticket").value = ArrayValor[0].ProblemTicket;
                    document.getElementById("txtSolutionticket").value = ArrayValor[0].SolutionTicket;

                } else {

                    $("#selectorComponente").val('');
                    $("#selectorComponente").prop('disabled', false);
                    $("#selectorComponente").selectpicker('refresh');


                    $("#txtProblemticket").prop('disabled', false);
                    $("#txtSolutionticket").prop('disabled', false);
                    $("#btnEnviarProblemSolution").prop('disabled', false);

                    document.getElementById("txtProblemticket").value = "";
                    document.getElementById("txtSolutionticket").value = "";

                }

                if (UserLogIn == 1 || UserProfile == 10 || UserLogIn == ArrayValor[0].WhoCallId) {

                    $("#btnSubirInformeTicket").prop('disabled', false);
                    $("#btnSubirFormatoTicket2").prop('disabled', false);
                    $("#btnSaveVitacora").prop('disabled', false);
                    $("#btnAgregarActivity").prop('disabled', false);
                    $("#txtVitacoraTextSend").prop('disabled', false);

                    ButtonsGridActivity = "<button class='btn-grid btn-xs BtnVerInfo' type='button' title='Ver datos'><i class='fa fa-lg fa-fw fas fa-eye'></i></button>" + " " +
                        "<button class='btn-grid btn-xs BtnEdit' type='button' title='Editar'><i class='fa fa-lg fa-fw fas fa-edit'></i></button>";

                    ButtonsGridFileTicket = "<button class='btn-grid btn-xs BtnEditTicket' type='button' title='Ver datos'><i class='fa fa-lg fa-fw fas fa-edit'></i></button>" + " " +
                        "<button class='btn-grid btn-xs BtnDescargarTicket' type='button' title='Ver datos'><i class='fa fa-lg fa-fw fas fa-cloud-download'></i></button>"
                        + " " + "<button class='btn-grid btn-xs BtnDeleteTicket' type='button' title='Ver datos'><i class='fa fa-trash-o fa-lg'></i></button>";

                } else {

                    $("#btnCerrarTicket").prop('disabled', true);
                    $("#btnSubirFormatoTicket2").prop('disabled', true);
                    $("#btnSaveVitacora").prop('disabled', false);
                    $("#btnAgregarActivity").prop('disabled', true);
                    $("#btnSubirInformeTicket").prop('disabled', true);
                    $("#txtVitacoraTextSend").prop('disabled', false);
                    $("#chkValidationOperation").prop('disabled', true);
                    $("#btnValidateTicket").prop('disabled', true);

                    ButtonsGridActivity = "<button class='btn-grid btn-xs BtnVerInfo' type='button' title='Ver datos'><i class='fa fa-lg fa-fw fas fa-eye'></i></button>";
                    ButtonsGridFileTicket = "<button class='btn-grid btn-xs BtnDescargarTicket' type='button' title='Ver datos'><i class='fa fa-lg fa-fw fas fa-cloud-download'></i></button>";
                }

                ValidarStatusActividades();

            }

            @*if (UserRegister2 == UserResponsibleId || UserRegister == 10) {

                if (ArrayValor[0].MigrationStatus == 'C') {

                    $("#btnCerrarTicket").prop('disabled', true);
                    $("#btnSubirFormatoTicket2").prop('disabled', true);
                    $("#btnSaveVitacora").prop('disabled', true);
                    $("#btnAgregarActivity").prop('disabled', true);
                    $("#btnSubirInformeTicket").prop('disabled', true);

                    ButtonsGridActivity = "<button class='btn-grid btn-xs BtnVerInfo' type='button' title='Ver datos'><i class='fa fa-lg fa-fw fas fa-eye'></i></button>";

                }
                else {

                    $("#btnSubirInformeTicket").prop('disabled', false);
                    $("#btnSubirFormatoTicket2").prop('disabled', false);
                    $("#btnSaveVitacora").prop('disabled', false);
                    $("#btnAgregarActivity").prop('disabled', false);

                    ValidarStatusActividades();

                }

            }
            else {

                $("#btnCerrarTicket").prop('disabled', true);

                var UserRegister3 = "@User.Identity.Name.ToUpper().ToString()";
                UserRegister3 = UserRegister3.split(',')[2];

                if (ArrayValor[0].MigrationStatus == 'C') {

                    $("#btnCerrarTicket").prop('disabled', true);
                    $("#btnSubirFormatoTicket2").prop('disabled', true);
                    $("#btnSaveVitacora").prop('disabled', true);
                    $("#btnAgregarActivity").prop('disabled', true);
                    $("#btnSubirInformeTicket").prop('disabled', true);

                    if (UserRegister3 == 1 || UserRegister3 == 2 || UserRegister3 == 10) {

                        ButtonsGridActivity = "<button class='btn-grid btn-xs BtnVerInfo' type='button' title='Ver datos'><i class='fa fa-lg fa-fw fas fa-eye'></i></button>";

                    }
                    else {

                        ButtonsGridActivity = "<button class='btn-grid btn-xs BtnVerInfo' type='button' title='Ver datos'><i class='fa fa-lg fa-fw fas fa-eye'></i></button>";

                    }


                }
                else {

                    $("#btnCerrarTicket").prop('disabled', true);
                    $("#btnSubirFormatoTicket2").prop('disabled', false);
                    $("#btnSaveVitacora").prop('disabled', false);
                    $("#btnAgregarActivity").prop('disabled', false);
                    $("#btnSubirInformeTicket").prop('disabled', false);

                    if (UserRegister3 == 1 || UserRegister3 == 2 || UserRegister3 == 10) {

                        ButtonsGridActivity = "<button class='btn-grid btn-xs BtnVerInfo' type='button' title='Ver datos'><i class='fa fa-lg fa-fw fas fa-eye'></i></button>" + " " +
                            "<button class='btn-grid btn-xs BtnEdit' type='button' title='Editar'><i class='fa fa-lg fa-fw fas fa-edit'></i></button>";

                    } else {

                        ButtonsGridActivity = "<button class='btn-grid btn-xs BtnVerInfo' type='button' title='Ver datos'><i class='fa fa-lg fa-fw fas fa-eye'></i></button>";

                    }

                }

            }*@
         }

        ListadoDescripcionVitacora(NroTicketActivity);
        GrillaListadoActividadAlertas();
        GrillaListadoArchivoTicket();

        $('#ModalTicketEdit').modal('show');

    }

    function RegistrarActivityDetail() {

            $("#CargaTemporal").removeClass("hidden");

            var idsPathFileUpd = idsPathFileTicketDoc;
            var idsPathFileUpdate = idsPathFileUpd.toString();

            var rutasArchivosMover = [];

            for (i = 0; i < $("#GrillaArchivos").data("kendoGrid").dataSource.total(); i++) {
                rutasArchivosMover.push($("#GrillaArchivos").data("kendoGrid").dataSource._data[i].PathFile);
            }

            //if (idsPathFileAnexoAct.length > 0) {
            //    for (i = 0; i < $("#GrillaArchivos2").data("kendoGrid").dataSource.total(); i++) {
            //        rutasArchivosMover.push($("#GrillaArchivos2").data("kendoGrid").dataSource._data[i].PathFile);
            //    }
            //}

            $.ajax({
                type: "POST",
                url: tRutaServidor + "/ListActivity/RegistrarActivityDetail",
                dataType: "json",
                data: {
                    IdActivityDetail: idTicketDetail,
                    IdActivity: idActivity,
                    NroTicket: NumberTicket,
                    Comentario: $("#txtCommentaryActivity").val().trim(),
                    idsPathFileUpdate: idsPathFileUpdate,
                    RutasArchivosMover: rutasArchivosMover
                },
                success: function (resultado) {
                    if (resultado == 1) {
                        $("#flArchivoSubirAdjunto").filestyle('clear');
                        toastr.options.timeOut = nTiempoMedio;
                        toastr.options.extendedTimeOut = nTiempoMedio;
                        /*success - info - warning - error*/
                        if (idTicketDetail == 0) {
                            var $toast = toastr["success"](tMensajeCreadoExito, tTituloExito); $toastlast = $toast;
                        }
                        else {
                            var $toast = toastr["success"](tMensajeActualizadoExito, tTituloExito); $toastlast = $toast;
                        }

                        LimpiarEtiquetas();
                        //GrillaListadoActividadesDetalles();
                        /*$('#ModalCotizacion').modal('hide');`*/
                        document.getElementById('btnSaveActivity').disabled = false;

                    } else if (resultado == 2) {
                        toastr.options.timeOut = nTiempoMedio;
                        toastr.options.extendedTimeOut = nTiempoMedio;
                        /*success - info - warning - error*/
                        var $toast = toastr["error"](tValidacionNroCotizacionExiste, tTituloError); $toastlast = $toast;
                        document.getElementById('btnGrabar').disabled = false;

                    } else if (resultado == 3) {
                        toastr.options.timeOut = nTiempoMedio;
                        toastr.options.extendedTimeOut = nTiempoMedio;
                        /*success - info - warning - error*/
                        var $toast = toastr["error"](tMensajeErrorActualizarRutas, tTituloError); $toastlast = $toast;
                        document.getElementById('btnGrabar').disabled = false;
                    } else if (resultado == 4) {
                        toastr.options.timeOut = nTiempoMedio;
                        toastr.options.extendedTimeOut = nTiempoMedio;
                        /*success - info - warning - error*/
                        var $toast = toastr["warning"]("No hubo Conexión, no se pudo enviar correos", tTituloError); $toastlast = $toast;
                        console.log("Mensaje del error : " + "Error de conexión, No se ha podido enviar correos");
                        GrillaListado();
                        $('#ModalCotizacion').modal('hide');
                        document.getElementById('btnGrabar').disabled = false;
                    }
                    else {
                        toastr.options.timeOut = nTiempoMedio;
                        toastr.options.extendedTimeOut = nTiempoMedio;
                        /*success - info - warning - error*/
                        var $toast = toastr["error"](tMensajeErrorDesconocido, tTituloError); $toastlast = $toast;
                        console.log("Mensaje del error : " + resultado);
                    }
                    $("#CargaTemporal").addClass("hidden");

                },
                error: function (xhr, ajaxOptions, thrownError) {
                    /*fallo al llamar a la funcion ajax*/
                    toastr.options.timeOut = nTiempoLargo;
                    toastr.options.extendedTimeOut = nTiempoLargo;
                    /*success - info - warning - error*/
                    var $toast = toastr["error"](tMensajeErrorConexion, tTituloErrorConexion); $toastlast = $toast;
                    console.log("ERROR AJAX : " + ajaxOptions);
                    console.log("ERROR AJAX : " + thrownError);
                    console.log(xhr.responseText);
                    console.log(xhr);

                }
            });

        }

    function UpdateStateActivity() {

        //$("#CargaTemporal").removeClass("hidden");

        $.ajax({
            type: "POST",
            url: tRutaServidor + "/ListActivity/UpdateStateActivityDetail",
            dataType: "json",
            data: {
                ActivityId: idActivity,
                NroTicket: NumberTicket
            },
            success: function (resultado) {

                if (resultado == '1') {

                     toastr.options.timeOut = nTiempoMedio;
                     toastr.options.extendedTimeOut = nTiempoMedio;
                    /*success - info - warning - error*/
                    var $toast = toastr["success"](tMensajeActualizadoExito, tTituloExito); $toastlast = $toast;

                     $("#GrillaLstActivityAdd").addClass("hidden");
                     $("#imgCargaLstActivityAdd").removeClass("hidden");
                     $("#msjErrorLstActivityAdd").addClass("hidden");
                     $("#msjVacioLstActivityAdd").addClass("hidden");
                     $("#msjErrorListarLstActivityAdd").addClass("hidden");

                     $("#msjSuperaLimiteLstActivityAdd").addClass("hidden");
                     GrillaListadoActividad();
                     GrillaListadoAltaCACriticidadTicket();


                     $('#ModalActivityDetail').modal('hide');

                     //$("#CargaTemporal").addClass("hidden");
                     //ComboEncargado('1');
                     //$("#PanelActivityFather").removeClass("hidden");
                     //$('#ModalCrearTicket').modal('hide');

                } else if (resultado == '0') {
                    toastr.options.timeOut = nTiempoMedio;
                    toastr.options.extendedTimeOut = nTiempoMedio;
                    /*success - info - warning - error*/
                    var $toast = toastr["error"]("No se a podido registrar la actividad", tTituloError); $toastlast = $toast;
                    //document.getElementById('btnGrabar').disabled = false;

                } else if (resultado == '2') {
                    toastr.options.timeOut = nTiempoMedio;
                    toastr.options.extendedTimeOut = nTiempoMedio;
                    /*success - info - warning - error*/
                    var $toast = toastr["error"]("No se a podido registrar el Ticket", tTituloError); $toastlast = $toast;
                    document.getElementById('btnGrabar').disabled = false;

                } else if (resultado == '4') {
                    toastr.options.timeOut = nTiempoMedio;
                    toastr.options.extendedTimeOut = nTiempoMedio;
                    /*success - info - warning - error*/
                    var $toast = toastr["error"]("No se a podido enviar el correo al responsable", tTituloError); $toastlast = $toast;
                    document.getElementById('btnGrabar').disabled = false;
                } else {
                    toastr.options.timeOut = nTiempoMedio;
                    toastr.options.extendedTimeOut = nTiempoMedio;
                    /*success - info - warning - error*/
                    var $toast = toastr["error"](tMensajeErrorDesconocido, tTituloError); $toastlast = $toast;
                    console.log("Mensaje del error : " + resultado);
                }
                $("#CargaTemporal").addClass("hidden");

            },
            error: function (xhr, ajaxOptions, thrownError) {
                /*fallo al llamar a la funcion ajax*/
                toastr.options.timeOut = nTiempoLargo;
                toastr.options.extendedTimeOut = nTiempoLargo;
                /*success - info - warning - error*/
                var $toast = toastr["error"](tMensajeErrorConexion, tTituloErrorConexion); $toastlast = $toast;
                console.log("ERROR AJAX : " + ajaxOptions);
                console.log("ERROR AJAX : " + thrownError);
                console.log(xhr.responseText);
                console.log(xhr);

            }
        });

    };

    function EditarPercentage() {

            //$("#CargaTemporal").removeClass("hidden");

            $.ajax({
                type: "POST",
                url: tRutaServidor + "/Activity/EditPercentageActivity",
                dataType: "json",
                data: {
                    IdActivity: idActivity,
                    NumberPercentage: $('#txtPorcentajeIngresado').val(),
                },
                success: function (resultado) {

                    //if (resultado.length > 0) {

                    if (resultado != '0') {

                        if ($('#txtPorcentajeIngresado').val()  == "") {


                             document.getElementById("IdBarPercentage").style.width = resultado.trim() + "%";

                             var ValuePercentage;
                             ValuePercentage = document.getElementById("TxtValuePercentage");
                             ValuePercentage.innerHTML = resultado.trim() + "%";

                             document.getElementById("txtPorcentajeIngresado").value = "";

                             $("#GrillaLstActivityAddAlertas").addClass("hidden");
                             $("#imgCargaLstActivityAddAlertas").removeClass("hidden");
                             $("#msjErrorLstActivityAddAlertas").addClass("hidden");
                             $("#msjVacioLstActivityAddAlertas").addClass("hidden");
                             $("#msjErrorListarLstActivityAddAlertas").addClass("hidden");
                             $("#msjSuperaLimiteLstActivityAddAlertas").addClass("hidden");

                             //GrillaListadoActividadAlertas();
                             //GrillaListadoActividad();
                             if (ValorFiltroGid == '0') {

                                 $("#GrillaLstActivityAdd").data("kendoGrid").dataSource.read();

                             } else if (ValorFiltroGid == '1') {

                                 $("#GrillaLstActivityAddAlertas").data("kendoGrid").dataSource.read();

                             }

                        } else {

                             console.log(resultado);
                             toastr.options.timeOut = nTiempoMedio;
                             toastr.options.extendedTimeOut = nTiempoMedio;
                             /*success - info - warning - error*/
                             var $toast = toastr["success"](tMensajeEliminadoExito, tTituloExito); $toastlast = $toast;

                             $("#CargaTemporal").addClass("hidden");

                             document.getElementById("IdBarPercentage").style.width = resultado.trim() + "%";

                             var ValuePercentage;
                             ValuePercentage = document.getElementById("TxtValuePercentage");
                             ValuePercentage.innerHTML = resultado.trim() + "%";

                             document.getElementById("txtPorcentajeIngresado").value = "";

                             //GrillaListadoActividadAlertas();
                             //GrillaListadoActividad();
                             if (ValorFiltroGid == '0') {

                                 $("#GrillaLstActivityAdd").data("kendoGrid").dataSource.read();

                             } else if (ValorFiltroGid == '1') {

                                 $("#GrillaLstActivityAddAlertas").data("kendoGrid").dataSource.read();

                             }
                        }

                    } else {

                        document.getElementById("IdBarPercentage").style.width = "0%";

                        var ValuePercentage;
                        ValuePercentage = document.getElementById("TxtValuePercentage");
                        ValuePercentage.innerHTML = "0%";

                    }

                    $("#CargaTemporal").addClass("hidden");

                },
                error: function (xhr, ajaxOptions, thrownError) {
                    /*fallo al llamar a la funcion ajax*/
                    toastr.options.timeOut = nTiempoLargo;
                    toastr.options.extendedTimeOut = nTiempoLargo;
                    /*success - info - warning - error*/
                    var $toast = toastr["error"](tMensajeErrorConexion, tTituloErrorConexion); $toastlast = $toast;
                    console.log("ERROR AJAX : " + ajaxOptions);
                    console.log("ERROR AJAX : " + thrownError);
                    console.log(xhr.responseText);
                    console.log(xhr);

                }
            });


    };

    function LimpiarEtiquetasActivityInforme() {

         document.getElementById("txtTitleInforme").value = "";
         document.getElementById("txtAsuntoInforme").value = "";
         document.getElementById("txtAntecedentesActividad").value = "";
         document.getElementById("txtConclusionesActividad").value = "";
         document.getElementById("txtRecomendacionesActividad").value = "";
         document.getElementById("txtActivityDevelop").value = "";

         $("#txtParaQuienFormato").selectpicker('val', "");
         $("#txtParaQuienFormato").selectpicker('refresh');

         $("#txtFechaActividad").datepicker("setDate", FechaFinalReporte);


         //document.getElementById("txtActivityTicket").value = "";
         //document.getElementById("txtDetalleActivity").value = "";

         //$("#txtActivityDateEnd").datepicker("setDate", FechaFinalReporte);
    }

    function LimpiarEtiquetasTicketInform() {

        document.getElementById("txtTitleInformeTicket").value = "";
        document.getElementById("txtAsuntoInformeTicket").value = "";
        document.getElementById("txtAntecedentesActividadTicket").value = "";
        document.getElementById("txtConclusionesActividadTicket").value = "";
        document.getElementById("txtRecomendacionesActividadTicket").value = "";
        document.getElementById("txtActivityDevelopTicket").value = "";

        $("#txtParaQuienFormatoTicket").selectpicker('val', "");
        $("#txtParaQuienFormatoTicket").selectpicker('refresh');

        $("#txtFechaActividadTicket").datepicker("setDate", FechaFinalReporte);

    }

    function ListadoDescripcionVitacoraActivityDetail(IdActivityValor) {

            $.ajax({
                type: "GET",
                url: tRutaServidor + "/Activity/ListarDescriptionVitacoraActivityDetail", /* es importante poner los .. delante*/
                data: {
                    IdActivity: IdActivityValor,
                },
                dataType: "json",
                /*async: false,*/
                success: function (resultado) {
                    /*exitosamente*/

                    ValidarListadoVitacoraActividad = resultado.length;

                    if (resultado.length > 0) {
                        /* proceso exitoso con datos*/
                        if (resultado[0].ValorConsulta == "1") {

                            //document.getElementById("txtDetalleActivity").value = resultado[0].DescriptionBoard;

                            var ValorContenidoVitacora = "";

                            //var TxtDescriptionVitacora;
                            //TxtDescriptionVitacora = document.getElementById("txtDetalleActivity");
                            //TxtDescriptionVitacora.innerHTML = resultado;
                            for (i = 0; i < resultado.length; i++) {

                                ValorContenidoVitacora += "---- " + resultado[i].RegistrationDateString + " -- " + resultado[i].NameUser + " ----" + '\r\n' + resultado[i].DescriptionBoard + '\r\n' + '\r\n';
                            }

                            document.getElementById('txtDetalleActivityDetail').value = ValorContenidoVitacora;


                        } else if (resultado[0].ValorConsulta == "-1") {



                            //$("#btnBuscar").prop('disabled', false);
                            //$("#BtnExportarExcel").prop('disabled', true);
                        }
                        else {
                            /* proceso fallido catch listado datos*/


                            //$("#btnBuscar").prop('disabled', true);
                            //$("#BtnExportarExcel").prop('disabled', true);
                            console.log(resultado);
                        }

                    } else {

                        document.getElementById("txtDetalleActivityDetail").value = "";
                        //$("#btnBuscar").prop('disabled', false);
                        //$("#BtnExportarExcelActividades").prop('disabled', true);
                    }


                },
                error: function (xhr, ajaxOptions, thrownError) {
                    /*fallo al llamar a la funcion ajax*/
                    //$("#btnBuscar").prop('disabled', true);
                    //$("#BtnExportarExcel").prop('disabled', true);
                    console.log("ERROR AJAX : " + ajaxOptions);
                    console.log("ERROR AJAX : " + thrownError);
                    console.log(xhr.responseText);
                    console.log(xhr);

                }
            });
        }

    function RegistrarInformeActivityDetaller() {

            $("#CargaTemporal").removeClass("hidden");

            $.ajax({
                type: "POST",
                url: tRutaServidor + "/Activity/CrearReportActivityDetail",
                dataType: "json",
                data: {
                    IdActivityDetail : IdActivityDetail,
                    IdActivity: idActivity,
                    TitleReport: document.getElementById("txtTitleInforme").value,
                    ForWhoReport: $('#txtParaQuienFormato').val()[0],
                    ReportMatter: document.getElementById("txtAsuntoInforme").value,
                    OperationName: OperacionTicket,
                    StartDateReport: document.getElementById("txtFechaActividad").value,
                    ReportBackgroundActivity: document.getElementById("txtAntecedentesActividad").value,
                    ReportConclusionActivity: document.getElementById("txtConclusionesActividad").value,
                    ReportActivityDevelop: document.getElementById("txtActivityDevelop").value,
                    ReportRecommendationActivity: document.getElementById("txtRecomendacionesActividad").value,
                },
                success: function (resultado) {

                    if (resultado == "1") {

                        toastr.options.timeOut = nTiempoMedio;
                        toastr.options.extendedTimeOut = nTiempoMedio;
                        /*success - info - warning - error*/
                        var $toast = toastr["success"](tMensajeCreadoExito, tTituloExito); $toastlast = $toast;

                        //    LimpiarEtiquetas();
                        LimpiarEtiquetasActivityInforme();
                        ListadoDetalleActividadInforme();

                        $("#CargaTemporal").addClass("hidden");


                    } else if (resultado == "2") {

                        toastr.options.timeOut = nTiempoMedio;
                        toastr.options.extendedTimeOut = nTiempoMedio;
                        /*success - info - warning - error*/
                        var $toast = toastr["success"](tMensajeActualizadoExito, tTituloExito); $toastlast = $toast;

                        //    LimpiarEtiquetas();
                        LimpiarEtiquetasActivityInforme();
                        ListadoDetalleActividadInforme();

                        $("#btnSaveInforme").removeClass("hidden");
                        $("#btnEditarInforme").addClass("hidden");

                        $("#CargaTemporal").addClass("hidden");

                    }
                    else {
                        toastr.options.timeOut = nTiempoMedio;
                        toastr.options.extendedTimeOut = nTiempoMedio;
                        /*success - info - warning - error*/
                        var $toast = toastr["error"]("No se pudo registrar el informe creado", tTituloError); $toastlast = $toast;
                        console.log("Mensaje del error : " + resultado);
                    }

                    $("#CargaTemporal").addClass("hidden");

                },
                error: function (xhr, ajaxOptions, thrownError) {
                    /*fallo al llamar a la funcion ajax*/
                    toastr.options.timeOut = nTiempoLargo;
                    toastr.options.extendedTimeOut = nTiempoLargo;
                    /*success - info - warning - error*/
                    var $toast = toastr["error"](tMensajeErrorConexion, tTituloErrorConexion); $toastlast = $toast;
                    console.log("ERROR AJAX : " + ajaxOptions);
                    console.log("ERROR AJAX : " + thrownError);
                    console.log(xhr.responseText);
                    console.log(xhr);

                }
            });

        };

    function ActualizarRegistrarVitacoraActivityDetail() {

            $("#CargaTemporal").removeClass("hidden");

            $.ajax({
                type: "POST",
                url: tRutaServidor + "/Activity/ActualizarRegistrarVitacoraActivityDetail",
                dataType: "json",
                data: {
                    IdActivity: idActivity,
                    DescriptionBoard: $("#txtVitacoraTextSendActivityDetail").val(),
                },
                success: function (resultado) {

                    if (resultado.length > 0) {

                        if (resultado[0].ValorConsulta == "1") {

                            toastr.options.timeOut = nTiempoMedio;
                            toastr.options.extendedTimeOut = nTiempoMedio;
                            /*success - info - warning - error*/
                            var $toast = toastr["success"](tMensajeCreadoExito, tTituloExito); $toastlast = $toast;

                            var ValorContenidoVitacora = "";

                            //var TxtDescriptionVitacora;
                            //TxtDescriptionVitacora = document.getElementById("txtDetalleActivity");
                            //TxtDescriptionVitacora.innerHTML = resultado;
                            for (i = 0; i < resultado.length; i++) {

                                ValorContenidoVitacora += "---- " + resultado[i].RegistrationDateString + " ----" + '\r\n' + resultado[i].DescriptionBoard + '\r\n' + '\r\n';

                            }

                            document.getElementById('txtDetalleActivityDetail').value = ValorContenidoVitacora;
                            document.getElementById('txtVitacoraTextSendActivityDetail').value = "";
                            //document.getElementById('txtDetalleActivity').value = resultado;

                            //LimpiarEtiquetas();

                            $("#CargaTemporal").addClass("hidden");
                            //GrillaListadoActividad();

                        } else if (resultado == '2') {

                            toastr.options.timeOut = nTiempoMedio;
                            toastr.options.extendedTimeOut = nTiempoMedio;
                            /*success - info - warning - error*/
                            var $toast = toastr["success"]("Hubo un error al mostrar la Vitacora", tTituloExito); $toastlast = $toast;
                            return;
                        }

                    } else {
                        toastr.options.timeOut = nTiempoMedio;
                        toastr.options.extendedTimeOut = nTiempoMedio;
                        /*success - info - warning - error*/
                        var $toast = toastr["error"]("Hubo un error al generar la Vitacora", tTituloError); $toastlast = $toast;
                        console.log("Mensaje del error : " + resultado);
                    }

                    $("#CargaTemporal").addClass("hidden");

                },
                error: function (xhr, ajaxOptions, thrownError) {
                    /*fallo al llamar a la funcion ajax*/
                    toastr.options.timeOut = nTiempoLargo;
                    toastr.options.extendedTimeOut = nTiempoLargo;
                    /*success - info - warning - error*/
                    var $toast = toastr["error"](tMensajeErrorConexion, tTituloErrorConexion); $toastlast = $toast;
                    console.log("ERROR AJAX : " + ajaxOptions);
                    console.log("ERROR AJAX : " + thrownError);
                    console.log(xhr.responseText);
                    console.log(xhr);

                }
            });

        };

    function ComboEncargadoInforme(tipoConsulta) {

            $.ajax({
                type: "GET", /*Puede ser post*/
                url: tRutaServidor + "/Person/ListarPersonaTicketTodos", /* es importante poner los .. delante*/
                contentType: "application/json; charset=utf-8",
                //data:
                //     "IdOperation=" + 0,
                dataType: "json",
                success: function (resultado) {

                    var opcionesPersonTicket = "";

                    /*exitosamente*/
                    if (resultado.length > 0) {
                        /* proceso exitoso con datos*/

                        if (resultado[0].ValorConsulta == "1") {

                            /**Llenar el combo con todo las compañías**/
                            for (i = 0; i < resultado.length; i++) {

                                opcionesPersonTicket += "<option value='" + resultado[i].IdPerson + "'>" + resultado[i].FullNameOperation + "</option>";
                            }

                            if (tipoConsulta == "1") {

                                $("#selectorResponsableActivity").empty();
                                $("#selectorResponsableActivity").append(opcionesPersonTicket);
                                $("#selectorResponsableActivity").selectpicker('refresh');

                                $("#selectorResponsibleByActividad").empty();
                                $("#selectorResponsibleByActividad").append(opcionesPersonTicket);
                                /*$("#selectorResponsibleByActividad").selectpicker('val', resultado[0].IdPerson);*/
                                $("#selectorResponsibleByActividad").selectpicker('refresh');

                                $("#txtParaQuienFormato").empty();
                                $("#txtParaQuienFormato").append(opcionesPersonTicket);
                                $("#txtParaQuienFormato").selectpicker('refresh');

                                $("#txtParaQuienFormatoTicket").empty();
                                $("#txtParaQuienFormatoTicket").append(opcionesPersonTicket);
                                $("#txtParaQuienFormatoTicket").selectpicker('refresh');

                            }

                        }
                        else {
                            /*Error al listar*/

                        }

                    } else {

                    }

                },
                error: function (xhr, ajaxOptions, thrownError) {
                    /*Fallo al llamar funcion ajax*/

                    console.log("ERROR AJAX : " + ajaxOptions);
                    console.log("ERROR AJAX : " + thrownError);
                    console.log(xhr.responseText);
                    console.log(xhr);

                }
            });
        }

    function ValidationEnableButton(ValidarEnable) {

            //$("#CargaTemporal").removeClass("hidden");

            $.ajax({
                type: "POST",
                url: tRutaServidor + "/Activity/ValidationEnableActivity",
                dataType: "json",
                data: {
                    IdActivity: idActivity,
                    ValidationButton: ValidarEnable
                },
                success: function (resultado) {

                    //if (resultado.length > 0) {

                    if (resultado != '0') {

                        toastr.options.timeOut = nTiempoMedio;
                        toastr.options.extendedTimeOut = nTiempoMedio;
                        /*success - info - warning - error*/
                        var $toast = toastr["success"]("Se ha validado la actividad, se procedera ha cambiar de estado a completado", tTituloExito); $toastlast = $toast;

                        document.getElementById('btValidationResponsible').disabled = true;
                        document.getElementById('chkValidationResponsible').disabled = true;
                        document.getElementById('chkValidationJefeArea').disabled = true;

                        if (ValorFiltroGid == '0') {

                            $("#GrillaLstActivityAdd").data("kendoGrid").dataSource.read();

                        } else if (ValorFiltroGid == '1') {

                            $("#GrillaLstActivityAddAlertas").data("kendoGrid").dataSource.read();

                        }




                        $('#ModalActivityDetail').modal('hide');

                        //GrillaListadoActividadAlertas();
                        //GrillaListadoActividad();



                    } else {

                        toastr.options.timeOut = nTiempoMedio;
                        toastr.options.extendedTimeOut = nTiempoMedio;
                        /*success - info - warning - error*/
                        var $toast = toastr["error"](tMensajeErrorDesconocido, tTituloError); $toastlast = $toast;
                        console.log("Mensaje del error : " + resultado);

                    }

                    $("#CargaTemporal").addClass("hidden");

                },
                error: function (xhr, ajaxOptions, thrownError) {
                    /*fallo al llamar a la funcion ajax*/
                    toastr.options.timeOut = nTiempoLargo;
                    toastr.options.extendedTimeOut = nTiempoLargo;
                    /*success - info - warning - error*/
                    var $toast = toastr["error"](tMensajeErrorConexion, tTituloErrorConexion); $toastlast = $toast;
                    console.log("ERROR AJAX : " + ajaxOptions);
                    console.log("ERROR AJAX : " + thrownError);
                    console.log(xhr.responseText);
                    console.log(xhr);

                }
            });

        };

    function DesgarcarPDFInforme(Val1,Val2,Val3,Val4,Val5,Val6,Val7,Val8,Val9) {

            //$("#CargaTemporal").removeClass("hidden");

            $.ajax({
                type: "POST",
                url: tRutaServidor + "/Activity/GeneratePDF",
                dataType: "json",
                data: {
                    TituloInforme: Val1,
                    ParaQuienInforme: Val2,
                    AsuntoInforme: Val3,
                    OperacionInforme: Val4,
                    FechaRegistroInforme: Val5,
                    AntecedenteInforme: Val6,
                    ConclusionesInforme: Val7,
                    ReportActivityDevelop: Val9,
                    RecomendacionesInforme: Val8
                },
                success: function (resultado) {

                    if (resultado != "" ) {

                        //if (resultado[0].ValorConsulta = '1') {

                        console.log(resultado);

                        //var divContents = resultado.html();
                        var printWindow = window.open('', '', 'height=1000,width=1000');
                        //printWindow.document.write('<html><head><title>DIV Contents</title>');
                        //printWindow.document.write('</head><body >');
                        printWindow.document.write(resultado);
                        //printWindow.document.write('</body></html>');
                        printWindow.document.close();
                        printWindow.print();


                        //var doc = new jsPDF();
                        //     doc.fromHTML(resultado,
                        //     15,
                        //     15,
                        //     {'width': 170},
                        //     function(){
                        //       doc.save("PDF_Documet.pdf");
                        //     });
                        //} else if (resultado[0].ValorConsulta == '2') {

                        //    toastr.options.timeOut = nTiempoMedio;
                        //    toastr.options.extendedTimeOut = nTiempoMedio;
                        //    /*success - info - warning - error*/
                        //    var $toast = toastr["warning"]("No se pudo registrar la actividad", tTituloError); $toastlast = $toast;
                        //    return;
                        //}

                    } else {
                        toastr.options.timeOut = nTiempoMedio;
                        toastr.options.extendedTimeOut = nTiempoMedio;
                        /*success - info - warning - error*/
                        var $toast = toastr["error"]("El ticket consultado no existe actualmente", tTituloError); $toastlast = $toast;
                        console.log("Mensaje del error : " + resultado);
                    }

                    //$("#CargaTemporal").addClass("hidden");

                },
                error: function (xhr, ajaxOptions, thrownError) {
                    /*fallo al llamar a la funcion ajax*/
                    toastr.options.timeOut = nTiempoLargo;
                    toastr.options.extendedTimeOut = nTiempoLargo;
                    /*success - info - warning - error*/
                    var $toast = toastr["error"](tMensajeErrorConexion, tTituloErrorConexion); $toastlast = $toast;
                    console.log("ERROR AJAX : " + ajaxOptions);
                    console.log("ERROR AJAX : " + thrownError);
                    console.log(xhr.responseText);
                    console.log(xhr);

                }
            });

        };

    function ActivityFinish() {

        $("#CargaTemporal").removeClass("hidden");

        $.ajax({
            type: "POST",
            url: tRutaServidor + "/Activity/ActivityFinish",
            dataType: "json",
            data: {
                IdActivity: idActivity,
            },
            success: function (resultado) {

                //if (resultado.length > 0) {

                if (resultado != '0') {

                    toastr.options.timeOut = nTiempoMedio;
                    toastr.options.extendedTimeOut = nTiempoMedio;
                    /*success - info - warning - error*/
                    var $toast = toastr["success"]("Se ha finalizado la actividad con exito", tTituloExito); $toastlast = $toast;

                    $('#ModalActivityDetail').modal('hide');

                    if (CriticidadEstado == 'ALTA') {

                        GrillaListadoActividad();
                        GrillaListadoAltaCACriticidadTicket();
                        ListarActiviadesTodas();
                        GrillaListarActividadesCompletas();
                        GrillaListadoActividadExpiration();

                    } else if (CriticidadEstado == 'MEDIA') {

                        GrillaListadoActividad2();
                        GrillaListadoMediaCACriticidadTicket();
                        ListarActiviadesTodas();
                        GrillaListarActividadesCompletas();
                        GrillaListadoActividadExpiration();

                    } else {

                        GrillaListadoActividad3();
                        GrillaListadoBajaCACriticidadTicket();
                        ListarActiviadesTodas();
                        GrillaListarActividadesCompletas();
                        GrillaListadoActividadExpiration();

                    }

                } else {

                    toastr.options.timeOut = nTiempoMedio;
                    toastr.options.extendedTimeOut = nTiempoMedio;
                    /*success - info - warning - error*/
                    var $toast = toastr["error"](tMensajeErrorDesconocido, tTituloError); $toastlast = $toast;
                    console.log("Mensaje del error : " + resultado);

                }

                $("#CargaTemporal").addClass("hidden");

            },
            error: function (xhr, ajaxOptions, thrownError) {
                /*fallo al llamar a la funcion ajax*/
                toastr.options.timeOut = nTiempoLargo;
                toastr.options.extendedTimeOut = nTiempoLargo;
                /*success - info - warning - error*/
                var $toast = toastr["error"](tMensajeErrorConexion, tTituloErrorConexion); $toastlast = $toast;
                console.log("ERROR AJAX : " + ajaxOptions);
                console.log("ERROR AJAX : " + thrownError);
                console.log(xhr.responseText);
                console.log(xhr);

            }
        });

    };

    function LimpiarFiltroAgregarActividades() {

        document.getElementById("txtActivityTicket").value = "";

        $("#selectorResponsableActivity").selectpicker('val', "");
        $("#selectorResponsableActivity").selectpicker('refresh');

        document.getElementById("txtActivityDateEnd").value = "";

        $('#txtActivityDateEnd').kendoDateTimePicker({
            value: new Date(),
            dateInput: true,
            format: "dd/MM/yyyy HH:mm:ss",
            min: new Date(),
            //endDate: new Date(),
        });
    }

    function RegistrarActivity() {

            $("#CargaTemporal").removeClass("hidden");

            $.ajax({
                type: "POST",
                url: tRutaServidor + "/Activity/CrearActivity",
                dataType: "json",
                data: {
                    NroTicket: NroTicketActivity,
                    IdResponsible: IdResponsibleActivity,
                    ActivityText: TextActivity,
                    //DescripcionActivity: "",
                    FechaCierre: FechaEndActivity,
                    //Invitado: SelectorInvitadosActividad
                },
                success: function (resultado) {

                    if (resultado.length > 0) {

                        if (resultado[0].ValorConsulta = '1') {

                            toastr.options.timeOut = nTiempoMedio;
                            toastr.options.extendedTimeOut = nTiempoMedio;
                            /*success - info - warning - error*/
                            var $toast = toastr["success"](tMensajeCreadoExito, tTituloExito); $toastlast = $toast;

                            var UserRegister = "@User.Identity.Name.ToUpper().ToString()";
                            //console.log(UserRegister);
                            UserRegister = UserRegister.split(',')[2];

                            if (UserRegister == 1 || UserRegister == 2 || UserRegister == 10) {


                                ButtonsGridActivity = "<button class='btn-grid btn-xs BtnVerInfo' type='button' title='Ver datos'><i class='fa fa-lg fa-fw fas fa-eye'></i></button>" + " " +
                                                      "<button class='btn-grid btn-xs BtnEdit' type='button' title='Editar'><i class='fa fa-lg fa-fw fas fa-edit'></i></button>";


                            } else {


                                 ButtonsGridActivity = "<button class='btn-grid btn-xs BtnVerInfo' type='button' title='Ver datos'><i class='fa fa-lg fa-fw fas fa-eye'></i></button>";

                            }

                            LimpiarEtiquetas();
                            GrillaListadoActividad();
                            GrillaListadoActividadAlertas();
                            GrillaListadoActividadExpiration();


                            $("#CargaTemporal").addClass("hidden");

                            Swal.fire({
                                title: '<strong><span style="color:red">Actividad Generada</span></strong>',
                                icon: 'info',
                                html:
                                    '<div style="text-align:left;font-size:18px;margin-left:50px">' +
                                    '<b>Nro Ticket :</b> ' + resultado[0].NroTicket + '</br>' +
                                    '<b>Actividad :</b> "' + resultado[0].ActivityText + '" </br>' +
                                    '<b>Responsable :</b> ' + resultado[0].FullNameActivity + ' </br>' +
                                    '<b>Fecha Cierre : </b> ' + resultado[0].FechaCierre + '  </br>' +
                                    //'<b>Estado : </b> ' + resultado[0].CriticalityName + '  </br></br>'+
                                    'Se ha enviado un correo sobre los detalles de la Actividad, puedes visualizarlo' +
                                    '<a href="http://webmail.assac.com.pe/" target="_blank"> aquí</a>' +
                                    '</div>',
                                showCloseButton: true,
                                showCancelButton: false,
                                focusConfirm: false,
                                confirmButtonText:
                                    'OK <i class="fa-regular fa-circle-check"></i>',
                                confirmButtonAriaLabel: 'great!',
                            });

                        } else if (resultado[0].ValorConsulta == '2') {

                            toastr.options.timeOut = nTiempoMedio;
                            toastr.options.extendedTimeOut = nTiempoMedio;
                            /*success - info - warning - error*/
                            var $toast = toastr["warning"]("No se pudo registrar la actividad", tTituloError); $toastlast = $toast;
                            return;
                        }

                    } else {
                        toastr.options.timeOut = nTiempoMedio;
                        toastr.options.extendedTimeOut = nTiempoMedio;
                        /*success - info - warning - error*/
                        var $toast = toastr["error"]("El ticket consultado no existe actualmente", tTituloError); $toastlast = $toast;
                        console.log("Mensaje del error : " + resultado);
                    }

                    $("#CargaTemporal").addClass("hidden");

                },
                error: function (xhr, ajaxOptions, thrownError) {
                    /*fallo al llamar a la funcion ajax*/
                    toastr.options.timeOut = nTiempoLargo;
                    toastr.options.extendedTimeOut = nTiempoLargo;
                    /*success - info - warning - error*/
                    var $toast = toastr["error"](tMensajeErrorConexion, tTituloErrorConexion); $toastlast = $toast;
                    console.log("ERROR AJAX : " + ajaxOptions);
                    console.log("ERROR AJAX : " + thrownError);
                    console.log(xhr.responseText);
                    console.log(xhr);

                }
            });

        };

    function ListadoDescripcionVitacora(NroTicketValor) {

            $.ajax({
                type: "GET",
                url: tRutaServidor + "/Activity/ListarDescriptionVitacora", /* es importante poner los .. delante*/
                data: {
                    NroTicket: NroTicketValor,
                },
                dataType: "json",
                /*async: false,*/
                success: function (resultado) {
                    /*exitosamente*/
                    if (resultado.length > 0) {
                        /* proceso exitoso con datos*/
                        if (resultado[0].ValorConsulta == "1") {

                            //document.getElementById("txtDetalleActivity").value = resultado[0].DescriptionBoard;

                            var ValorContenidoVitacora = "";

                            //var TxtDescriptionVitacora;
                            //TxtDescriptionVitacora = document.getElementById("txtDetalleActivity");
                            //TxtDescriptionVitacora.innerHTML = resultado;
                            for (i = 0; i < resultado.length; i++) {

                                ValorContenidoVitacora += "---- " + resultado[i].RegistrationDateString + " -- " + resultado[i].NameUser +  " ----" + '\r\n' + resultado[i].DescriptionBoard + '\r\n' + '\r\n';

                            }

                            document.getElementById('txtDetalleActivity').value = ValorContenidoVitacora;


                        } else if (resultado[0].ValorConsulta == "-1") {



                            //$("#btnBuscar").prop('disabled', false);
                            //$("#BtnExportarExcel").prop('disabled', true);
                        }
                        else {
                            /* proceso fallido catch listado datos*/


                            //$("#btnBuscar").prop('disabled', true);
                            //$("#BtnExportarExcel").prop('disabled', true);
                            console.log(resultado);
                        }

                    } else {

                        document.getElementById("txtDetalleActivity").value = "";
                        //$("#btnBuscar").prop('disabled', false);
                        //$("#BtnExportarExcelActividades").prop('disabled', true);
                    }


                },
                error: function (xhr, ajaxOptions, thrownError) {
                    /*fallo al llamar a la funcion ajax*/
                    //$("#btnBuscar").prop('disabled', true);
                    //$("#BtnExportarExcel").prop('disabled', true);
                    console.log("ERROR AJAX : " + ajaxOptions);
                    console.log("ERROR AJAX : " + thrownError);
                    console.log(xhr.responseText);
                    console.log(xhr);

                }
            });
        }

    function ListadoDescripcionVitacora2(NroTicketValor) {

        $.ajax({
            type: "GET",
            url: tRutaServidor + "/Activity/ListarDescriptionVitacora", /* es importante poner los .. delante*/
            data: {
                NroTicket: NroTicketValor,
            },
            dataType: "json",
            /*async: false,*/
            success: function (resultado) {
                /*exitosamente*/
                if (resultado.length > 0) {
                    /* proceso exitoso con datos*/
                    if (resultado[0].ValorConsulta == "1") {

                        //document.getElementById("txtDetalleActivity").value = resultado[0].DescriptionBoard;

                        let divContainerArchivos2;
                        divContainerArchivos2 = document.getElementById('lblVitacoraTicketHist');

                        var ValorContenidoVitacora = "";
                        var ContenidoStringTicketArchivo = "";

                        ContenidoStringTicketArchivo = "<article class='col-xs-12 col-sm-12 col-md-6 col-lg-12  sortable-grid'>" +
                            "<div class='row'>";



                        for (i = 0; i < resultado.length; i++) {

                            ValorContenidoVitacora += "---- " + resultado[i].RegistrationDateString + " -- " + resultado[i].NameUser + " ----" + '\r\n' + resultado[i].DescriptionBoard + '\r\n' + '\r\n';

                        }

                        ContenidoStringTicketArchivo += "<textarea style='min-width: 100%' class='form-control' disabled rows='19'>" + ValorContenidoVitacora + "</textarea>" +
                            "</div>" +
                            "</article>";

                        divContainerArchivos2.innerHTML = ContenidoStringTicketArchivo;

                        //$("#ContainerVitacoraTicket").removeClass("hidden");
                        //$("#imgCargaContainerVitacoraTicket").addClass("hidden");
                        //$("#msjErrorContainerVitacoraTicket").addClass("hidden");
                        //$("#msjVacioContainerVitacoraTicket").addClass("hidden");
                        //$("#msjErrorListarContainerVitacoraTicket").addClass("hidden");
                        //$("#msjSuperaLimiteContainerVitacoraTicket").addClass("hidden");

                    } else if (resultado[0].ValorConsulta == "-1") {



                        //$("#btnBuscar").prop('disabled', false);
                        //$("#BtnExportarExcel").prop('disabled', true);
                    }
                    else {
                        /* proceso fallido catch listado datos*/


                        //$("#btnBuscar").prop('disabled', true);
                        //$("#BtnExportarExcel").prop('disabled', true);
                        console.log(resultado);
                    }

                } else {
                    let divContainerArchivos2;
                    divContainerArchivos2 = document.getElementById('lblVitacoraTicketHist');

                    divContainerArchivos2.innerHTML = "";
                    /*document.getElementById("txtDetalleActivity2").value = "";*/
                    //$("#btnBuscar").prop('disabled', false);
                    //$("#BtnExportarExcelActividades").prop('disabled', true);
                }


            },
            error: function (xhr, ajaxOptions, thrownError) {
                /*fallo al llamar a la funcion ajax*/
                //$("#btnBuscar").prop('disabled', true);
                //$("#BtnExportarExcel").prop('disabled', true);
                console.log("ERROR AJAX : " + ajaxOptions);
                console.log("ERROR AJAX : " + thrownError);
                console.log(xhr.responseText);
                console.log(xhr);

            }
        });
    }

    function ValidarStatusActividades() {

         var UserLogIn = "@User.Identity.Name.ToUpper().ToString()";
         UserLogIn = UserLogIn.split(',')[0];

         var UserProfile = "@User.Identity.Name.ToUpper().ToString()";
         UserProfile = UserProfile.split(',')[2];

            $.ajax({
                type: "GET",
                url: tRutaServidor + "/Activity/StatusActivities",
                dataType: "json",
                data: {
                    IdTicket: IdTicketLst,
                },
                success: function (resultado) {

                    if (resultado.length > 0) {

                        if (resultado[0].ValorConsulta == "1") {

                            //if (resultado == '1') {

                            //    $("#btnCerrarTicket").prop('disabled', false);

                            //} else {

                            //    $("#btnCerrarTicket").prop('disabled', true);

                            //}

                            if (UserLogIn == 1 || UserProfile == 10) {

                                if (resultado[0].ValueActivity == "1" && resultado[0].ValueFilesTicket == "1" && resultado[0].ValuesComponents == '1') {

                                    $("#btnCerrarTicket").prop('disabled', false);

                                } else {

                                    $("#btnCerrarTicket").prop('disabled', true);

                                }

                            }

                        }


                    }

                    $("#CargaTemporal").addClass("hidden");

                },
                error: function (xhr, ajaxOptions, thrownError) {
                    /*fallo al llamar a la funcion ajax*/
                    toastr.options.timeOut = nTiempoLargo;
                    toastr.options.extendedTimeOut = nTiempoLargo;
                    /*success - info - warning - error*/
                    var $toast = toastr["error"](tMensajeErrorConexion, tTituloErrorConexion); $toastlast = $toast;
                    console.log("ERROR AJAX : " + ajaxOptions);
                    console.log("ERROR AJAX : " + thrownError);
                    console.log(xhr.responseText);
                    console.log(xhr);

                }
            });

        }

    function ComboEncargadoAll2() {

        $.ajax({
            type: "GET", /*Puede ser post*/
            url: tRutaServidor + "/Person/ListarPersonaTicketTodos", /* es importante poner los .. delante*/
            contentType: "application/json; charset=utf-8",
            //data:
            //     "IdOperation=" + IdOperatorTicket,
            dataType: "json",
            success: function (resultado) {

                var opcionesPersonTicket = "";

                /*exitosamente*/
                if (resultado.length > 0) {
                    /* proceso exitoso con datos*/

                    if (resultado[0].ValorConsulta == "1") {

                        /**Llenar el combo con todo las compañías**/
                        for (i = 0; i < resultado.length; i++) {

                            opcionesPersonTicket += "<option value='" + resultado[i].PersonMail + "'>" + resultado[i].FullNameOperation + "</option>";
                        }

                        //$("#selectorResponsableActivity").empty();
                        //$("#selectorResponsableActivity").append(opcionesPersonTicket);
                        //$("#selectorResponsableActivity").selectpicker('refresh');

                        $("#selectorInvitados2").empty();
                        $("#selectorInvitados2").append(opcionesPersonTicket);
                        $("#selectorInvitados2").selectpicker('refresh');

                    }
                    else {
                        /*Error al listar*/

                    }

                } else {

                }

            },
            error: function (xhr, ajaxOptions, thrownError) {
                /*Fallo al llamar funcion ajax*/

                console.log("ERROR AJAX : " + ajaxOptions);
                console.log("ERROR AJAX : " + thrownError);
                console.log(xhr.responseText);
                console.log(xhr);

            }
        });
    }

    function ActualizarRegistrarVitacora() {

        $("#CargaTemporal").removeClass("hidden");

        $.ajax({
            type: "POST",
            url: tRutaServidor + "/Activity/ActualizarRegistrarVitacora",
            dataType: "json",
            data: {
                NroTicket: NroTicketActivity,
                DescriptionBoard: $("#txtVitacoraTextSend").val(),
            },
            success: function (resultado) {

                if (resultado.length > 0) {

                    if (resultado[0].ValorConsulta == "1") {

                        toastr.options.timeOut = nTiempoMedio;
                        toastr.options.extendedTimeOut = nTiempoMedio;
                        /*success - info - warning - error*/
                        var $toast = toastr["success"](tMensajeCreadoExito, tTituloExito); $toastlast = $toast;

                        var ValorContenidoVitacora = "";

                        //var TxtDescriptionVitacora;
                        //TxtDescriptionVitacora = document.getElementById("txtDetalleActivity");
                        //TxtDescriptionVitacora.innerHTML = resultado;
                        for (i = 0; i < resultado.length; i++) {

                            ValorContenidoVitacora += "---- " + resultado[i].RegistrationDateString + " -- " + resultado[i].NameUser + " ----" + '\r\n' + resultado[i].DescriptionBoard + '\r\n' + '\r\n';

                        }

                        document.getElementById('txtDetalleActivity').value = ValorContenidoVitacora;
                        document.getElementById('txtVitacoraTextSend').value = "";
                        //document.getElementById('txtDetalleActivity').value = resultado;

                        //LimpiarEtiquetas();

                        $("#CargaTemporal").addClass("hidden");
                        //GrillaListadoActividad();

                    } else if (resultado == '2') {

                        toastr.options.timeOut = nTiempoMedio;
                        toastr.options.extendedTimeOut = nTiempoMedio;
                        /*success - info - warning - error*/
                        var $toast = toastr["success"]("Hubo un error al mostrar la Vitacora", tTituloExito); $toastlast = $toast;
                        return;
                    }

                } else {
                    toastr.options.timeOut = nTiempoMedio;
                    toastr.options.extendedTimeOut = nTiempoMedio;
                    /*success - info - warning - error*/
                    var $toast = toastr["error"]("Hubo un error al generar la Vitacora", tTituloError); $toastlast = $toast;
                    console.log("Mensaje del error : " + resultado);
                }

                $("#CargaTemporal").addClass("hidden");

            },
            error: function (xhr, ajaxOptions, thrownError) {
                /*fallo al llamar a la funcion ajax*/
                toastr.options.timeOut = nTiempoLargo;
                toastr.options.extendedTimeOut = nTiempoLargo;
                /*success - info - warning - error*/
                var $toast = toastr["error"](tMensajeErrorConexion, tTituloErrorConexion); $toastlast = $toast;
                console.log("ERROR AJAX : " + ajaxOptions);
                console.log("ERROR AJAX : " + thrownError);
                console.log(xhr.responseText);
                console.log(xhr);

            }
        });
    };

    function ReenviarDescripcionTicket() {

        $("#CargaTemporal").removeClass("hidden");

        $.ajax({
            type: "POST",
            url: tRutaServidor + "/Ticket/ReenviarTicket",
            //contentType: "application/json; charset=utf-8",
            //dataType: "json",
            data: {
                //bE_Vehicle_Type: {
                //    IdVehicleType : ListadoActividadesGenerales,
                //},
                NroTicket: NroTicket,
                //OperationName: OperacionTicket,
                //FullNameTicket: CallTicket,
                //WhoRegister: RegisterTicket,
                //ResponsibleNameTicket: ResponsibleTicket,
                //ReasonName: RazonTicket,
                //LocationNameTicket: LocationTicket,
                //CriticalityName: CriticidadTicket,
                //StartDate: FechaRegistroTicket,
                InvitadoTicket: SelectorInvitadosActividad,
                ArrayListadoActividades: ListadoActividadesGenerales,
                DetalleCorreo: $("#lblDetalleCorreo").val().trim(),
            },
            success: function (resultado) {
                //console.log(resultado);
                //if (resultado.length > 0) {

                if (resultado == "1") {

                    //if (resultado[0].CriticalityName == 'ALTA') {

                    //    GrillaListadoAltaTicket();

                    //} else if (resultado[0].CriticalityName == 'MEDIA') {

                    //    GrillaListadoMediaTicket();

                    //} else {

                    //    GrillaListadoBajaTicket();
                    //}

                    //ComboTicket();
                    //GrillaListadoBusqueda();

                    //toastr.options.timeOut = nTiempoMedio;
                    //toastr.options.extendedTimeOut = nTiempoMedio;
                    ///*success - info - warning - error*/
                    //var $toast = toastr["success"](tMensajeCreadoExito, tTituloExito); $toastlast = $toast;

                    //$("#CargaTemporal").addClass("hidden");
                    //ComboEncargado('1');
                    //$("#PanelActivityFather").removeClass("hidden");
                    $('#ModalInvitados').modal('hide');

                    Swal.fire({
                        title: '<strong>Nro Ticket:<span style="color:red"> ' + NroTicket + '</span></strong>',
                        icon: 'info',
                        html:
                            '<div style="text-align:left;font-size:18px;margin-left:50px">' +
                            '<b>Operacion :</b> ' + OperacionTicket + '</br>' +
                            '<b>Quien Llama :</b> ' + CallTicket + '</br>' +
                            '<b>Quien Registra :</b> ' + RegisterTicket + '</br>' +
                            '<b>Responsable :</b> ' + ResponsibleTicket + '</br>' +
                            //'<b>Encargado :</b> ' + resultado[0].FullNameTicket + ' </br>' +
                            '<b>Fecha Inicio :</b> ' + FechaRegistroTicket + ' </br>' +
                            '<b>Razon : </b> ' + RazonTicket + '  </br>' +
                            '<b>Criticidad : </b> ' + CriticidadTicket + '  </br></br>' +
                            'Se ha enviado un correo sobre los detalles del ticket, puedes visualizarlo ' +
                            '<a href="http://webmail.assac.com.pe/" target="_blank">aquí</a>' +
                            '</div>',
                        showCloseButton: true,
                        showCancelButton: false,
                        focusConfirm: false,
                        confirmButtonText:
                            'OK <i class="fa-regular fa-circle-check"></i>',
                        confirmButtonAriaLabel: 'great!',
                    });

                    //} else {

                    //    toastr.options.timeOut = nTiempoMedio;
                    //    toastr.options.extendedTimeOut = nTiempoMedio;
                    //    /*success - info - warning - error*/
                    //    var $toast = toastr["warning"](tMensajeErrorDesconocido, tTituloError); $toastlast = $toast;
                    //    return;
                    //}

                } else if (resultado == 2) {
                    //toastr.options.timeOut = nTiempoMedio;
                    //toastr.options.extendedTimeOut = nTiempoMedio;
                    ///*success - info - warning - error*/
                    //var $toast = toastr["error"]("No se a podido registrar el Ticket", tTituloError); $toastlast = $toast;
                    //document.getElementById('btnGrabar').disabled = false;

                } else if (resultado == 4) {
                    //toastr.options.timeOut = nTiempoMedio;
                    //toastr.options.extendedTimeOut = nTiempoMedio;
                    ///*success - info - warning - error*/
                    //var $toast = toastr["error"]("No se a podido enviar el correo al responsable", tTituloError); $toastlast = $toast;
                    //document.getElementById('btnGrabar').disabled = false;
                } else {
                    //toastr.options.timeOut = nTiempoMedio;
                    //toastr.options.extendedTimeOut = nTiempoMedio;
                    ///*success - info - warning - error*/
                    //var $toast = toastr["error"](tMensajeErrorDesconocido, tTituloError); $toastlast = $toast;
                    //console.log("Mensaje del error : " + resultado);
                }
                $("#CargaTemporal").addClass("hidden");

            },
            error: function (xhr, ajaxOptions, thrownError) {
                ///*fallo al llamar a la funcion ajax*/
                //toastr.options.timeOut = nTiempoLargo;
                //toastr.options.extendedTimeOut = nTiempoLargo;
                ///*success - info - warning - error*/
                //var $toast = toastr["error"](tMensajeErrorConexion, tTituloErrorConexion); $toastlast = $toast;
                //console.log("ERROR AJAX : " + ajaxOptions);
                //console.log("ERROR AJAX : " + thrownError);
                //console.log(xhr.responseText);
                //console.log(xhr);

            }
        });

    };

    function TicketFinish() {

        $("#CargaTemporal").removeClass("hidden");

        $.ajax({
            type: "POST",
            url: tRutaServidor + "/Ticket/TicketClose",
            dataType: "json",
            data: {
                IdTicket: IdTicketLst,
            },
            success: function (resultado) {

                //if (resultado.length > 0) {

                if (resultado != '0') {

                    toastr.options.timeOut = nTiempoMedio;
                    toastr.options.extendedTimeOut = nTiempoMedio;
                    /*success - info - warning - error*/
                    var $toast = toastr["success"]("Se ha cerrado el Ticket con exito", tTituloExito); $toastlast = $toast;

                    $('#ModalTicketEdit').modal('hide');

                    //$("#selectorTicket").selectpicker('val', "");
                    //document.getElementById('selectorTicket').disabled = false;
                    //$("#selectorTicket").selectpicker('refresh');

                    //$("#selectorOperacion").selectpicker('val', "");
                    //document.getElementById('selectorOperacion').disabled = false;
                    //$("#selectorOperacion").selectpicker('refresh');

                    //IdOperacionTicket = "0";
                    //Valor = 1;
                    //IdCriticidadSelect = "0";

                    GrillaListadoBusqueda();
                    GrillaListadoBuscarUsuario();
                    ListarActiviadesTodas();
                    GrillaListarActividadesCompletas();
                    GrillaListadoActividadExpiration();
                    GrillaListadoAltaTicket();
                    GrillaListadoMediaTicket();
                    GrillaListadoBajaTicket();
                    GrillaListadoAltaCACriticidadTicket();
                    GrillaListadoMediaCACriticidadTicket();
                    GrillaListadoBajaCACriticidadTicket();
                    ListadoTablaTicketYResponsable();
                    ListadoTablaMyTicket();
                } else {

                    toastr.options.timeOut = nTiempoMedio;
                    toastr.options.extendedTimeOut = nTiempoMedio;
                    /*success - info - warning - error*/
                    var $toast = toastr["error"](tMensajeErrorDesconocido, tTituloError); $toastlast = $toast;
                    console.log("Mensaje del error : " + resultado);

                }

                $("#CargaTemporal").addClass("hidden");

            },
            error: function (xhr, ajaxOptions, thrownError) {
                /*fallo al llamar a la funcion ajax*/
                toastr.options.timeOut = nTiempoLargo;
                toastr.options.extendedTimeOut = nTiempoLargo;
                /*success - info - warning - error*/
                var $toast = toastr["error"](tMensajeErrorConexion, tTituloErrorConexion); $toastlast = $toast;
                console.log("ERROR AJAX : " + ajaxOptions);
                console.log("ERROR AJAX : " + thrownError);
                console.log(xhr.responseText);
                console.log(xhr);

            }
        });

    };

    function TicketOperando() {

        $("#CargaTemporal").removeClass("hidden");

        $.ajax({
            type: "POST",
            url: tRutaServidor + "/Ticket/TicketOperando",
            dataType: "json",
            data: {
                IdTicket: IdTicketLst,
            },
            success: function (resultado) {

                if (resultado != '0') {

                    toastr.options.timeOut = nTiempoMedio;
                    toastr.options.extendedTimeOut = nTiempoMedio;
                    /*success - info - warning - error*/
                    var $toast = toastr["success"]("Se ha cambiado el estado a Operando", tTituloExito); $toastlast = $toast;

                    var titulo;
                    titulo = document.getElementById("lblModelTicketEditAlertas");

                    titulo.innerHTML = NroTicket + " - " + "<span style='color:blue'>OPERADO</span>";

                    $('#ModalTicketEdit').modal('hide');

                    GrillaListadoBusqueda();
                    GrillaListadoBuscarUsuario();
                    ListarActiviadesTodas();
                    GrillaListarActividadesCompletas();
                    GrillaListadoActividadExpiration();
                    GrillaListadoAltaTicket();
                    GrillaListadoMediaTicket();
                    GrillaListadoBajaTicket();
                    GrillaListadoAltaCACriticidadTicket();
                    GrillaListadoMediaCACriticidadTicket();
                    GrillaListadoBajaCACriticidadTicket();
                    ListadoTablaTicketYResponsable();
                    ListadoTablaMyTicket();

                } else {

                    toastr.options.timeOut = nTiempoMedio;
                    toastr.options.extendedTimeOut = nTiempoMedio;
                    /*success - info - warning - error*/
                    var $toast = toastr["error"](tMensajeErrorDesconocido, tTituloError); $toastlast = $toast;
                    console.log("Mensaje del error : " + resultado);

                }

                $("#CargaTemporal").addClass("hidden");

            },
            error: function (xhr, ajaxOptions, thrownError) {
                /*fallo al llamar a la funcion ajax*/
                toastr.options.timeOut = nTiempoLargo;
                toastr.options.extendedTimeOut = nTiempoLargo;
                /*success - info - warning - error*/
                var $toast = toastr["error"](tMensajeErrorConexion, tTituloErrorConexion); $toastlast = $toast;
                console.log("ERROR AJAX : " + ajaxOptions);
                console.log("ERROR AJAX : " + thrownError);
                console.log(xhr.responseText);
                console.log(xhr);

            }
        });

    };

    function EditarActivity() {

        $("#CargaTemporal").removeClass("hidden");

        $.ajax({
            type: "POST",
            url: tRutaServidor + "/Activity/EditarActivity",
            dataType: "json",
            data: {
                IdActivity: idActivity,
                IdResponsible: IdResponsibleActivity,
                ActivityText: TextActivity,
                //DescripcionActivity: "",
                FechaCierre: FechaEndActivity,
                //Invitado: SelectorInvitadosActividad
            },
            success: function (resultado) {

                if (resultado.length > 0) {

                    if (resultado[0].ValorConsulta = '1') {

                        toastr.options.timeOut = nTiempoMedio;
                        toastr.options.extendedTimeOut = nTiempoMedio;
                        /*success - info - warning - error*/
                        var $toast = toastr["success"](tMensajeCreadoExito, tTituloExito); $toastlast = $toast;

                        LimpiarEtiquetas();

                        GrillaListadoActividadAlertas();

                        $("#CargaTemporal").addClass("hidden");

                        $("#btnAgregarActivity").removeClass("hidden");
                        $("#btnAgregarEditar").addClass("hidden");

                        Swal.fire({
                            title: '<strong><span style="color:red">Actividad Editada</span></strong>',
                            icon: 'info',
                            html:
                                '<div style="text-align:left;font-size:18px;margin-left:50px">' +
                                '<b>Nro Ticket :</b> ' + resultado[0].NroTicket + '</br>' +
                                '<b>Actividad :</b> "' + resultado[0].ActivityText + '" </br>' +
                                '<b>Responsable :</b> ' + resultado[0].FullNameActivity + ' </br>' +
                                '<b>Fecha Cierre : </b> ' + resultado[0].FechaCierre + '  </br>' +
                                //'<b>Estado : </b> ' + resultado[0].CriticalityName + '  </br></br>'+
                                'Se ha enviado un correo sobre los detalles de la Actividad, puedes visualizarlo' +
                                '<a href="http://webmail.assac.com.pe/" target="_blank"> aquí</a>' +
                                '</div>',
                            showCloseButton: true,
                            showCancelButton: false,
                            focusConfirm: false,
                            confirmButtonText:
                                'OK <i class="fa-regular fa-circle-check"></i>',
                            confirmButtonAriaLabel: 'great!',
                        });


                    } else if (resultado[0].ValorConsulta == '2') {

                        toastr.options.timeOut = nTiempoMedio;
                        toastr.options.extendedTimeOut = nTiempoMedio;
                        /*success - info - warning - error*/
                        var $toast = toastr["warning"]("No se pudo editar la actividad", tTituloError); $toastlast = $toast;
                        return;
                    }

                } else {
                    toastr.options.timeOut = nTiempoMedio;
                    toastr.options.extendedTimeOut = nTiempoMedio;
                    /*success - info - warning - error*/
                    var $toast = toastr["error"]("El ticket consultado no existe actualmente", tTituloError); $toastlast = $toast;
                    console.log("Mensaje del error : " + resultado);
                }

                $("#CargaTemporal").addClass("hidden");

            },
            error: function (xhr, ajaxOptions, thrownError) {
                /*fallo al llamar a la funcion ajax*/
                toastr.options.timeOut = nTiempoLargo;
                toastr.options.extendedTimeOut = nTiempoLargo;
                /*success - info - warning - error*/
                var $toast = toastr["error"](tMensajeErrorConexion, tTituloErrorConexion); $toastlast = $toast;
                console.log("ERROR AJAX : " + ajaxOptions);
                console.log("ERROR AJAX : " + thrownError);
                console.log(xhr.responseText);
                console.log(xhr);

            }
        });

    };

    function GrillaListadoTicketToday(ValueOperation) {

        var dataSource = new kendo.data.DataSource({
            transport: {
                read: function (options) {
                    $.ajax({
                        type: "GET",
                        url: tRutaServidor + "/Ticket/ListarTicketDiaHoy", /* es importante poner los .. delante */
                        dataType: "json",
                        data: {
                            StatusCategory: ValueFilterTicket,
                            OperationId: ValueOperation
                        },
                        /*async: false,*/
                        success: function (resultado) {
                            /*exitosamente*/
                            let html;

                            if (resultado.length > 0) {
                                /* proceso exitoso con datos*/
                                if (resultado[0].ValorConsulta == "1") {

                                    //html = resultado.length;

                                    //document.getElementById("lblNumberTicketDiaHoy").innerHTML = html;

                                    $("#LstTicketsDayOfNow").removeClass("hidden");
                                    $("#imgCargaLstTicketsDayOfNow").addClass("hidden");
                                    $("#msjErrorLstTicketsDayOfNow").addClass("hidden");
                                    $("#msjVacioLstTicketsDayOfNow").addClass("hidden");
                                    $("#msjErrorListarLstTicketsDayOfNow").addClass("hidden");
                                    $("#msjSuperaLimiteLstTicketsDayOfNow").addClass("hidden");

                                    Swal.fire({
                                        title: 'Se han creado ticket con esta operacion',
                                        text: "Deseas poder ver los tickets relacionados ?",
                                        icon: 'warning',
                                        showCancelButton: true,
                                        confirmButtonColor: '#3085d6',
                                        cancelButtonColor: '#d33',
                                        confirmButtonText: 'Si, deseo ver!'
                                    }).then((result) => {
                                        if (result.isConfirmed) {

                                            $('#ModalDayTicketNow').modal('show');

                                        } else {



                                        }
                                    });

                                    ////$("#btnBuscar").prop('disabled', false);
                                    //$("#BtnExpotarTicketCriticidadAltaA").prop('disabled', false);

                                } else if (resultado[0].ValorConsulta == "-1") {

                                    $("#LstTicketsDayOfNow").addClass("hidden");
                                    $("#imgCargaLstTicketsDayOfNow").addClass("hidden");
                                    $("#msjErrorLstTicketsDayOfNow").addClass("hidden");
                                    $("#msjVacioLstTicketsDayOfNow").addClass("hidden");
                                    $("#msjErrorListarLstTicketsDayOfNow").addClass("hidden");
                                    $("#msjSuperaLimiteLstTicketsDayOfNow").removeClass("hidden");

                                    ////$("#btnBuscar").prop('disabled', false);
                                    //$("#BtnExpotarTicketCriticidadAltaA").prop('disabled', true);
                                }
                                else {
                                    /* proceso fallido catch listado datos*/
                                    $("#LstTicketsDayOfNow").addClass("hidden");
                                    $("#imgCargaLstTicketsDayOfNow").addClass("hidden");
                                    $("#msjErrorLstTicketsDayOfNow").addClass("hidden");
                                    $("#msjVacioLstTicketsDayOfNow").addClass("hidden");
                                    $("#msjErrorListarLstTicketsDayOfNow").removeClass("hidden");
                                    $("#msjSuperaLimiteLstTicketsDayOfNow").addClass("hidden");

                                    //$("#btnBuscar").prop('disabled', true);
                                    //$("#BtnExpotarTicketCriticidadAltaA").prop('disabled', true);
                                    //console.log(resultado);
                                }

                            } else {

                                //Swal.fire(
                                //    'Sin Ticket',
                                //    'No hay ticket relacionados a esta operacion',
                                //    'error'
                                //);

                                $("#LstTicketsDayOfNow").addClass("hidden");
                                $("#imgCargaLstTicketsDayOfNow").addClass("hidden");
                                $("#msjErrorLstTicketsDayOfNow").addClass("hidden");
                                $("#msjVacioLstTicketsDayOfNow").removeClass("hidden");
                                $("#msjErrorListarLstTicketsDayOfNow").addClass("hidden");
                                $("#msjSuperaLimiteLstTicketsDayOfNow").addClass("hidden");

                                ////$("#btnBuscar").prop('disabled', false);
                                //$("#BtnExpotarTicketCriticidadAltaA").prop('disabled', true);
                            }

                            options.success(resultado);
                            var grid = $("#LstTicketsDayOfNow").data("kendoGrid");
                            if (grid.dataSource.total() > 0) {
                                grid.setDataSource(dataSource);
                            }

                        },
                        error: function (xhr, ajaxOptions, thrownError) {
                            /*fallo al llamar a la funcion ajax*/
                            $("#LstTicketsDayOfNow").addClass("hidden");
                            $("#imgCargaLstTicketsDayOfNow").addClass("hidden");
                            $("#msjErrorLstTicketsDayOfNow").removeClass("hidden");
                            $("#msjVacioLstTicketsDayOfNow").addClass("hidden");
                            $("#msjErrorListarLstTicketsDayOfNow").addClass("hidden");
                            $("#msjSuperaLimiteLstTicketsDayOfNow").addClass("hidden");

                            //$("#btnBuscar").prop('disabled', true);
                            //$("#BtnExportarExcel").prop('disabled', true);
                            console.log("ERROR AJAX : " + ajaxOptions);
                            console.log("ERROR AJAX : " + thrownError);
                            console.log(xhr.responseText);
                            console.log(xhr);

                        }
                    });
                },
                parameterMap: function (data, operation) {
                    if (operation !== "read" && data.models) {
                        return JSON.stringify({ JSONparam: data.models });
                    }
                }
            },
            error: function (e) {
                alert("Status: " + e.status + "; Error message: " + e.errorThrown);
            },
            batch: false,
            pageSize: PaginationKendoGrid,
            schema: {
                model: {
                    fields: {
                        IdTicket: { type: "number" },
                        NroTicket: { type: "string" },
                        StartDate: { type: "string" },
                        UsuarioNameTicket: { type: "string" },
                        ResponsibleNameTicket: { type: "string" },
                        FullNameTicket: { type: "string" },
                        OperationName: { type: "string" },
                        ReasonName: { type: "string" },
                        LocationNameTicket: { type: "string" },
                        CriticalityName: { type: "string" },
                        TitleDetalle: { type: "string" },
                        DetalleText: { type: "string" },
                        ResponsibleId: { type: "number" },
                        MigrationStatus: { type: "string" },
                    }
                }
            },
        });

        $("#LstTicketsDayOfNow").kendoGrid({
            dataSource: dataSource,
            sortable: true,
            pageable: true,
            columnMenu: true,
            columnMenu: {
                sortable: true,
                filterable: true,
                columns: true,
                messages: {
                    columns: KendoMsjColumnMenuColumns,
                    filter: KendoMsjColumnMenuFilter,
                    sortAscending: KendoMsjColumnMenuSortAscending,
                    sortDescending: KendoMsjColumnMenuSortDescending,
                    settings: KendoMsjSettings
                }
            },
            columnMenuInit: function (e) {
                var menu = e.container.find(".k-menu").data("kendoMenu");
                menu.bind("select", function (e) {
                    var EtiquetaInput = $(".k-animation-container > .k-menu-group > .k-item > .k-content > .k-filter-menu > .k-textbox :input");
                    EtiquetaInput.focus();
                });
            },
            groupable: false,
            reorderable: true,
            selectable: "row",
            scrollable: true,
            resizable: true,
            filterable: {
                multi: true,
                checkAll: true,
                search: true,
                messages: {
                    clear: KendoMsjClear,
                    filter: KendoMsjFilter,
                    selectedItemsFormat: KendoMsjSelectedItemsFormat,
                    checkAll: KendoMsjCheckAll,
                    search: KendoMsjSearch
                }
            },
            //groupable: {
            //    info: true,
            //    messages: {
            //        empty: "<b style='font-style:italic';>Arrastre una cabecera aquí para agrupar su información por esa columna</b>"
            //    }
            //},
            pageable: {
                messages: {
                    empty: KendoMsjEmpty,
                    page: kendoMsjPage,
                    of: KendoMsjOf,
                    itemsPerPage: KendoMsjItemsPerPage,
                    first: KendoMsjFirst,
                    last: KendoMsjLast,
                    next: KendoMsjNext,
                    previous: KendoMsjPrevious,
                    refresh: KendoMsjRefresh,
                    morePages: KendoMsjMorePages,
                    display: KendoMsjDisplay
                },
                refresh: false,
                pageSizes: true,
                pageSizes: [5, 10, 15],
                /*para la cantidad de paginas se sugieren 5*/
                buttonCount: 5,
                /*Posicion de la pagina*/
                pageSize: 5
            },
            /*excel: { fileName: "Listado de Tickets en Criticidad Alta.xlsx", filterable: true, allPages: true },*/
            columns: [
                {
                    width: 80,
                    command: {
                        template:
                            "<button class='btn-grid btn-xs BtnVerTickeToday' type='button' title='Ver datos'><i class='fa fa-lg fa-fw fas fa-eye'></i></button>"
                        //+ " " +"<button class='btn-grid btn-xs BtnAnular' type='button' title='Ver datos'><i class='fa fa-lg fa-fw fas fa-ban'></i></button>"
                    },
                    attributes: { "class": "text-center" },
                    title: ""
                },
                { field: "NroTicket", title: "Nro. Ticket", width: 120, attributes: { "class": "text-center" } },
                { field: "StartDate", title: "Fecha Registro", width: 120, attributes: { "class": "text-center" } },
                { field: "OperationName", title: "Operacion", width: 120, attributes: { "class": "text-center" } },
                { field: "FullNameTicket", title: "Quien Llama", width: 200, attributes: { "class": "text-center" } },
                { field: "ResponsibleNameTicket", title: "Responsable", width: 200, attributes: { "class": "text-center" } },
                { field: "CriticalityName", title: "Criticidad", width: 120, attributes: { "class": "text-center" } },
                { field: "ReasonName", title: "Razón", width: 120, attributes: { "class": "text-center" } },
                { field: "LocationNameTicket", title: "Locación", hidden: true, width: 120, attributes: { "class": "text-center" } },
                { field: "TitleDetalle", title: "Titulo Detalle", width: 150, attributes: { "class": "text-center" } },
                { field: "DetalleText", title: "Detalle Ticket", hidden: true, width: 150, attributes: { "class": "text-center" } }
            ]
        });
    }

    /*------------ REPORTABILIDAD TICKET -------*/

    function ListadoTablaTicketYResponsable(ValueStatus, ValueResponsable) {

        $("#ContainerticketAndResponsible").addClass("hidden");
        $("#imgCargaContainerTicketAndResponsible").removeClass("hidden");
        $("#msjErrorContainerTicketAndResponsible").addClass("hidden");
        $("#msjVacioContainerTicketAndResponsible").addClass("hidden");
        $("#msjErrorListarContainerTicketAndResponsible").addClass("hidden");
        $("#msjSuperaLimiteContainerTicketAndResponsible").addClass("hidden");

        $.ajax({
            type: "GET", /*Puede ser post*/
            url: tRutaServidor + "/ListGeneralActivity/ListarTicketYResponsableGraphic", /* es importante poner los .. delante*/
            contentType: "application/json; charset=utf-8",
            data: {
                StatusTicket0: ValueStatus,
                ResponsibleId0: ValueResponsable,
                EventFilterTicket: ValueFilterTicket,
            },
            dataType: "json",
            success: function (resultado) {

                /*exitosamente*/
                if (resultado.length > 0) {
                    /* proceso exitoso con datos*/
                    if (resultado[0].ValorConsulta == "1") {

                        /*                        for (i = 0; i < resultadojson.length; i++) {*/

                        divContainerTicketAndResponsible.innerHTML = "";

                        let ContenedorTexto = "";
                        var NumeroTicketI = "";
                        var NumeroTicketGraphic = "";
                        var NumeroTicketX = "T00";
                        var CantidadDeActividadCompletada = 0;
                        var CantidadDeActividad = 0;
                        var ResultadoPorcentaje = 0;
                        var PersonaResponsableTicket = "";
                        var TitleTicketDescription = "";
                        var OperationAlias = "";
                        var OperacionColorCode = "";
                        var OperacionNameTable = "";
                        var PersonAlias = "";
                        var StatusBarProgress = "";
                        var IdPersonTicketList = "";

                        ContenedorTexto = "<table class='table table-striped'>" +
                            "<thead>" +
                            "<tr>" +
                            "<th style='width: 120px; font-size: 15px; text-align: center'>Nro. Ticket</th>" +
                            "<th style='font-size: 15px; text-align: center;' width:500px;>Titulo Ticket</th>" +
                            "<th style='font-size: 15px; text-align: center;'>Operación</th>" +
                            "<th style='font-size: 15px; text-align: center; width:250px;'>Barra de Progreso</th>" +
                            /* "<th style='font-size: 18px; text-align: center' scope='col'>Foto</th>" +*/
                            "<th style='font-size: 15px; text-align: center;'>Responsable</th>" +
                            "<th style='font-size: 15px; text-align: center;'>Detalle Ticket</th>" +
                            "</tr>" +
                            "</thead>" +
                            "<tbody>";

                        for (i = 0; i < resultado.length; i++) { //recorro todas las fechas únicas

                            NumeroTicketI = resultado[i].NroTicket;

                            if (NumeroTicketI != NumeroTicketX) {

                                for (x = 0; x < resultado.length; x++) {

                                    if (NumeroTicketI == resultado[x].NroTicket) {

                                        CantidadDeActividad = CantidadDeActividad + 1;

                                        NumeroTicketGraphic = resultado[x].NroTicket;
                                        PersonaResponsableTicket = resultado[x].ResponsibleNameTicket;
                                        TitleTicketDescription = resultado[x].TitleDescription;
                                        OperationAlias = resultado[x].OperationAlias;
                                        OperacionColorCode = resultado[x].CodeColorOperation;
                                        OperacionNameTable = resultado[x].OperationName;
                                        PersonAlias = resultado[x].PersonAlias;
                                        IdPersonTicketList = resultado[x].IdPerson;

                                        if (resultado[x].MigrationStatus == 'C') {

                                            CantidadDeActividadCompletada = CantidadDeActividadCompletada + 1;

                                        }

                                        NumeroTicketX = resultado[x].NroTicket;

                                    }


                                }

                                ResultadoPorcentaje = Math.round((CantidadDeActividadCompletada / CantidadDeActividad) * 100);

                                StatusBarProgress = "";

                                if (ResultadoPorcentaje >= 0 && ResultadoPorcentaje <= 35) {

                                    StatusBarProgress = "#db2444";

                                } else if (ResultadoPorcentaje > 35 && ResultadoPorcentaje <= 65) {

                                    StatusBarProgress = "#cbc202";

                                } else if (ResultadoPorcentaje > 65 && ResultadoPorcentaje <= 100) {

                                    StatusBarProgress = "#24ce00";

                                }

                                ContenedorTexto += "<tr>" +
                                    "<td style='width: 120px; text-align:center;'>" +
                                    "<label style='margin-top: 15px; font-weight: bold; font-size: 17px;'>" + NumeroTicketGraphic + "</label>" +
                                    "</td>" +
                                    "<td>" +
                                    "<label style='font-size:16px;margin-top:15px;font-weight:bold;'>" + TitleTicketDescription + "</label>" +
                                    "</td>" +
                                    "<td>" +
                                    "<button id='button-8' title='" + OperacionNameTable + "' style='background:" + OperacionColorCode + ";color:white;font-size:18px;border:3px solid black;height:40px;width:40px;border-radius:35px;margin-left:30px;margin-top:6px;font-weight: bold;' onClick='functionListarOperacion(\"" + OperacionNameTable + "\")'> " + OperationAlias +" </button>" +
                                    "</td>" +
                                    "<td>" +
                                    "<div class='progress' style='margin: 7px 0px 20px 0px;border-radius:10px;border: 3px solid black;height:35px'>" +
                                    "<div class='progress-bar progress-bar-striped progress-bar-animated active' id='IdBarPercentageTicketResponsible' role='progressbar' style='background-color:" + StatusBarProgress + ";width:" + ResultadoPorcentaje + "%;' aria-valuenow='25' aria-valuemin='0' aria-valuemax='100'><span id='TxtValuePercentageTicketResponsible'>" + ResultadoPorcentaje + "%</span></div>" +
                                    "</div>" +
                                    "</td>" +
                                    //"<td style='width:120px;'>" +
                                    //"<span class='widget-icon' style='width:60px;margin-left:15px'>" +
                                    //"<img width='70' style='margin-top:5px' src='" + ImagenUser2 + "' />" +
                                    //"</span>" +
                                    //"</td>" +
                                    //"<td style='border: 6px solid white;background:#ebebeb'>" +
                                    //"<label style='font-size:16px;margin-top:22px;font-family:system-ui'>" + PersonaResponsableTicket + "</label>" +
                                    //"</td>" +
                                    "<td>" +
                                    "<button id='button-8' title='" + PersonaResponsableTicket + "' style='border:4px solid " + OperacionColorCode + ";background:white;height:45px;width:45px;border-radius:35px;margin-left:40px;margin-top:6px;font-size:16px;font-weight: bold;' onClick='functionListarPersona(\"" + IdPersonTicketList + "\")'> " + PersonAlias + " </button>" +
                                    "</td>" +
                                    "<td>" +
                                    "<button id='button-8' style='height:40px;margin-top:2px;margin-left:35px;border:none;background:none' title='Detalle Ticket' onClick='functionListarTicketResponsable(\"" + NumeroTicketGraphic + "\")'>" +
                                    "<img width='47' src='" + ImagenBotonDetalle5 + "' />" +
                                    /*  "<span style='font-size:14px;color:#fff'> Detalle</span>" +*/
                                    "</button>" +
                                    "</td>" +
                                    "</tr>";

                                      CantidadDeActividadCompletada = 0;
                                      CantidadDeActividad = 0;
                                      ResultadoPorcentaje = 0;
                                      NumeroTicketGraphic = "";
                            }

                        }


                        ContenedorTexto += "</tbody></table>";

                        divContainerTicketAndResponsible.innerHTML = ContenedorTexto;

                        $("#ContainerticketAndResponsible").removeClass("hidden");
                        $("#imgCargaContainerTicketAndResponsible").addClass("hidden");
                        $("#msjErrorContainerTicketAndResponsible").addClass("hidden");
                        $("#msjVacioContainerTicketAndResponsible").addClass("hidden");
                        $("#msjErrorListarContainerTicketAndResponsible").addClass("hidden");
                        $("#msjSuperaLimiteContainerTicketAndResponsible").addClass("hidden");


                        $("#btnBuscarStatusTicket").prop('disabled', false);
                        /* $("#BtnExportarExcel").prop('disabled', false);*/
                        //}

                    }
                    else {
                        //estadoCargarGrafico11 = "0";
                        //estadoCargarGrafico11 = "0";

                        /*Grafico 1*/
                        $("#ContainerticketAndResponsible").addClass("hidden");
                        $("#imgCargaContainerTicketAndResponsible").addClass("hidden");
                        $("#msjErrorContainerTicketAndResponsible").addClass("hidden");
                        $("#msjVacioContainerTicketAndResponsible").addClass("hidden");
                        $("#msjErrorListarContainerTicketAndResponsible").removeClass("hidden");
                        $("#msjSuperaLimiteContainerTicketAndResponsible").addClass("hidden");

                        $("#btnBuscarStatusTicket").prop('disabled', true);
                        /*  $("#BtnExportarExcel").prop('disabled', true);*/

                    }

                } else {

                    //$("#btnBuscarReporteCotizaciones").prop('disabled', false);
                    //estadoCargarGrafico11 = "0";
                    //estadoCargarGrafico11 = "0";
                    /*Grafico 1*/
                    $("#ContainerticketAndResponsible").addClass("hidden");
                    $("#imgCargaContainerTicketAndResponsible").addClass("hidden");
                    $("#msjErrorContainerTicketAndResponsible").addClass("hidden");
                    $("#msjVacioContainerTicketAndResponsible").removeClass("hidden");
                    $("#msjErrorListarContainerTicketAndResponsible").addClass("hidden");
                    $("#msjSuperaLimiteContainerTicketAndResponsible").addClass("hidden");

                    $("#btnBuscarStatusTicket").prop('disabled', false);
                    //$("#BtnExportarExcel").prop('disabled', false);

                }
            },
            error: function (xhr, ajaxOptions, thrownError) {
                //estadoCargarGrafico10 = "0";
                //estadoCargarGrafico11 = "0";
                /*fallo al llamar a la funcion ajax*/
                /*Grafico 1*/
                $("#ContainerticketAndResponsible").addClass("hidden");
                $("#imgCargaContainerTicketAndResponsible").addClass("hidden");
                $("#msjErrorContainerTicketAndResponsible").removeClass("hidden");
                $("#msjVacioContainerTicketAndResponsible").addClass("hidden");
                $("#msjErrorListarContainerTicketAndResponsible").addClass("hidden");
                $("#msjSuperaLimiteContainerTicketAndResponsible").addClass("hidden");

                $("#btnBuscarStatusTicket").prop('disabled', true);
                /*  $("#BtnExportarExcel").prop('disabled', true);*/

                console.log("ERROR AJAX : " + ajaxOptions);
                console.log("ERROR AJAX : " + thrownError);
                console.log(xhr.responseText);
                console.log(xhr);

            }
        });
    }

    function functionListarTicketResponsable(NroTicketValue0) {

        $.ajax({
            type: "GET", /*Puede ser post*/
            url: tRutaServidor + "/ListGeneralActivity/ListDetalleTicketResponsible", /* es importante poner los .. delante*/
            contentType: "application/json; charset=utf-8",
            data: {
                TicketNumber: NroTicketValue0,
            },
            dataType: "json",
            success: function (resultado) {

                /*exitosamente*/
                if (resultado.length > 0) {
                    /* proceso exitoso con datos*/
                    if (resultado[0].ValorConsulta == "1") {

                        var UserLogIn = "@User.Identity.Name.ToUpper().ToString()";
                         UserLogIn = UserLogIn.split(',')[0];

                         var UserProfile = "@User.Identity.Name.ToUpper().ToString()";
                         UserProfile = UserProfile.split(',')[2];

                         var usuarioTicketName = "@User.Identity.Name.ToUpper().ToString()";
                        usuarioTicketName = usuarioTicketName.split(',')[4];

                        IdTicketLst = resultado[0].IdTicket;

                        NroTicket = 0;
                        FechaRegistroTicket = "";
                        CallTicket = "";
                        RegisterTicket = "";
                        ResponsibleTicket = "";
                        OperacionTicket = "";
                        RazonTicket = "";
                        LocationTicket = "";
                        CriticidadTicket = "";
                        DetalleTicket = "";

                        NroTicketActivity = resultado[0].NroTicket;
                        NroTicket = resultado[0].NroTicket;
                        FechaRegistroTicket = resultado[0].StartDate;
                        CallTicket = resultado[0].FullNameTicket;
                        RegisterTicket = resultado[0].UsuarioNameTicket;
                        ResponsibleTicket = resultado[0].ResponsibleNameTicket;
                        OperacionTicketInform = resultado[0].OperationName;
                        OperacionTicket = resultado[0].OperationName;
                        RazonTicket = resultado[0].ReasonName;
                        LocationTicket = resultado[0].LocationNameTicket;
                        CriticidadTicket = resultado[0].CriticalityName;
                        DetalleTicket = resultado[0].DetalleText;
                        TitleTicketGlobal = resultado[0].TitleDetalle;

                        $("#TitleDetalleTicketMovil").val("");
                        $("#lblDetallerTicket").val("");
                        $("#selectorTicketLocationComplete").selectpicker('val', "");
                        $("#selectorTicketLocationComplete").selectpicker('refresh');

                        UserResponsibleId = resultado[0].ResponsibleId;

                        TitleProblemGlobal = resultado[0].ProblemTicket;
                        TitleSolucionGlobal = resultado[0].SolutionTicket;

                        var lblOperacion;
                        lblOperacion = document.getElementById("lblOperationTicket");
                        lblOperacion.innerHTML = OperacionTicket;

                        var lblQuienLlama;
                        lblQuienLlama = document.getElementById("lblWhoCallTicket");
                        lblQuienLlama.innerHTML = CallTicket;

                        var lblQuienRegistra;
                        lblQuienRegistra = document.getElementById("lblWhoRegisterTicket");
                        lblQuienRegistra.innerHTML = RegisterTicket;

                        var lblResponsable;
                        lblResponsable = document.getElementById("lblResponsibleTicket");
                        lblResponsable.innerHTML = ResponsibleTicket;

                        var lblRason;
                        lblRason = document.getElementById("lblReasonTicket");
                        lblRason.innerHTML = RazonTicket;

                        var lblCriticidad;
                        lblCriticidad = document.getElementById("lblCritiziedTicket");
                        lblCriticidad.innerHTML = CriticidadTicket;

                        var lblLocacion;
                        lblLocacion = document.getElementById("lblLocationTicket");
                        lblLocacion.innerHTML = LocationTicket;

                        var lblFechaFin;
                        lblFechaFin = document.getElementById("lblEndDateTicket");
                        lblFechaFin.innerHTML = FechaRegistroTicket;

                        var lblTitleTicket;
                        lblTitleTicket = document.getElementById("lblTitleTicket");
                        lblTitleTicket.innerHTML = resultado[0].TitleDetalle;

                        var lblTitleTicketMovil;
                        var lbltituloMovil = "";

                        lblTitleTicketMovil = document.getElementById("TitleDetalleTicketMovil");
                        lbltituloMovil = resultado[0].TitleDetalle;
                        lblTitleTicketMovil.innerHTML = lbltituloMovil;

                        var lblDescripcion;
                        lblDescripcion = document.getElementById("lblDetallerTicket");
                        lblDescripcion.innerHTML = DetalleTicket;

                        let FechaInicioModificado = document.querySelector("#lblFechaInicioAlertas");
                        FechaInicioModificado.innerHTML = "";
                        FechaInicioModificado.innerHTML = FechaRegistroTicket;

                        var titulo;
                        titulo = document.getElementById("lblModelTicketEditAlertas");

                        var lblOperacionInforme;
                        lblOperacionInforme = document.getElementById("lblOperacionFormatoTicket");
                        lblOperacionInforme.innerHTML = OperacionTicket;

                        var lblUsuarioTicket;
                        lblUsuarioTicket = document.getElementById("lblDeQuienFormatoTicket");
                        lblUsuarioTicket.innerHTML = usuarioTicketName;

                        if (resultado[0].MigrationStatus == 'C') {

                            titulo.innerHTML = NroTicket + " - " + "<span style='color:green'>COMPLETADO</span>";

                        } else if (resultado[0].MigrationStatus == 'O') {

                            titulo.innerHTML = NroTicket + " - " + "<span style='color:blue'>OPERANDO</span>";

                        } else {

                            titulo.innerHTML = NroTicket + " - " + "<span style='color:#dada27f7'>PENDIENTE</span>";

                        }

                        if (resultado[0].TicketTypeStatus == 'MOVIL') {

                            /*$("#btnProblemSolution").removeClass("hidden");*/

                            FilterPlatMov = 'M';

                            if (resultado[0].ValidationUserOpId == '0') {

                                $("#btnValidateTicket").prop('disabled', false);
                                $("#chkValidationOperation").prop('disabled', false);
                                $("#chkValidationOperation").prop('checked', false).change();


                            }
                            else {

                                $("#btnValidateTicket").prop('disabled', true);
                                $("#chkValidationOperation").prop('checked', true).change();
                                $("#chkValidationOperation").prop('disabled', true);

                            }

                            if (resultado[0].MigrationStatus == 'C') {

                                /*$(".btnEditDetailTicket").addClass("hidden");*/
                                $("#btnEditDetailTicketID").prop('disabled', true);
                                $("#btnCerrarTicket").prop('disabled', true);
                                $("#btnProcesandoTicket").removeClass("hidden");
                                $("#btnProcesandoTicket").prop('disabled', true);
                                $("#btnSubirInformeTicket").prop('disabled', true);
                                $("#btnAgregarActivity").prop('disabled', true);
                                $(".ContainerRegisterMovil").addClass("hidden");
                                $("#btnSaveVitacora").prop('disabled', true);
                                $("#btnSubirFormatoTicket2").prop('disabled', true);
                                /* $("#btnSaveRegisterMovil").prop('disabled', true);*/
                                $("#btnEnviarProblemSolution").prop('disabled', true);

                                ButtonsGridActivity = "<button class='btn-grid btn-xs BtnVerInfo' type='button' title='Ver datos'><i class='fa fa-lg fa-fw fas fa-eye'></i></button>";

                                $(".ContainerTitlelbl").removeClass("hidden");
                                $(".ContainerTitleComplete").addClass("hidden");

                                $(".ContainerLocationlbl").removeClass("hidden");
                                $(".ContainerLocationComplete").addClass("hidden");

                                /*$(".ContainerBtnEditTicketDetails").addClass("hidden");*/

                                /*$("#txtProblemticket").prop('disabled', true);*/
                                /*$("#txtSolutionticket").prop('disabled', true);*/

                                let IdsComponentes = resultado[0].ComponentIds;

                                IdsComponentes = IdsComponentes.split(', ');

                                $("#selectorComponente").val(IdsComponentes);
                                $("#selectorComponente").prop('disabled', true);
                                $("#selectorComponente").selectpicker('refresh');

                                $("#txtProblemticket").prop('disabled', true);
                                $("#txtSolutionticket").prop('disabled', true);
                                $("#btnEnviarProblemSolution").prop('disabled', true);


                                document.getElementById("txtProblemticket").value = resultado[0].ProblemTicket;
                                document.getElementById("txtSolutionticket").value = resultado[0].SolutionTicket;

                                $("#lblDetallerTicket").prop('disabled', true);

                                /*$("#txtProblemticket").prop('disabled', true);*/
                                /*$("#txtSolutionticket").prop('disabled', true);*/

                                document.getElementById("lblDetallerTicket").value = "";
                                //document.getElementById("txtProblemticket").value = "";
                                //document.getElementById("txtSolutionticket").value = "";

                                document.getElementById("lblDetallerTicket").value = resultado[0].DetalleText;
                                //document.getElementById("txtProblemticket").value = resultado[0].ProblemTicket;
                                //document.getElementById("txtSolutionticket").value = resultado[0].SolutionTicket;

                                $(".ContainerRegisterMovil").addClass("hidden");

                                ButtonsGridFileTicket = "<button class='btn-grid btn-xs BtnDescargarTicket' type='button' title='Ver datos'><i class='fa fa-lg fa-fw fas fa-cloud-download'></i></button>";

                            }
                            else {

                                $("#btnSaveVitacora").prop('disabled', false);

                                if (resultado[0].ComponentIds != '0') {

                                    let IdsComponentes = resultado[0].ComponentIds;

                                    IdsComponentes = IdsComponentes.split(', ');

                                    $("#selectorComponente").val(IdsComponentes);
                                    $("#selectorComponente").prop('disabled', true);
                                    $("#selectorComponente").selectpicker('refresh');

                                    $("#txtProblemticket").prop('disabled', true);
                                    $("#txtSolutionticket").prop('disabled', true);
                                    $("#btnEnviarProblemSolution").prop('disabled', true);

                                    document.getElementById("txtProblemticket").value = resultado[0].ProblemTicket;
                                    document.getElementById("txtSolutionticket").value = resultado[0].SolutionTicket;

                                }
                                else {

                                    $("#selectorComponente").val('');
                                    $("#selectorComponente").prop('disabled', false);
                                    $("#selectorComponente").selectpicker('refresh');

                                    $("#txtProblemticket").prop('disabled', false);
                                    $("#txtSolutionticket").prop('disabled', false);
                                    $("#btnEnviarProblemSolution").prop('disabled', false);

                                    document.getElementById("txtProblemticket").value = "";
                                    document.getElementById("txtSolutionticket").value = "";

                                }

                                if (UserLogIn == 1 || UserProfile == 10 || UserLogIn == resultado[0].WhoCallId) {

                                    $("#btnCerrarTicket").prop('disabled', false);
                                    $("#btnProcesandoTicket").removeClass("hidden");
                                    /* $(".btnEditDetailTicket").removeClass("hidden");*/
                                   /* $("#btnEditDetailTicketID").prop('disabled', false);*/

                                    if (resultado[0].MigrationStatus == 'O') {
                                        $("#btnProcesandoTicket").prop('disabled', true);
                                    } else {
                                        $("#btnProcesandoTicket").prop('disabled', false);
                                    }

                                    $("#btnSubirFormatoTicket2").prop('disabled', false);

                                    $("#btnSubirInformeTicket").prop('disabled', false);

                                    $("#btnAgregarActivity").prop('disabled', false);



                                    if (resultado[0].TitleDetalle == "" && resultado[0].LocationNameTicket == undefined) {

                                        $(".ContainerTitleComplete").removeClass("hidden");
                                        $(".ContainerTitlelbl").addClass("hidden");

                                        //$("#lblDetallerTicket").val("");
                                        //$("#TitleDetalleTicketMovil").val("");

                                        $("#lblDetallerTicket").prop('disabled', false);

                                        $(".ContainerLocationComplete").removeClass("hidden");
                                        $(".ContainerLocationlbl").addClass("hidden");
                                        $("#btnEditDetailTicketID").prop('disabled', false);
                                        /*$(".btnEditDetailTicket").removeClass("hidden");*/
                                    }
                                    else {

                                        $(".ContainerTitleComplete").addClass("hidden");
                                        $(".ContainerTitlelbl").removeClass("hidden");
                                        $("#btnEditDetailTicketID").prop('disabled', true);
                                        /*  $("#lblDetallerTicket").prop('disabled', true);*/
                                        /*   $(".btnEditDetailTicket").addClass("hidden");*/
                                        $(".ContainerLocationComplete").addClass("hidden");
                                        $(".ContainerLocationlbl").removeClass("hidden");
                                    }

                                    if (resultado[0].DetalleText != "") {

                                        $("#lblDetallerTicket").prop('disabled', false);
                                        $("#lblDetallerTicket").val(DetalleTicket);
                                        $("#lblDetallerTicket").prop('disabled', true);

                                    } else {
                                        $("#lblDetallerTicket").prop('disabled', false);
                                        $("#btnEditDetailTicketID").prop('disabled', false);
                                    }

                                    ButtonsGridFileTicket = "<button class='btn-grid btn-xs BtnEditTicket' type='button' title='Ver datos'><i class='fa fa-lg fa-fw fas fa-edit'></i></button>" + " " +
                                        "<button class='btn-grid btn-xs BtnDescargarTicket' type='button' title='Ver datos'><i class='fa fa-lg fa-fw fas fa-cloud-download'></i></button>"
                                        + " " + "<button class='btn-grid btn-xs BtnDeleteTicket' type='button' title='Ver datos'><i class='fa fa-trash-o fa-lg'></i></button>";

                                    ButtonsGridActivity = "<button class='btn-grid btn-xs BtnVerInfo' type='button' title='Ver datos'><i class='fa fa-lg fa-fw fas fa-eye'></i></button>" + " " +
                                        "<button class='btn-grid btn-xs BtnEdit' type='button' title='Editar'><i class='fa fa-lg fa-fw fas fa-edit'></i></button>";

                                }
                                else {
                                    /*          $(".btnEditDetailTicket").addClass("hidden");*/

                                    $(".ContainerTitlelbl").removeClass("hidden");
                                    $(".ContainerTitleComplete").addClass("hidden");

                                    $(".ContainerLocationlbl").removeClass("hidden");
                                    $(".ContainerLocationComplete").addClass("hidden");

                                    $("#btnCerrarTicket").prop('disabled', true);
                                    $("#btnEditDetailTicketID").prop('disabled', true);
                                    $("#btnEnviarProblemSolution").prop('disabled', true);

                                    $("#btnSubirFormatoTicket2").prop('disabled', true);
                                    $("#btnSubirInformeTicket").prop('disabled', true);
                                    $("#btnAgregarActivity").prop('disabled', true);

                                    /*$("#txtProblemticket").prop('disabled', true);*/
                                    /*$("#txtSolutionticket").prop('disabled', true);*/

                                    $("#btnValidateTicket").prop('disabled', true);

                                    $("#chkValidationOperation").prop('disabled', true);
                                    $("#btnProcesandoTicket").prop('disabled', true);

                                    ButtonsGridFileTicket = "<button class='btn-grid btn-xs BtnDescargarTicket' type='button' title='Ver datos'><i class='fa fa-lg fa-fw fas fa-cloud-download'></i></button>";

                                    ButtonsGridActivity = "<button class='btn-grid btn-xs BtnVerInfo' type='button' title='Ver datos'><i class='fa fa-lg fa-fw fas fa-eye'></i></button>";

                                }

                                ValidarStatusActividades();

                            }

                        }
                        else if (resultado[0].TicketTypeStatus == 'PLATAFORMA') {

                            /*  $(".btnEditDetailTicket").addClass("hidden");*/
                            $("#btnEditDetailTicketID").prop('disabled', true);
                            $(".ContainerTitlelbl").removeClass("hidden");
                            $(".ContainerTitleComplete").addClass("hidden");

                            $(".ContainerLocationlbl").removeClass("hidden");
                            $(".ContainerLocationComplete").addClass("hidden")

                            $("#lblDetallerTicket").prop('disabled', true);

                            /* $(".ContainerBtnEditTicketDetails").addClass("hidden");*/

                            /* $("#btnProblemSolution").addClass("hidden");*/

                            $(".Container3WS").removeClass("hidden");

                            FilterPlatMov = 'P';

                            if (resultado[0].MigrationStatus == 'O') {
                                $("#btnProcesandoTicket").prop('disabled', true);
                            }
                            else {
                                $("#btnProcesandoTicket").prop('disabled', false);
                            }

                            if (resultado[0].ValidationUserOpId == '0') {

                                $("#btnValidateTicket").prop('disabled', false);
                                $("#chkValidationOperation").prop('disabled', false);
                                $("#chkValidationOperation").prop('checked', false).change();


                            }
                            else {

                                $("#btnValidateTicket").prop('disabled', true);
                                $("#chkValidationOperation").prop('checked', true).change();
                                $("#chkValidationOperation").prop('disabled', true);

                            }

                            if (resultado[0].DetalleText != "") {

                                $("#lblDetallerTicket").prop('disabled', false);
                                $("#lblDetallerTicket").val(DetalleTicket);
                                $("#lblDetallerTicket").prop('disabled', true);

                            }

                            if (resultado[0].MigrationStatus == 'C') {

                                $("#btnCerrarTicket").prop('disabled', true);
                                $("#btnSubirFormatoTicket2").prop('disabled', true);
                                $("#btnSaveVitacora").prop('disabled', true);
                                $("#btnAgregarActivity").prop('disabled', true);
                                $("#btnSubirInformeTicket").prop('disabled', true);
                                $("#txtVitacoraTextSend").prop('disabled', true);
                                $("#btnProcesandoTicket").prop('disabled', true);
                                $("#chkValidationOperation").prop('disabled', true);
                                $("#btnValidateTicket").prop('disabled', true);

                                ButtonsGridActivity = "<button class='btn-grid btn-xs BtnVerInfo' type='button' title='Ver datos'><i class='fa fa-lg fa-fw fas fa-eye'></i></button>";
                                ButtonsGridFileTicket = "<button class='btn-grid btn-xs BtnDescargarTicket' type='button' title='Ver datos'><i class='fa fa-lg fa-fw fas fa-cloud-download'></i></button>";

                                let IdsComponentes = resultado[0].ComponentIds;

                                IdsComponentes = IdsComponentes.split(', ');

                                $("#selectorComponente").val(IdsComponentes);
                                $("#selectorComponente").prop('disabled', true);
                                $("#selectorComponente").selectpicker('refresh');

                                $("#txtProblemticket").prop('disabled', true);
                                $("#txtSolutionticket").prop('disabled', true);
                                $("#btnEnviarProblemSolution").prop('disabled', true);


                                document.getElementById("txtProblemticket").value = resultado[0].ProblemTicket;
                                document.getElementById("txtSolutionticket").value = resultado[0].SolutionTicket;

                            } else {

                                if (resultado[0].ComponentIds != '0') {

                                    let IdsComponentes = resultado[0].ComponentIds;

                                    IdsComponentes = IdsComponentes.split(', ');

                                    $("#selectorComponente").val(IdsComponentes);
                                    $("#selectorComponente").prop('disabled', true);
                                    $("#selectorComponente").selectpicker('refresh');

                                    $("#txtProblemticket").prop('disabled', true);
                                    $("#txtSolutionticket").prop('disabled', true);
                                    $("#btnEnviarProblemSolution").prop('disabled', true);

                                    document.getElementById("txtProblemticket").value = resultado[0].ProblemTicket;
                                    document.getElementById("txtSolutionticket").value = resultado[0].SolutionTicket;

                                } else {

                                    $("#selectorComponente").val('');
                                    $("#selectorComponente").prop('disabled', false);
                                    $("#selectorComponente").selectpicker('refresh');


                                    $("#txtProblemticket").prop('disabled', false);
                                    $("#txtSolutionticket").prop('disabled', false);
                                    $("#btnEnviarProblemSolution").prop('disabled', false);

                                    document.getElementById("txtProblemticket").value = "";
                                    document.getElementById("txtSolutionticket").value = "";

                                }

                                if (UserLogIn == 1 || UserProfile == 10 || UserLogIn == resultado[0].WhoCallId) {

                                    $("#btnSubirInformeTicket").prop('disabled', false);
                                    $("#btnSubirFormatoTicket2").prop('disabled', false);
                                    $("#btnSaveVitacora").prop('disabled', false);
                                    $("#btnAgregarActivity").prop('disabled', false);
                                    $("#txtVitacoraTextSend").prop('disabled', false);

                                    ButtonsGridActivity = "<button class='btn-grid btn-xs BtnVerInfo' type='button' title='Ver datos'><i class='fa fa-lg fa-fw fas fa-eye'></i></button>" + " " +
                                        "<button class='btn-grid btn-xs BtnEdit' type='button' title='Editar'><i class='fa fa-lg fa-fw fas fa-edit'></i></button>";

                                    ButtonsGridFileTicket = "<button class='btn-grid btn-xs BtnEditTicket' type='button' title='Ver datos'><i class='fa fa-lg fa-fw fas fa-edit'></i></button>" + " " +
                                        "<button class='btn-grid btn-xs BtnDescargarTicket' type='button' title='Ver datos'><i class='fa fa-lg fa-fw fas fa-cloud-download'></i></button>"
                                        + " " + "<button class='btn-grid btn-xs BtnDeleteTicket' type='button' title='Ver datos'><i class='fa fa-trash-o fa-lg'></i></button>";

                                } else {

                                    $("#btnCerrarTicket").prop('disabled', true);
                                    $("#btnSubirFormatoTicket2").prop('disabled', true);
                                    $("#btnSaveVitacora").prop('disabled', false);
                                    $("#btnAgregarActivity").prop('disabled', true);
                                    $("#btnSubirInformeTicket").prop('disabled', true);
                                    $("#txtVitacoraTextSend").prop('disabled', false);
                                    $("#chkValidationOperation").prop('disabled', true);
                                    $("#btnValidateTicket").prop('disabled', true);
                                    $("#btnEditDetailTicketID").prop('disabled', true);
                                    $("#btnEnviarProblemSolution").prop('disabled', true);

                                    ButtonsGridActivity = "<button class='btn-grid btn-xs BtnVerInfo' type='button' title='Ver datos'><i class='fa fa-lg fa-fw fas fa-eye'></i></button>";
                                    ButtonsGridFileTicket = "<button class='btn-grid btn-xs BtnDescargarTicket' type='button' title='Ver datos'><i class='fa fa-lg fa-fw fas fa-cloud-download'></i></button>";
                                }

                                ValidarStatusActividades();

                            }

                            @*if (UserRegister2 == UserResponsibleId || UserRegister == 10) {

                                if (resultado[0].MigrationStatus == 'C') {

                                    $("#btnCerrarTicket").prop('disabled', true);
                                    $("#btnSubirFormatoTicket2").prop('disabled', true);
                                    $("#btnSaveVitacora").prop('disabled', true);
                                    $("#btnAgregarActivity").prop('disabled', true);
                                    $("#btnSubirInformeTicket").prop('disabled', true);

                                    ButtonsGridActivity = "<button class='btn-grid btn-xs BtnVerInfo' type='button' title='Ver datos'><i class='fa fa-lg fa-fw fas fa-eye'></i></button>";

                                }
                                else {

                                    $("#btnSubirInformeTicket").prop('disabled', false);
                                    $("#btnSubirFormatoTicket2").prop('disabled', false);
                                    $("#btnSaveVitacora").prop('disabled', false);
                                    $("#btnAgregarActivity").prop('disabled', false);

                                    ValidarStatusActividades();

                                }

                            }
                            else {

                                $("#btnCerrarTicket").prop('disabled', true);

                                var UserRegister3 = "@User.Identity.Name.ToUpper().ToString()";
                                UserRegister3 = UserRegister3.split(',')[2];

                                if (resultado[0].MigrationStatus == 'C') {

                                    $("#btnCerrarTicket").prop('disabled', true);
                                    $("#btnSubirFormatoTicket2").prop('disabled', true);
                                    $("#btnSaveVitacora").prop('disabled', true);
                                    $("#btnAgregarActivity").prop('disabled', true);
                                    $("#btnSubirInformeTicket").prop('disabled', true);

                                    if (UserRegister3 == 1 || UserRegister3 == 2 || UserRegister3 == 10) {

                                        ButtonsGridActivity = "<button class='btn-grid btn-xs BtnVerInfo' type='button' title='Ver datos'><i class='fa fa-lg fa-fw fas fa-eye'></i></button>";

                                    }
                                    else {

                                        ButtonsGridActivity = "<button class='btn-grid btn-xs BtnVerInfo' type='button' title='Ver datos'><i class='fa fa-lg fa-fw fas fa-eye'></i></button>";

                                    }


                                }
                                else {

                                    $("#btnCerrarTicket").prop('disabled', true);
                                    $("#btnSubirFormatoTicket2").prop('disabled', false);
                                    $("#btnSaveVitacora").prop('disabled', false);
                                    $("#btnAgregarActivity").prop('disabled', false);
                                    $("#btnSubirInformeTicket").prop('disabled', false);

                                    if (UserRegister3 == 1 || UserRegister3 == 2 || UserRegister3 == 10) {

                                        ButtonsGridActivity = "<button class='btn-grid btn-xs BtnVerInfo' type='button' title='Ver datos'><i class='fa fa-lg fa-fw fas fa-eye'></i></button>" + " " +
                                            "<button class='btn-grid btn-xs BtnEdit' type='button' title='Editar'><i class='fa fa-lg fa-fw fas fa-edit'></i></button>";

                                    } else {

                                        ButtonsGridActivity = "<button class='btn-grid btn-xs BtnVerInfo' type='button' title='Ver datos'><i class='fa fa-lg fa-fw fas fa-eye'></i></button>";

                                    }

                                }

                            }*@
                         }

                        ListadoDescripcionVitacora(NroTicketActivity);
                        GrillaListadoActividadAlertas();
                        GrillaListadoArchivoTicket();

                        $('#ModalTicketEdit').modal('show');

                    }
                    else {
                        //estadoCargarGrafico11 = "0";
                        //estadoCargarGrafico11 = "0";

                        /*Grafico 1*/
                        $("#ContainerticketAndResponsible").addClass("hidden");
                        $("#imgCargaContainerTicketAndResponsible").addClass("hidden");
                        $("#msjErrorContainerTicketAndResponsible").addClass("hidden");
                        $("#msjVacioContainerTicketAndResponsible").addClass("hidden");
                        $("#msjErrorListarContainerTicketAndResponsible").removeClass("hidden");
                        $("#msjSuperaLimiteContainerTicketAndResponsible").addClass("hidden");

                    }

                } else {

                    //$("#btnBuscarReporteCotizaciones").prop('disabled', false);
                    //estadoCargarGrafico11 = "0";
                    //estadoCargarGrafico11 = "0";
                    /*Grafico 1*/
                    $("#ContainerticketAndResponsible").addClass("hidden");
                    $("#imgCargaContainerTicketAndResponsible").addClass("hidden");
                    $("#msjErrorContainerTicketAndResponsible").addClass("hidden");
                    $("#msjVacioContainerTicketAndResponsible").removeClass("hidden");
                    $("#msjErrorListarContainerTicketAndResponsible").addClass("hidden");
                    $("#msjSuperaLimiteContainerTicketAndResponsible").addClass("hidden");

                }
            },
            error: function (xhr, ajaxOptions, thrownError) {
                //estadoCargarGrafico10 = "0";
                //estadoCargarGrafico11 = "0";
                /*fallo al llamar a la funcion ajax*/
                /*Grafico 1*/
                $("#ContainerticketAndResponsible").addClass("hidden");
                $("#imgCargaContainerTicketAndResponsible").addClass("hidden");
                $("#msjErrorContainerTicketAndResponsible").removeClass("hidden");
                $("#msjVacioContainerTicketAndResponsible").addClass("hidden");
                $("#msjErrorListarContainerTicketAndResponsible").addClass("hidden");
                $("#msjSuperaLimiteContainerTicketAndResponsible").addClass("hidden");


                console.log("ERROR AJAX : " + ajaxOptions);
                console.log("ERROR AJAX : " + thrownError);
                console.log(xhr.responseText);
                console.log(xhr);

            }
        });

    }

    /*------------- REPORTABILIDAD USUARIO ACTIVIDAD --------*/

    function ListadoTablaMyTicket() {

        $("#ContainerJustMyTicket").addClass("hidden");
        $("#imgCargaContainerJustMyTicket").removeClass("hidden");
        $("#msjErrorContainerJustMyTicket").addClass("hidden");
        $("#msjVacioContainerJustMyTicket").addClass("hidden");
        $("#msjErrorListarContainerJustMyTicket").addClass("hidden");
        $("#msjSuperaLimiteContainerJustMyTicket").addClass("hidden");

        $.ajax({
            type: "GET", /*Puede ser post*/
            url: tRutaServidor + "/ListGeneralActivity/ListarUserActivitiesGraphic", /* es importante poner los .. delante*/
            contentType: "application/json; charset=utf-8",
            dataType: "json",
            success: function (resultado) {
                /*exitosamente*/
                if (resultado.length > 0) {
                    /* proceso exitoso con datos*/
                    if (resultado[0].ValorConsulta == "1") {

                        /*                        for (i = 0; i < resultadojson.length; i++) {*/

                        divContainerMyTicket.innerHTML = "";

                        let ContenedorTexto = "";
                        var NumeroTicketI = "";
                        var NumeroTicketGraphic = "";
                        var NumeroTicketX = "T00";
                        var CantidadDeActividadCompletada = 0;
                        var CantidadDeActividad = 0;
                        var ResultadoPorcentaje = 0;
                        var PersonaResponsableTicket = "";
                        var TitleTicketDescription = "";
                        var OperationAlias = "";
                        var OperacionColorCode = "";
                        var OperacionNameTable = "";
                        var PersonAlias = "";
                        var StatusBarProgress = "";
                        var IdPersonTicketList = "";

                        ContenedorTexto = "<table class='table table-striped'>" +
                            "<thead>" +
                            "<tr>" +
                            "<th scope='col' style='width: 120px; font-size: 18px; text-align: center'>Nro. Ticket</th>" +
                            "<th scope='col' style='font-size: 18px; text-align: center;' width:500px;>Titulo Ticket</th>" +
                            "<th scope='col' style='font-size: 18px; text-align: center;'>Operación</th>" +
                            "<th  scope='col' style='font-size: 18px; text-align: center; width:250px;'>Barra de Progreso</th>" +
                            /* "<th style='font-size: 18px; text-align: center' scope='col'>Foto</th>" +*/
                            "<th scope='col' style='font-size: 18px; text-align: center;'>Responsable</th>" +
                            "<th scope='col' style='font-size: 18px; text-align: center;'>Detalle Ticket</th>" +
                            "</tr>" +
                            "</thead>" +
                            "<tbody>";

                        for (i = 0; i < resultado.length; i++) { //recorro todas las fechas únicas

                            NumeroTicketI = resultado[i].NroTicket;

                            if (NumeroTicketI != NumeroTicketX) {

                                for (x = 0; x < resultado.length; x++) {

                                    if (NumeroTicketI == resultado[x].NroTicket) {

                                        CantidadDeActividad = CantidadDeActividad + 1;

                                        NumeroTicketGraphic = resultado[x].NroTicket;
                                        PersonaResponsableTicket = resultado[x].ResponsibleNameTicket;
                                        TitleTicketDescription = resultado[x].TitleDescription;
                                        OperationAlias = resultado[x].OperationAlias;
                                        OperacionColorCode = resultado[x].CodeColorOperation;
                                        OperacionNameTable = resultado[x].OperationName;
                                        PersonAlias = resultado[x].PersonAlias;
                                        IdPersonTicketList = resultado[x].IdPerson;

                                        if (resultado[x].MigrationStatus == 'C') {

                                            CantidadDeActividadCompletada = CantidadDeActividadCompletada + 1;

                                        }

                                        NumeroTicketX = resultado[x].NroTicket;

                                    }


                                }

                                ResultadoPorcentaje = Math.round((CantidadDeActividadCompletada / CantidadDeActividad) * 100);

                                StatusBarProgress = "";

                                if (ResultadoPorcentaje >= 0 && ResultadoPorcentaje <= 35) {

                                    StatusBarProgress = "#db2444";

                                } else if (ResultadoPorcentaje > 35 && ResultadoPorcentaje <= 65) {

                                    StatusBarProgress = "#cbc202";

                                } else if (ResultadoPorcentaje > 65 && ResultadoPorcentaje <= 100) {

                                    StatusBarProgress = "#24ce00";

                                }

                                ContenedorTexto += "<tr>" +
                                    "<td style='width: 120px; text-align:center;'>" +
                                    "<label style='margin-top: 22px; font-weight: bold; font-size: 20px;'>" + NumeroTicketGraphic + "</label>" +
                                    "</td>" +
                                    "<td>" +
                                    "<label style='font-size:18px;margin-top:22px;font-weight:bold;'>" + TitleTicketDescription + "</label>" +
                                    "</td>" +
                                    "<td>" +
                                    "<button id='button-8' title='" + OperacionNameTable + "' style='background:" + OperacionColorCode + ";color:white;font-size:30px;border:3px solid black;height:60px;width:60px;border-radius:35px;margin-left:18px;margin-top:6px;font-size:18px;font-weight: bold;' onClick='functionListarOperacion(\"" + OperacionNameTable + "\")'> " + OperationAlias + " </button>" +
                                    "</td>" +
                                    "<td>" +
                                    "<div class='progress' style='margin: 15px 0px 20px 0px;border-radius:10px;border: 3px solid black;'>" +
                                    "<div class='progress-bar progress-bar-striped progress-bar-animated active' id='IdBarPercentageTicketResponsible' role='progressbar' style='background-color:" + StatusBarProgress + ";width:" + ResultadoPorcentaje + "%;' aria-valuenow='25' aria-valuemin='0' aria-valuemax='100'><span id='TxtValuePercentageTicketResponsible'>" + ResultadoPorcentaje + "%</span></div>" +
                                    "</div>" +
                                    "</td>" +
                                    //"<td style='width:120px;'>" +
                                    //"<span class='widget-icon' style='width:60px;margin-left:15px'>" +
                                    //"<img width='70' style='margin-top:5px' src='" + ImagenUser2 + "' />" +
                                    //"</span>" +
                                    //"</td>" +
                                    //"<td style='border: 6px solid white;background:#ebebeb'>" +
                                    //"<label style='font-size:16px;margin-top:22px;font-family:system-ui'>" + PersonaResponsableTicket + "</label>" +
                                    //"</td>" +
                                    "<td>" +
                                    "<button id='button-8' title='" + PersonaResponsableTicket + "' style='border:4px solid " + OperacionColorCode + ";background:white;height:60px;width:60px;border-radius:35px;margin-left:40px;margin-top:6px;font-size:18px;font-weight: bold;' onClick='functionListarPersona(\"" + IdPersonTicketList + "\")'> " + PersonAlias + " </button>" +
                                    "</td>" +
                                    "<td>" +
                                    "<button id='button-8' style='height:40px;margin-top:2px;margin-left:35px;border:none;background:none' title='Detalle Ticket' onClick='functionListarUsuarioActividades(\"" + NumeroTicketGraphic + "\")'>" +
                                    "<img width='60' src='" + ImagenBotonDetalle5 + "' />" +
                                    /*  "<span style='font-size:14px;color:#fff'> Detalle</span>" +*/
                                    "</button>" +
                                    "</td>" +
                                    "</tr>";

                                CantidadDeActividadCompletada = 0;
                                CantidadDeActividad = 0;
                                ResultadoPorcentaje = 0;
                                NumeroTicketGraphic = "";
                            }

                        }


                        ContenedorTexto += "</tbody></table>";

                        divContainerMyTicket.innerHTML = ContenedorTexto;

                        $("#ContainerJustMyTicket").removeClass("hidden");
                        $("#imgCargaContainerJustMyTicket").addClass("hidden");
                        $("#msjErrorContainerJustMyTicket").addClass("hidden");
                        $("#msjVacioContainerJustMyTicket").addClass("hidden");
                        $("#msjErrorListarContainerJustMyTicket").addClass("hidden");
                        $("#msjSuperaLimiteContainerJustMyTicket").addClass("hidden");


                   /*     $("#btnBuscarStatusTicket").prop('disabled', false);*/
                        /* $("#BtnExportarExcel").prop('disabled', false);*/
                        //}

                    }
                    else {
                        //estadoCargarGrafico11 = "0";
                        //estadoCargarGrafico11 = "0";

                        /*Grafico 1*/
                        $("#ContainerJustMyTicket").addClass("hidden");
                        $("#imgCargaContainerJustMyTicket").addClass("hidden");
                        $("#msjErrorContainerJustMyTicket").addClass("hidden");
                        $("#msjVacioContainerJustMyTicket").addClass("hidden");
                        $("#msjErrorListarContainerJustMyTicket").removeClass("hidden");
                        $("#msjSuperaLimiteContainerJustMyTicket").addClass("hidden");

      /*                  $("#btnBuscarStatusTicket").prop('disabled', true);*/
                        /*  $("#BtnExportarExcel").prop('disabled', true);*/

                    }

                } else {

                    //$("#btnBuscarReporteCotizaciones").prop('disabled', false);
                    //estadoCargarGrafico11 = "0";
                    //estadoCargarGrafico11 = "0";
                    /*Grafico 1*/
                    $("#ContainerJustMyTicket").addClass("hidden");
                    $("#imgCargaContainerJustMyTicket").addClass("hidden");
                    $("#msjErrorContainerJustMyTicket").addClass("hidden");
                    $("#msjVacioContainerJustMyTicket").removeClass("hidden");
                    $("#msjErrorListarContainerJustMyTicket").addClass("hidden");
                    $("#msjSuperaLimiteContainerJustMyTicket").addClass("hidden");

                    /*$("#btnBuscarStatusTicket").prop('disabled', false);*/
                    //$("#BtnExportarExcel").prop('disabled', false);

                }
            },
            error: function (xhr, ajaxOptions, thrownError) {
                //estadoCargarGrafico10 = "0";
                //estadoCargarGrafico11 = "0";
                /*fallo al llamar a la funcion ajax*/
                /*Grafico 1*/
                $("#ContainerJustMyTicket").addClass("hidden");
                $("#imgCargaContainerJustMyTicket").addClass("hidden");
                $("#msjErrorContainerJustMyTicket").removeClass("hidden");
                $("#msjVacioContainerJustMyTicket").addClass("hidden");
                $("#msjErrorListarContainerJustMyTicket").addClass("hidden");
                $("#msjSuperaLimiteContainerJustMyTicket").addClass("hidden");

              /*  $("#btnBuscarStatusTicket").prop('disabled', true);*/
                /*  $("#BtnExportarExcel").prop('disabled', true);*/

                console.log("ERROR AJAX : " + ajaxOptions);
                console.log("ERROR AJAX : " + thrownError);
                console.log(xhr.responseText);
                console.log(xhr);

            }
        });
    }

    function functionListarUsuarioActividades(NroTicketValue0) {

        $.ajax({
            type: "GET", /*Puede ser post*/
            url: tRutaServidor + "/ListGeneralActivity/ListDetalleTicketResponsible", /* es importante poner los .. delante*/
            contentType: "application/json; charset=utf-8",
            data: {
                TicketNumber: NroTicketValue0,
            },
            dataType: "json",
            success: function (resultado) {

                /*exitosamente*/
                if (resultado.length > 0) {
                    /* proceso exitoso con datos*/
                    if (resultado[0].ValorConsulta == "1") {

                         var UserLogIn = "@User.Identity.Name.ToUpper().ToString()";
                         UserLogIn = UserLogIn.split(',')[0];

                         var UserProfile = "@User.Identity.Name.ToUpper().ToString()";
                         UserProfile = UserProfile.split(',')[2];

                         var usuarioTicketName = "@User.Identity.Name.ToUpper().ToString()";
                        usuarioTicketName = usuarioTicketName.split(',')[4];

                        IdTicketLst = resultado[0].IdTicket;

                        NroTicket = 0;
                        FechaRegistroTicket = "";
                        CallTicket = "";
                        RegisterTicket = "";
                        ResponsibleTicket = "";
                        OperacionTicket = "";
                        RazonTicket = "";
                        LocationTicket = "";
                        CriticidadTicket = "";
                        DetalleTicket = "";

                        NroTicketActivity = resultado[0].NroTicket;
                        NroTicket = resultado[0].NroTicket;
                        FechaRegistroTicket = resultado[0].StartDate;
                        CallTicket = resultado[0].FullNameTicket;
                        RegisterTicket = resultado[0].UsuarioNameTicket;
                        ResponsibleTicket = resultado[0].ResponsibleNameTicket;
                        OperacionTicketInform = resultado[0].OperationName;
                        OperacionTicket = resultado[0].OperationName;
                        RazonTicket = resultado[0].ReasonName;
                        LocationTicket = resultado[0].LocationNameTicket;
                        CriticidadTicket = resultado[0].CriticalityName;
                        DetalleTicket = resultado[0].DetalleText;
                        TitleTicketGlobal = resultado[0].TitleDetalle;

                        $("#TitleDetalleTicketMovil").val("");
                        $("#lblDetallerTicket").val("");
                        $("#selectorTicketLocationComplete").selectpicker('val', "");
                        $("#selectorTicketLocationComplete").selectpicker('refresh');

                        UserResponsibleId = resultado[0].ResponsibleId;

                        TitleProblemGlobal = resultado[0].ProblemTicket;
                        TitleSolucionGlobal = resultado[0].SolutionTicket;

                        var lblOperacion;
                        lblOperacion = document.getElementById("lblOperationTicket");
                        lblOperacion.innerHTML = OperacionTicket;

                        var lblQuienLlama;
                        lblQuienLlama = document.getElementById("lblWhoCallTicket");
                        lblQuienLlama.innerHTML = CallTicket;

                        var lblQuienRegistra;
                        lblQuienRegistra = document.getElementById("lblWhoRegisterTicket");
                        lblQuienRegistra.innerHTML = RegisterTicket;

                        var lblResponsable;
                        lblResponsable = document.getElementById("lblResponsibleTicket");
                        lblResponsable.innerHTML = ResponsibleTicket;

                        var lblRason;
                        lblRason = document.getElementById("lblReasonTicket");
                        lblRason.innerHTML = RazonTicket;

                        var lblCriticidad;
                        lblCriticidad = document.getElementById("lblCritiziedTicket");
                        lblCriticidad.innerHTML = CriticidadTicket;

                        var lblLocacion;
                        lblLocacion = document.getElementById("lblLocationTicket");
                        lblLocacion.innerHTML = LocationTicket;

                        var lblFechaFin;
                        lblFechaFin = document.getElementById("lblEndDateTicket");
                        lblFechaFin.innerHTML = FechaRegistroTicket;

                        var lblTitleTicket;
                        lblTitleTicket = document.getElementById("lblTitleTicket");
                        lblTitleTicket.innerHTML = resultado[0].TitleDetalle;

                        var lblTitleTicketMovil;
                        var lbltituloMovil = "";

                        lblTitleTicketMovil = document.getElementById("TitleDetalleTicketMovil");
                        lbltituloMovil = resultado[0].TitleDetalle;
                        lblTitleTicketMovil.innerHTML = lbltituloMovil;

                        var lblDescripcion;
                        lblDescripcion = document.getElementById("lblDetallerTicket");
                        lblDescripcion.innerHTML = DetalleTicket;

                        let FechaInicioModificado = document.querySelector("#lblFechaInicioAlertas");
                        FechaInicioModificado.innerHTML = "";
                        FechaInicioModificado.innerHTML = FechaRegistroTicket;

                        var titulo;
                        titulo = document.getElementById("lblModelTicketEditAlertas");

                        var lblOperacionInforme;
                        lblOperacionInforme = document.getElementById("lblOperacionFormatoTicket");
                        lblOperacionInforme.innerHTML = OperacionTicket;

                        var lblUsuarioTicket;
                        lblUsuarioTicket = document.getElementById("lblDeQuienFormatoTicket");
                        lblUsuarioTicket.innerHTML = usuarioTicketName;

                        if (resultado[0].MigrationStatus == 'C') {

                            titulo.innerHTML = NroTicket + " - " + "<span style='color:green'>COMPLETADO</span>";

                        } else if (resultado[0].MigrationStatus == 'O') {

                            titulo.innerHTML = NroTicket + " - " + "<span style='color:blue'>OPERANDO</span>";

                        } else {

                            titulo.innerHTML = NroTicket + " - " + "<span style='color:#dada27f7'>PENDIENTE</span>";

                        }

                        if (resultado[0].TicketTypeStatus == 'MOVIL') {

                            /*$("#btnProblemSolution").removeClass("hidden");*/

                            FilterPlatMov = 'M';

                            if (resultado[0].ValidationUserOpId == '0') {

                                $("#btnValidateTicket").prop('disabled', false);
                                $("#chkValidationOperation").prop('disabled', false);
                                $("#chkValidationOperation").prop('checked', false).change();


                            }
                            else {

                                $("#btnValidateTicket").prop('disabled', true);
                                $("#chkValidationOperation").prop('checked', true).change();
                                $("#chkValidationOperation").prop('disabled', true);

                            }

                            if (resultado[0].MigrationStatus == 'C') {

                                /*$(".btnEditDetailTicket").addClass("hidden");*/
                                $("#btnEditDetailTicketID").prop('disabled', true);
                                $("#btnCerrarTicket").prop('disabled', true);
                                $("#btnProcesandoTicket").removeClass("hidden");
                                $("#btnProcesandoTicket").prop('disabled', true);
                                $("#btnSubirInformeTicket").prop('disabled', true);
                                $("#btnAgregarActivity").prop('disabled', true);
                                $(".ContainerRegisterMovil").addClass("hidden");
                                $("#btnSaveVitacora").prop('disabled', true);
                                $("#btnSubirFormatoTicket2").prop('disabled', true);
                                /* $("#btnSaveRegisterMovil").prop('disabled', true);*/
                                $("#btnEnviarProblemSolution").prop('disabled', true);

                                ButtonsGridActivity = "<button class='btn-grid btn-xs BtnVerInfo' type='button' title='Ver datos'><i class='fa fa-lg fa-fw fas fa-eye'></i></button>";

                                $(".ContainerTitlelbl").removeClass("hidden");
                                $(".ContainerTitleComplete").addClass("hidden");

                                $(".ContainerLocationlbl").removeClass("hidden");
                                $(".ContainerLocationComplete").addClass("hidden");

                                /*$(".ContainerBtnEditTicketDetails").addClass("hidden");*/

                                /*$("#txtProblemticket").prop('disabled', true);*/
                                /*$("#txtSolutionticket").prop('disabled', true);*/

                                let IdsComponentes = resultado[0].ComponentIds;

                                IdsComponentes = IdsComponentes.split(', ');

                                $("#selectorComponente").val(IdsComponentes);
                                $("#selectorComponente").prop('disabled', true);
                                $("#selectorComponente").selectpicker('refresh');

                                $("#txtProblemticket").prop('disabled', true);
                                $("#txtSolutionticket").prop('disabled', true);
                                $("#btnEnviarProblemSolution").prop('disabled', true);


                                document.getElementById("txtProblemticket").value = resultado[0].ProblemTicket;
                                document.getElementById("txtSolutionticket").value = resultado[0].SolutionTicket;

                                $("#lblDetallerTicket").prop('disabled', true);

                                /*$("#txtProblemticket").prop('disabled', true);*/
                                /*$("#txtSolutionticket").prop('disabled', true);*/

                                document.getElementById("lblDetallerTicket").value = "";
                                //document.getElementById("txtProblemticket").value = "";
                                //document.getElementById("txtSolutionticket").value = "";

                                document.getElementById("lblDetallerTicket").value = resultado[0].DetalleText;
                                //document.getElementById("txtProblemticket").value = resultado[0].ProblemTicket;
                                //document.getElementById("txtSolutionticket").value = resultado[0].SolutionTicket;

                                $(".ContainerRegisterMovil").addClass("hidden");

                                ButtonsGridFileTicket = "<button class='btn-grid btn-xs BtnDescargarTicket' type='button' title='Ver datos'><i class='fa fa-lg fa-fw fas fa-cloud-download'></i></button>";

                            }
                            else {

                                $("#btnSaveVitacora").prop('disabled', false);

                                if (resultado[0].ComponentIds != '0') {

                                    let IdsComponentes = resultado[0].ComponentIds;

                                    IdsComponentes = IdsComponentes.split(', ');

                                    $("#selectorComponente").val(IdsComponentes);
                                    $("#selectorComponente").prop('disabled', true);
                                    $("#selectorComponente").selectpicker('refresh');

                                    $("#txtProblemticket").prop('disabled', true);
                                    $("#txtSolutionticket").prop('disabled', true);
                                    $("#btnEnviarProblemSolution").prop('disabled', true);

                                    document.getElementById("txtProblemticket").value = resultado[0].ProblemTicket;
                                    document.getElementById("txtSolutionticket").value = resultado[0].SolutionTicket;

                                }
                                else {

                                    $("#selectorComponente").val('');
                                    $("#selectorComponente").prop('disabled', false);
                                    $("#selectorComponente").selectpicker('refresh');

                                    $("#txtProblemticket").prop('disabled', false);
                                    $("#txtSolutionticket").prop('disabled', false);
                                    $("#btnEnviarProblemSolution").prop('disabled', false);

                                    document.getElementById("txtProblemticket").value = "";
                                    document.getElementById("txtSolutionticket").value = "";

                                }

                                if (UserLogIn == 1 || UserProfile == 10 || UserLogIn == resultado[0].WhoCallId) {

                                    $("#btnCerrarTicket").prop('disabled', false);
                                    $("#btnProcesandoTicket").removeClass("hidden");
                                    /* $(".btnEditDetailTicket").removeClass("hidden");*/
                                   /* $("#btnEditDetailTicketID").prop('disabled', false);*/

                                    if (resultado[0].MigrationStatus == 'O') {
                                        $("#btnProcesandoTicket").prop('disabled', true);
                                    } else {
                                        $("#btnProcesandoTicket").prop('disabled', false);
                                    }

                                    $("#btnSubirFormatoTicket2").prop('disabled', false);

                                    $("#btnSubirInformeTicket").prop('disabled', false);

                                    $("#btnAgregarActivity").prop('disabled', false);



                                    if (resultado[0].TitleDetalle == "" && resultado[0].LocationNameTicket == undefined) {

                                        $(".ContainerTitleComplete").removeClass("hidden");
                                        $(".ContainerTitlelbl").addClass("hidden");

                                        //$("#lblDetallerTicket").val("");
                                        //$("#TitleDetalleTicketMovil").val("");

                                        $("#lblDetallerTicket").prop('disabled', false);

                                        $(".ContainerLocationComplete").removeClass("hidden");
                                        $(".ContainerLocationlbl").addClass("hidden");
                                        $("#btnEditDetailTicketID").prop('disabled', false);
                                        /*$(".btnEditDetailTicket").removeClass("hidden");*/
                                    }
                                    else {

                                        $(".ContainerTitleComplete").addClass("hidden");
                                        $(".ContainerTitlelbl").removeClass("hidden");
                                        $("#btnEditDetailTicketID").prop('disabled', true);
                                        /*  $("#lblDetallerTicket").prop('disabled', true);*/
                                        /*   $(".btnEditDetailTicket").addClass("hidden");*/
                                        $(".ContainerLocationComplete").addClass("hidden");
                                        $(".ContainerLocationlbl").removeClass("hidden");
                                    }

                                    if (resultado[0].DetalleText != "") {

                                        $("#lblDetallerTicket").prop('disabled', false);
                                        $("#lblDetallerTicket").val(DetalleTicket);
                                        $("#lblDetallerTicket").prop('disabled', true);

                                    } else {
                                        $("#lblDetallerTicket").prop('disabled', false);
                                        $("#btnEditDetailTicketID").prop('disabled', false);
                                    }

                                    ButtonsGridFileTicket = "<button class='btn-grid btn-xs BtnEditTicket' type='button' title='Ver datos'><i class='fa fa-lg fa-fw fas fa-edit'></i></button>" + " " +
                                        "<button class='btn-grid btn-xs BtnDescargarTicket' type='button' title='Ver datos'><i class='fa fa-lg fa-fw fas fa-cloud-download'></i></button>"
                                        + " " + "<button class='btn-grid btn-xs BtnDeleteTicket' type='button' title='Ver datos'><i class='fa fa-trash-o fa-lg'></i></button>";

                                    ButtonsGridActivity = "<button class='btn-grid btn-xs BtnVerInfo' type='button' title='Ver datos'><i class='fa fa-lg fa-fw fas fa-eye'></i></button>" + " " +
                                        "<button class='btn-grid btn-xs BtnEdit' type='button' title='Editar'><i class='fa fa-lg fa-fw fas fa-edit'></i></button>";

                                }
                                else {
                                    /*          $(".btnEditDetailTicket").addClass("hidden");*/

                                    $(".ContainerTitlelbl").removeClass("hidden");
                                    $(".ContainerTitleComplete").addClass("hidden");

                                    $(".ContainerLocationlbl").removeClass("hidden");
                                    $(".ContainerLocationComplete").addClass("hidden");

                                    $("#btnCerrarTicket").prop('disabled', true);
                                    $("btnEditDetailTicketID").prop('disabled', true);

                                    $("#btnSubirFormatoTicket2").prop('disabled', true);
                                    $("#btnSubirInformeTicket").prop('disabled', true);
                                    $("#btnAgregarActivity").prop('disabled', true);

                                    /*$("#txtProblemticket").prop('disabled', true);*/
                                    /*$("#txtSolutionticket").prop('disabled', true);*/

                                    $("#btnValidateTicket").prop('disabled', true);

                                    $("#chkValidationOperation").prop('disabled', true);
                                    $("#btnProcesandoTicket").prop('disabled', true);

                                    ButtonsGridFileTicket = "<button class='btn-grid btn-xs BtnDescargarTicket' type='button' title='Ver datos'><i class='fa fa-lg fa-fw fas fa-cloud-download'></i></button>";

                                    ButtonsGridActivity = "<button class='btn-grid btn-xs BtnVerInfo' type='button' title='Ver datos'><i class='fa fa-lg fa-fw fas fa-eye'></i></button>";

                                }

                                ValidarStatusActividades();

                            }

                        }
                        else if (resultado[0].TicketTypeStatus == 'PLATAFORMA') {

                            /*  $(".btnEditDetailTicket").addClass("hidden");*/
                            $("#btnEditDetailTicketID").prop('disabled', true);
                            $(".ContainerTitlelbl").removeClass("hidden");
                            $(".ContainerTitleComplete").addClass("hidden");

                            $(".ContainerLocationlbl").removeClass("hidden");
                            $(".ContainerLocationComplete").addClass("hidden")

                            $("#lblDetallerTicket").prop('disabled', true);

                            /* $(".ContainerBtnEditTicketDetails").addClass("hidden");*/

                            /* $("#btnProblemSolution").addClass("hidden");*/

                            $(".Container3WS").removeClass("hidden");

                            FilterPlatMov = 'P';

                            if (resultado[0].MigrationStatus == 'O') {
                                $("#btnProcesandoTicket").prop('disabled', true);
                            }
                            else {
                                $("#btnProcesandoTicket").prop('disabled', false);
                            }

                            if (resultado[0].ValidationUserOpId == '0') {

                                $("#btnValidateTicket").prop('disabled', false);
                                $("#chkValidationOperation").prop('disabled', false);
                                $("#chkValidationOperation").prop('checked', false).change();


                            }
                            else {

                                $("#btnValidateTicket").prop('disabled', true);
                                $("#chkValidationOperation").prop('checked', true).change();
                                $("#chkValidationOperation").prop('disabled', true);

                            }

                            if (resultado[0].DetalleText != "") {

                                $("#lblDetallerTicket").prop('disabled', false);
                                $("#lblDetallerTicket").val(DetalleTicket);
                                $("#lblDetallerTicket").prop('disabled', true);

                            }

                            if (resultado[0].MigrationStatus == 'C') {

                                $("#btnCerrarTicket").prop('disabled', true);
                                $("#btnSubirFormatoTicket2").prop('disabled', true);
                                $("#btnSaveVitacora").prop('disabled', true);
                                $("#btnAgregarActivity").prop('disabled', true);
                                $("#btnSubirInformeTicket").prop('disabled', true);
                                $("#txtVitacoraTextSend").prop('disabled', true);
                                $("#btnProcesandoTicket").prop('disabled', true);
                                $("#chkValidationOperation").prop('disabled', true);
                                $("#btnValidateTicket").prop('disabled', true);

                                ButtonsGridActivity = "<button class='btn-grid btn-xs BtnVerInfo' type='button' title='Ver datos'><i class='fa fa-lg fa-fw fas fa-eye'></i></button>";
                                ButtonsGridFileTicket = "<button class='btn-grid btn-xs BtnDescargarTicket' type='button' title='Ver datos'><i class='fa fa-lg fa-fw fas fa-cloud-download'></i></button>";

                                let IdsComponentes = resultado[0].ComponentIds;

                                IdsComponentes = IdsComponentes.split(', ');

                                $("#selectorComponente").val(IdsComponentes);
                                $("#selectorComponente").prop('disabled', true);
                                $("#selectorComponente").selectpicker('refresh');

                                $("#txtProblemticket").prop('disabled', true);
                                $("#txtSolutionticket").prop('disabled', true);
                                $("#btnEnviarProblemSolution").prop('disabled', true);


                                document.getElementById("txtProblemticket").value = resultado[0].ProblemTicket;
                                document.getElementById("txtSolutionticket").value = resultado[0].SolutionTicket;

                            } else {

                                if (resultado[0].ComponentIds != '0') {

                                    let IdsComponentes = resultado[0].ComponentIds;

                                    IdsComponentes = IdsComponentes.split(', ');

                                    $("#selectorComponente").val(IdsComponentes);
                                    $("#selectorComponente").prop('disabled', true);
                                    $("#selectorComponente").selectpicker('refresh');

                                    $("#txtProblemticket").prop('disabled', true);
                                    $("#txtSolutionticket").prop('disabled', true);
                                    $("#btnEnviarProblemSolution").prop('disabled', true);

                                    document.getElementById("txtProblemticket").value = resultado[0].ProblemTicket;
                                    document.getElementById("txtSolutionticket").value = resultado[0].SolutionTicket;

                                } else {

                                    $("#selectorComponente").val('');
                                    $("#selectorComponente").prop('disabled', false);
                                    $("#selectorComponente").selectpicker('refresh');


                                    $("#txtProblemticket").prop('disabled', false);
                                    $("#txtSolutionticket").prop('disabled', false);
                                    $("#btnEnviarProblemSolution").prop('disabled', false);

                                    document.getElementById("txtProblemticket").value = "";
                                    document.getElementById("txtSolutionticket").value = "";

                                }

                                if (UserLogIn == 1 || UserProfile == 10) {

                                    $("#btnSubirInformeTicket").prop('disabled', false);
                                    $("#btnSubirFormatoTicket2").prop('disabled', false);
                                    $("#btnSaveVitacora").prop('disabled', false);
                                    $("#btnAgregarActivity").prop('disabled', false);
                                    $("#txtVitacoraTextSend").prop('disabled', false);

                                    ButtonsGridActivity = "<button class='btn-grid btn-xs BtnVerInfo' type='button' title='Ver datos'><i class='fa fa-lg fa-fw fas fa-eye'></i></button>" + " " +
                                        "<button class='btn-grid btn-xs BtnEdit' type='button' title='Editar'><i class='fa fa-lg fa-fw fas fa-edit'></i></button>";

                                    ButtonsGridFileTicket = "<button class='btn-grid btn-xs BtnEditTicket' type='button' title='Ver datos'><i class='fa fa-lg fa-fw fas fa-edit'></i></button>" + " " +
                                        "<button class='btn-grid btn-xs BtnDescargarTicket' type='button' title='Ver datos'><i class='fa fa-lg fa-fw fas fa-cloud-download'></i></button>"
                                        + " " + "<button class='btn-grid btn-xs BtnDeleteTicket' type='button' title='Ver datos'><i class='fa fa-trash-o fa-lg'></i></button>";

                                } else {

                                    $("#btnCerrarTicket").prop('disabled', true);
                                    $("#btnSubirFormatoTicket2").prop('disabled', true);
                                    $("#btnSaveVitacora").prop('disabled', false);
                                    $("#btnAgregarActivity").prop('disabled', true);
                                    $("#btnSubirInformeTicket").prop('disabled', true);
                                    $("#txtVitacoraTextSend").prop('disabled', false);
                                    $("#chkValidationOperation").prop('disabled', true);
                                    $("#btnValidateTicket").prop('disabled', true);

                                    ButtonsGridActivity = "<button class='btn-grid btn-xs BtnVerInfo' type='button' title='Ver datos'><i class='fa fa-lg fa-fw fas fa-eye'></i></button>";
                                    ButtonsGridFileTicket = "<button class='btn-grid btn-xs BtnDescargarTicket' type='button' title='Ver datos'><i class='fa fa-lg fa-fw fas fa-cloud-download'></i></button>";
                                }

                                ValidarStatusActividades();

                            }

                            @*if (UserRegister2 == UserResponsibleId || UserRegister == 10) {

                                if (resultado[0].MigrationStatus == 'C') {

                                    $("#btnCerrarTicket").prop('disabled', true);
                                    $("#btnSubirFormatoTicket2").prop('disabled', true);
                                    $("#btnSaveVitacora").prop('disabled', true);
                                    $("#btnAgregarActivity").prop('disabled', true);
                                    $("#btnSubirInformeTicket").prop('disabled', true);

                                    ButtonsGridActivity = "<button class='btn-grid btn-xs BtnVerInfo' type='button' title='Ver datos'><i class='fa fa-lg fa-fw fas fa-eye'></i></button>";

                                }
                                else {

                                    $("#btnSubirInformeTicket").prop('disabled', false);
                                    $("#btnSubirFormatoTicket2").prop('disabled', false);
                                    $("#btnSaveVitacora").prop('disabled', false);
                                    $("#btnAgregarActivity").prop('disabled', false);

                                    ValidarStatusActividades();

                                }

                            }
                            else {

                                $("#btnCerrarTicket").prop('disabled', true);

                                var UserRegister3 = "@User.Identity.Name.ToUpper().ToString()";
                                UserRegister3 = UserRegister3.split(',')[2];

                                if (resultado[0].MigrationStatus == 'C') {

                                    $("#btnCerrarTicket").prop('disabled', true);
                                    $("#btnSubirFormatoTicket2").prop('disabled', true);
                                    $("#btnSaveVitacora").prop('disabled', true);
                                    $("#btnAgregarActivity").prop('disabled', true);
                                    $("#btnSubirInformeTicket").prop('disabled', true);

                                    if (UserRegister3 == 1 || UserRegister3 == 2 || UserRegister3 == 10) {

                                        ButtonsGridActivity = "<button class='btn-grid btn-xs BtnVerInfo' type='button' title='Ver datos'><i class='fa fa-lg fa-fw fas fa-eye'></i></button>";

                                    }
                                    else {

                                        ButtonsGridActivity = "<button class='btn-grid btn-xs BtnVerInfo' type='button' title='Ver datos'><i class='fa fa-lg fa-fw fas fa-eye'></i></button>";

                                    }


                                }
                                else {

                                    $("#btnCerrarTicket").prop('disabled', true);
                                    $("#btnSubirFormatoTicket2").prop('disabled', false);
                                    $("#btnSaveVitacora").prop('disabled', false);
                                    $("#btnAgregarActivity").prop('disabled', false);
                                    $("#btnSubirInformeTicket").prop('disabled', false);

                                    if (UserRegister3 == 1 || UserRegister3 == 2 || UserRegister3 == 10) {

                                        ButtonsGridActivity = "<button class='btn-grid btn-xs BtnVerInfo' type='button' title='Ver datos'><i class='fa fa-lg fa-fw fas fa-eye'></i></button>" + " " +
                                            "<button class='btn-grid btn-xs BtnEdit' type='button' title='Editar'><i class='fa fa-lg fa-fw fas fa-edit'></i></button>";

                                    } else {

                                        ButtonsGridActivity = "<button class='btn-grid btn-xs BtnVerInfo' type='button' title='Ver datos'><i class='fa fa-lg fa-fw fas fa-eye'></i></button>";

                                    }

                                }

                            }*@
                         }

                        ListadoDescripcionVitacora(NroTicketActivity);
                        GrillaListadoActividadAlertas();
                        GrillaListadoArchivoTicket();

                        $('#ModalTicketEdit').modal('show');
                    }
                    else {
                        //estadoCargarGrafico11 = "0";
                        //estadoCargarGrafico11 = "0";

                        /*Grafico 1*/
                        $("#ContainerticketAndResponsible").addClass("hidden");
                        $("#imgCargaContainerTicketAndResponsible").addClass("hidden");
                        $("#msjErrorContainerTicketAndResponsible").addClass("hidden");
                        $("#msjVacioContainerTicketAndResponsible").addClass("hidden");
                        $("#msjErrorListarContainerTicketAndResponsible").removeClass("hidden");
                        $("#msjSuperaLimiteContainerTicketAndResponsible").addClass("hidden");

                    }

                } else {

                    //$("#btnBuscarReporteCotizaciones").prop('disabled', false);
                    //estadoCargarGrafico11 = "0";
                    //estadoCargarGrafico11 = "0";
                    /*Grafico 1*/
                    $("#ContainerticketAndResponsible").addClass("hidden");
                    $("#imgCargaContainerTicketAndResponsible").addClass("hidden");
                    $("#msjErrorContainerTicketAndResponsible").addClass("hidden");
                    $("#msjVacioContainerTicketAndResponsible").removeClass("hidden");
                    $("#msjErrorListarContainerTicketAndResponsible").addClass("hidden");
                    $("#msjSuperaLimiteContainerTicketAndResponsible").addClass("hidden");

                }
            },
            error: function (xhr, ajaxOptions, thrownError) {
                //estadoCargarGrafico10 = "0";
                //estadoCargarGrafico11 = "0";
                /*fallo al llamar a la funcion ajax*/
                /*Grafico 1*/
                $("#ContainerticketAndResponsible").addClass("hidden");
                $("#imgCargaContainerTicketAndResponsible").addClass("hidden");
                $("#msjErrorContainerTicketAndResponsible").removeClass("hidden");
                $("#msjVacioContainerTicketAndResponsible").addClass("hidden");
                $("#msjErrorListarContainerTicketAndResponsible").addClass("hidden");
                $("#msjSuperaLimiteContainerTicketAndResponsible").addClass("hidden");


                console.log("ERROR AJAX : " + ajaxOptions);
                console.log("ERROR AJAX : " + thrownError);
                console.log(xhr.responseText);
                console.log(xhr);

            }
        });

    }

    /*---------- BOTON PARA VER PROYECTOS ------------*/

    /*-------------------------------*/

    function CantidadTicketByEvent() {

        $.ajax({
            type: "GET", /*Puede ser post*/
            url: tRutaServidor + "/Ticket/CantidadTicketByEvent", /* es importante poner los .. delante*/
            contentType: "application/json; charset=utf-8",
            //data:
            //     "IdOperation=" + IdOperatorTicket,
            dataType: "json",
            success: function (resultado) {

                /*exitosamente*/
                if (resultado.length > 0) {
                    /* proceso exitoso con datos*/

                    if (resultado[0].ValorConsulta == "1") {

                        for (i = 0; i < resultado.length; i++) {

                            if (resultado[i].CategoryTicketStatus == 'E') {

                                document.getElementById("lblEventFallasistema").innerHTML = resultado[i].QuantityTicketEvent;

                            } else if (resultado[i].CategoryTicketStatus == 'M') {

                                document.getElementById("lblEventMantenimientoProgramado").innerHTML = resultado[i].QuantityTicketEvent;

                            }
                            else if (resultado[i].CategoryTicketStatus == 'P') {

                                document.getElementById("lblEventNuevoProyecto").innerHTML = resultado[i].QuantityTicketEvent;

                            } else if (resultado[i].CategoryTicketStatus == 'R') {

                                document.getElementById("lblEventRequerimiento").innerHTML = resultado[i].QuantityTicketEvent;

                            }

                        }

                    }
                    else {

                    }

                } else {

                }

            },
            error: function (xhr, ajaxOptions, thrownError) {
                /*Fallo al llamar funcion ajax*/

                console.log("ERROR AJAX : " + ajaxOptions);
                console.log("ERROR AJAX : " + thrownError);
                console.log(xhr.responseText);
                console.log(xhr);

            }
        });
    }

    /*-----------------------------*/

    $("#btnFinishedActivity").click(function () {

         Swal.fire({
                title: 'Estas seguro de Finalizar la actividad?',
                text: "Ya no podras revertirla!",
                icon: 'warning',
                showCancelButton: true,
                confirmButtonColor: '#3085d6',
                cancelButtonColor: '#d33',
                confirmButtonText: 'Si, deseo Finalizar la Actividad!'
            }).then((result) => {
                if (result.isConfirmed) {

                    UpdateStateActivity();

                } else {



                }
            });

    });

    /**********************************/

    $("#btnSaveActivity").click(function () {

            var $registerForm = $("#FrmActivityDetail").validate({
                rules: {
                    txtCommentaryActivity: {
                        required: true,
                    },
                    //txtCotizacionFecha: {
                    //    required: true,
                    //    regx: ReFecha
                    //},
                    //txtCotizacionFechaRequest: {
                    //    required: true,
                    //    regx: ReFecha
                    //}
                },
                messages: {
                    txtCommentaryActivity: {
                        required: tCampoRequerido,
                        minlength: tMinLength,
                        maxlength: tMaxLength,
                    },
                    //txtCotizacionFecha: {
                    //    required: tCampoRequerido,
                    //    australianDate: tFormatoFechaNoValido
                    //},
                    //txtCotizacionFechaRequest: {
                    //    required: tCampoRequerido,
                    //    australianDate: tFormatoFechaNoValido
                    //}
                },
                submitHandler: function (form) {

                    //if (($('#selectorCompaniaCotizacion').val() == null) || ($('#selectorCompaniaCotizacion').val() == "")) {
                    //    toastr.options.timeOut = nTiempoMedio;
                    //    toastr.options.extendedTimeOut = nTiempoMedio;
                    //    ///*success - info - warning - error*/
                    //    var $toast = toastr["warning"]("Debe seleccionar 1 compañía", tTituloAlerta); $toastlast = $toast;
                    //    return;
                    //}

                    //if (idCotizacion == 0) {
                    if (idsPathFileTicketDoc.length == 0) {

                        Swal({
                            title: tTituloConfirmacion,
                            text: tValidacionArchivoVacio,
                            type: "warning",
                            showCancelButton: true,
                            confirmButtonColor: tColorBoton,
                            confirmButtonText: tNombreBotonSi,
                            cancelButtonText: tNombreBotonNo,
                            closeOnConfirm: true
                        }, function () {
                            document.getElementById('btnSaveActivity').disabled = true;
                            RegistrarActivityDetail();
                        });

                    }
                    else {
                        document.getElementById('btnSaveActivity').disabled = true;
                        RegistrarActivityDetail();
                    }

                },

                errorPlacement: function (error, element) {
                    error.insertAfter(element.parent());
                }
            });


        });

    /*BOTONES  - EXCEL*/

    $("#btnExGrafica1").click(function () {
        var documento = new jsPDF('l', 'mm', [heightG1, widthG1]);

        documento.addImage(ImageURI1, 10, 10);
        documento.save('Grafico de Ticket X Operación.pdf');
     });

    $("#btnExGrafica2").click(function () {
        var documento = new jsPDF('l', 'mm', [heightG2, widthG2]);

        documento.addImage(ImageURI2, 10, 10);
        documento.save('Gráfico de Actividad X Ticket.pdf');
     });

    $("#btnExGrafica3").click(function () {
        var documento = new jsPDF('l', 'mm', [heightG3, widthG3]);

        documento.addImage(ImageURI3, 10, 10);
        documento.save('Gráfico de Tickets por Responsable.pdf');
     });

    $("#btnExGrafico4").click(function () {
        var documento = new jsPDF('l', 'mm', [heightG4, widthG4]);

        documento.addImage(ImageURI4, 10, 10);
        documento.save('Gráfico de Actividades X Usuario ASSAC.pdf');
    });

    $("#btnExGrafica7").click(function () {
        var documento = new jsPDF('l', 'mm', [heightG7, widthG7]);

        documento.addImage(ImageURI7, 10, 10);
        documento.save('Grafico de Avance Porcentual de cada Responsable.pdf');
    });

    /*BOTONES LISTADO - EXCEL */

    $("#BtnExportarExcelTicketBusqueda").click(function () {
        ExportarExcel("LstTicketBusqueda");
    });

    $("#BtnExportarExcelCriticidadMedia").click(function () {
        ExportarExcel("LstTicketsCriticidadMedia");
    });

    $("#BtnExportarExcelCriticidadBaja").click(function () {
        ExportarExcel("LstTicketsCriticidadBaja");
    });

    $("#BtnExportarExcelActividadesCompletadas").click(function () {
        ExportarExcel("LstActivityComplete");
    });

    $("#BtnExpotarTicketCriticidadAltaA").click(function () {
        ExportarExcel("LstTicketsCriticidadAlta");
    });
    /***************************/

    $("#btnCancelarNuevaReason").click(function () {
       $("#txtReasonNombre").val("");
       $('#ModalReason').modal('hide');
    });

    $("#btnCancelarNuevaLocacion").click(function () {
        $("#txtLocacionNombre").val("");
        $('#ModalLocation').modal('hide');
    });

    $("#btnAgregarRazon").click(function () {
       $("#txtReasonNombre").val("");
       $('#ModalReason').modal('show');
    });

    $("#btnAgregarLocation").click(function () {

        $("#txtLocacionNombre").val("");
        $('#ModalLocation').modal('show');

    });

    $("#btnGrabarNuevaOperacion").click(function () {

         var $registerForm = $("#FrmOperacion").validate({
             rules: {
                 txtNombreOperacion: {
                     required: true,
                     maxlength: 100,
                     minlength: 3,
                     //regx: ReTexto
                 }
             },
             messages: {
                 txtNombreOperacion: {
                     required: tCampoRequerido,
                     minlength: tMinLength,
                     maxlength: tMaxLength,
                     //regx: tCaracteresNoValido
                 }
             },
             submitHandler: function (form) {

                 if ($("#txtNombreOperacion").val().trim() == "") {
                     toastr.options.timeOut = nTiempoMedio;
                     toastr.options.extendedTimeOut = nTiempoMedio;
                     /*success - info - warning - error*/
                     var $toast = toastr["error"](tValoresVacios, tTituloError); $toastlast = $toast;
                     return;
                 }
                 document.getElementById('btnGrabarNuevaOperacion').disabled = true;
                 CrearOperacion();
             },

             errorPlacement: function (error, element) {
                 error.insertAfter(element.parent());
             }
         });

    });

    $("#btnCancelarNuevaOperacion").click(function () {
       $("#txtNombreOperacion").val("");
       $('#ModalOperacion').modal('hide');
    });

    $("#btnAgregarOperacion").click(function () {
        $("#txtNombreOperacion").val("");
        $('#ModalOperacion').modal('show');
    });

    $("#btnBusquedaTicket").click(function () {

        BuscadorPrincipal = '2';

        GrillaListadoBusqueda();

    });

    $("#btnAgregarOperacion2").click(function () {
        $("#txtNombreOperacion").val("");
        $('#ModalOperacion').modal('show');
    });

    $("#btnGrabarNuevoCargo").click(function () {

        var $registerForm = $("#FrmCargo").validate({
            rules: {
                txtCargoNombre: {
                    required: true,
                    maxlength: 30,
                    minlength: 1,
                    regx: ReTexto
                }
            },
            messages: {
                txtCargoNombre: {
                    required: tCampoRequerido,
                    minlength: tMinLength,
                    maxlength: tMaxLength,
                    regx: tCaracteresNoValido
                }
            },
            submitHandler: function (form) {

                if ($("#txtCargoNombre").val().trim() == "") {
                    toastr.options.timeOut = nTiempoMedio;
                    toastr.options.extendedTimeOut = nTiempoMedio;
                    /*success - info - warning - error*/
                    var $toast = toastr["error"](tValoresVacios, tTituloError); $toastlast = $toast;
                    return;
                }
                document.getElementById('btnGrabarNuevoCargo').disabled = true;
                CrearCargo();
            },

            errorPlacement: function (error, element) {
                error.insertAfter(element.parent());
            }
        });

    });

    $("#btnCancelarNuevoCargo").click(function () {
        $('#ModalCargo').modal('hide');
    });

    $("#btnAgregarCargo").click(function () {
        $("#txtCargoNombre").val("");

        $('#ModalCargo').modal('show');
    });

    $("#btnGrabarNuevaArea").click(function () {

            var $registerForm = $("#FrmArea").validate({
                rules: {
                    txtAreaNombre: {
                        required: true,
                        maxlength: 100,
                        minlength: 2,
                        regx: ReTexto
                    }
                },
                messages: {
                    txtAreaNombre: {
                        required: tCampoRequerido,
                        minlength: tMinLength,
                        maxlength: tMaxLength,
                        regx: tCaracteresNoValido
                    }
                },
                submitHandler: function (form) {

                    if ($("#txtAreaNombre").val().trim() == "") {
                        toastr.options.timeOut = nTiempoMedio;
                        toastr.options.extendedTimeOut = nTiempoMedio;
                        /*success - info - warning - error*/
                        var $toast = toastr["error"](tValoresVacios, tTituloError); $toastlast = $toast;
                        return;
                    }
                    document.getElementById('btnGrabarNuevaArea').disabled = true;
                    CrearArea();
                },

                errorPlacement: function (error, element) {
                    error.insertAfter(element.parent());
                }
            });

        });

    $("#btnCancelarNuevaArea").click(function () {
       $("#txtAreaNombre").val("");
       $('#ModalArea').modal('hide');
    });

    $("#btnAgregarArea").click(function () {

        $("#txtAreaNombre").val("");
        $('#ModalArea').modal('show');

    });

    $("#btnGrabarNuevoTrabajador").click(function () {

            var $registerForm = $("#FrmTrabajador").validate({
                rules: {
                    txtTrabajadorNroDoc: {
                        //required: true,
                        maxlength: 20,
                        minlength: 8,
                        regx: ReSoloNumeros
                    },

                    txtTrabajadorNombres: {
                        required: true,
                        maxlength: 50,
                        minlength: 3,
                        regx: ReTexto
                    },
                    txtTrabajadorApellidoPat: {
                        required: true,
                        maxlength: 50,
                        minlength: 3,
                        regx: ReTexto
                    },
                    txtTrabajadorApellidoMat: {
                        //required: true,
                        maxlength: 50,
                        minlength: 3,
                        regx: ReTexto
                    },
                    txtTrabajadorEmail: {
                        required: true,
                        maxlength: 50,
                        minlength: 5,
                        regx: ReEmail
                    },
                    txtTrabajadorTelefono: {
                        required: true,
                        maxlength: 12,
                        minlength: 8,
                        regx: ReSoloNumeros
                    },
                    //txtTrabajadorFechaNac:{
                    //    //required: true,
                    //    maxlength: 10,
                    //    minlength: 10,
                    //    regx: ReFecha
                    //},
                },
                messages: {
                    txtTrabajadorNroDoc: {
                        //required: tCampoRequerido,
                        minlength: tMinLength,
                        maxlength: tMaxLength,
                        regx: tCaracteresNoValido
                    },
                    txtTrabajadorNombres: {
                        required: tCampoRequerido,
                        minlength: tMinLength,
                        maxlength: tMaxLength,
                        regx: tCaracteresNoValido
                    },
                    txtTrabajadorApellidoPat: {
                        required: tCampoRequerido,
                        minlength: tMinLength,
                        maxlength: tMaxLength,
                        regx: tCaracteresNoValido
                    },
                    txtTrabajadorApellidoMat: {
                        //required: tCampoRequerido,
                        minlength: tMinLength,
                        maxlength: tMaxLength,
                        regx: tCaracteresNoValido
                    },
                    txtTrabajadorEmail: {
                        required: tCampoRequerido,
                        minlength: tMinLength,
                        maxlength: tMaxLength,
                        regx: tCaracteresNoValido
                    },
                    txtTrabajadorTelefono: {
                        required: tCampoRequerido,
                        minlength: tMinLength,
                        maxlength: tMaxLength,
                        regx: tCaracteresNoValido
                    },
                    //txtTrabajadorFechaNac: {
                    //    //required: tCampoRequerido,
                    //    minlength: tMinLength,
                    //    maxlength: tMaxLength,
                    //    regx: tCaracteresNoValido
                    //}
                },
                submitHandler: function (form) {

                    if ($("#selectorTrabajadorArea").val() == null || $("#selectorTrabajadorArea").val() == "") {
                        toastr.options.timeOut = nTiempoMedio;
                        toastr.options.extendedTimeOut = nTiempoMedio;
                        /*success - info - warning - error*/
                        var $toast = toastr["error"]("Debe seleccionar 1 Área", tTituloError); $toastlast = $toast;
                        return;
                    }

                    if ($("#selectorTrabajadorCargo").val() == null || $("#selectorTrabajadorCargo").val() == "") {
                        toastr.options.timeOut = nTiempoMedio;
                        toastr.options.extendedTimeOut = nTiempoMedio;
                        /*success - info - warning - error*/
                        var $toast = toastr["error"]("Debe seleccionar 1 Cargo", tTituloError); $toastlast = $toast;
                        return;
                    }

                    if ($("#txtTrabajadorNombres").val().trim() == "" || $("#txtTrabajadorNombres").val().trim() == null) {
                        toastr.options.timeOut = nTiempoMedio;
                        toastr.options.extendedTimeOut = nTiempoMedio;
                        /*success - info - warning - error*/
                        var $toast = toastr["error"](tValoresVacios, tTituloError); $toastlast = $toast;
                        return;
                    }

                    if ($("#txtTrabajadorApellidoPat").val().trim() == "" || $("#txtTrabajadorApellidoPat").val().trim() == null) {
                        toastr.options.timeOut = nTiempoMedio;
                        toastr.options.extendedTimeOut = nTiempoMedio;
                        /*success - info - warning - error*/
                        var $toast = toastr["error"](tValoresVacios, tTituloError); $toastlast = $toast;
                        return;
                    }

                    if ($("#txtTrabajadorTelefono").val().trim() == "" || $("#txtTrabajadorTelefono").val().trim() == null) {
                        toastr.options.timeOut = nTiempoMedio;
                        toastr.options.extendedTimeOut = nTiempoMedio;
                        /*success - info - warning - error*/
                        var $toast = toastr["error"](tValoresVacios, tTituloError); $toastlast = $toast;
                        return;
                    }

                    if ($("#txtTrabajadorEmail").val().trim() == "" || $("#txtTrabajadorEmail").val().trim() == null) {
                        toastr.options.timeOut = nTiempoMedio;
                        toastr.options.extendedTimeOut = nTiempoMedio;
                        /*success - info - warning - error*/
                        var $toast = toastr["error"](tValoresVacios, tTituloError); $toastlast = $toast;
                        return;
                    }

                    //document.getElementById('btnGrabarNuevoTrabajador').disabled = true;
                    CrearTrabajador();
                },

                errorPlacement: function (error, element) {
                    error.insertAfter(element.parent());
                }
            });

        });

    $("#btnCancelarNuevoTrabajador").click(function () {

        $('#ModalTrabajador').modal('hide');

    });

    $("#btnAgregarWhoCall").click(function () {

         $("#txtTrabajadorNombres").val("");
         $("#txtTrabajadorApellidoPat").val("");
         $("#txtTrabajadorApellidoMat").val("");
         $("#txtTrabajadorTelefono").val("");
         $("#txtTrabajadorEmail").val("");
         $("#txtTrabajadorNroDoc").val("");
         $("#txtTrabajadorDireccion").val("");
         $("#txtTrabajadorFechaNac").val("");
         $("#selectorTrabajadorTipoDoc").selectpicker('val', "1");
         $("#selectorTrabajadorTipoDoc").selectpicker('refresh');
         $("#selectorTrabajadorArea").selectpicker('val', "");
         $("#selectorTrabajadorArea").selectpicker('refresh');
         $("#selectorTrabajadorCargo").selectpicker('val', "");
         $("#selectorTrabajadorCargo").selectpicker('refresh');
         $("#selectorTrabajadorOperacion").selectpicker('val', "");
         $("#selectorTrabajadorOperacion").selectpicker('refresh');

        ComboCargo("0", "");
        ComboArea("0", "");

        $('#ModalTrabajador').modal('show');

     });

    $("#btnDashboard").click(function () {

        EditAlertStatus();

    });

    $(document).on('click', '.btnTicket', function() {
        //Some code 1
        GrillaListadoBusqueda();

        $('#ModalBuscarTicket').modal('show');

        swal.clickConfirm();
    });

    $(document).on('click', '.btnNewTicket', function() {
        //Some code 1
        EditAlertStatus();
        //swal.close();
        //$('#ModalStatusAlert').modal('hide');

        document.getElementById('IdWhoRegister').value = usuarioRegistrador.split(',')[4];

        $('#ModalCrearTicket').modal('show');

        swal.clickConfirm();
    });

    $("#btnVerDetalleActividadesCaducadas").click(function () {

        //$("#LstTicketsCriticidad").addClass("hidden");
        //$("#imgCargaLstTicketsCriticidad").removeClass("hidden");
        //$("#msjErrorLstTicketsCriticidad").addClass("hidden");
        //$("#msjVacioLstTicketsCriticidad").addClass("hidden");
        //$("#msjErrorListarLstTicketsCriticidad").addClass("hidden");
        //$("#msjSuperaLimiteLstTicketsCriticidad").addClass("hidden");
        LimpiarFiltroAgregarActividades();

        ValorFiltroGid = '1';

        $('#ModalActividadCaducadas').modal('show');

    });

    $("#btnVerDetallePendientes").click(function () {

        UsusarioPersonId = 0;

        GrillaListadoBuscarUsuario();
        ListarActiviadesTodas();
        LimpiarFiltroAgregarActividades();

        $('#ModalActividadPendientes').modal('show');

    });

    /* -------- BOTONES - TICKET CRITICIDAD -------*/

    $("#btnCriticidadAlta").click(function () {

        //$("#LstTicketsCriticidad").addClass("hidden");
        //$("#imgCargaLstTicketsCriticidad").removeClass("hidden");
        //$("#msjErrorLstTicketsCriticidad").addClass("hidden");
        //$("#msjVacioLstTicketsCriticidad").addClass("hidden");
        //$("#msjErrorListarLstTicketsCriticidad").addClass("hidden");
        //$("#msjSuperaLimiteLstTicketsCriticidad").addClass("hidden");

        LimpiarFiltroAgregarActividades();

        ValorFiltroGid = '1';

        $('#ModalCriticidadAlta').modal('show');

    });

    $("#btnCriticidadMedia").click(function () {

        //$("#LstTicketsCriticidad").addClass("hidden");
        //$("#imgCargaLstTicketsCriticidad").removeClass("hidden");
        //$("#msjErrorLstTicketsCriticidad").addClass("hidden");
        //$("#msjVacioLstTicketsCriticidad").addClass("hidden");
        //$("#msjErrorListarLstTicketsCriticidad").addClass("hidden");
        //$("#msjSuperaLimiteLstTicketsCriticidad").addClass("hidden");
        LimpiarFiltroAgregarActividades();

        ValorFiltroGid = '1';

        $('#ModalCriticidadMedia').modal('show');

    });

    $("#btnCriticidadBaja").click(function () {

        //$("#LstTicketsCriticidad").addClass("hidden");
        //$("#imgCargaLstTicketsCriticidad").removeClass("hidden");
        //$("#msjErrorLstTicketsCriticidad").addClass("hidden");
        //$("#msjVacioLstTicketsCriticidad").addClass("hidden");
        //$("#msjErrorListarLstTicketsCriticidad").addClass("hidden");
        //$("#msjSuperaLimiteLstTicketsCriticidad").addClass("hidden");
        LimpiarFiltroAgregarActividades();

        ValorFiltroGid = '1';

        $('#ModalCriticidadBaja').modal('show');

    });

    /* -------- BOTONES - ACTIVIDAD CADUCAS -------*/

    $("#btnTicketAltaCaducidad").click(function () {

        //$("#LstActivityExpiration").addClass("hidden");
        //$("#imgCargaLstActivityExpiration").removeClass("hidden");
        //$("#msjErrorLstActivityExpiration").addClass("hidden");
        //$("#msjVacioLstActivityExpiration").addClass("hidden");
        //$("#msjErrorListarLstActivityExpiration").addClass("hidden");
        //$("#msjSuperaLimiteLstActivityExpiration").addClass("hidden");


        ValorFiltroGid = '0';

        $('#ModalCriticidadAltaCaducadas').modal('show');

    });

    $("#btnTicketBajaCaducidad").click(function () {

        //$("#LstActivityExpiration").addClass("hidden");
        //$("#imgCargaLstActivityExpiration").removeClass("hidden");
        //$("#msjErrorLstActivityExpiration").addClass("hidden");
        //$("#msjVacioLstActivityExpiration").addClass("hidden");
        //$("#msjErrorListarLstActivityExpiration").addClass("hidden");
        //$("#msjSuperaLimiteLstActivityExpiration").addClass("hidden");

         ValorFiltroGid = '0';

        $('#ModalCriticidadBajaCaducadas').modal('show');

    });

    $("#btnTicketMediaCaducidad").click(function () {

        //$("#LstActivityExpiration").addClass("hidden");
        //$("#imgCargaLstActivityExpiration").removeClass("hidden");
        //$("#msjErrorLstActivityExpiration").addClass("hidden");
        //$("#msjVacioLstActivityExpiration").addClass("hidden");
        //$("#msjErrorListarLstActivityExpiration").addClass("hidden");
        //$("#msjSuperaLimiteLstActivityExpiration").addClass("hidden");

         ValorFiltroGid = '0';

        $('#ModalCriticidadMediaCaducadas').modal('show');

    });

    $("#btnSaveInforme").click(function () {

         var UserRegisterSave = "@User.Identity.Name.ToUpper().ToString()";
         UserRegisterSave = UserRegisterSave.split(',')[0];

         var ValidarPerfilAdmi = "@User.Identity.Name.ToUpper().ToString()";
         ValidarPerfilAdmi = ValidarPerfilAdmi.split(',')[2];

         IdActivityDetail = 0;

         if ($("#txtTitleInforme").val() == "" || $("#txtTitleInforme").val() == null || $("#txtTitleInforme").val() == undefined) {

             toastr.options.timeOut = nTiempoMedio;
             toastr.options.extendedTimeOut = nTiempoMedio;
             /*success - info - warning - error*/
             var $toast = toastr["warning"]("No se puede registrar si no se ha dado un titulo de Informe", tTituloError); $toastlast = $toast;
             return;

         }

         if ($("#txtParaQuienFormato").val() == "" || $("#txtParaQuienFormato").val() == null || $("#txtParaQuienFormato").val() == undefined) {

             toastr.options.timeOut = nTiempoMedio;
             toastr.options.extendedTimeOut = nTiempoMedio;
             /*success - info - warning - error*/
             var $toast = toastr["warning"]("No se puede registrar el informe si no hay un Destinatario", tTituloError); $toastlast = $toast;
             return;

         }

         if ($("#txtAsuntoInforme").val() == "" || $("#txtAsuntoInforme").val() == null || $("#txtAsuntoInforme").val() == undefined) {

             toastr.options.timeOut = nTiempoMedio;
             toastr.options.extendedTimeOut = nTiempoMedio;
             /*success - info - warning - error*/
             var $toast = toastr["warning"]("No se puede registrar el informe si no hay un asunto", tTituloError); $toastlast = $toast;
             return;

         }

          if ($("#txtFechaActividad").val() == "" || $("#txtFechaActividad").val() == null || $("#txtFechaActividad").val() == undefined) {

             toastr.options.timeOut = nTiempoMedio;
             toastr.options.extendedTimeOut = nTiempoMedio;
             /*success - info - warning - error*/
             var $toast = toastr["warning"]("No se puede registrar el informe si no hay una fecha", tTituloError); $toastlast = $toast;
             return;

          }

         console.log(UserRegisterSave);

         Swal.fire({
              title: 'Estas seguro de guardar los datos de este informe?',
              text: "Estar seguro de lo que se registra!",
              icon: 'warning',
              showCancelButton: true,
              confirmButtonColor: '#3085d6',
              cancelButtonColor: '#d33',
              confirmButtonText: 'Si, deseo guardar!'
         }).then((result) => {
            if (result.isConfirmed) {

                if (UserRegisterSave == IdResponsibleCritizity || ValidarPerfilAdmi === "10") {

                    RegistrarInformeActivityDetaller();

                } else {

                    Swal.fire({
                        icon: 'error',
                        title: 'Esta actividad no te pertenece',
                        text: 'Solo el responsable de la actividad puede registrar!'
                        //footer: '<a href="">Comunicarse con ?</a>'
                    });

                }

            } else {



            }
         });
     });

    $("#btnEditarInforme").click(function () {


            if ($("#txtTitleInforme").val() == "" && $("#txtTitleInforme").val() == null) {

                toastr.options.timeOut = nTiempoMedio;
                toastr.options.extendedTimeOut = nTiempoMedio;
                /*success - info - warning - error*/
                var $toast = toastr["warning"]("No se puede registrar si no se ha dado un titulo de Informe", tTituloError); $toastlast = $toast;
                return;

            }

            if ($("#txtParaQuienFormato").val() == "" && $("#txtParaQuienFormato").val() == null) {

                toastr.options.timeOut = nTiempoMedio;
                toastr.options.extendedTimeOut = nTiempoMedio;
                /*success - info - warning - error*/
                var $toast = toastr["warning"]("No se puede registrar el informe si no hay un Destinatario", tTituloError); $toastlast = $toast;
                return;

            }

            if ($("#txtAsuntoFormato").val() == "" && $("#txtAsuntoFormato").val() == null) {

                toastr.options.timeOut = nTiempoMedio;
                toastr.options.extendedTimeOut = nTiempoMedio;
                /*success - info - warning - error*/
                var $toast = toastr["warning"]("No se puede registrar el informe si no hay un asunto", tTituloError); $toastlast = $toast;
                return;

            }

            Swal.fire({
                 title: 'Estas seguro de guardar los datos de este informe?',
                 text: "Estar seguro de lo que se registra!",
                 icon: 'warning',
                 showCancelButton: true,
                 confirmButtonColor: '#3085d6',
                 cancelButtonColor: '#d33',
                 confirmButtonText: 'Si, deseo guardar!'
            }).then((result) => {
               if (result.isConfirmed) {

                   RegistrarInformeActivityDetaller();

               } else {



               }
            });

    });

    $("#btnRegisterPercentage").click(function () {

        var UserRegisterSave = "@User.Identity.Name.ToUpper().ToString()";
        UserRegisterSave = UserRegisterSave.split(',')[0];

        var ValidarPerfilAdmi = "@User.Identity.Name.ToUpper().ToString()";
        ValidarPerfilAdmi = ValidarPerfilAdmi.split(',')[2];

        if ($("#txtPorcentajeIngresado").val() == "" || $("#txtPorcentajeIngresado").val() == null || $("#txtPorcentajeIngresado").val() == undefined) {

            toastr.options.timeOut = nTiempoMedio;
            toastr.options.extendedTimeOut = nTiempoMedio;
            /*success - info - warning - error*/
            var $toast = toastr["error"]("No se puede registrar un porcentaje si no se ingresa un valor", tTituloError); $toastlast = $toast;
            return;

        }

        var ValorPorcentaje = "";
        ValorPorcentaje = $("#txtPorcentajeIngresado").val();
        ValorPorcentaje = parseInt(ValorPorcentaje);

        if (ValorPorcentaje > 100) {

            toastr.options.timeOut = nTiempoMedio;
            toastr.options.extendedTimeOut = nTiempoMedio;
            /*success - info - warning - error*/
            var $toast = toastr["error"]("No se puede registrar un porcentaje mayor a 100%", tTituloError); $toastlast = $toast;
            return;

        }

        Swal.fire({
                 title: 'Estas seguro de guardar este porcentaje de avance?',
                 text: "Ya no podras revertirlo!",
                 icon: 'warning',
                 showCancelButton: true,
                 confirmButtonColor: '#3085d6',
                 cancelButtonColor: '#d33',
                 confirmButtonText: 'Si, deseo guardar!'
        }).then((result) => {
           if (result.isConfirmed) {

               if (UserRegisterSave == IdResponsibleCritizity || ValidarPerfilAdmi === "10") {

                   if (ValidarListadoArchivoActividad == 0 && ValidarListadoVitacoraActividad == 0) {

                       Swal.fire({
                           icon: 'error',
                           title: 'No se puede registrar el porcentaje',
                           text: 'Es necesario adjuntar un documento o comentario, si se desea ingresar un porcentaje!'
                           //footer: '<a href="">Comunicarse con ?</a>'
                       });

                   } else {

                       EditarPercentage();

                   }

               } else {

                   Swal.fire({
                           icon: 'error',
                           title: 'Esta actividad no te pertenece',
                           text: 'Solo el responsable de la actividad puede registrar!'
                           //footer: '<a href="">Comunicarse con ?</a>'
                   });

               }

           } else {



           }
        });
    });

    $("#btnSaveVitacoraActivityDetail").click( function () {

        var UserRegisterSave = "@User.Identity.Name.ToUpper().ToString()";
        UserRegisterSave = UserRegisterSave.split(',')[0];

        var ValidarPerfilAdmi = "@User.Identity.Name.ToUpper().ToString()";
        ValidarPerfilAdmi = ValidarPerfilAdmi.split(',')[2];

        if ($("#txtVitacoraTextSendActivityDetail").val() == "" || $("#txtVitacoraTextSendActivityDetail").val() == null || $("#txtVitacoraTextSendActivityDetail").val() == undefined) {

            toastr.options.timeOut = nTiempoCorto;
            toastr.options.extendedTimeOut = nTiempoCorto;
            /*success - info - warning - error*/
            var $toast = toastr["error"]("Es necesario ingresar la descripción para guardar", tTituloError); $toastlast = $toast;
            return;

        }

        Swal.fire({
            title: 'Estas seguro de guardar los datos de este informe?',
            text: "Estar seguro de lo que se registra!",
            icon: 'warning',
            showCancelButton: true,
            confirmButtonColor: '#3085d6',
            cancelButtonColor: '#d33',
            confirmButtonText: 'Si, deseo guardar!'
        }).then((result) => {
            if (result.isConfirmed) {

                if (UserRegisterSave == IdResponsibleCritizity || ValidarPerfilAdmi === "10") {

                    ActualizarRegistrarVitacoraActivityDetail();

                } else {

                    Swal.fire({
                        icon: 'error',
                        title: 'Esta actividad no te pertenece',
                        text: 'Solo el responsable de la actividad puede registrar!'
                        //footer: '<a href="">Comunicarse con ?</a>'
                    });

                }

            } else {



            }

        });
    });

    $('#selectorTicketOperacion').on('changed.bs.select', function (e, clickedIndex, isSelected, previousValue) {

         var ValorOperation = 0;

         ValorOperation = $('#selectorTicketOperacion').val();

         if (ValorOperation) {

             IdOperatorTicket = ValorOperation[0];

             GrillaListadoTicketToday(IdOperatorTicket);

         }

    });

    $('#selectorInvitados').on('changed.bs.select', function (e, clickedIndex, isSelected, previousValue) {


        /*SelectInvitados = $('#selectorInvitados').val();*/

        SelectInvitados = "";

        if ($('#selectorInvitados').val()) {

            for (i = 0; i < $('#selectorInvitados').val().length; i++) {

                SelectInvitados += $('#selectorInvitados').val()[i] + ";";

            }

            SelectInvitados = SelectInvitados.substring(0, SelectInvitados.length - 1);

            console.log(SelectInvitados);
            //SelectInvitados = SelectInvitados[0];

            //console.log(SelectInvitados);
             //ComboEncargado('0');
             //console.log(IdOperatorTicket);

        } else {
            SelectInvitados = "";
        }

    });

    $("#btnCreacionTicket").click(function () {

         console.log("Entro al evento de Crear Ticket");

         if ($("#selectorTicketOperacion").val() == "" || $("#selectorTicketOperacion").val() == null || $("#selectorTicketOperacion").val() == undefined) {
             toastr.options.timeOut = nTiempoCorto;
             toastr.options.extendedTimeOut = nTiempoCorto;
             /*success - info - warning - error*/
             var $toast = toastr["error"]("Es necesario seleccionar una operación al ticket", tTituloError); $toastlast = $toast;
             return;
         }

         if ($("#selectorWhoCall").val() == "" || $("#selectorWhoCall").val() == null || $("#selectorWhoCall").val() == undefined) {
             toastr.options.timeOut = nTiempoCorto;
             toastr.options.extendedTimeOut = nTiempoCorto;
             /*success - info - warning - error*/
             var $toast = toastr["error"]("Es necesario seleccionar un 'quien llama' al ticket", tTituloError); $toastlast = $toast;
             return;
         }

         if ($("#selectorWhoResponsible").val() == "" || $("#selectorWhoResponsible").val() == null || $("#selectorWhoCall").val() == undefined) {
             toastr.options.timeOut = nTiempoCorto;
             toastr.options.extendedTimeOut = nTiempoCorto;
             /*success - info - warning - error*/
             var $toast = toastr["error"]("Es necesario seleccionar un responsable del ticket", tTituloError); $toastlast = $toast;
             return;
         }

         if ($("#selectorTicketRazon").val() == "" || $("#selectorTicketRazon").val() == null || $("#selectorTicketRazon").val() == undefined) {
             toastr.options.timeOut = nTiempoCorto;
             toastr.options.extendedTimeOut = nTiempoCorto;
             /*success - info - warning - error*/
             var $toast = toastr["error"]("Es necesario seleccionar una razón al ticket", tTituloError); $toastlast = $toast;
             return;
         }

         //if ($("#selectorTicketCriticidad").val() == "" || $("#selectorTicketCriticidad").val() == null || $("#selectorTicketCriticidad").val() == undefined) {
         //    toastr.options.timeOut = nTiempoCorto;
         //    toastr.options.extendedTimeOut = nTiempoCorto;
         //    /*success - info - warning - error*/
         //    var $toast = toastr["error"]("Es necesario seleccionar un tipo de criticidad al ticket", tTituloError); $toastlast = $toast;
         //    return;
         //}

          if ($("#selectorTicketLocation").val() == "" || $("#selectorTicketLocation").val() == null || $("#selectorTicketLocation").val() == undefined) {
             toastr.options.timeOut = nTiempoCorto;
             toastr.options.extendedTimeOut = nTiempoCorto;
             /*success - info - warning - error*/
             var $toast = toastr["error"]("Es necesario seleccionar una Locacion al ticket", tTituloError); $toastlast = $toast;
             return;
          }

         if ($("#TitleDetalleTicket").val() == "" || $("#TitleDetalleTicket").val() == null) {
           toastr.options.timeOut = nTiempoCorto;
           toastr.options.extendedTimeOut = nTiempoCorto;
           /*success - info - warning - error*/
           var $toast = toastr["error"]("Es necesario ingresar un Titulo al Detalle de Ticket", tTituloError); $toastlast = $toast;
           return;
         }

         if ($("#txtDetallerTicket").val() == "" || $("#txtDetallerTicket").val() == null) {
           toastr.options.timeOut = nTiempoCorto;
           toastr.options.extendedTimeOut = nTiempoCorto;
           /*success - info - warning - error*/
           var $toast = toastr["error"]("Es necesario ingresar un detalle del ticket", tTituloError); $toastlast = $toast;
           return;
         }

         console.log("Ningun campo tuvo un error al registrar");

         Swal.fire({
             title: 'Estas seguro de registrar esta información?',
             text: "Ya no podras revertirla!",
             icon: 'warning',
             showCancelButton: true,
             confirmButtonColor: '#3085d6',
             cancelButtonColor: '#d33',
             confirmButtonText: 'Si, deseo guardar!'
         }).then((result) => {
             if (result.isConfirmed) {

                 console.log("Se acepto el ticket validacion");

                 IdLocationTicket = $("#selectorTicketLocation").val()[0];
                 IdOperationTicket = $('#selectorTicketOperacion').val()[0];
                 IdEncargadoTicket = $('#selectorWhoCall').val()[0];
                 FechaInicioTicket = $('#txtTicketDate').val();
                 IdRazonTicket = $('#selectorTicketRazon').val()[0];
                 IdResponsibleTicket = $('#selectorWhoResponsible').val()[0];
                 //IdCriticidadTicket = $('#selectorTicketCriticidad').val()[0];
                 TituloTicketDetalle = $('#TitleDetalleTicket').val();
                 DetalleTextTicket = $('#txtDetallerTicket').val();

                 console.log("Se acepto los valores en variables");

                 RegistrarTicket();

             } else {



             }
         });

    });

    $("#BtnDashboardValidityTicket").click(function () {

        $('html,body').animate({
            scrollTop: $("#ContenedorGraficoVegencia").offset().top
        },
            'slow');

    });

    $("#BtnDashboardNewTicket").click(function () {

        LimpiarEtiquetas();

        document.getElementById('IdWhoRegister').value = usuarioRegistrador.split(',')[4];

        GrillaListadoTicketToday();

        $('#ModalCrearTicket').modal('show');
    });

    $("#BtnDashboardListTicket").click(function () {

        ValorFiltroGid = '1';

        BuscadorPrincipal = '2';

        ComboTicket();
        LimpiarFiltroAgregarActividades();
        GrillaListadoBusqueda();

       $('#ModalBuscarTicket').modal('show');
    });

    $("#BtnDashboardTickerReport").click(function () {

        if (ValueReportShow == '1') {

            $(".ContainerActivitiesCritized").removeClass("hidden");
            $(".ContainerReportNew").addClass("hidden");

             ValueReportShow = '2';

        } else if (ValueReportShow == '2'){

            $(".ContainerActivitiesCritized").addClass("hidden");
            $(".ContainerReportNew").removeClass("hidden");

            ValueReportShow = '1';
        }

    });

    $("#btnCancelar").click(function () {

      $('#ModalCrearTicket').modal('hide');

    });

    $("#btnCancelarTicketBusqueda").click(function () {

      $('#ModalBuscarTicket').modal('hide');

    });

    $("#btnCancelarActivityBusqueda").click(function () {

        $('#ModalActividadesBusqueda').modal('hide');
        //$('#ModalBuscarTicket').modal('show');

    });

    $("#btnCancelarActivityCaducadaMedia").click(function () {

       $('#ModalActividadesCaducadasMain2').modal('hide');

    });

    $("#btnCancelarActivityCaducadaBaja").click(function () {

       $('#ModalActividadesCaducadasMain3').modal('hide');

    });

    $("#btnCancelarActivityExpiration").click(function () {

       $('#ModalActividadesCaducadasMain1').modal('hide');

    });

    $('input[type=radio][name=rdoNameCriticidadAlta]').change(function (e) {

            if (e.target.id == 'rdoAltaCriticidad') {

                //$("input:radio[name=rdoNameCriticidadAlta]:checked")[0].checked = true;
                //$("input:radio[name=rdoNameCriticidadMedia]:checked")[0].checked = false;
                //$("input:radio[name=rdoNameCriticidadBaja]:checked")[0].checked = false;

                $('#rdoMedioCriticidad').is(":checked") = false;
                $('#rdoBajaCriticidad').is(":checked") = false;

            } else if (e.target.id == 'rdoMedioCriticidad') {

                //$("input:radio[name=rdoNameCriticidadMedia]:checked")[0].checked = false;
                //$("input:radio[name=rdoNameCriticidadBaja]:checked")[0].checked = false;

                $('#rdoAltaCriticidad').is(":checked") = false;
                $('#rdoBajaCriticidad').is(":checked") = false;


            } else if (e.target.id == 'rdoBajaCriticidad') {

                //$("input:radio[name=rdoNameCriticidadMedia]:checked")[0].checked = false;
                //$("input:radio[name=rdoNameCriticidadBaja]:checked")[0].checked = false;
                $('#rdoAltaCriticidad').is(":checked") = false;
                $('#rdoMedioCriticidad').is(":checked") = false;
            }

        });

    $("#LstTicketsCriticidadCaducada").delegate(".BtnVerInfo", "click", function (e) {

        var grid = $("#LstTicketsCriticidadCaducada").data("kendoGrid");
        var myVar = grid.dataItem($(this).closest("tr"));

        var StarDateTicket = "";
        //var NroTicket = 0;
        //var FechaRegistroTicket = "";
        //var EncargadoTicket = "";
        //var OperacionTicket = "";
        //var RazonTicket = "";
        //var CriticidadTicket = "";
        //var DetalleTicket = "";


        NumberTicket = myVar.NroTicket;
        NroTicketActivity = myVar.NroTicket;
        NroTicket = myVar.NroTicket;
        StarDateTicket = myVar.StartDate;
        //FechaRegistroTicket = myVar.StartDate;
        //EncargadoTicket = myVar.FullNameTicket;
        OperacionTicket = myVar.OperationName;
        //RazonTicket = myVar.ReasonName;
        CriticidadEstado = myVar.CriticalityName;
        //DetalleTicket = myVar.DetalleText;
        UserResponsibleId = myVar.ResponsibleId;


        let FechaInicioModificado = document.querySelector("#lblFechaInicio");
        //FechaInicioModificado.innerHTML = "";
        FechaInicioModificado.innerHTML = StarDateTicket;
        //document.getElementById("txtNroTicket").value = NroTicket;
        //document.getElementById("txtOperacionTicket").value = OperacionTicket;
        //document.getElementById("txtEncargadoTicket").value = EncargadoTicket;
        //document.getElementById("txtTicketDate").value = FechaRegistroTicket;
        //document.getElementById("txtRazonTicket").value = RazonTicket;
        //document.getElementById("txtDetallerTicket").value = DetalleTicket;

        //if (CriticidadTicket == 'Alta') {

        //    document.getElementById("rdoAltaCriticidad").checked = true;
        //    document.getElementById("rdoMedioCriticidad").checked = false;
        //    document.getElementById("rdoBajaCriticidad").checked = false;

        //} else if (CriticidadTicket == 'Media') {

        //    document.getElementById("rdoAltaCriticidad").checked = false;
        //    document.getElementById("rdoMedioCriticidad").checked = true;
        //    document.getElementById("rdoBajaCriticidad").checked = false;


        //} else if (CriticidadTicket == 'Baja') {

        //    document.getElementById("rdoAltaCriticidad").checked = false;
        //    document.getElementById("rdoMedioCriticidad").checked = false;
        //    document.getElementById("rdoBajaCriticidad").checked = true;

        //}

        var titulo;
        titulo = document.getElementById("lblModelTicketEdit");
        titulo.innerHTML = NroTicket;

        //console.log(NroTicket);
        //console.log(FechaRegistroTicket);
        //console.log(EncargadoTicket);
        //console.log(OperacionTicket);
        //console.log(RazonTicket);
        //console.log(CriticidadTicket);
        //console.log(DetalleTicket);
        //ComboEncargadoAll();

        GrillaListadoActividad();

        $('#ModalActividadesCaducadasMain1').modal('show');
    });

    $("#LstTicketsCriticidadMediaCaducada").delegate(".BtnVerInfo", "click", function (e) {

        var grid = $("#LstTicketsCriticidadMediaCaducada").data("kendoGrid");
        var myVar = grid.dataItem($(this).closest("tr"));

        var StarDateTicket = "";
        //var NroTicket = 0;
        //var FechaRegistroTicket = "";
        //var EncargadoTicket = "";
        //var OperacionTicket = "";
        //var RazonTicket = "";
        //var CriticidadTicket = "";
        //var DetalleTicket = "";


        NumberTicket = myVar.NroTicket;
        NroTicketActivity = myVar.NroTicket;
        NroTicket = myVar.NroTicket;
        StarDateTicket = myVar.StartDate;
        //FechaRegistroTicket = myVar.StartDate;
        //EncargadoTicket = myVar.FullNameTicket;
        OperacionTicket = myVar.OperationName;
        //RazonTicket = myVar.ReasonName;
        CriticidadEstado = myVar.CriticalityName;
        //DetalleTicket = myVar.DetalleText;
        UserResponsibleId = myVar.ResponsibleId;

        let FechaInicioModificado = document.querySelector("#lblFechaInicio2");
        FechaInicioModificado.innerHTML = "";
        FechaInicioModificado.innerHTML = StarDateTicket;
        //document.getElementById("txtNroTicket").value = NroTicket;
        //document.getElementById("txtOperacionTicket").value = OperacionTicket;
        //document.getElementById("txtEncargadoTicket").value = EncargadoTicket;
        //document.getElementById("txtTicketDate").value = FechaRegistroTicket;
        //document.getElementById("txtRazonTicket").value = RazonTicket;
        //document.getElementById("txtDetallerTicket").value = DetalleTicket;

        //if (CriticidadTicket == 'Alta') {

        //    document.getElementById("rdoAltaCriticidad").checked = true;
        //    document.getElementById("rdoMedioCriticidad").checked = false;
        //    document.getElementById("rdoBajaCriticidad").checked = false;

        //} else if (CriticidadTicket == 'Media') {

        //    document.getElementById("rdoAltaCriticidad").checked = false;
        //    document.getElementById("rdoMedioCriticidad").checked = true;
        //    document.getElementById("rdoBajaCriticidad").checked = false;


        //} else if (CriticidadTicket == 'Baja') {

        //    document.getElementById("rdoAltaCriticidad").checked = false;
        //    document.getElementById("rdoMedioCriticidad").checked = false;
        //    document.getElementById("rdoBajaCriticidad").checked = true;

        //}

        var titulo;
        titulo = document.getElementById("lblModelTicketEdit2");
        titulo.innerHTML = NroTicket;

        //console.log(NroTicket);
        //console.log(FechaRegistroTicket);
        //console.log(EncargadoTicket);
        //console.log(OperacionTicket);
        //console.log(RazonTicket);
        //console.log(CriticidadTicket);
        //console.log(DetalleTicket);
        //ComboEncargadoAll();

        GrillaListadoActividad2();

        $('#ModalActividadesCaducadasMain2').modal('show');
    });

    $("#LstTicketsCriticidadBajaCaducada").delegate(".BtnVerInfo", "click", function (e) {

        var grid = $("#LstTicketsCriticidadBajaCaducada").data("kendoGrid");
        var myVar = grid.dataItem($(this).closest("tr"));

        var StarDateTicket = "";
        //var NroTicket = 0;
        //var FechaRegistroTicket = "";
        //var EncargadoTicket = "";
        //var OperacionTicket = "";
        //var RazonTicket = "";
        //var CriticidadTicket = "";
        //var DetalleTicket = "";


        NumberTicket = myVar.NroTicket;
        NroTicketActivity = myVar.NroTicket;
        NroTicket = myVar.NroTicket;
        StarDateTicket = myVar.StartDate;
        //FechaRegistroTicket = myVar.StartDate;
        //EncargadoTicket = myVar.FullNameTicket;
        OperacionTicket = myVar.OperationName;
        //RazonTicket = myVar.ReasonName;
        CriticidadEstado = myVar.CriticalityName;
        //DetalleTicket = myVar.DetalleText;
        UserResponsibleId = myVar.ResponsibleId;


        let FechaInicioModificado = document.querySelector("#lblFechaInicio3");
        FechaInicioModificado.innerHTML = "";
        FechaInicioModificado.innerHTML = StarDateTicket;
        //document.getElementById("txtNroTicket").value = NroTicket;
        //document.getElementById("txtOperacionTicket").value = OperacionTicket;
        //document.getElementById("txtEncargadoTicket").value = EncargadoTicket;
        //document.getElementById("txtTicketDate").value = FechaRegistroTicket;
        //document.getElementById("txtRazonTicket").value = RazonTicket;
        //document.getElementById("txtDetallerTicket").value = DetalleTicket;

        //if (CriticidadTicket == 'Alta') {

        //    document.getElementById("rdoAltaCriticidad").checked = true;
        //    document.getElementById("rdoMedioCriticidad").checked = false;
        //    document.getElementById("rdoBajaCriticidad").checked = false;

        //} else if (CriticidadTicket == 'Media') {

        //    document.getElementById("rdoAltaCriticidad").checked = false;
        //    document.getElementById("rdoMedioCriticidad").checked = true;
        //    document.getElementById("rdoBajaCriticidad").checked = false;


        //} else if (CriticidadTicket == 'Baja') {

        //    document.getElementById("rdoAltaCriticidad").checked = false;
        //    document.getElementById("rdoMedioCriticidad").checked = false;
        //    document.getElementById("rdoBajaCriticidad").checked = true;

        //}

        var titulo;
        titulo = document.getElementById("lblModelTicketEdit3");
        titulo.innerHTML = NroTicket;

        //console.log(NroTicket);
        //console.log(FechaRegistroTicket);
        //console.log(EncargadoTicket);
        //console.log(OperacionTicket);
        //console.log(RazonTicket);
        //console.log(CriticidadTicket);
        //console.log(DetalleTicket);
        //ComboEncargadoAll();

        GrillaListadoActividad3();

        $('#ModalActividadesCaducadasMain3').modal('show');
    });

    $("#LstTicketsRelatedActivity").delegate(".BtnVerInfo", "click", function (e) {

        var grid = $("#LstTicketsRelatedActivity").data("kendoGrid");
        var myVar = grid.dataItem($(this).closest("tr"));

        GrillaListadoActividadToTicketToAct(myVar.IdTicket);

        $('#ModalActividadToTicketToActividad').modal('show');
    });

    $("#LstTicketsRelatedActPendiente").delegate(".BtnVerInfo", "click", function (e) {

        var grid = $("#LstTicketsRelatedActPendiente").data("kendoGrid");
        var myVar = grid.dataItem($(this).closest("tr"));

        GrillaListadoActividadToTicketToActPendiente(myVar.IdTicket);

        $('#ModalActividadToTicketToActividadPendiente').modal('show');
    });

    $("#LstActivityToTicketToActivity").delegate(".BtnVerInfo", "click", function (e) {

         var grid = $("#LstActivityToTicketToActivity").data("kendoGrid");
         var myVar = grid.dataItem($(this).closest("tr"));


          $("#btnSaveInforme").prop('disabled', false);
          $("#btnRegisterPercentage").prop('disabled', false);
          $("#btnSaveVitacoraActivityDetail").prop('disabled', false);
          $("#btnSubirFormato").prop('disabled', false);
          $("#btValidationResponsible").prop('disabled', true);
          //$("#btnFinalizar").prop('disabled', true);

          var IdValidation = myVar.ValidationButton;

          UserResponsibleId = myVar.ResponsibleId;

          var NuevoUsuarioRegistrador = "@User.Identity.Name.ToUpper().ToString()";
          NuevoUsuarioRegistrador = NuevoUsuarioRegistrador.split(',')[4];

          idActivity = myVar.IdActivity;
          OperacionTicket = myVar.OperationName;

          var UserWebPage = "@User.Identity.Name.ToUpper().ToString()";
          UserWebPage = UserWebPage.split(',')[0];

          var TxtQuienFormato;
          TxtQuienFormato = document.getElementById("lblDeQuienFormato");
          TxtQuienFormato.innerHTML = NuevoUsuarioRegistrador;

          var TxtOperacionActividad;
          TxtOperacionActividad = document.getElementById("lblOperacionFormato");
          TxtOperacionActividad.innerHTML = OperacionTicket;

          document.getElementById("txtPorcentajeIngresado").value = "";

          ListadoDetalleActividadInforme();
          EditarPercentage();

          LimpiarEtiquetasActivityInforme();
          ListadoDescripcionVitacoraActivityDetail(idActivity)

          document.getElementById("txtVitacoraTextSendActivityDetail").value = "";

          document.getElementById("flArchivoSubirAdjunto").value = "";

          //$("#GrillaArchivos").addClass("hidden");
          //$("#ImagenCargaListArchivo").addClass("hidden");
          //$("#MensajeErrorListArchivo").addClass("hidden");
          //$("#MensajeVacioListArchivo").removeClass("hidden");
          //$("#MensajeErrorListarListArchivo").addClass("hidden");

         if (UserWebPage == UserResponsibleId) {

            $("#chkValidationResponsible").prop('disabled', false);
            $("#chkValidationJefeArea").prop('disabled', false);
            $("#btValidationResponsible").prop('disabled', false);

         } else {

             $("#chkValidationResponsible").prop('disabled', true);
             $("#chkValidationJefeArea").prop('disabled', true);
             $("#btValidationResponsible").prop('disabled', true);

         }

         //if (IdValidation == '0') {

         //    $("#btnFinalizar").prop('disabled', true);

         //} else {

         //    $("#btnFinalizar").prop('disabled', false);

         //}

        $('#ModalActivityDetail').modal('show');
    });

    $("#LstActivityToTicketToActivityPendiente").delegate(".BtnVerInfo", "click", function (e) {

         var grid = $("#LstActivityToTicketToActivityPendiente").data("kendoGrid");
         var myVar = grid.dataItem($(this).closest("tr"));


          $("#btnSaveInforme").prop('disabled', false);
          $("#btnRegisterPercentage").prop('disabled', false);
          $("#btnSaveVitacoraActivityDetail").prop('disabled', false);
          $("#btnSubirFormato").prop('disabled', false);
          $("#btValidationResponsible").prop('disabled', true);
          $("#btnFinalizar").prop('disabled', true);

          var IdValidation = myVar.ValidationButton;

          UserResponsibleId = myVar.ResponsibleId;

          var NuevoUsuarioRegistrador = "@User.Identity.Name.ToUpper().ToString()";
          NuevoUsuarioRegistrador = NuevoUsuarioRegistrador.split(',')[4];

          idActivity = myVar.IdActivity;
          OperacionTicket = myVar.OperationName;

          var UserWebPage = "@User.Identity.Name.ToUpper().ToString()";
          UserWebPage = UserWebPage.split(',')[0];

          var TxtQuienFormato;
          TxtQuienFormato = document.getElementById("lblDeQuienFormato");
          TxtQuienFormato.innerHTML = NuevoUsuarioRegistrador;

          var TxtOperacionActividad;
          TxtOperacionActividad = document.getElementById("lblOperacionFormato");
          TxtOperacionActividad.innerHTML = OperacionTicket;

          document.getElementById("txtPorcentajeIngresado").value = "";

          ListadoDetalleActividadInforme();
          EditarPercentage();

          LimpiarEtiquetasActivityInforme();
          ListadoDescripcionVitacoraActivityDetail(idActivity)

          document.getElementById("txtVitacoraTextSendActivityDetail").value = "";

          document.getElementById("flArchivoSubirAdjunto").value = "";

          //$("#GrillaArchivos").addClass("hidden");
          //$("#ImagenCargaListArchivo").addClass("hidden");
          //$("#MensajeErrorListArchivo").addClass("hidden");
          //$("#MensajeVacioListArchivo").removeClass("hidden");
          //$("#MensajeErrorListarListArchivo").addClass("hidden");

         if (UserWebPage == UserResponsibleId) {

            $("#chkValidationResponsible").prop('disabled', false);
            $("#chkValidationJefeArea").prop('disabled', false);
            $("#btValidationResponsible").prop('disabled', false);

         } else {

             $("#chkValidationResponsible").prop('disabled', true);
             $("#chkValidationJefeArea").prop('disabled', true);
             $("#btValidationResponsible").prop('disabled', true);

         }

         if (IdValidation == '0') {

             $("#btnFinalizar").prop('disabled', true);

         } else {

             $("#btnFinalizar").prop('disabled', false);

         }

        $('#ModalActivityDetail').modal('show');
    });

    $("#GrillaLstActivityCaducada2").delegate(".BtnVerInfo2", "click", function (e) {

        var grid = $("#GrillaLstActivityCaducada2").data("kendoGrid");
        var myVar = grid.dataItem($(this).closest("tr"));

        $("#btnSaveInforme").prop('disabled', false);
        $("#btnRegisterPercentage").prop('disabled', false);
        $("#btnSaveVitacoraActivityDetail").prop('disabled', false);
        $("#btnSubirFormato").prop('disabled', false);
        $("#btValidationResponsible").prop('disabled', true);
        $("#btnFinalizar").prop('disabled', true);

        var NuevoUsuarioRegistrador = "@User.Identity.Name.ToUpper().ToString()";
        NuevoUsuarioRegistrador = NuevoUsuarioRegistrador.split(',')[4];

        var ValidarPerfilAdmi = "@User.Identity.Name.ToUpper().ToString()";
        ValidarPerfilAdmi = ValidarPerfilAdmi.split(',')[2];

        idActivity = myVar.IdActivity;
        IdResponsibleCritizity = myVar.IdResponsible;

        var IdValidation = myVar.ValidationButton;

        var UserWebPage = "@User.Identity.Name.ToUpper().ToString()";
        UserWebPage = UserWebPage.split(',')[0];

        var TxtQuienFormato;
        TxtQuienFormato = document.getElementById("lblDeQuienFormato");
        TxtQuienFormato.innerHTML = NuevoUsuarioRegistrador;

        var TxtActivityTitle;
        TxtActivityTitle = document.getElementById("lblNameActivityText");
        TxtActivityTitle.innerHTML = myVar.ActivityText;

        var TxtOperacionActividad;
        TxtOperacionActividad = document.getElementById("lblOperacionFormato");
        TxtOperacionActividad.innerHTML = OperacionTicket;

        document.getElementById("txtPorcentajeIngresado").value = "";

        ListadoDetalleActividadInforme();
        EditarPercentage();

        LimpiarEtiquetasActivityInforme();
        ListadoDescripcionVitacoraActivityDetail(idActivity);

        //document.getElementById("txtPorcentajeIngresado").value = "";
        document.getElementById("txtVitacoraTextSendActivityDetail").value = "";

        document.getElementById("flArchivoSubirAdjunto").value = "";

         if (UserWebPage == UserResponsibleId || ValidarPerfilAdmi === "10") {

            $("#chkValidationResponsible").prop('disabled', false);
            $("#chkValidationJefeArea").prop('disabled', false);
            $("#btValidationResponsible").prop('disabled', false);

         } else {

             $("#chkValidationResponsible").prop('disabled', true);
             $("#chkValidationJefeArea").prop('disabled', true);
             $("#btValidationResponsible").prop('disabled', true);

         }

         if (IdValidation == '0') {

             $("#btnFinalizar").prop('disabled', true);

         } else {

             $("#btnFinalizar").prop('disabled', false);

         }

        $('#ModalActivityDetail').modal('show');
    });

    $("#GrillaLstActivityCaducada3").delegate(".BtnVerInfo2", "click", function (e) {

        var grid = $("#GrillaLstActivityCaducada3").data("kendoGrid");
        var myVar = grid.dataItem($(this).closest("tr"));

        $("#btnSaveInforme").prop('disabled', false);
        $("#btnRegisterPercentage").prop('disabled', false);
        $("#btnSaveVitacoraActivityDetail").prop('disabled', false);
        $("#btnSubirFormato").prop('disabled', false);
        $("#btValidationResponsible").prop('disabled', true);
        $("#btnFinalizar").prop('disabled', true);

        var NuevoUsuarioRegistrador = "@User.Identity.Name.ToUpper().ToString()";
        NuevoUsuarioRegistrador = NuevoUsuarioRegistrador.split(',')[4];

        var ValidarPerfilAdmi = "@User.Identity.Name.ToUpper().ToString()";
        ValidarPerfilAdmi = ValidarPerfilAdmi.split(',')[2];

        idActivity = myVar.IdActivity;
        IdResponsibleCritizity = myVar.IdResponsible;

        var IdValidation = myVar.ValidationButton;

        var UserWebPage = "@User.Identity.Name.ToUpper().ToString()";
        UserWebPage = UserWebPage.split(',')[0];

        var TxtQuienFormato;
        TxtQuienFormato = document.getElementById("lblDeQuienFormato");
        TxtQuienFormato.innerHTML = NuevoUsuarioRegistrador;

        var TxtActivityTitle;
        TxtActivityTitle = document.getElementById("lblNameActivityText");
        TxtActivityTitle.innerHTML = myVar.ActivityText;

        var TxtOperacionActividad;
        TxtOperacionActividad = document.getElementById("lblOperacionFormato");
        TxtOperacionActividad.innerHTML = OperacionTicket;

        document.getElementById("txtPorcentajeIngresado").value = "";

        ListadoDetalleActividadInforme();
        EditarPercentage();

        LimpiarEtiquetasActivityInforme();
        ListadoDescripcionVitacoraActivityDetail(idActivity);

        //document.getElementById("txtPorcentajeIngresado").value = "";
        document.getElementById("txtVitacoraTextSendActivityDetail").value = "";

        document.getElementById("flArchivoSubirAdjunto").value = "";

         if (UserWebPage == UserResponsibleId || ValidarPerfilAdmi === "10") {

            $("#chkValidationResponsible").prop('disabled', false);
            $("#chkValidationJefeArea").prop('disabled', false);
            $("#btValidationResponsible").prop('disabled', false);

         } else {

             $("#chkValidationResponsible").prop('disabled', true);
             $("#chkValidationJefeArea").prop('disabled', true);
             $("#btValidationResponsible").prop('disabled', true);

         }

         if (IdValidation == '0') {

             $("#btnFinalizar").prop('disabled', true);

         } else {

             $("#btnFinalizar").prop('disabled', false);

         }

        $('#ModalActivityDetail').modal('show');
    });

    $("#btnGrabarNuevaReason").click(function () {

       var $registerForm = $("#FrmReason").validate({
                rules: {
                    txtReasonNombre: {
                        required: true,
                        maxlength: 100,
                        minlength: 2,
                        regx: ReTexto
                    }
                },
                messages: {
                    txtReasonNombre: {
                        required: tCampoRequerido,
                        minlength: tMinLength,
                        maxlength: tMaxLength,
                        regx: tCaracteresNoValido
                    }
                },
                submitHandler: function (form) {

                    if ($("#txtReasonNombre").val().trim() == "") {
                        toastr.options.timeOut = nTiempoMedio;
                        toastr.options.extendedTimeOut = nTiempoMedio;
                        /*success - info - warning - error*/
                        var $toast = toastr["error"](tValoresVacios, tTituloError); $toastlast = $toast;
                        return;
                    }

                    CrearReason();
                },

                errorPlacement: function (error, element) {
                    error.insertAfter(element.parent());
                }
       });

    });

    $("#btnGrabarNuevaLocacion").click(function () {

        var $registerForm = $("#FrmLocation").validate({
            rules: {
                txtLocacionNombre: {
                    required: true,
                    maxlength: 100,
                    minlength: 2,
                    regx: ReTexto
                }
            },
            messages: {
                txtReasonNombre: {
                    required: tCampoRequerido,
                    minlength: tMinLength,
                    maxlength: tMaxLength,
                    regx: tCaracteresNoValido
                }
            },
            submitHandler: function (form) {

                if ($("#txtLocacionNombre").val().trim() == "") {
                    toastr.options.timeOut = nTiempoMedio;
                    toastr.options.extendedTimeOut = nTiempoMedio;
                    /*success - info - warning - error*/
                    var $toast = toastr["error"](tValoresVacios, tTituloError); $toastlast = $toast;
                    return;
                }

                CrearLocacion();
            },

            errorPlacement: function (error, element) {
                error.insertAfter(element.parent());
            }
        });

    });

    $("#btnVerDetalleCompletadas").click(function () {

        //$("#LstActivityExpiration").addClass("hidden");
        //$("#imgCargaLstActivityExpiration").removeClass("hidden");
        //$("#msjErrorLstActivityExpiration").addClass("hidden");
        //$("#msjVacioLstActivityExpiration").addClass("hidden");
        //$("#msjErrorListarLstActivityExpiration").addClass("hidden");
        //$("#msjSuperaLimiteLstActivityExpiration").addClass("hidden");


        ValorFiltroGid = '1';

        $('#ModalActividadesCompletadas').modal('show');

    });

    $("#btValidationResponsible").click(function () {

            if ($('#chkValidationResponsible').is(":checked") == false) {
                  toastr.options.timeOut = nTiempoCorto;
                  toastr.options.extendedTimeOut = nTiempoCorto;
                  /*success - info - warning - error*/
                  var $toast = toastr["error"]("No se puede guardar si no se valida por el responsable", tTituloError); $toastlast = $toast;
                  return;
            }

            //if ($('#chkValidationJefeArea').is(":checked") == false) {
            //      toastr.options.timeOut = nTiempoCorto;
            //      toastr.options.extendedTimeOut = nTiempoCorto;
            //      /*success - info - warning - error*/
            //      var $toast = toastr["error"]("No se puede guardar si no se valida por el responsable", tTituloError); $toastlast = $toast;
            //      return;
            //}

            Swal.fire({
                   title: 'Estas seguro de Finalizar la actividad?',
                   text: "Ya no podras revertirla!",
                   icon: 'warning',
                   showCancelButton: true,
                   confirmButtonColor: '#3085d6',
                   cancelButtonColor: '#d33',
                   confirmButtonText: 'Si, deseo Finalizar la Actividad!'
            }).then((result) => {
                if (result.isConfirmed) {

                    ValidationEnableButton("1");

                } else {



                }
            });
     });

    $("#LstTicketBusqueda").delegate(".BtnVerInfo", "click", function (e) {

        var grid = $("#LstTicketBusqueda").data("kendoGrid");
        var myVar = grid.dataItem($(this).closest("tr"));

        var UserLogIn = "@User.Identity.Name.ToUpper().ToString()";
        UserLogIn = UserLogIn.split(',')[0];

        var UserProfile = "@User.Identity.Name.ToUpper().ToString()";
        console.log(UserProfile);
        UserProfile = UserProfile.split(',')[2];

        var usuarioTicketName = "@User.Identity.Name.ToUpper().ToString()";
        usuarioTicketName = usuarioTicketName.split(',')[4];


        /*SEMAFORIZACION DE COLORES*/

        let lblPentiente;
        let lblOperando;
        let lblCompletado;

        lblPentiente = document.getElementById("lblTimePendiente");
        lblOperando = document.getElementById("lblTimeOperando");
        lblCompletado = document.getElementById("lblTimeCompletado");

        if (myVar.StartDateTime != '00/00/0000 00:00:00') {
            lblPentiente.innerHTML = myVar.StartDateTime;     
            // Cambiar el color del estado
            var elemento = document.querySelector('.dot1');
            elemento.style.backgroundColor  = '#009688';
        } else {
            lblPentiente.innerHTML = "---";
            // Cambiar el color del estado
            var elemento = document.querySelector('.dot1');
            elemento.style.backgroundColor  = '#b0b5b5';
        }

        if (myVar.OperandDateTime != '00/00/0000 00:00:00') {
            lblOperando.innerHTML = myVar.OperandDateTime;
             var elemento = document.querySelector('.dot2');
            elemento.style.backgroundColor  = '#009688';
        }else {
            lblOperando.innerHTML = "---";
            var elemento = document.querySelector('.dot2');
            elemento.style.backgroundColor  = '#b0b5b5';
        }

        if (myVar.EndDateTime != '00/00/0000 00:00:00') {
            lblCompletado.innerHTML = myVar.EndDateTime;
             var elemento = document.querySelector('.dot3');
            elemento.style.backgroundColor  = '#009688';
        } else {
            lblCompletado.innerHTML = "---";
            var elemento = document.querySelector('.dot3');
            elemento.style.backgroundColor  = '#b0b5b5';
        }

        /*------------------*/


        IdTicketLst = myVar.IdTicket;

        NroTicket = 0;
        FechaRegistroTicket = "";
        CallTicket = "";
        RegisterTicket = "";
        ResponsibleTicket = "";
        OperacionTicket = "";
        RazonTicket = "";
        LocationTicket = "";
        CriticidadTicket = "";
        DetalleTicket = "";

        NroTicketActivity = myVar.NroTicket;
        NroTicket = myVar.NroTicket;
        FechaRegistroTicket = myVar.StartDate;
        CallTicket = myVar.FullNameTicket;
        RegisterTicket = myVar.UsuarioNameTicket;
        ResponsibleTicket = myVar.ResponsibleNameTicket;
        OperacionTicketInform = myVar.OperationName;
        OperacionTicket = myVar.OperationName;
        RazonTicket = myVar.ReasonName;
        LocationTicket = myVar.LocationNameTicket;
        CriticidadTicket = myVar.CriticalityName;
        DetalleTicket = myVar.DetalleText;
        TitleTicketGlobal = myVar.TitleDetalle;

        $("#TitleDetalleTicketMovil").val("");
        $("#lblDetallerTicket").val("");
        $("#selectorTicketLocationComplete").selectpicker('val', "");
        $("#selectorTicketLocationComplete").selectpicker('refresh');

        UserResponsibleId = myVar.ResponsibleId;

        TitleProblemGlobal = myVar.ProblemTicket;
        TitleSolucionGlobal = myVar.SolutionTicket;

        var lblOperacion;
        lblOperacion = document.getElementById("lblOperationTicket");
        lblOperacion.innerHTML = OperacionTicket;

        var lblQuienLlama;
        lblQuienLlama = document.getElementById("lblWhoCallTicket");
        lblQuienLlama.innerHTML = CallTicket;

        var lblQuienRegistra;
        lblQuienRegistra = document.getElementById("lblWhoRegisterTicket");
        lblQuienRegistra.innerHTML = RegisterTicket;

        var lblResponsable;
        lblResponsable = document.getElementById("lblResponsibleTicket");
        lblResponsable.innerHTML = ResponsibleTicket;

        var lblRason;
        lblRason = document.getElementById("lblReasonTicket");
        lblRason.innerHTML = RazonTicket;

        var lblCriticidad;
        lblCriticidad = document.getElementById("lblCritiziedTicket");
        lblCriticidad.innerHTML = CriticidadTicket;

        var lblLocacion;
        lblLocacion = document.getElementById("lblLocationTicket");
        lblLocacion.innerHTML = LocationTicket;

        var lblFechaFin;
        lblFechaFin = document.getElementById("lblEndDateTicket");
        lblFechaFin.innerHTML = FechaRegistroTicket;

        var lblTitleTicket;
        lblTitleTicket = document.getElementById("lblTitleTicket");
        lblTitleTicket.innerHTML = myVar.TitleDetalle;

        var lblTitleTicketMovil;
        var lbltituloMovil = "";

        lblTitleTicketMovil = document.getElementById("TitleDetalleTicketMovil");
        lbltituloMovil = myVar.TitleDetalle;
        lblTitleTicketMovil.innerHTML = lbltituloMovil;

        var lblDescripcion;
        lblDescripcion = document.getElementById("lblDetallerTicket");
        lblDescripcion.innerHTML = DetalleTicket;

        let FechaInicioModificado = document.querySelector("#lblFechaInicioAlertas");
        FechaInicioModificado.innerHTML = "";
        FechaInicioModificado.innerHTML = FechaRegistroTicket;

        var titulo;
        titulo = document.getElementById("lblModelTicketEditAlertas");

        var lblOperacionInforme;
        lblOperacionInforme = document.getElementById("lblOperacionFormatoTicket");
        lblOperacionInforme.innerHTML = OperacionTicket;

        var lblUsuarioTicket;
        lblUsuarioTicket = document.getElementById("lblDeQuienFormatoTicket");
        lblUsuarioTicket.innerHTML = usuarioTicketName;

        if (myVar.MigrationStatus == 'C') {

            titulo.innerHTML = NroTicket + " - " + "<span style='color:green'>COMPLETADO</span>";

        } else if (myVar.MigrationStatus == 'O') {

            titulo.innerHTML = NroTicket + " - " + "<span style='color:blue'>OPERANDO</span>";

        } else {

            titulo.innerHTML = NroTicket + " - " + "<span style='color:#dada27f7'>PENDIENTE</span>";

        }

        if (myVar.TicketTypeStatus == 'MOVIL') {

            /*$("#btnProblemSolution").removeClass("hidden");*/

            FilterPlatMov = 'M';

            if (myVar.ValidationUserOpId == '0') {

                $("#btnValidateTicket").prop('disabled', false);
                $("#chkValidationOperation").prop('disabled', false);
                $("#chkValidationOperation").prop('checked', false).change();


            }
            else {

                $("#btnValidateTicket").prop('disabled', true);
                $("#chkValidationOperation").prop('checked', true).change();
                $("#chkValidationOperation").prop('disabled', true);

            }

            if (myVar.MigrationStatus == 'C') {

                /*$(".btnEditDetailTicket").addClass("hidden");*/
                $("#btnEditDetailTicketID").prop('disabled', true);
                $("#btnCerrarTicket").prop('disabled', true);
                $("#btnProcesandoTicket").removeClass("hidden");
                $("#btnProcesandoTicket").prop('disabled', true);
                $("#btnSubirInformeTicket").prop('disabled', true);
                $("#btnAgregarActivity").prop('disabled', true);
                $(".ContainerRegisterMovil").addClass("hidden");
                $("#btnSaveVitacora").prop('disabled', true);
                $("#btnSubirFormatoTicket2").prop('disabled', true);
                /* $("#btnSaveRegisterMovil").prop('disabled', true);*/
                $("#btnEnviarProblemSolution").prop('disabled', true);

                ButtonsGridActivity = "<button class='btn-grid btn-xs BtnVerInfo' type='button' title='Ver datos'><i class='fa fa-lg fa-fw fas fa-eye'></i></button>";

                $(".ContainerTitlelbl").removeClass("hidden");
                $(".ContainerTitleComplete").addClass("hidden");

                $(".ContainerLocationlbl").removeClass("hidden");
                $(".ContainerLocationComplete").addClass("hidden");

                /*$(".ContainerBtnEditTicketDetails").addClass("hidden");*/

                /*$("#txtProblemticket").prop('disabled', true);*/
                /*$("#txtSolutionticket").prop('disabled', true);*/

                let IdsComponentes = myVar.ComponentIds;

                IdsComponentes = IdsComponentes.split(', ');

                $("#selectorComponente").val(IdsComponentes);
                $("#selectorComponente").prop('disabled', true);
                $("#selectorComponente").selectpicker('refresh');

                $("#txtProblemticket").prop('disabled', true);
                $("#txtSolutionticket").prop('disabled', true);
                $("#btnEnviarProblemSolution").prop('disabled', true);


                document.getElementById("txtProblemticket").value = myVar.ProblemTicket;
                document.getElementById("txtSolutionticket").value = myVar.SolutionTicket;

                $("#lblDetallerTicket").prop('disabled', true);

                /*$("#txtProblemticket").prop('disabled', true);*/
                /*$("#txtSolutionticket").prop('disabled', true);*/

                document.getElementById("lblDetallerTicket").value = "";
                //document.getElementById("txtProblemticket").value = "";
                //document.getElementById("txtSolutionticket").value = "";

                document.getElementById("lblDetallerTicket").value = myVar.DetalleText;
                //document.getElementById("txtProblemticket").value = myVar.ProblemTicket;
                //document.getElementById("txtSolutionticket").value = myVar.SolutionTicket;

                $(".ContainerRegisterMovil").addClass("hidden");

                ButtonsGridFileTicket = "<button class='btn-grid btn-xs BtnDescargarTicket' type='button' title='Ver datos'><i class='fa fa-lg fa-fw fas fa-cloud-download'></i></button>";

            }
            else {

                $("#btnSaveVitacora").prop('disabled', false);

                if (myVar.ComponentIds != '0') {

                    let IdsComponentes = myVar.ComponentIds;

                    IdsComponentes = IdsComponentes.split(', ');

                    $("#selectorComponente").val(IdsComponentes);
                    $("#selectorComponente").prop('disabled', true);
                    $("#selectorComponente").selectpicker('refresh');

                    $("#txtProblemticket").prop('disabled', true);
                    $("#txtSolutionticket").prop('disabled', true);
                    $("#btnEnviarProblemSolution").prop('disabled', true);

                    document.getElementById("txtProblemticket").value = myVar.ProblemTicket;
                    document.getElementById("txtSolutionticket").value = myVar.SolutionTicket;

                }
                else {

                    $("#selectorComponente").val('');
                    $("#selectorComponente").prop('disabled', false);
                    $("#selectorComponente").selectpicker('refresh');

                    $("#txtProblemticket").prop('disabled', false);
                    $("#txtSolutionticket").prop('disabled', false);
                    $("#btnEnviarProblemSolution").prop('disabled', false);

                    document.getElementById("txtProblemticket").value = "";
                    document.getElementById("txtSolutionticket").value = "";

                }

                if (UserLogIn == 1 || UserProfile == 10 || UserLogIn == myVar.WhoCallId) {

                    $("#btnCerrarTicket").prop('disabled', false);
                    $("#btnProcesandoTicket").removeClass("hidden");
                    /* $(".btnEditDetailTicket").removeClass("hidden");*/
                   /* $("#btnEditDetailTicketID").prop('disabled', false);*/

                    if (myVar.MigrationStatus == 'O') {
                        $("#btnProcesandoTicket").prop('disabled', true);
                    } else {
                        $("#btnProcesandoTicket").prop('disabled', false);
                    }

                    $("#btnSubirFormatoTicket2").prop('disabled', false);

                    $("#btnSubirInformeTicket").prop('disabled', false);

                    $("#btnAgregarActivity").prop('disabled', false);



                    if (myVar.TitleDetalle == "" && myVar.LocationNameTicket == undefined) {

                        $(".ContainerTitleComplete").removeClass("hidden");
                        $(".ContainerTitlelbl").addClass("hidden");

                        //$("#lblDetallerTicket").val("");
                        //$("#TitleDetalleTicketMovil").val("");

                        $("#lblDetallerTicket").prop('disabled', false);

                        $(".ContainerLocationComplete").removeClass("hidden");
                        $(".ContainerLocationlbl").addClass("hidden");
                        $("#btnEditDetailTicketID").prop('disabled', false);
                        /*$(".btnEditDetailTicket").removeClass("hidden");*/
                    }
                    else {

                        $(".ContainerTitleComplete").addClass("hidden");
                        $(".ContainerTitlelbl").removeClass("hidden");
                        $("#btnEditDetailTicketID").prop('disabled', true);
                        /*  $("#lblDetallerTicket").prop('disabled', true);*/
                        /*   $(".btnEditDetailTicket").addClass("hidden");*/
                        $(".ContainerLocationComplete").addClass("hidden");
                        $(".ContainerLocationlbl").removeClass("hidden");
                    }

                    if (myVar.DetalleText != "") {

                        $("#lblDetallerTicket").prop('disabled', false);
                        $("#lblDetallerTicket").val(DetalleTicket);
                        $("#lblDetallerTicket").prop('disabled', true);

                    } else {
                        $("#lblDetallerTicket").prop('disabled', false);
                        $("#btnEditDetailTicketID").prop('disabled', false);
                    }

                    ButtonsGridFileTicket = "<button class='btn-grid btn-xs BtnEditTicket' type='button' title='Ver datos'><i class='fa fa-lg fa-fw fas fa-edit'></i></button>" + " " +
                        "<button class='btn-grid btn-xs BtnDescargarTicket' type='button' title='Ver datos'><i class='fa fa-lg fa-fw fas fa-cloud-download'></i></button>"
                        + " " + "<button class='btn-grid btn-xs BtnDeleteTicket' type='button' title='Ver datos'><i class='fa fa-trash-o fa-lg'></i></button>";

                    ButtonsGridActivity = "<button class='btn-grid btn-xs BtnVerInfo' type='button' title='Ver datos'><i class='fa fa-lg fa-fw fas fa-eye'></i></button>" + " " +
                        "<button class='btn-grid btn-xs BtnEdit' type='button' title='Editar'><i class='fa fa-lg fa-fw fas fa-edit'></i></button>";

                }
                else {
                    /*          $(".btnEditDetailTicket").addClass("hidden");*/

                    $(".ContainerTitlelbl").removeClass("hidden");
                    $(".ContainerTitleComplete").addClass("hidden");

                    $(".ContainerLocationlbl").removeClass("hidden");
                    $(".ContainerLocationComplete").addClass("hidden");

                    $("#btnCerrarTicket").prop('disabled', true);
                    $("#btnEditDetailTicketID").prop('disabled', true);
                    $("#btnEnviarProblemSolution").prop('disabled', true);

                    $("#btnSubirFormatoTicket2").prop('disabled', true);
                    $("#btnSubirInformeTicket").prop('disabled', true);
                    $("#btnAgregarActivity").prop('disabled', true);

                    /*$("#txtProblemticket").prop('disabled', true);*/
                    /*$("#txtSolutionticket").prop('disabled', true);*/
       
                    $("#btnValidateTicket").prop('disabled', true);

                    $("#chkValidationOperation").prop('disabled', true);
                    $("#btnProcesandoTicket").prop('disabled', true);

                    ButtonsGridFileTicket = "<button class='btn-grid btn-xs BtnDescargarTicket' type='button' title='Ver datos'><i class='fa fa-lg fa-fw fas fa-cloud-download'></i></button>";

                    ButtonsGridActivity = "<button class='btn-grid btn-xs BtnVerInfo' type='button' title='Ver datos'><i class='fa fa-lg fa-fw fas fa-eye'></i></button>";

                }

                ValidarStatusActividades();

            }

        }
        else if (myVar.TicketTypeStatus == 'PLATAFORMA') {

            /*  $(".btnEditDetailTicket").addClass("hidden");*/
            $("#btnEditDetailTicketID").prop('disabled', true);
            $(".ContainerTitlelbl").removeClass("hidden");
            $(".ContainerTitleComplete").addClass("hidden");

            $(".ContainerLocationlbl").removeClass("hidden");
            $(".ContainerLocationComplete").addClass("hidden")

            $("#lblDetallerTicket").prop('disabled', true);

            /* $(".ContainerBtnEditTicketDetails").addClass("hidden");*/

            /* $("#btnProblemSolution").addClass("hidden");*/

            $(".Container3WS").removeClass("hidden");

            FilterPlatMov = 'P';

            if (myVar.MigrationStatus == 'O') {
                $("#btnProcesandoTicket").prop('disabled', true);
            }
            else {
                $("#btnProcesandoTicket").prop('disabled', false);
            }

            if (myVar.ValidationUserOpId == '0') {

                $("#btnValidateTicket").prop('disabled', false);
                $("#chkValidationOperation").prop('disabled', false);
                $("#chkValidationOperation").prop('checked', false).change();


            }
            else {

                $("#btnValidateTicket").prop('disabled', true);
                $("#chkValidationOperation").prop('checked', true).change();
                $("#chkValidationOperation").prop('disabled', true);

            }

            if (myVar.DetalleText != "") {

                $("#lblDetallerTicket").prop('disabled', false);
                $("#lblDetallerTicket").val(DetalleTicket);
                $("#lblDetallerTicket").prop('disabled', true);

            }

            if (myVar.MigrationStatus == 'C') {

                $("#btnCerrarTicket").prop('disabled', true);
                $("#btnSubirFormatoTicket2").prop('disabled', true);
                $("#btnSaveVitacora").prop('disabled', true);
                $("#btnAgregarActivity").prop('disabled', true);
                $("#btnSubirInformeTicket").prop('disabled', true);
                $("#txtVitacoraTextSend").prop('disabled', true);
                $("#btnProcesandoTicket").prop('disabled', true);
                $("#chkValidationOperation").prop('disabled', true);
                $("#btnValidateTicket").prop('disabled', true);

                ButtonsGridActivity = "<button class='btn-grid btn-xs BtnVerInfo' type='button' title='Ver datos'><i class='fa fa-lg fa-fw fas fa-eye'></i></button>";
                ButtonsGridFileTicket = "<button class='btn-grid btn-xs BtnDescargarTicket' type='button' title='Ver datos'><i class='fa fa-lg fa-fw fas fa-cloud-download'></i></button>";

                let IdsComponentes = myVar.ComponentIds;

                IdsComponentes = IdsComponentes.split(', ');

                $("#selectorComponente").val(IdsComponentes);
                $("#selectorComponente").prop('disabled', true);
                $("#selectorComponente").selectpicker('refresh');

                $("#txtProblemticket").prop('disabled', true);
                $("#txtSolutionticket").prop('disabled', true);
                $("#btnEnviarProblemSolution").prop('disabled', true);


                document.getElementById("txtProblemticket").value = myVar.ProblemTicket;
                document.getElementById("txtSolutionticket").value = myVar.SolutionTicket;

            } else {

                if (myVar.ComponentIds != '0') {

                    let IdsComponentes = myVar.ComponentIds;

                    IdsComponentes = IdsComponentes.split(', ');

                    $("#selectorComponente").val(IdsComponentes);
                    $("#selectorComponente").prop('disabled', true);
                    $("#selectorComponente").selectpicker('refresh');

                    $("#txtProblemticket").prop('disabled', true);
                    $("#txtSolutionticket").prop('disabled', true);
                    $("#btnEnviarProblemSolution").prop('disabled', true);

                    document.getElementById("txtProblemticket").value = myVar.ProblemTicket;
                    document.getElementById("txtSolutionticket").value = myVar.SolutionTicket;

                } else {

                    $("#selectorComponente").val('');
                    $("#selectorComponente").prop('disabled', false);
                    $("#selectorComponente").selectpicker('refresh');


                    $("#txtProblemticket").prop('disabled', false);
                    $("#txtSolutionticket").prop('disabled', false);
                    $("#btnEnviarProblemSolution").prop('disabled', false);

                    document.getElementById("txtProblemticket").value = "";
                    document.getElementById("txtSolutionticket").value = "";

                }

                if (UserLogIn == 1 || UserProfile == 10 || UserLogIn == myVar.WhoCallId) {

                    $("#btnSubirInformeTicket").prop('disabled', false);
                    $("#btnSubirFormatoTicket2").prop('disabled', false);
                    $("#btnSaveVitacora").prop('disabled', false);
                    $("#btnAgregarActivity").prop('disabled', false);
                    $("#txtVitacoraTextSend").prop('disabled', false);

                    ButtonsGridActivity = "<button class='btn-grid btn-xs BtnVerInfo' type='button' title='Ver datos'><i class='fa fa-lg fa-fw fas fa-eye'></i></button>" + " " +
                        "<button class='btn-grid btn-xs BtnEdit' type='button' title='Editar'><i class='fa fa-lg fa-fw fas fa-edit'></i></button>";

                    ButtonsGridFileTicket = "<button class='btn-grid btn-xs BtnEditTicket' type='button' title='Ver datos'><i class='fa fa-lg fa-fw fas fa-edit'></i></button>" + " " +
                        "<button class='btn-grid btn-xs BtnDescargarTicket' type='button' title='Ver datos'><i class='fa fa-lg fa-fw fas fa-cloud-download'></i></button>"
                        + " " + "<button class='btn-grid btn-xs BtnDeleteTicket' type='button' title='Ver datos'><i class='fa fa-trash-o fa-lg'></i></button>";

                } else {

                    $("#btnCerrarTicket").prop('disabled', true);
                    $("#btnSubirFormatoTicket2").prop('disabled', true);
                    $("#btnSaveVitacora").prop('disabled', false);
                    $("#btnAgregarActivity").prop('disabled', true);
                    $("#btnSubirInformeTicket").prop('disabled', true);
                    $("#txtVitacoraTextSend").prop('disabled', false);
                    $("#chkValidationOperation").prop('disabled', true);
                    $("#btnValidateTicket").prop('disabled', true);
                    $("#btnEditDetailTicketID").prop('disabled', true);
                    $("#btnEnviarProblemSolution").prop('disabled', true);

                    ButtonsGridActivity = "<button class='btn-grid btn-xs BtnVerInfo' type='button' title='Ver datos'><i class='fa fa-lg fa-fw fas fa-eye'></i></button>";
                    ButtonsGridFileTicket = "<button class='btn-grid btn-xs BtnDescargarTicket' type='button' title='Ver datos'><i class='fa fa-lg fa-fw fas fa-cloud-download'></i></button>";
                }

                ValidarStatusActividades();

            }

            @*if (UserRegister2 == UserResponsibleId || UserRegister == 10) {

                if (myVar.MigrationStatus == 'C') {

                    $("#btnCerrarTicket").prop('disabled', true);
                    $("#btnSubirFormatoTicket2").prop('disabled', true);
                    $("#btnSaveVitacora").prop('disabled', true);
                    $("#btnAgregarActivity").prop('disabled', true);
                    $("#btnSubirInformeTicket").prop('disabled', true);

                    ButtonsGridActivity = "<button class='btn-grid btn-xs BtnVerInfo' type='button' title='Ver datos'><i class='fa fa-lg fa-fw fas fa-eye'></i></button>";

                }
                else {

                    $("#btnSubirInformeTicket").prop('disabled', false);
                    $("#btnSubirFormatoTicket2").prop('disabled', false);
                    $("#btnSaveVitacora").prop('disabled', false);
                    $("#btnAgregarActivity").prop('disabled', false);

                    ValidarStatusActividades();

                }

            }
            else {

                $("#btnCerrarTicket").prop('disabled', true);

                var UserRegister3 = "@User.Identity.Name.ToUpper().ToString()";
                UserRegister3 = UserRegister3.split(',')[2];

                if (myVar.MigrationStatus == 'C') {

                    $("#btnCerrarTicket").prop('disabled', true);
                    $("#btnSubirFormatoTicket2").prop('disabled', true);
                    $("#btnSaveVitacora").prop('disabled', true);
                    $("#btnAgregarActivity").prop('disabled', true);
                    $("#btnSubirInformeTicket").prop('disabled', true);

                    if (UserRegister3 == 1 || UserRegister3 == 2 || UserRegister3 == 10) {

                        ButtonsGridActivity = "<button class='btn-grid btn-xs BtnVerInfo' type='button' title='Ver datos'><i class='fa fa-lg fa-fw fas fa-eye'></i></button>";

                    }
                    else {

                        ButtonsGridActivity = "<button class='btn-grid btn-xs BtnVerInfo' type='button' title='Ver datos'><i class='fa fa-lg fa-fw fas fa-eye'></i></button>";

                    }


                }
                else {

                    $("#btnCerrarTicket").prop('disabled', true);
                    $("#btnSubirFormatoTicket2").prop('disabled', false);
                    $("#btnSaveVitacora").prop('disabled', false);
                    $("#btnAgregarActivity").prop('disabled', false);
                    $("#btnSubirInformeTicket").prop('disabled', false);

                    if (UserRegister3 == 1 || UserRegister3 == 2 || UserRegister3 == 10) {

                        ButtonsGridActivity = "<button class='btn-grid btn-xs BtnVerInfo' type='button' title='Ver datos'><i class='fa fa-lg fa-fw fas fa-eye'></i></button>" + " " +
                            "<button class='btn-grid btn-xs BtnEdit' type='button' title='Editar'><i class='fa fa-lg fa-fw fas fa-edit'></i></button>";

                    } else {

                        ButtonsGridActivity = "<button class='btn-grid btn-xs BtnVerInfo' type='button' title='Ver datos'><i class='fa fa-lg fa-fw fas fa-eye'></i></button>";

                    }

                }

            }*@
         }

        ListadoDescripcionVitacora(NroTicketActivity);
        GrillaListadoActividadAlertas();
        GrillaListadoArchivoTicket();

        $('#ModalTicketEdit').modal('show');

    });

    $("#LstTicketsRelatedActivityCompletado").delegate(".BtnVerInfo", "click", function (e) {

        var grid = $("#LstTicketsRelatedActivityCompletado").data("kendoGrid");
        var myVar = grid.dataItem($(this).closest("tr"));

        GrillaListadoActividadToTicketToActCompletado(myVar.IdTicket);

        $('#ModalActividadToTicketToActividaCompletado').modal('show');

    });

    $("#LstActivityToTicketToActivityCompletadas").delegate(".BtnVerInfo", "click", function (e) {

        var grid = $("#LstActivityToTicketToActivityCompletadas").data("kendoGrid");
        var myVar = grid.dataItem($(this).closest("tr"));
        var IdValidation = myVar.ValidationButton;

        var NuevoUsuarioRegistrador = "@User.Identity.Name.ToUpper().ToString()";
        NuevoUsuarioRegistrador = NuevoUsuarioRegistrador.split(',')[4];

        var UserWebPage = "@User.Identity.Name.ToUpper().ToString()";
        UserWebPage = UserWebPage.split(',')[0];

        idActivity = myVar.IdActivity;

        var IdResponsibleTicket;
        IdResponsibleTicket = myVar.ResponsibleTicket;

        var TxtQuienFormato;
        TxtQuienFormato = document.getElementById("lblDeQuienFormato");
        TxtQuienFormato.innerHTML = NuevoUsuarioRegistrador;

        var TxtOperacionActividad;
        TxtOperacionActividad = document.getElementById("lblOperacionFormato");
        TxtOperacionActividad.innerHTML = myVar.OperationName;

        document.getElementById("txtPorcentajeIngresado").value = "";

        ListadoDetalleActividadInforme();
        EditarPercentage();

        LimpiarEtiquetasActivityInforme();
        ListadoDescripcionVitacoraActivityDetail(idActivity);

        //document.getElementById("txtPorcentajeIngresado").value = "";
        document.getElementById("txtVitacoraTextSendActivityDetail").value = "";

        document.getElementById("flArchivoSubirAdjunto").value = "";

        if (UserWebPage == IdResponsibleTicket) {

                $("#chkValidationResponsible").prop('disabled', false);
                $("#chkValidationJefeArea").prop('disabled', false);
                $("#btValidationResponsible").prop('disabled', false);

            } else {

                $("#chkValidationResponsible").prop('disabled', true);
                $("#chkValidationJefeArea").prop('disabled', true);
                $("#btValidationResponsible").prop('disabled', true);

        }

        if (IdValidation == '0') {

            $("#btnFinalizar").prop('disabled', true);

        } else {

            $("#btnFinalizar").prop('disabled', false);

        }

        $("#btnSaveInforme").prop('disabled', true);
        $("#btnRegisterPercentage").prop('disabled', true);
        $("#btnSaveVitacoraActivityDetail").prop('disabled', true);
        $("#btnSubirFormato").prop('disabled', true);
        $("#btValidationResponsible").prop('disabled', true);
        $("#btnFinalizar").prop('disabled', true);

        $('#ModalActivityDetail').modal('show');

    });

    $("#GrillaLstActivityBusqueda").delegate(".BtnVerInfo2", "click", function (e) {

        var grid = $("#GrillaLstActivityBusqueda").data("kendoGrid");
        var myVar = grid.dataItem($(this).closest("tr"));
        var IdValidation = myVar.ValidationButton;

        //$("#btnSaveInforme").prop('disabled', false);
        //$("#btnRegisterPercentage").prop('disabled', false);
        //$("#btnSaveVitacoraActivityDetail").prop('disabled', false);
        //$("#btnSubirFormato").prop('disabled', false);
        //$("#btValidationResponsible").prop('disabled', true);
        //$("#btnFinalizar").prop('disabled', true);

        var NuevoUsuarioRegistrador = "@User.Identity.Name.ToUpper().ToString()";
        NuevoUsuarioRegistrador = NuevoUsuarioRegistrador.split(',')[4];

        idActivity = myVar.IdActivity;

        var TxtQuienFormato;
        TxtQuienFormato = document.getElementById("lblDeQuienFormato");
        TxtQuienFormato.innerHTML = NuevoUsuarioRegistrador;

        var TxtOperacionActividad;
        TxtOperacionActividad = document.getElementById("lblOperacionFormato");
        TxtOperacionActividad.innerHTML = OperacionTicket;

        document.getElementById("txtPorcentajeIngresado").value = "";

        ListadoDetalleActividadInforme();
        EditarPercentage();

        LimpiarEtiquetasActivityInforme();
        ListadoDescripcionVitacoraActivityDetail(idActivity);

        //document.getElementById("txtPorcentajeIngresado").value = "";
        document.getElementById("txtVitacoraTextSendActivityDetail").value = "";

        document.getElementById("flArchivoSubirAdjunto").value = "";

         if (IdValidation == '0') {

                $("#btnFinalizar").prop('disabled', true);

            } else {

                $("#btnFinalizar").prop('disabled', false);

         }

         if (myVar.Estado == 'COMPLETADO') {

             $("#btnFinalizar").prop('disabled', true);

             $("#btnSaveInforme").prop('disabled', true);
             $("#btnRegisterPercentage").prop('disabled', true);
             $("#btnSaveVitacoraActivityDetail").prop('disabled', true);
             $("#btnSubirFormato").prop('disabled', true);
             $("#btValidationResponsible").prop('disabled', true);
             $("#btnFinalizar").prop('disabled', true);

         } else {

             $("#btnSaveInforme").prop('disabled', false);
             $("#btnRegisterPercentage").prop('disabled', false);
             $("#btnSaveVitacoraActivityDetail").prop('disabled', false);
             $("#btnSubirFormato").prop('disabled', false);
             //$("#btValidationResponsible").prop('disabled', true);
             //$("#btnFinalizar").prop('disabled', true);
             /*$("#btnFinalizar").prop('disabled', false);*/

         }

        $('#ModalActivityDetail').modal('show');
    });

    $("#btnFinalizar").click(function () {

             Swal.fire({
                title: 'Estas seguro de Finalizar esta actividad ?',
                text: "Ya no podras revertirla!",
                icon: 'warning',
                showCancelButton: true,
                confirmButtonColor: '#3085d6',
                cancelButtonColor: '#d33',
                confirmButtonText: 'Si, deseo Finalizar!'
            }).then((result) => {
                if (result.isConfirmed) {

                    ActivityFinish();

                } else {



                }
            });

        });

    $("#btnFileGraphic").click(function () {

        ListarFileTicketGraphic();


        $('#ModalArchivoTicket').modal('show');
    });

    $("#btnBuscar").click(function () {

        /****/
        $("#grGraficaTicketXOperacion").addClass("hidden");
        $("#imgCargaGraficaTicketXOperacion").removeClass("hidden");
        $("#msjErrorGraficaTicketXOperacion").addClass("hidden");
        $("#msjVacioGraficaTicketXOperacion").addClass("hidden");
        $("#msjErrorListarGraficaTicketXOperacion").addClass("hidden");
        $("#msjSuperaLimiteGraficaTicketXOperacion").addClass("hidden");
        /*****/
        $("#grGraficaTicketByMes").addClass("hidden");
        $("#imgCargaGraficaTicketByMes").removeClass("hidden");
        $("#msjErrorGraficaTicketByMes").addClass("hidden");
        $("#msjVacioGraficaTicketByMes").addClass("hidden");
        $("#msjErrorListarGraficaTicketByMes").addClass("hidden");
        $("#msjSuperaLimiteGraficaTicketByMes").addClass("hidden");
        /****/
        $("#grGraficaActividadesXTicket").addClass("hidden");
        $("#imgCargaGraficaActividadesXTicket").removeClass("hidden");
        $("#msjErrorGraficaActividadesXTicket").addClass("hidden");
        $("#msjVacioGraficaActividadesXTicket").addClass("hidden");
        $("#msjErrorListarGraficaActividadesXTicket").addClass("hidden");
        $("#msjSuperaLimiteGraficaActividadesXTicket").addClass("hidden");
        /****/
        $("#grGraficaActividadesXUsuario").addClass("hidden");
        $("#imgCargaGraficaActividadesXUsuario").removeClass("hidden");
        $("#msjErrorGraficaActividadesXUsuario").addClass("hidden");
        $("#msjVacioGraficaActividadesXUsuario").addClass("hidden");
        $("#msjErrorListarGraficaActividadesXUsuario").addClass("hidden");
        $("#msjSuperaLimiteGraficaActividadesXUsuario").addClass("hidden");


        listadoTicketsXOperacion("1");
        listadoTicketsXMeses("1");
        listadoActividadesXTicket("1");
        listadoActividadesXUsuario("1");

    });

    $("#btnBuscarTicketActividad").click(function () {

        listadoTicketXActividad('1');

    });

    $('input[type=radio][name=rdoRadioPendienteCompleto]').change(function (e) {

        if (e.target.id == 'rdoPendiente') {

            StatusValor = '1';

        } else if (e.target.id == 'rdoCompleto') {

            StatusValor = '2';

        } else if (e.target.id == 'rdoOperando') {

            StatusValor = '4';

        } else {

            StatusValor = '3';
        }

    });

    $('input[type=radio][name=rdoRadioPendienteActividadResponsible]').change(function (e) {

        if (e.target.id == 'rdoPendienteActRes') {

            StatusValorActRes = '1';

        } else if (e.target.id == 'rdoCompletoActRes') {

            StatusValorActRes = '2';

        //} else if (e.target.id == 'rdoOperandoActRe') {

        //    StatusValorActRes = '4';

        //}
        }else {

            StatusValorActRes = '3';
        }

    });

    /*---DETALLE TICKET ----*/

    $("#btnAgregarActivity").click(function () {

         @*var UserRegister = "@User.Identity.Name.ToUpper().ToString()";
         UserRegister = UserRegister.split(',')[2];

         var UserRegister2 = "@User.Identity.Name.ToUpper().ToString()";
         UserRegister2 = UserRegister2.split(',')[0];*@

         if ($("#txtActivityTicket").val() == "" || $("#txtActivityTicket").val() == null || $("#txtActivityTicket").val() == undefined) {
             toastr.options.timeOut = nTiempoCorto;
             toastr.options.extendedTimeOut = nTiempoCorto;
             /*success - info - warning - error*/
             var $toast = toastr["error"]("Es necesario ingresar la Actividad", tTituloError); $toastlast = $toast;
             return;
         }

         if ($("#selectorResponsableActivity").val() == "" || $("#selectorResponsableActivity").val() == null || $("#selectorResponsableActivity").val() == undefined) {
             toastr.options.timeOut = nTiempoCorto;
             toastr.options.extendedTimeOut = nTiempoCorto;
             /*success - info - warning - error*/
             var $toast = toastr["error"]("Es necesario ingresar el Responsable de la ctividad", tTituloError); $toastlast = $toast;
             return;
         }

         if ($("#txtActivityDateEnd").val() == "" || $("#txtActivityDateEnd").val() == null || $("#txtActivityDateEnd").val() == undefined) {
             toastr.options.timeOut = nTiempoCorto;
             toastr.options.extendedTimeOut = nTiempoCorto;
             /*success - info - warning - error*/
             var $toast = toastr["error"]("Es necesario ingresar la Fecha de Cierre", tTituloError); $toastlast = $toast;
             return;

         } else {

             var ValorFechaEnd = "";

             ValorFechaEnd = $("#txtActivityDateEnd").val();

             ValorFechaEnd = ValorFechaEnd.length;

             if ( ValorFechaEnd != 19 || ValorFechaEnd != 19) {
                 toastr.options.timeOut = nTiempoCorto;
                 toastr.options.extendedTimeOut = nTiempoCorto;
                 /*success - info - warning - error*/
                 var $toast = toastr["error"]("Es necesario ingresar una hora correspondiente", tTituloError); $toastlast = $toast;
                 return;
             }

         }


       /* if (UserRegister2 == 1 || UserRegister2 == UserResponsibleId || UserRegister == 10) {*/

         Swal.fire({
             title: 'Estas seguro de generar esta actividad?',
             text: "Ya no podras revertirla!",
             icon: 'warning',
             showCancelButton: true,
             confirmButtonColor: '#3085d6',
             cancelButtonColor: '#d33',
             confirmButtonText: 'Si, estoy acuerdo!'
         }).then((result) => {
             if (result.isConfirmed) {

                 TextActivity = $("#txtActivityTicket").val();
                 //TextDetalleActivity = $("#txtDetalleActivity").val();
                 IdResponsibleActivity = $('#selectorResponsableActivity').val()[0];
                 FechaEndActivity = $("#txtActivityDateEnd").val();

                 RegistrarActivity();

             }
         });

         //} else {

         //    Swal.fire({
         //        icon: 'error',
         //        title: 'Accion Denegada...',
         //        html: '<p>Solo puede ingresar actividades el <span style="color:red"><i>responsable</i></span> del ticket!</p>'
         //        //footer: '<a href="">Why do I have this issue?</a>'
         //    });
         //}

    })

    $("#LstActivityExpiration").delegate(".BtnVerInfo", "click", function (e) {

         var grid = $("#LstActivityExpiration").data("kendoGrid");
         var myVar = grid.dataItem($(this).closest("tr"));

         var UserLogIn = "@User.Identity.Name.ToUpper().ToString()";
         UserLogIn = UserLogIn.split(',')[0];

         var UserProfile = "@User.Identity.Name.ToUpper().ToString()";
         UserProfile = UserProfile.split(',')[2];

         var usuarioTicketName = "@User.Identity.Name.ToUpper().ToString()";
        usuarioTicketName = usuarioTicketName.split(',')[4];

        IdTicketLst = myVar.IdTicket;

        NroTicket = 0;
        FechaRegistroTicket = "";
        CallTicket = "";
        RegisterTicket = "";
        ResponsibleTicket = "";
        OperacionTicket = "";
        RazonTicket = "";
        LocationTicket = "";
        CriticidadTicket = "";
        DetalleTicket = "";

        NroTicketActivity = myVar.NroTicket;
        NroTicket = myVar.NroTicket;
        FechaRegistroTicket = myVar.StartDate;
        CallTicket = myVar.FullNameTicket;
        RegisterTicket = myVar.UsuarioNameTicket;
        ResponsibleTicket = myVar.ResponsibleNameTicket;
        OperacionTicketInform = myVar.OperationName;
        OperacionTicket = myVar.OperationName;
        RazonTicket = myVar.ReasonName;
        LocationTicket = myVar.LocationNameTicket;
        CriticidadTicket = myVar.CriticalityName;
        DetalleTicket = myVar.DetalleText;
        TitleTicketGlobal = myVar.TitleDetalle;

        $("#TitleDetalleTicketMovil").val("");
        $("#lblDetallerTicket").val("");
        $("#selectorTicketLocationComplete").selectpicker('val', "");
        $("#selectorTicketLocationComplete").selectpicker('refresh');

        UserResponsibleId = myVar.ResponsibleId;

        TitleProblemGlobal = myVar.ProblemTicket;
        TitleSolucionGlobal = myVar.SolutionTicket;

        var lblOperacion;
        lblOperacion = document.getElementById("lblOperationTicket");
        lblOperacion.innerHTML = OperacionTicket;

        var lblQuienLlama;
        lblQuienLlama = document.getElementById("lblWhoCallTicket");
        lblQuienLlama.innerHTML = CallTicket;

        var lblQuienRegistra;
        lblQuienRegistra = document.getElementById("lblWhoRegisterTicket");
        lblQuienRegistra.innerHTML = RegisterTicket;

        var lblResponsable;
        lblResponsable = document.getElementById("lblResponsibleTicket");
        lblResponsable.innerHTML = ResponsibleTicket;

        var lblRason;
        lblRason = document.getElementById("lblReasonTicket");
        lblRason.innerHTML = RazonTicket;

        var lblCriticidad;
        lblCriticidad = document.getElementById("lblCritiziedTicket");
        lblCriticidad.innerHTML = CriticidadTicket;

        var lblLocacion;
        lblLocacion = document.getElementById("lblLocationTicket");
        lblLocacion.innerHTML = LocationTicket;

        var lblFechaFin;
        lblFechaFin = document.getElementById("lblEndDateTicket");
        lblFechaFin.innerHTML = FechaRegistroTicket;

        var lblTitleTicket;
        lblTitleTicket = document.getElementById("lblTitleTicket");
        lblTitleTicket.innerHTML = myVar.TitleDetalle;

        var lblTitleTicketMovil;
        var lbltituloMovil = "";

        lblTitleTicketMovil = document.getElementById("TitleDetalleTicketMovil");
        lbltituloMovil = myVar.TitleDetalle;
        lblTitleTicketMovil.innerHTML = lbltituloMovil;

        var lblDescripcion;
        lblDescripcion = document.getElementById("lblDetallerTicket");
        lblDescripcion.innerHTML = DetalleTicket;

        let FechaInicioModificado = document.querySelector("#lblFechaInicioAlertas");
        FechaInicioModificado.innerHTML = "";
        FechaInicioModificado.innerHTML = FechaRegistroTicket;

        var titulo;
        titulo = document.getElementById("lblModelTicketEditAlertas");

        var lblOperacionInforme;
        lblOperacionInforme = document.getElementById("lblOperacionFormatoTicket");
        lblOperacionInforme.innerHTML = OperacionTicket;

        var lblUsuarioTicket;
        lblUsuarioTicket = document.getElementById("lblDeQuienFormatoTicket");
        lblUsuarioTicket.innerHTML = usuarioTicketName;

        if (myVar.MigrationStatus == 'C') {

            titulo.innerHTML = NroTicket + " - " + "<span style='color:green'>COMPLETADO</span>";

        } else if (myVar.MigrationStatus == 'O') {

            titulo.innerHTML = NroTicket + " - " + "<span style='color:blue'>OPERANDO</span>";

        } else {

            titulo.innerHTML = NroTicket + " - " + "<span style='color:#dada27f7'>PENDIENTE</span>";

        }

        if (myVar.TicketTypeStatus == 'MOVIL') {

            /*$("#btnProblemSolution").removeClass("hidden");*/

            FilterPlatMov = 'M';

            if (myVar.ValidationUserOpId == '0') {

                $("#btnValidateTicket").prop('disabled', false);
                $("#chkValidationOperation").prop('disabled', false);
                $("#chkValidationOperation").prop('checked', false).change();


            }
            else {

                $("#btnValidateTicket").prop('disabled', true);
                $("#chkValidationOperation").prop('checked', true).change();
                $("#chkValidationOperation").prop('disabled', true);

            }

            if (myVar.MigrationStatus == 'C') {

                /*$(".btnEditDetailTicket").addClass("hidden");*/
                $("#btnEditDetailTicketID").prop('disabled', true);
                $("#btnCerrarTicket").prop('disabled', true);
                $("#btnProcesandoTicket").removeClass("hidden");
                $("#btnProcesandoTicket").prop('disabled', true);
                $("#btnSubirInformeTicket").prop('disabled', true);
                $("#btnAgregarActivity").prop('disabled', true);
                $(".ContainerRegisterMovil").addClass("hidden");
                $("#btnSaveVitacora").prop('disabled', true);
                $("#btnSubirFormatoTicket2").prop('disabled', true);
                /* $("#btnSaveRegisterMovil").prop('disabled', true);*/
                $("#btnEnviarProblemSolution").prop('disabled', true);

                ButtonsGridActivity = "<button class='btn-grid btn-xs BtnVerInfo' type='button' title='Ver datos'><i class='fa fa-lg fa-fw fas fa-eye'></i></button>";

                $(".ContainerTitlelbl").removeClass("hidden");
                $(".ContainerTitleComplete").addClass("hidden");

                $(".ContainerLocationlbl").removeClass("hidden");
                $(".ContainerLocationComplete").addClass("hidden");

                /*$(".ContainerBtnEditTicketDetails").addClass("hidden");*/

                /*$("#txtProblemticket").prop('disabled', true);*/
                /*$("#txtSolutionticket").prop('disabled', true);*/

                let IdsComponentes = myVar.ComponentIds;

                IdsComponentes = IdsComponentes.split(', ');

                $("#selectorComponente").val(IdsComponentes);
                $("#selectorComponente").prop('disabled', true);
                $("#selectorComponente").selectpicker('refresh');

                $("#txtProblemticket").prop('disabled', true);
                $("#txtSolutionticket").prop('disabled', true);
                $("#btnEnviarProblemSolution").prop('disabled', true);


                document.getElementById("txtProblemticket").value = myVar.ProblemTicket;
                document.getElementById("txtSolutionticket").value = myVar.SolutionTicket;

                $("#lblDetallerTicket").prop('disabled', true);

                /*$("#txtProblemticket").prop('disabled', true);*/
                /*$("#txtSolutionticket").prop('disabled', true);*/

                document.getElementById("lblDetallerTicket").value = "";
                //document.getElementById("txtProblemticket").value = "";
                //document.getElementById("txtSolutionticket").value = "";

                document.getElementById("lblDetallerTicket").value = myVar.DetalleText;
                //document.getElementById("txtProblemticket").value = myVar.ProblemTicket;
                //document.getElementById("txtSolutionticket").value = myVar.SolutionTicket;

                $(".ContainerRegisterMovil").addClass("hidden");

                ButtonsGridFileTicket = "<button class='btn-grid btn-xs BtnDescargarTicket' type='button' title='Ver datos'><i class='fa fa-lg fa-fw fas fa-cloud-download'></i></button>";

            }
            else {

                $("#btnSaveVitacora").prop('disabled', false);

                if (myVar.ComponentIds != '0') {

                    let IdsComponentes = myVar.ComponentIds;

                    IdsComponentes = IdsComponentes.split(', ');

                    $("#selectorComponente").val(IdsComponentes);
                    $("#selectorComponente").prop('disabled', true);
                    $("#selectorComponente").selectpicker('refresh');

                    $("#txtProblemticket").prop('disabled', true);
                    $("#txtSolutionticket").prop('disabled', true);
                    $("#btnEnviarProblemSolution").prop('disabled', true);

                    document.getElementById("txtProblemticket").value = myVar.ProblemTicket;
                    document.getElementById("txtSolutionticket").value = myVar.SolutionTicket;

                }
                else {

                    $("#selectorComponente").val('');
                    $("#selectorComponente").prop('disabled', false);
                    $("#selectorComponente").selectpicker('refresh');

                    $("#txtProblemticket").prop('disabled', false);
                    $("#txtSolutionticket").prop('disabled', false);
                    $("#btnEnviarProblemSolution").prop('disabled', false);

                    document.getElementById("txtProblemticket").value = "";
                    document.getElementById("txtSolutionticket").value = "";

                }

                if (UserLogIn == 1 || UserProfile == 10 || UserLogIn == myVar.WhoCallId) {

                    $("#btnCerrarTicket").prop('disabled', false);
                    $("#btnProcesandoTicket").removeClass("hidden");
                    /* $(".btnEditDetailTicket").removeClass("hidden");*/
                   /* $("#btnEditDetailTicketID").prop('disabled', false);*/

                    if (myVar.MigrationStatus == 'O') {
                        $("#btnProcesandoTicket").prop('disabled', true);
                    } else {
                        $("#btnProcesandoTicket").prop('disabled', false);
                    }

                    $("#btnSubirFormatoTicket2").prop('disabled', false);

                    $("#btnSubirInformeTicket").prop('disabled', false);

                    $("#btnAgregarActivity").prop('disabled', false);



                    if (myVar.TitleDetalle == "" && myVar.LocationNameTicket == undefined) {

                        $(".ContainerTitleComplete").removeClass("hidden");
                        $(".ContainerTitlelbl").addClass("hidden");

                        //$("#lblDetallerTicket").val("");
                        //$("#TitleDetalleTicketMovil").val("");

                        $("#lblDetallerTicket").prop('disabled', false);

                        $(".ContainerLocationComplete").removeClass("hidden");
                        $(".ContainerLocationlbl").addClass("hidden");
                        $("#btnEditDetailTicketID").prop('disabled', false);
                        /*$(".btnEditDetailTicket").removeClass("hidden");*/
                    }
                    else {

                        $(".ContainerTitleComplete").addClass("hidden");
                        $(".ContainerTitlelbl").removeClass("hidden");
                        $("#btnEditDetailTicketID").prop('disabled', true);
                        /*  $("#lblDetallerTicket").prop('disabled', true);*/
                        /*   $(".btnEditDetailTicket").addClass("hidden");*/
                        $(".ContainerLocationComplete").addClass("hidden");
                        $(".ContainerLocationlbl").removeClass("hidden");
                    }

                    if (myVar.DetalleText != "") {

                        $("#lblDetallerTicket").prop('disabled', false);
                        $("#lblDetallerTicket").val(DetalleTicket);
                        $("#lblDetallerTicket").prop('disabled', true);

                    } else {
                        $("#lblDetallerTicket").prop('disabled', false);
                        $("#btnEditDetailTicketID").prop('disabled', false);
                    }

                    ButtonsGridFileTicket = "<button class='btn-grid btn-xs BtnEditTicket' type='button' title='Ver datos'><i class='fa fa-lg fa-fw fas fa-edit'></i></button>" + " " +
                        "<button class='btn-grid btn-xs BtnDescargarTicket' type='button' title='Ver datos'><i class='fa fa-lg fa-fw fas fa-cloud-download'></i></button>"
                        + " " + "<button class='btn-grid btn-xs BtnDeleteTicket' type='button' title='Ver datos'><i class='fa fa-trash-o fa-lg'></i></button>";

                    ButtonsGridActivity = "<button class='btn-grid btn-xs BtnVerInfo' type='button' title='Ver datos'><i class='fa fa-lg fa-fw fas fa-eye'></i></button>" + " " +
                        "<button class='btn-grid btn-xs BtnEdit' type='button' title='Editar'><i class='fa fa-lg fa-fw fas fa-edit'></i></button>";

                }
                else {
                    /*          $(".btnEditDetailTicket").addClass("hidden");*/

                    $(".ContainerTitlelbl").removeClass("hidden");
                    $(".ContainerTitleComplete").addClass("hidden");

                    $(".ContainerLocationlbl").removeClass("hidden");
                    $(".ContainerLocationComplete").addClass("hidden");

                    $("#btnCerrarTicket").prop('disabled', true);
                    $("#btnEditDetailTicketID").prop('disabled', true);
                    $("#btnEnviarProblemSolution").prop('disabled', true);

                    $("#btnSubirFormatoTicket2").prop('disabled', true);
                    $("#btnSubirInformeTicket").prop('disabled', true);
                    $("#btnAgregarActivity").prop('disabled', true);

                    /*$("#txtProblemticket").prop('disabled', true);*/
                    /*$("#txtSolutionticket").prop('disabled', true);*/

                    $("#btnValidateTicket").prop('disabled', true);

                    $("#chkValidationOperation").prop('disabled', true);
                    $("#btnProcesandoTicket").prop('disabled', true);

                    ButtonsGridFileTicket = "<button class='btn-grid btn-xs BtnDescargarTicket' type='button' title='Ver datos'><i class='fa fa-lg fa-fw fas fa-cloud-download'></i></button>";

                    ButtonsGridActivity = "<button class='btn-grid btn-xs BtnVerInfo' type='button' title='Ver datos'><i class='fa fa-lg fa-fw fas fa-eye'></i></button>";

                }

                ValidarStatusActividades();

            }

        }
        else if (myVar.TicketTypeStatus == 'PLATAFORMA') {

            /*  $(".btnEditDetailTicket").addClass("hidden");*/
            $("#btnEditDetailTicketID").prop('disabled', true);
            $(".ContainerTitlelbl").removeClass("hidden");
            $(".ContainerTitleComplete").addClass("hidden");

            $(".ContainerLocationlbl").removeClass("hidden");
            $(".ContainerLocationComplete").addClass("hidden")

            $("#lblDetallerTicket").prop('disabled', true);

            /* $(".ContainerBtnEditTicketDetails").addClass("hidden");*/

            /* $("#btnProblemSolution").addClass("hidden");*/

            $(".Container3WS").removeClass("hidden");

            FilterPlatMov = 'P';

            if (myVar.MigrationStatus == 'O') {
                $("#btnProcesandoTicket").prop('disabled', true);
            }
            else {
                $("#btnProcesandoTicket").prop('disabled', false);
            }

            if (myVar.ValidationUserOpId == '0') {

                $("#btnValidateTicket").prop('disabled', false);
                $("#chkValidationOperation").prop('disabled', false);
                $("#chkValidationOperation").prop('checked', false).change();


            }
            else {

                $("#btnValidateTicket").prop('disabled', true);
                $("#chkValidationOperation").prop('checked', true).change();
                $("#chkValidationOperation").prop('disabled', true);

            }

            if (myVar.DetalleText != "") {

                $("#lblDetallerTicket").prop('disabled', false);
                $("#lblDetallerTicket").val(DetalleTicket);
                $("#lblDetallerTicket").prop('disabled', true);

            }

            if (myVar.MigrationStatus == 'C') {

                $("#btnCerrarTicket").prop('disabled', true);
                $("#btnSubirFormatoTicket2").prop('disabled', true);
                $("#btnSaveVitacora").prop('disabled', true);
                $("#btnAgregarActivity").prop('disabled', true);
                $("#btnSubirInformeTicket").prop('disabled', true);
                $("#txtVitacoraTextSend").prop('disabled', true);
                $("#btnProcesandoTicket").prop('disabled', true);
                $("#chkValidationOperation").prop('disabled', true);
                $("#btnValidateTicket").prop('disabled', true);

                ButtonsGridActivity = "<button class='btn-grid btn-xs BtnVerInfo' type='button' title='Ver datos'><i class='fa fa-lg fa-fw fas fa-eye'></i></button>";
                ButtonsGridFileTicket = "<button class='btn-grid btn-xs BtnDescargarTicket' type='button' title='Ver datos'><i class='fa fa-lg fa-fw fas fa-cloud-download'></i></button>";

                let IdsComponentes = myVar.ComponentIds;

                IdsComponentes = IdsComponentes.split(', ');

                $("#selectorComponente").val(IdsComponentes);
                $("#selectorComponente").prop('disabled', true);
                $("#selectorComponente").selectpicker('refresh');

                $("#txtProblemticket").prop('disabled', true);
                $("#txtSolutionticket").prop('disabled', true);
                $("#btnEnviarProblemSolution").prop('disabled', true);


                document.getElementById("txtProblemticket").value = myVar.ProblemTicket;
                document.getElementById("txtSolutionticket").value = myVar.SolutionTicket;

            } else {

                if (myVar.ComponentIds != '0') {

                    let IdsComponentes = myVar.ComponentIds;

                    IdsComponentes = IdsComponentes.split(', ');

                    $("#selectorComponente").val(IdsComponentes);
                    $("#selectorComponente").prop('disabled', true);
                    $("#selectorComponente").selectpicker('refresh');

                    $("#txtProblemticket").prop('disabled', true);
                    $("#txtSolutionticket").prop('disabled', true);
                    $("#btnEnviarProblemSolution").prop('disabled', true);

                    document.getElementById("txtProblemticket").value = myVar.ProblemTicket;
                    document.getElementById("txtSolutionticket").value = myVar.SolutionTicket;

                } else {

                    $("#selectorComponente").val('');
                    $("#selectorComponente").prop('disabled', false);
                    $("#selectorComponente").selectpicker('refresh');


                    $("#txtProblemticket").prop('disabled', false);
                    $("#txtSolutionticket").prop('disabled', false);
                    $("#btnEnviarProblemSolution").prop('disabled', false);

                    document.getElementById("txtProblemticket").value = "";
                    document.getElementById("txtSolutionticket").value = "";

                }

                if (UserLogIn == 1 || UserProfile == 10 || UserLogIn == myVar.WhoCallId) {

                    $("#btnSubirInformeTicket").prop('disabled', false);
                    $("#btnSubirFormatoTicket2").prop('disabled', false);
                    $("#btnSaveVitacora").prop('disabled', false);
                    $("#btnAgregarActivity").prop('disabled', false);
                    $("#txtVitacoraTextSend").prop('disabled', false);

                    ButtonsGridActivity = "<button class='btn-grid btn-xs BtnVerInfo' type='button' title='Ver datos'><i class='fa fa-lg fa-fw fas fa-eye'></i></button>" + " " +
                        "<button class='btn-grid btn-xs BtnEdit' type='button' title='Editar'><i class='fa fa-lg fa-fw fas fa-edit'></i></button>";

                    ButtonsGridFileTicket = "<button class='btn-grid btn-xs BtnEditTicket' type='button' title='Ver datos'><i class='fa fa-lg fa-fw fas fa-edit'></i></button>" + " " +
                        "<button class='btn-grid btn-xs BtnDescargarTicket' type='button' title='Ver datos'><i class='fa fa-lg fa-fw fas fa-cloud-download'></i></button>"
                        + " " + "<button class='btn-grid btn-xs BtnDeleteTicket' type='button' title='Ver datos'><i class='fa fa-trash-o fa-lg'></i></button>";

                } else {

                    $("#btnCerrarTicket").prop('disabled', true);
                    $("#btnSubirFormatoTicket2").prop('disabled', true);
                    $("#btnSaveVitacora").prop('disabled', false);
                    $("#btnAgregarActivity").prop('disabled', true);
                    $("#btnSubirInformeTicket").prop('disabled', true);
                    $("#txtVitacoraTextSend").prop('disabled', false);
                    $("#chkValidationOperation").prop('disabled', true);
                    $("#btnValidateTicket").prop('disabled', true);
                    $("#btnEditDetailTicketID").prop('disabled', true);
                    $("#btnEnviarProblemSolution").prop('disabled', true);

                    ButtonsGridActivity = "<button class='btn-grid btn-xs BtnVerInfo' type='button' title='Ver datos'><i class='fa fa-lg fa-fw fas fa-eye'></i></button>";
                    ButtonsGridFileTicket = "<button class='btn-grid btn-xs BtnDescargarTicket' type='button' title='Ver datos'><i class='fa fa-lg fa-fw fas fa-cloud-download'></i></button>";
                }

                ValidarStatusActividades();

            }

            @*if (UserRegister2 == UserResponsibleId || UserRegister == 10) {

                if (myVar.MigrationStatus == 'C') {

                    $("#btnCerrarTicket").prop('disabled', true);
                    $("#btnSubirFormatoTicket2").prop('disabled', true);
                    $("#btnSaveVitacora").prop('disabled', true);
                    $("#btnAgregarActivity").prop('disabled', true);
                    $("#btnSubirInformeTicket").prop('disabled', true);

                    ButtonsGridActivity = "<button class='btn-grid btn-xs BtnVerInfo' type='button' title='Ver datos'><i class='fa fa-lg fa-fw fas fa-eye'></i></button>";

                }
                else {

                    $("#btnSubirInformeTicket").prop('disabled', false);
                    $("#btnSubirFormatoTicket2").prop('disabled', false);
                    $("#btnSaveVitacora").prop('disabled', false);
                    $("#btnAgregarActivity").prop('disabled', false);

                    ValidarStatusActividades();

                }

            }
            else {

                $("#btnCerrarTicket").prop('disabled', true);

                var UserRegister3 = "@User.Identity.Name.ToUpper().ToString()";
                UserRegister3 = UserRegister3.split(',')[2];

                if (myVar.MigrationStatus == 'C') {

                    $("#btnCerrarTicket").prop('disabled', true);
                    $("#btnSubirFormatoTicket2").prop('disabled', true);
                    $("#btnSaveVitacora").prop('disabled', true);
                    $("#btnAgregarActivity").prop('disabled', true);
                    $("#btnSubirInformeTicket").prop('disabled', true);

                    if (UserRegister3 == 1 || UserRegister3 == 2 || UserRegister3 == 10) {

                        ButtonsGridActivity = "<button class='btn-grid btn-xs BtnVerInfo' type='button' title='Ver datos'><i class='fa fa-lg fa-fw fas fa-eye'></i></button>";

                    }
                    else {

                        ButtonsGridActivity = "<button class='btn-grid btn-xs BtnVerInfo' type='button' title='Ver datos'><i class='fa fa-lg fa-fw fas fa-eye'></i></button>";

                    }


                }
                else {

                    $("#btnCerrarTicket").prop('disabled', true);
                    $("#btnSubirFormatoTicket2").prop('disabled', false);
                    $("#btnSaveVitacora").prop('disabled', false);
                    $("#btnAgregarActivity").prop('disabled', false);
                    $("#btnSubirInformeTicket").prop('disabled', false);

                    if (UserRegister3 == 1 || UserRegister3 == 2 || UserRegister3 == 10) {

                        ButtonsGridActivity = "<button class='btn-grid btn-xs BtnVerInfo' type='button' title='Ver datos'><i class='fa fa-lg fa-fw fas fa-eye'></i></button>" + " " +
                            "<button class='btn-grid btn-xs BtnEdit' type='button' title='Editar'><i class='fa fa-lg fa-fw fas fa-edit'></i></button>";

                    } else {

                        ButtonsGridActivity = "<button class='btn-grid btn-xs BtnVerInfo' type='button' title='Ver datos'><i class='fa fa-lg fa-fw fas fa-eye'></i></button>";

                    }

                }

            }*@
         }

        ListadoDescripcionVitacora(NroTicketActivity);
        GrillaListadoActividadAlertas();
        GrillaListadoArchivoTicket();

        $('#ModalTicketEdit').modal('show');
    });

    $("#LstActivityComplete").delegate(".BtnVerInfo", "click", function (e) {

         var grid = $("#LstActivityComplete").data("kendoGrid");
         var myVar = grid.dataItem($(this).closest("tr"));

         var UserLogIn = "@User.Identity.Name.ToUpper().ToString()";
         UserLogIn = UserLogIn.split(',')[0];

         var UserProfile = "@User.Identity.Name.ToUpper().ToString()";
         UserProfile = UserProfile.split(',')[2];

         var usuarioTicketName = "@User.Identity.Name.ToUpper().ToString()";
        usuarioTicketName = usuarioTicketName.split(',')[4];

        IdTicketLst = myVar.IdTicket;

        NroTicket = 0;
        FechaRegistroTicket = "";
        CallTicket = "";
        RegisterTicket = "";
        ResponsibleTicket = "";
        OperacionTicket = "";
        RazonTicket = "";
        LocationTicket = "";
        CriticidadTicket = "";
        DetalleTicket = "";

        NroTicketActivity = myVar.NroTicket;
        NroTicket = myVar.NroTicket;
        FechaRegistroTicket = myVar.StartDate;
        CallTicket = myVar.FullNameTicket;
        RegisterTicket = myVar.UsuarioNameTicket;
        ResponsibleTicket = myVar.ResponsibleNameTicket;
        OperacionTicketInform = myVar.OperationName;
        OperacionTicket = myVar.OperationName;
        RazonTicket = myVar.ReasonName;
        LocationTicket = myVar.LocationNameTicket;
        CriticidadTicket = myVar.CriticalityName;
        DetalleTicket = myVar.DetalleText;
        TitleTicketGlobal = myVar.TitleDetalle;

        $("#TitleDetalleTicketMovil").val("");
        $("#lblDetallerTicket").val("");
        $("#selectorTicketLocationComplete").selectpicker('val', "");
        $("#selectorTicketLocationComplete").selectpicker('refresh');

        UserResponsibleId = myVar.ResponsibleId;

        TitleProblemGlobal = myVar.ProblemTicket;
        TitleSolucionGlobal = myVar.SolutionTicket;

        var lblOperacion;
        lblOperacion = document.getElementById("lblOperationTicket");
        lblOperacion.innerHTML = OperacionTicket;

        var lblQuienLlama;
        lblQuienLlama = document.getElementById("lblWhoCallTicket");
        lblQuienLlama.innerHTML = CallTicket;

        var lblQuienRegistra;
        lblQuienRegistra = document.getElementById("lblWhoRegisterTicket");
        lblQuienRegistra.innerHTML = RegisterTicket;

        var lblResponsable;
        lblResponsable = document.getElementById("lblResponsibleTicket");
        lblResponsable.innerHTML = ResponsibleTicket;

        var lblRason;
        lblRason = document.getElementById("lblReasonTicket");
        lblRason.innerHTML = RazonTicket;

        var lblCriticidad;
        lblCriticidad = document.getElementById("lblCritiziedTicket");
        lblCriticidad.innerHTML = CriticidadTicket;

        var lblLocacion;
        lblLocacion = document.getElementById("lblLocationTicket");
        lblLocacion.innerHTML = LocationTicket;

        var lblFechaFin;
        lblFechaFin = document.getElementById("lblEndDateTicket");
        lblFechaFin.innerHTML = FechaRegistroTicket;

        var lblTitleTicket;
        lblTitleTicket = document.getElementById("lblTitleTicket");
        lblTitleTicket.innerHTML = myVar.TitleDetalle;

        var lblTitleTicketMovil;
        var lbltituloMovil = "";

        lblTitleTicketMovil = document.getElementById("TitleDetalleTicketMovil");
        lbltituloMovil = myVar.TitleDetalle;
        lblTitleTicketMovil.innerHTML = lbltituloMovil;

        var lblDescripcion;
        lblDescripcion = document.getElementById("lblDetallerTicket");
        lblDescripcion.innerHTML = DetalleTicket;

        let FechaInicioModificado = document.querySelector("#lblFechaInicioAlertas");
        FechaInicioModificado.innerHTML = "";
        FechaInicioModificado.innerHTML = FechaRegistroTicket;

        var titulo;
        titulo = document.getElementById("lblModelTicketEditAlertas");

        var lblOperacionInforme;
        lblOperacionInforme = document.getElementById("lblOperacionFormatoTicket");
        lblOperacionInforme.innerHTML = OperacionTicket;

        var lblUsuarioTicket;
        lblUsuarioTicket = document.getElementById("lblDeQuienFormatoTicket");
        lblUsuarioTicket.innerHTML = usuarioTicketName;

        if (myVar.MigrationStatus == 'C') {

            titulo.innerHTML = NroTicket + " - " + "<span style='color:green'>COMPLETADO</span>";

        } else if (myVar.MigrationStatus == 'O') {

            titulo.innerHTML = NroTicket + " - " + "<span style='color:blue'>OPERANDO</span>";

        } else {

            titulo.innerHTML = NroTicket + " - " + "<span style='color:#dada27f7'>PENDIENTE</span>";

        }

        if (myVar.TicketTypeStatus == 'MOVIL') {

            /*$("#btnProblemSolution").removeClass("hidden");*/

            FilterPlatMov = 'M';

            if (myVar.ValidationUserOpId == '0') {

                $("#btnValidateTicket").prop('disabled', false);
                $("#chkValidationOperation").prop('disabled', false);
                $("#chkValidationOperation").prop('checked', false).change();


            }
            else {

                $("#btnValidateTicket").prop('disabled', true);
                $("#chkValidationOperation").prop('checked', true).change();
                $("#chkValidationOperation").prop('disabled', true);

            }

            if (myVar.MigrationStatus == 'C') {

                /*$(".btnEditDetailTicket").addClass("hidden");*/
                $("#btnEditDetailTicketID").prop('disabled', true);
                $("#btnCerrarTicket").prop('disabled', true);
                $("#btnProcesandoTicket").removeClass("hidden");
                $("#btnProcesandoTicket").prop('disabled', true);
                $("#btnSubirInformeTicket").prop('disabled', true);
                $("#btnAgregarActivity").prop('disabled', true);
                $(".ContainerRegisterMovil").addClass("hidden");
                $("#btnSaveVitacora").prop('disabled', true);
                $("#btnSubirFormatoTicket2").prop('disabled', true);
                /* $("#btnSaveRegisterMovil").prop('disabled', true);*/
                $("#btnEnviarProblemSolution").prop('disabled', true);

                ButtonsGridActivity = "<button class='btn-grid btn-xs BtnVerInfo' type='button' title='Ver datos'><i class='fa fa-lg fa-fw fas fa-eye'></i></button>";

                $(".ContainerTitlelbl").removeClass("hidden");
                $(".ContainerTitleComplete").addClass("hidden");

                $(".ContainerLocationlbl").removeClass("hidden");
                $(".ContainerLocationComplete").addClass("hidden");

                /*$(".ContainerBtnEditTicketDetails").addClass("hidden");*/

                /*$("#txtProblemticket").prop('disabled', true);*/
                /*$("#txtSolutionticket").prop('disabled', true);*/

                let IdsComponentes = myVar.ComponentIds;

                IdsComponentes = IdsComponentes.split(', ');

                $("#selectorComponente").val(IdsComponentes);
                $("#selectorComponente").prop('disabled', true);
                $("#selectorComponente").selectpicker('refresh');

                $("#txtProblemticket").prop('disabled', true);
                $("#txtSolutionticket").prop('disabled', true);
                $("#btnEnviarProblemSolution").prop('disabled', true);


                document.getElementById("txtProblemticket").value = myVar.ProblemTicket;
                document.getElementById("txtSolutionticket").value = myVar.SolutionTicket;

                $("#lblDetallerTicket").prop('disabled', true);

                /*$("#txtProblemticket").prop('disabled', true);*/
                /*$("#txtSolutionticket").prop('disabled', true);*/

                document.getElementById("lblDetallerTicket").value = "";
                //document.getElementById("txtProblemticket").value = "";
                //document.getElementById("txtSolutionticket").value = "";

                document.getElementById("lblDetallerTicket").value = myVar.DetalleText;
                //document.getElementById("txtProblemticket").value = myVar.ProblemTicket;
                //document.getElementById("txtSolutionticket").value = myVar.SolutionTicket;

                $(".ContainerRegisterMovil").addClass("hidden");

                ButtonsGridFileTicket = "<button class='btn-grid btn-xs BtnDescargarTicket' type='button' title='Ver datos'><i class='fa fa-lg fa-fw fas fa-cloud-download'></i></button>";

            }
            else {

                $("#btnSaveVitacora").prop('disabled', false);

                if (myVar.ComponentIds != '0') {

                    let IdsComponentes = myVar.ComponentIds;

                    IdsComponentes = IdsComponentes.split(', ');

                    $("#selectorComponente").val(IdsComponentes);
                    $("#selectorComponente").prop('disabled', true);
                    $("#selectorComponente").selectpicker('refresh');

                    $("#txtProblemticket").prop('disabled', true);
                    $("#txtSolutionticket").prop('disabled', true);
                    $("#btnEnviarProblemSolution").prop('disabled', true);

                    document.getElementById("txtProblemticket").value = myVar.ProblemTicket;
                    document.getElementById("txtSolutionticket").value = myVar.SolutionTicket;

                }
                else {

                    $("#selectorComponente").val('');
                    $("#selectorComponente").prop('disabled', false);
                    $("#selectorComponente").selectpicker('refresh');

                    $("#txtProblemticket").prop('disabled', false);
                    $("#txtSolutionticket").prop('disabled', false);
                    $("#btnEnviarProblemSolution").prop('disabled', false);

                    document.getElementById("txtProblemticket").value = "";
                    document.getElementById("txtSolutionticket").value = "";

                }

                if (UserLogIn == 1 || UserProfile == 10 || UserLogIn == myVar.WhoCallId) {

                    $("#btnCerrarTicket").prop('disabled', false);
                    $("#btnProcesandoTicket").removeClass("hidden");
                    /* $(".btnEditDetailTicket").removeClass("hidden");*/
                   /* $("#btnEditDetailTicketID").prop('disabled', false);*/

                    if (myVar.MigrationStatus == 'O') {
                        $("#btnProcesandoTicket").prop('disabled', true);
                    } else {
                        $("#btnProcesandoTicket").prop('disabled', false);
                    }

                    $("#btnSubirFormatoTicket2").prop('disabled', false);

                    $("#btnSubirInformeTicket").prop('disabled', false);

                    $("#btnAgregarActivity").prop('disabled', false);



                    if (myVar.TitleDetalle == "" && myVar.LocationNameTicket == undefined) {

                        $(".ContainerTitleComplete").removeClass("hidden");
                        $(".ContainerTitlelbl").addClass("hidden");

                        //$("#lblDetallerTicket").val("");
                        //$("#TitleDetalleTicketMovil").val("");

                        $("#lblDetallerTicket").prop('disabled', false);

                        $(".ContainerLocationComplete").removeClass("hidden");
                        $(".ContainerLocationlbl").addClass("hidden");
                        $("#btnEditDetailTicketID").prop('disabled', false);
                        /*$(".btnEditDetailTicket").removeClass("hidden");*/
                    }
                    else {

                        $(".ContainerTitleComplete").addClass("hidden");
                        $(".ContainerTitlelbl").removeClass("hidden");
                        $("#btnEditDetailTicketID").prop('disabled', true);
                        /*  $("#lblDetallerTicket").prop('disabled', true);*/
                        /*   $(".btnEditDetailTicket").addClass("hidden");*/
                        $(".ContainerLocationComplete").addClass("hidden");
                        $(".ContainerLocationlbl").removeClass("hidden");
                    }

                    if (myVar.DetalleText != "") {

                        $("#lblDetallerTicket").prop('disabled', false);
                        $("#lblDetallerTicket").val(DetalleTicket);
                        $("#lblDetallerTicket").prop('disabled', true);

                    } else {
                        $("#lblDetallerTicket").prop('disabled', false);
                        $("#btnEditDetailTicketID").prop('disabled', false);
                    }

                    ButtonsGridFileTicket = "<button class='btn-grid btn-xs BtnEditTicket' type='button' title='Ver datos'><i class='fa fa-lg fa-fw fas fa-edit'></i></button>" + " " +
                        "<button class='btn-grid btn-xs BtnDescargarTicket' type='button' title='Ver datos'><i class='fa fa-lg fa-fw fas fa-cloud-download'></i></button>"
                        + " " + "<button class='btn-grid btn-xs BtnDeleteTicket' type='button' title='Ver datos'><i class='fa fa-trash-o fa-lg'></i></button>";

                    ButtonsGridActivity = "<button class='btn-grid btn-xs BtnVerInfo' type='button' title='Ver datos'><i class='fa fa-lg fa-fw fas fa-eye'></i></button>" + " " +
                        "<button class='btn-grid btn-xs BtnEdit' type='button' title='Editar'><i class='fa fa-lg fa-fw fas fa-edit'></i></button>";

                }
                else {
                    /*          $(".btnEditDetailTicket").addClass("hidden");*/

                    $(".ContainerTitlelbl").removeClass("hidden");
                    $(".ContainerTitleComplete").addClass("hidden");

                    $(".ContainerLocationlbl").removeClass("hidden");
                    $(".ContainerLocationComplete").addClass("hidden");

                    $("#btnCerrarTicket").prop('disabled', true);
                    $("btnEditDetailTicketID").prop('disabled', true);

                    $("#btnSubirFormatoTicket2").prop('disabled', true);
                    $("#btnSubirInformeTicket").prop('disabled', true);
                    $("#btnAgregarActivity").prop('disabled', true);

                    /*$("#txtProblemticket").prop('disabled', true);*/
                    /*$("#txtSolutionticket").prop('disabled', true);*/

                    $("#btnValidateTicket").prop('disabled', true);

                    $("#chkValidationOperation").prop('disabled', true);
                    $("#btnProcesandoTicket").prop('disabled', true);

                    ButtonsGridFileTicket = "<button class='btn-grid btn-xs BtnDescargarTicket' type='button' title='Ver datos'><i class='fa fa-lg fa-fw fas fa-cloud-download'></i></button>";

                    ButtonsGridActivity = "<button class='btn-grid btn-xs BtnVerInfo' type='button' title='Ver datos'><i class='fa fa-lg fa-fw fas fa-eye'></i></button>";

                }

                ValidarStatusActividades();

            }

        }
        else if (myVar.TicketTypeStatus == 'PLATAFORMA') {

            /*  $(".btnEditDetailTicket").addClass("hidden");*/
            $("#btnEditDetailTicketID").prop('disabled', true);
            $(".ContainerTitlelbl").removeClass("hidden");
            $(".ContainerTitleComplete").addClass("hidden");

            $(".ContainerLocationlbl").removeClass("hidden");
            $(".ContainerLocationComplete").addClass("hidden")

            $("#lblDetallerTicket").prop('disabled', true);

            /* $(".ContainerBtnEditTicketDetails").addClass("hidden");*/

            /* $("#btnProblemSolution").addClass("hidden");*/

            $(".Container3WS").removeClass("hidden");

            FilterPlatMov = 'P';

            if (myVar.MigrationStatus == 'O') {
                $("#btnProcesandoTicket").prop('disabled', true);
            }
            else {
                $("#btnProcesandoTicket").prop('disabled', false);
            }

            if (myVar.ValidationUserOpId == '0') {

                $("#btnValidateTicket").prop('disabled', false);
                $("#chkValidationOperation").prop('disabled', false);
                $("#chkValidationOperation").prop('checked', false).change();


            }
            else {

                $("#btnValidateTicket").prop('disabled', true);
                $("#chkValidationOperation").prop('checked', true).change();
                $("#chkValidationOperation").prop('disabled', true);

            }

            if (myVar.DetalleText != "") {

                $("#lblDetallerTicket").prop('disabled', false);
                $("#lblDetallerTicket").val(DetalleTicket);
                $("#lblDetallerTicket").prop('disabled', true);

            }

            if (myVar.MigrationStatus == 'C') {

                $("#btnCerrarTicket").prop('disabled', true);
                $("#btnSubirFormatoTicket2").prop('disabled', true);
                $("#btnSaveVitacora").prop('disabled', true);
                $("#btnAgregarActivity").prop('disabled', true);
                $("#btnSubirInformeTicket").prop('disabled', true);
                $("#txtVitacoraTextSend").prop('disabled', true);
                $("#btnProcesandoTicket").prop('disabled', true);
                $("#chkValidationOperation").prop('disabled', true);
                $("#btnValidateTicket").prop('disabled', true);

                ButtonsGridActivity = "<button class='btn-grid btn-xs BtnVerInfo' type='button' title='Ver datos'><i class='fa fa-lg fa-fw fas fa-eye'></i></button>";
                ButtonsGridFileTicket = "<button class='btn-grid btn-xs BtnDescargarTicket' type='button' title='Ver datos'><i class='fa fa-lg fa-fw fas fa-cloud-download'></i></button>";

                let IdsComponentes = myVar.ComponentIds;

                IdsComponentes = IdsComponentes.split(', ');

                $("#selectorComponente").val(IdsComponentes);
                $("#selectorComponente").prop('disabled', true);
                $("#selectorComponente").selectpicker('refresh');

                $("#txtProblemticket").prop('disabled', true);
                $("#txtSolutionticket").prop('disabled', true);
                $("#btnEnviarProblemSolution").prop('disabled', true);


                document.getElementById("txtProblemticket").value = myVar.ProblemTicket;
                document.getElementById("txtSolutionticket").value = myVar.SolutionTicket;

            } else {

                if (myVar.ComponentIds != '0') {

                    let IdsComponentes = myVar.ComponentIds;

                    IdsComponentes = IdsComponentes.split(', ');

                    $("#selectorComponente").val(IdsComponentes);
                    $("#selectorComponente").prop('disabled', true);
                    $("#selectorComponente").selectpicker('refresh');

                    $("#txtProblemticket").prop('disabled', true);
                    $("#txtSolutionticket").prop('disabled', true);
                    $("#btnEnviarProblemSolution").prop('disabled', true);

                    document.getElementById("txtProblemticket").value = myVar.ProblemTicket;
                    document.getElementById("txtSolutionticket").value = myVar.SolutionTicket;

                } else {

                    $("#selectorComponente").val('');
                    $("#selectorComponente").prop('disabled', false);
                    $("#selectorComponente").selectpicker('refresh');


                    $("#txtProblemticket").prop('disabled', false);
                    $("#txtSolutionticket").prop('disabled', false);
                    $("#btnEnviarProblemSolution").prop('disabled', false);

                    document.getElementById("txtProblemticket").value = "";
                    document.getElementById("txtSolutionticket").value = "";

                }

                if (UserLogIn == 1 || UserProfile == 10) {

                    $("#btnSubirInformeTicket").prop('disabled', false);
                    $("#btnSubirFormatoTicket2").prop('disabled', false);
                    $("#btnSaveVitacora").prop('disabled', false);
                    $("#btnAgregarActivity").prop('disabled', false);
                    $("#txtVitacoraTextSend").prop('disabled', false);

                    ButtonsGridActivity = "<button class='btn-grid btn-xs BtnVerInfo' type='button' title='Ver datos'><i class='fa fa-lg fa-fw fas fa-eye'></i></button>" + " " +
                        "<button class='btn-grid btn-xs BtnEdit' type='button' title='Editar'><i class='fa fa-lg fa-fw fas fa-edit'></i></button>";

                    ButtonsGridFileTicket = "<button class='btn-grid btn-xs BtnEditTicket' type='button' title='Ver datos'><i class='fa fa-lg fa-fw fas fa-edit'></i></button>" + " " +
                        "<button class='btn-grid btn-xs BtnDescargarTicket' type='button' title='Ver datos'><i class='fa fa-lg fa-fw fas fa-cloud-download'></i></button>"
                        + " " + "<button class='btn-grid btn-xs BtnDeleteTicket' type='button' title='Ver datos'><i class='fa fa-trash-o fa-lg'></i></button>";

                } else {

                    $("#btnCerrarTicket").prop('disabled', true);
                    $("#btnSubirFormatoTicket2").prop('disabled', true);
                    $("#btnSaveVitacora").prop('disabled', false);
                    $("#btnAgregarActivity").prop('disabled', true);
                    $("#btnSubirInformeTicket").prop('disabled', true);
                    $("#txtVitacoraTextSend").prop('disabled', false);
                    $("#chkValidationOperation").prop('disabled', true);
                    $("#btnValidateTicket").prop('disabled', true);

                    ButtonsGridActivity = "<button class='btn-grid btn-xs BtnVerInfo' type='button' title='Ver datos'><i class='fa fa-lg fa-fw fas fa-eye'></i></button>";
                    ButtonsGridFileTicket = "<button class='btn-grid btn-xs BtnDescargarTicket' type='button' title='Ver datos'><i class='fa fa-lg fa-fw fas fa-cloud-download'></i></button>";
                }

                ValidarStatusActividades();

            }

            @*if (UserRegister2 == UserResponsibleId || UserRegister == 10) {

                if (myVar.MigrationStatus == 'C') {

                    $("#btnCerrarTicket").prop('disabled', true);
                    $("#btnSubirFormatoTicket2").prop('disabled', true);
                    $("#btnSaveVitacora").prop('disabled', true);
                    $("#btnAgregarActivity").prop('disabled', true);
                    $("#btnSubirInformeTicket").prop('disabled', true);

                    ButtonsGridActivity = "<button class='btn-grid btn-xs BtnVerInfo' type='button' title='Ver datos'><i class='fa fa-lg fa-fw fas fa-eye'></i></button>";

                }
                else {

                    $("#btnSubirInformeTicket").prop('disabled', false);
                    $("#btnSubirFormatoTicket2").prop('disabled', false);
                    $("#btnSaveVitacora").prop('disabled', false);
                    $("#btnAgregarActivity").prop('disabled', false);

                    ValidarStatusActividades();

                }

            }
            else {

                $("#btnCerrarTicket").prop('disabled', true);

                var UserRegister3 = "@User.Identity.Name.ToUpper().ToString()";
                UserRegister3 = UserRegister3.split(',')[2];

                if (myVar.MigrationStatus == 'C') {

                    $("#btnCerrarTicket").prop('disabled', true);
                    $("#btnSubirFormatoTicket2").prop('disabled', true);
                    $("#btnSaveVitacora").prop('disabled', true);
                    $("#btnAgregarActivity").prop('disabled', true);
                    $("#btnSubirInformeTicket").prop('disabled', true);

                    if (UserRegister3 == 1 || UserRegister3 == 2 || UserRegister3 == 10) {

                        ButtonsGridActivity = "<button class='btn-grid btn-xs BtnVerInfo' type='button' title='Ver datos'><i class='fa fa-lg fa-fw fas fa-eye'></i></button>";

                    }
                    else {

                        ButtonsGridActivity = "<button class='btn-grid btn-xs BtnVerInfo' type='button' title='Ver datos'><i class='fa fa-lg fa-fw fas fa-eye'></i></button>";

                    }


                }
                else {

                    $("#btnCerrarTicket").prop('disabled', true);
                    $("#btnSubirFormatoTicket2").prop('disabled', false);
                    $("#btnSaveVitacora").prop('disabled', false);
                    $("#btnAgregarActivity").prop('disabled', false);
                    $("#btnSubirInformeTicket").prop('disabled', false);

                    if (UserRegister3 == 1 || UserRegister3 == 2 || UserRegister3 == 10) {

                        ButtonsGridActivity = "<button class='btn-grid btn-xs BtnVerInfo' type='button' title='Ver datos'><i class='fa fa-lg fa-fw fas fa-eye'></i></button>" + " " +
                            "<button class='btn-grid btn-xs BtnEdit' type='button' title='Editar'><i class='fa fa-lg fa-fw fas fa-edit'></i></button>";

                    } else {

                        ButtonsGridActivity = "<button class='btn-grid btn-xs BtnVerInfo' type='button' title='Ver datos'><i class='fa fa-lg fa-fw fas fa-eye'></i></button>";

                    }

                }

            }*@
         }

        ListadoDescripcionVitacora(NroTicketActivity);
        GrillaListadoActividadAlertas();
        GrillaListadoArchivoTicket();

        $('#ModalTicketEdit').modal('show');
    });

    $("#LstTicketDePendiente").delegate(".BtnVerInfo", "click", function (e) {

         var grid = $("#LstTicketDePendiente").data("kendoGrid");
         var myVar = grid.dataItem($(this).closest("tr"));

         var UserRegister = "@User.Identity.Name.ToUpper().ToString()";
         //console.log(UserRegister);
         UserRegister = UserRegister.split(',')[2];

         var UserRegister2 = "@User.Identity.Name.ToUpper().ToString()";
         //console.log(UserRegister);
         UserRegister2 = UserRegister2.split(',')[0];

         IdTicketLst = myVar.IdTicket;

         if (UserRegister == "1" || UserRegister == "2") {

             //console.log('Responsable o Tiassac');

             ButtonsGridActivity = "<button class='btn-grid btn-xs BtnVerInfo' type='button' title='Ver datos'><i class='fa fa-lg fa-fw fas fa-eye'></i></button>" + " " +
                                   "<button class='btn-grid btn-xs BtnEdit' type='button' title='Editar'><i class='fa fa-lg fa-fw fas fa-edit'></i></button>";

             //$("#btnAgregarActivity").prop('disabled', false);

         } else {

             //console.log('Usuario normal');
              //$("#btnAgregarActivity").prop('disabled', true);
              ButtonsGridActivity = "<button class='btn-grid btn-xs BtnVerInfo' type='button' title='Ver datos'><i class='fa fa-lg fa-fw fas fa-eye'></i></button>";

         }

         NroTicket = 0;
         FechaRegistroTicket = "";
         CallTicket = "";
         RegisterTicket = "";
         ResponsibleTicket = "";
         OperacionTicket = "";
         RazonTicket = "";
         LocationTicket = "";
         CriticidadTicket = "";
         DetalleTicket = "";

         NroTicketActivity = myVar.NroTicket;
         NroTicket = myVar.NroTicket;
         FechaRegistroTicket = myVar.StartDate;
         CallTicket = myVar.FullNameTicket;
         RegisterTicket = myVar.UsuarioNameTicket;
         ResponsibleTicket = myVar.ResponsibleNameTicket;
         OperacionTicket = myVar.OperationName;
         RazonTicket = myVar.ReasonName;
         LocationTicket = myVar.LocationNameTicket;
         CriticidadTicket = myVar.CriticalityName;
         DetalleTicket = myVar.DetalleText;

         UserResponsibleId = myVar.ResponsibleId;

         var lblOperacion;
         lblOperacion = document.getElementById("lblOperationTicket");
         lblOperacion.innerHTML = OperacionTicket;

         var lblQuienLlama;
         lblQuienLlama = document.getElementById("lblWhoCallTicket");
         lblQuienLlama.innerHTML = CallTicket;

         var lblQuienRegistra;
         lblQuienRegistra = document.getElementById("lblWhoRegisterTicket");
         lblQuienRegistra.innerHTML = RegisterTicket;

         var lblResponsable;
         lblResponsable = document.getElementById("lblResponsibleTicket");
         lblResponsable.innerHTML = ResponsibleTicket;

         var lblRason;
         lblRason = document.getElementById("lblReasonTicket");
         lblRason.innerHTML = RazonTicket;

         var lblCriticidad;
         lblCriticidad = document.getElementById("lblCritiziedTicket");
         lblCriticidad.innerHTML = CriticidadTicket;

         var lblLocacion;
         lblLocacion = document.getElementById("lblLocationTicket");
         lblLocacion.innerHTML = LocationTicket;

         var lblFechaFin;
         lblFechaFin = document.getElementById("lblEndDateTicket");
         lblFechaFin.innerHTML = FechaRegistroTicket;

         var lblTitleTicket;
         lblTitleTicket = document.getElementById("lblTitleTicket");
         lblTitleTicket.innerHTML = myVar.TitleDetalle;

         var lblDescripcion;
         lblDescripcion = document.getElementById("lblDetallerTicket");
         lblDescripcion.innerHTML = DetalleTicket;

         //document.getElementById("txtNroTicket").value = NroTicket;
         //document.getElementById("txtOperacionTicket").value = OperacionTicket;
         //document.getElementById("txtWhoCall").value = CallTicket;
         //document.getElementById("txtWhoRegister").value = RegisterTicket;
         //document.getElementById("txtWhoResponsible").value = ResponsibleTicket;
         //document.getElementById("txtTicketDate").value = FechaRegistroTicket;
         //document.getElementById("txtRazonTicket").value = RazonTicket;
         //document.getElementById("txtLocationTicket").value = LocationTicket;
         //document.getElementById("lblDetallerTicket").value = DetalleTicket;

         if (CriticidadTicket == 'ALTA') {

             document.getElementById("rdoAltaCriticidad").checked = true;
             document.getElementById("rdoMedioCriticidad").checked = false;
             document.getElementById("rdoBajaCriticidad").checked = false;

         } else if (CriticidadTicket == 'MEDIA') {

             document.getElementById("rdoAltaCriticidad").checked = false;
             document.getElementById("rdoMedioCriticidad").checked = true;
             document.getElementById("rdoBajaCriticidad").checked = false;


         } else if (CriticidadTicket == 'BAJA') {

             document.getElementById("rdoAltaCriticidad").checked = false;
             document.getElementById("rdoMedioCriticidad").checked = false;
             document.getElementById("rdoBajaCriticidad").checked = true;

         }

         let FechaInicioModificado = document.querySelector("#lblFechaInicioAlertas");
         FechaInicioModificado.innerHTML = "";
         FechaInicioModificado.innerHTML = FechaRegistroTicket;

         var titulo;
         titulo = document.getElementById("lblModelTicketEditAlertas");

         if (myVar.MigrationStatus == 'C') {

             titulo.innerHTML = NroTicket + " - " + "<span style='color:green'>COMPLETADO</span>";

         } else {

             titulo.innerHTML = NroTicket + " - " + "<span style='color:#dada27f7'>PENDIENTE</span>";

         }

         //console.log(NroTicket);
         //console.log(FechaRegistroTicket);
         //console.log(EncargadoTicket);
         //console.log(OperacionTicket);
         //console.log(RazonTicket);
         //console.log(CriticidadTicket);
         //console.log(DetalleTicket);

         if (UserRegister2 == UserResponsibleId) {

             if (myVar.MigrationStatus == 'C') {

                  $("#btnCerrarTicket").prop('disabled', true);
                  $("#btnSubirFormatoTicket").prop('disabled', true);
                  $("#btnSaveVitacora").prop('disabled', true);
                  $("#btnAgregarActivity").prop('disabled', true);

                  ButtonsGridActivity = "<button class='btn-grid btn-xs BtnVerInfo' type='button' title='Ver datos'><i class='fa fa-lg fa-fw fas fa-eye'></i></button>";

             } else {

                 ValidarStatusActividades();

             }

         } else {

             $("#btnCerrarTicket").prop('disabled', true);

             var UserRegister3 = "@User.Identity.Name.ToUpper().ToString()";
             //console.log(UserRegister);
             UserRegister3 = UserRegister3.split(',')[2];

             if (myVar.MigrationStatus == 'C') {

                  $("#btnCerrarTicket").prop('disabled', true);
                  $("#btnSubirFormatoTicket").prop('disabled', true);
                  $("#btnSaveVitacora").prop('disabled', true);
                  $("#btnAgregarActivity").prop('disabled', true);

                  if (UserRegister3 == 1 || UserRegister3 == 2) {

                      ButtonsGridActivity = "<button class='btn-grid btn-xs BtnVerInfo' type='button' title='Ver datos'><i class='fa fa-lg fa-fw fas fa-eye'></i></button>";

                      //$("#btnAgregarActivity").prop('disabled', false);

                  } else {

                       ButtonsGridActivity = "<button class='btn-grid btn-xs BtnVerInfo' type='button' title='Ver datos'><i class='fa fa-lg fa-fw fas fa-eye'></i></button>";

                       //$("#btnAgregarActivity").prop('disabled', true);

                  }


             } else {

                  $("#btnCerrarTicket").prop('disabled', true);
                  $("#btnSubirFormatoTicket").prop('disabled', false);
                  $("#btnSaveVitacora").prop('disabled', false);
                  $("#btnAgregarActivity").prop('disabled', false);

                  if (UserRegister3 == 1 || UserRegister3 == 2) {

                      ButtonsGridActivity = "<button class='btn-grid btn-xs BtnVerInfo' type='button' title='Ver datos'><i class='fa fa-lg fa-fw fas fa-eye'></i></button>" + " " +
                      "<button class='btn-grid btn-xs BtnEdit' type='button' title='Editar'><i class='fa fa-lg fa-fw fas fa-edit'></i></button>";

                      //$("#btnAgregarActivity").prop('disabled', false);

                  } else {

                      //$("#btnAgregarActivity").prop('disabled', true);

                       ButtonsGridActivity = "<button class='btn-grid btn-xs BtnVerInfo' type='button' title='Ver datos'><i class='fa fa-lg fa-fw fas fa-eye'></i></button>";

                  }

             }

         }

         ListadoDescripcionVitacora(NroTicketActivity);
         GrillaListadoActividadAlertas();
         GrillaListadoArchivoTicket();

         $('#ModalTicketEdit').modal('show');
    });

    $("#LstActivityPendiente").delegate(".BtnVerInfo", "click", function (e) {

         var grid = $("#LstActivityPendiente").data("kendoGrid");
         var myVar = grid.dataItem($(this).closest("tr"));

         var UserRegister = "@User.Identity.Name.ToUpper().ToString()";
         //console.log(UserRegister);
         UserRegister = UserRegister.split(',')[2];

         var UserRegister2 = "@User.Identity.Name.ToUpper().ToString()";
         //console.log(UserRegister);
         UserRegister2 = UserRegister2.split(',')[0];

         IdTicketLst = myVar.IdTicket;

         if (UserRegister == "1" || UserRegister == "2") {

             //console.log('Responsable o Tiassac');

             ButtonsGridActivity = "<button class='btn-grid btn-xs BtnVerInfo' type='button' title='Ver datos'><i class='fa fa-lg fa-fw fas fa-eye'></i></button>" + " " +
                                   "<button class='btn-grid btn-xs BtnEdit' type='button' title='Editar'><i class='fa fa-lg fa-fw fas fa-edit'></i></button>";

             //$("#btnAgregarActivity").prop('disabled', false);

         } else {

             //console.log('Usuario normal');
              //$("#btnAgregarActivity").prop('disabled', true);
              ButtonsGridActivity = "<button class='btn-grid btn-xs BtnVerInfo' type='button' title='Ver datos'><i class='fa fa-lg fa-fw fas fa-eye'></i></button>";

         }

         NroTicket = 0;
         FechaRegistroTicket = "";
         CallTicket = "";
         RegisterTicket = "";
         ResponsibleTicket = "";
         OperacionTicket = "";
         RazonTicket = "";
         LocationTicket = "";
         CriticidadTicket = "";
         DetalleTicket = "";

         NroTicketActivity = myVar.NroTicket;
         NroTicket = myVar.NroTicket;
         FechaRegistroTicket = myVar.StartDate;
         CallTicket = myVar.FullNameTicket;
         RegisterTicket = myVar.UsuarioNameTicket;
         ResponsibleTicket = myVar.ResponsibleNameTicket;
         OperacionTicket = myVar.OperationName;
         RazonTicket = myVar.ReasonName;
         LocationTicket = myVar.LocationNameTicket;
         CriticidadTicket = myVar.CriticalityName;
         DetalleTicket = myVar.DetalleText;

         UserResponsibleId = myVar.ResponsibleId;

         var lblOperacion;
         lblOperacion = document.getElementById("lblOperationTicket");
         lblOperacion.innerHTML = OperacionTicket;

         var lblQuienLlama;
         lblQuienLlama = document.getElementById("lblWhoCallTicket");
         lblQuienLlama.innerHTML = CallTicket;

         var lblQuienRegistra;
         lblQuienRegistra = document.getElementById("lblWhoRegisterTicket");
         lblQuienRegistra.innerHTML = RegisterTicket;

         var lblResponsable;
         lblResponsable = document.getElementById("lblResponsibleTicket");
         lblResponsable.innerHTML = ResponsibleTicket;

         var lblRason;
         lblRason = document.getElementById("lblReasonTicket");
         lblRason.innerHTML = RazonTicket;

         var lblCriticidad;
         lblCriticidad = document.getElementById("lblCritiziedTicket");
         lblCriticidad.innerHTML = CriticidadTicket;

         var lblLocacion;
         lblLocacion = document.getElementById("lblLocationTicket");
         lblLocacion.innerHTML = LocationTicket;

         var lblFechaFin;
         lblFechaFin = document.getElementById("lblEndDateTicket");
         lblFechaFin.innerHTML = FechaRegistroTicket;

         var lblTitleTicket;
         lblTitleTicket = document.getElementById("lblTitleTicket");
         lblTitleTicket.innerHTML = myVar.TitleDescription;

         var lblDescripcion;
         lblDescripcion = document.getElementById("lblDetallerTicket");
         lblDescripcion.innerHTML = DetalleTicket;

         //document.getElementById("txtNroTicket").value = NroTicket;
         //document.getElementById("txtOperacionTicket").value = OperacionTicket;
         //document.getElementById("txtWhoCall").value = CallTicket;
         //document.getElementById("txtWhoRegister").value = RegisterTicket;
         //document.getElementById("txtWhoResponsible").value = ResponsibleTicket;
         //document.getElementById("txtTicketDate").value = FechaRegistroTicket;
         //document.getElementById("txtRazonTicket").value = RazonTicket;
         //document.getElementById("txtLocationTicket").value = LocationTicket;
         //document.getElementById("lblDetallerTicket").value = DetalleTicket;

         if (CriticidadTicket == 'ALTA') {

             document.getElementById("rdoAltaCriticidad").checked = true;
             document.getElementById("rdoMedioCriticidad").checked = false;
             document.getElementById("rdoBajaCriticidad").checked = false;

         } else if (CriticidadTicket == 'MEDIA') {

             document.getElementById("rdoAltaCriticidad").checked = false;
             document.getElementById("rdoMedioCriticidad").checked = true;
             document.getElementById("rdoBajaCriticidad").checked = false;


         } else if (CriticidadTicket == 'BAJA') {

             document.getElementById("rdoAltaCriticidad").checked = false;
             document.getElementById("rdoMedioCriticidad").checked = false;
             document.getElementById("rdoBajaCriticidad").checked = true;

         }

         let FechaInicioModificado = document.querySelector("#lblFechaInicioAlertas");
         FechaInicioModificado.innerHTML = "";
         FechaInicioModificado.innerHTML = FechaRegistroTicket;

         var titulo;
         titulo = document.getElementById("lblModelTicketEditAlertas");

         if (myVar.MigrationStatus == 'C') {

             titulo.innerHTML = NroTicket + " - " + "<span style='color:green'>COMPLETADO</span>";

         } else {

             titulo.innerHTML = NroTicket + " - " + "<span style='color:#dada27f7'>PENDIENTE</span>";

         }

         //console.log(NroTicket);
         //console.log(FechaRegistroTicket);
         //console.log(EncargadoTicket);
         //console.log(OperacionTicket);
         //console.log(RazonTicket);
         //console.log(CriticidadTicket);
         //console.log(DetalleTicket);

         if (UserRegister2 == UserResponsibleId) {

             if (myVar.MigrationStatus == 'C') {

                  $("#btnCerrarTicket").prop('disabled', true);
                  $("#btnSubirFormatoTicket").prop('disabled', true);
                  $("#btnSaveVitacora").prop('disabled', true);
                  $("#btnAgregarActivity").prop('disabled', true);

                  ButtonsGridActivity = "<button class='btn-grid btn-xs BtnVerInfo' type='button' title='Ver datos'><i class='fa fa-lg fa-fw fas fa-eye'></i></button>";

             } else {

                 ValidarStatusActividades();

             }

         } else {

             $("#btnCerrarTicket").prop('disabled', true);

             var UserRegister3 = "@User.Identity.Name.ToUpper().ToString()";
             //console.log(UserRegister);
             UserRegister3 = UserRegister3.split(',')[2];

             if (myVar.MigrationStatus == 'C') {

                  $("#btnCerrarTicket").prop('disabled', true);
                  $("#btnSubirFormatoTicket").prop('disabled', true);
                  $("#btnSaveVitacora").prop('disabled', true);
                  $("#btnAgregarActivity").prop('disabled', true);

                  if (UserRegister3 == 1 || UserRegister3 == 2) {

                      ButtonsGridActivity = "<button class='btn-grid btn-xs BtnVerInfo' type='button' title='Ver datos'><i class='fa fa-lg fa-fw fas fa-eye'></i></button>";

                      //$("#btnAgregarActivity").prop('disabled', false);

                  } else {

                       ButtonsGridActivity = "<button class='btn-grid btn-xs BtnVerInfo' type='button' title='Ver datos'><i class='fa fa-lg fa-fw fas fa-eye'></i></button>";

                       //$("#btnAgregarActivity").prop('disabled', true);

                  }


             } else {

                  $("#btnCerrarTicket").prop('disabled', true);
                  $("#btnSubirFormatoTicket").prop('disabled', false);
                  $("#btnSaveVitacora").prop('disabled', false);
                  $("#btnAgregarActivity").prop('disabled', false);

                  if (UserRegister3 == 1 || UserRegister3 == 2) {

                      ButtonsGridActivity = "<button class='btn-grid btn-xs BtnVerInfo' type='button' title='Ver datos'><i class='fa fa-lg fa-fw fas fa-eye'></i></button>" + " " +
                      "<button class='btn-grid btn-xs BtnEdit' type='button' title='Editar'><i class='fa fa-lg fa-fw fas fa-edit'></i></button>";

                      //$("#btnAgregarActivity").prop('disabled', false);

                  } else {

                      //$("#btnAgregarActivity").prop('disabled', true);

                       ButtonsGridActivity = "<button class='btn-grid btn-xs BtnVerInfo' type='button' title='Ver datos'><i class='fa fa-lg fa-fw fas fa-eye'></i></button>";

                  }

             }

         }

         ListadoDescripcionVitacora(NroTicketActivity);
         GrillaListadoActividadAlertas();
         GrillaListadoArchivoTicket();

         $('#ModalTicketEdit').modal('show');
    });

    $("#GrillaLstActivityAdd").delegate(".BtnVerInfo2", "click", function (e) {

         var grid = $("#GrillaLstActivityAdd").data("kendoGrid");
         var myVar = grid.dataItem($(this).closest("tr"));
         var IdValidation = myVar.ValidationButton;

         var UserWebPage = "@User.Identity.Name.ToUpper().ToString()";
         UserWebPage = UserWebPage.split(',')[0];

         var ValidarPerfilAdmi = "@User.Identity.Name.ToUpper().ToString()";
         ValidarPerfilAdmi = ValidarPerfilAdmi.split(',')[2];

         idActivity = myVar.IdActivity;
         IdResponsibleCritizity = myVar.IdResponsible;

         var usuarioRegistradorNombre = "@User.Identity.Name.ToUpper().ToString()";
         usuarioRegistradorNombre = usuarioRegistradorNombre.split(',')[4];

         var TxtQuienFormato;
         TxtQuienFormato = document.getElementById("lblDeQuienFormato");
         TxtQuienFormato.innerHTML = usuarioRegistradorNombre;

         var TxtActivityTitle;
         TxtActivityTitle = document.getElementById("lblNameActivityText");
         TxtActivityTitle.innerHTML = myVar.ActivityText;

         var TxtOperacionActividad;
         TxtOperacionActividad = document.getElementById("lblOperacionFormato");
         TxtOperacionActividad.innerHTML = OperacionTicket;

         ListadoDetalleActividadInforme();
         EditarPercentage();
         //ListadoDetalleActividadInforme()
         LimpiarEtiquetasActivityInforme();
         ListadoDescripcionVitacoraActivityDetail(idActivity);

         document.getElementById("txtPorcentajeIngresado").value = "";
         document.getElementById("txtVitacoraTextSend").value = "";

         document.getElementById("flArchivoSubirAdjunto").value = "";

         //console.log();

         if (UserWebPage == UserResponsibleId || ValidarPerfilAdmi === "10") {

             $("#chkValidationResponsible").prop('disabled', false);
             $("#chkValidationJefeArea").prop('disabled', false);
             $("#btValidationResponsible").prop('disabled', false);

         } else {

             $("#chkValidationResponsible").prop('disabled', true);
             $("#chkValidationJefeArea").prop('disabled', true);
             $("#btValidationResponsible").prop('disabled', true);

         }

         //if (IdValidation == '0') {

         //    $("#btnFinalizar").prop('disabled', true);

         //} else {

         //    $("#btnFinalizar").prop('disabled', false);

         //}

         if (myVar.Estado == 'COMPLETADO') {

             //$("#btnFinalizar").prop('disabled', true);

             $("#btnSaveInforme").prop('disabled', true);
             $("#btnRegisterPercentage").prop('disabled', true);
             $("#btnSaveVitacoraActivityDetail").prop('disabled', true);
             $("#btnSubirFormato").prop('disabled', true);
             $("#btValidationResponsible").prop('disabled', true);
             //$("#btnFinalizar").prop('disabled', true);

         } else {

             $("#btnSaveInforme").prop('disabled', false);
             $("#btnRegisterPercentage").prop('disabled', false);
             $("#btnSaveVitacoraActivityDetail").prop('disabled', false);
             $("#btnSubirFormato").prop('disabled', false);
             //$("#btValidationResponsible").prop('disabled', true);
             //$("#btnFinalizar").prop('disabled', true);
             /*$("#btnFinalizar").prop('disabled', false);*/

         }

         $('#ModalActivityDetail').modal('show');
    });

    $("#GrillaLstActivityAddAlertas").delegate(".BtnVerInfo", "click", function (e) {

         var grid = $("#GrillaLstActivityAddAlertas").data("kendoGrid");
         var myVar = grid.dataItem($(this).closest("tr"));
         var IdValidation = myVar.ValidationButton;

         var UserWebPage = "@User.Identity.Name.ToUpper().ToString()";
         UserWebPage = UserWebPage.split(',')[0];

         var ValidarPerfilAdmi = "@User.Identity.Name.ToUpper().ToString()";
         ValidarPerfilAdmi = ValidarPerfilAdmi.split(',')[2];

         idActivity = myVar.IdActivity;
         IdResponsibleCritizity = myVar.IdResponsible;

         var usuarioRegistradorNombre = "@User.Identity.Name.ToUpper().ToString()";
         usuarioRegistradorNombre = usuarioRegistradorNombre.split(',')[4];

         var TxtQuienFormato;
         TxtQuienFormato = document.getElementById("lblDeQuienFormato");
         TxtQuienFormato.innerHTML = usuarioRegistradorNombre;

         var TxtOperacionActividad;
         TxtOperacionActividad = document.getElementById("lblOperacionFormato");
         TxtOperacionActividad.innerHTML = OperacionTicket;

         var TxtActivityTitle;
         TxtActivityTitle = document.getElementById("lblNameActivityText");
         TxtActivityTitle.innerHTML = myVar.ActivityText;

         ListadoDetalleActividadInforme();

         //ListadoDetalleActividadInforme()
         LimpiarEtiquetasActivityInforme();
         ListadoDescripcionVitacoraActivityDetail(idActivity);

         document.getElementById("txtPorcentajeIngresado").value = "";
         document.getElementById("txtVitacoraTextSend").value = "";

         document.getElementById("flArchivoSubirAdjunto").value = "";

         //console.log();
         EditarPercentage();

         if (UserWebPage == UserResponsibleId || ValidarPerfilAdmi === "10") {

             $("#chkValidationResponsible").prop('disabled', false);
             $("#chkValidationJefeArea").prop('disabled', false);
             $("#btValidationResponsible").prop('disabled', false);

         } else {

             $("#chkValidationResponsible").prop('disabled', true);
             $("#chkValidationJefeArea").prop('disabled', true);
             $("#btValidationResponsible").prop('disabled', true);

         }

         //if (IdValidation == '0') {

         //    $("#btnFinalizar").prop('disabled', true);

         //} else {

         //    $("#btnFinalizar").prop('disabled', false);

         //}

         if (myVar.Estado == 'COMPLETADO') {

             //$("#btnFinalizar").prop('disabled', true);
             $("#btnSaveInforme").prop('disabled', true);
             $("#btnRegisterPercentage").prop('disabled', true);
             $("#btnSaveVitacoraActivityDetail").prop('disabled', true);
             $("#btnSubirFormato").prop('disabled', true);
             $("#btValidationResponsible").prop('disabled', true);
             //$("#btnFinalizar").prop('disabled', true);

             document.getElementById("chkValidationResponsible").checked = true;
             document.getElementById("chkValidationJefeArea").checked = false;
         } else {

             $("#btnSaveInforme").prop('disabled', false);
             $("#btnRegisterPercentage").prop('disabled', false);
             $("#btnSaveVitacoraActivityDetail").prop('disabled', false);
             $("#btnSubirFormato").prop('disabled', false);
             //$("#btValidationResponsible").prop('disabled', true);
             //$("#btnFinalizar").prop('disabled', true);
             /*$("#btnFinalizar").prop('disabled', false);*/

             document.getElementById("chkValidationResponsible").checked = false;
             document.getElementById("chkValidationJefeArea").checked = false;

         }

         $('#ModalActivityDetail').modal('show');
    });

    $("#GrillaLstActivityAddAlertas").delegate(".BtnEdit", "click", function (e) {

       var grid = $("#GrillaLstActivityAddAlertas").data("kendoGrid");
       var myVar = grid.dataItem($(this).closest("tr"));

       var UserWebPage = "@User.Identity.Name.ToUpper().ToString()";
       UserWebPage = UserWebPage.split(',')[0];

       Swal.fire({
            title: 'Estas seguro de mostrar los datos de la actividad para editarla ?',
            //text: "Estar seguro !",
            icon: 'warning',
            showCancelButton: true,
            confirmButtonColor: '#3085d6',
            cancelButtonColor: '#d33',
            confirmButtonText: 'Si, deseo editar!'
       }).then((result) => {

           if (result.isConfirmed) {

               $("#CargaTemporal").removeClass("hidden");

               idActivity = myVar.IdActivity;

               document.getElementById("txtActivityTicket").value = myVar.ActivityText;
               document.getElementById("txtActivityDateEnd").value = myVar.FechaCierre;
               $("#selectorResponsableActivity").val(myVar.IdResponsibleActivity).change();

               $("#btnAgregarActivity").addClass("hidden");
               $("#btnAgregarEditar").removeClass("hidden");


               $("#CargaTemporal").addClass("hidden");

           } else {



           }

        });

            //$('#ModalActivityDetail').modal('show');
    });

    $("#btnSaveVitacora").click(function () {

        if ($("#txtVitacoraTextSend").val() == "" || $("#txtVitacoraTextSend").val() == null || $("#txtVitacoraTextSend").val() == undefined) {

            toastr.options.timeOut = nTiempoCorto;
            toastr.options.extendedTimeOut = nTiempoCorto;
            /*success - info - warning - error*/
            var $toast = toastr["error"]("Es necesario ingresar la descripción para guardar", tTituloError); $toastlast = $toast;
            return;

        } else {

            ActualizarRegistrarVitacora();

        }

    });

    $("#btnInvitadosPanel").click(function () {

        $('#ModalInvitados').modal('show');

    });

    $("#btnProblemSolution").click(function () {

        $('#ModalProblemSolution').modal('show');

    });

    $("#btnPanelArchivo").click(function () {

       GrillaListadoArchivoTicket();

       $('#ModalPanelArchivo').modal('show');

    });

    $("#btnCancelarcorreoTicket").click(function () {

         $('#ModalInvitados').modal('hide');

    });

    $("#btnCancelarProblemSolution").click(function () {

        $('#ModalProblemSolution').modal('hide');

    });

    $("#btnEnviarCorreoTicket").click(function () {

         if ($("#selectorInvitados2").val() == null || $("#selectorInvitados2").val() == "" || $("#selectorInvitados2").val() == undefined) {
              toastr.options.timeOut = nTiempoCorto;
              toastr.options.extendedTimeOut = nTiempoCorto;
              /*success - info - warning - error*/
              var $toast = toastr["error"]("Es necesario ingresar un invitado", tTituloError); $toastlast = $toast;
              return;
         }

        if ($("#lblDetalleCorreo").val() == null || $("#lblDetalleCorreo").val() == "" || $("#lblDetalleCorreo").val() == undefined) {
            toastr.options.timeOut = nTiempoCorto;
            toastr.options.extendedTimeOut = nTiempoCorto;
            /*success - info - warning - error*/
            var $toast = toastr["error"]("Es necesario ingresar un Asunto", tTituloError); $toastlast = $toast;
            return;
        }

         ReenviarDescripcionTicket();

    });

    $('#selectorInvitados2').on('changed.bs.select', function (e, clickedIndex, isSelected, previousValue) {
            /*SelectInvitados = $('#selectorInvitados').val();*/

         SelectorInvitadosActividad = "";

         if ($('#selectorInvitados2').val()) {

             for (i = 0; i < $('#selectorInvitados2').val().length; i++) {

                 SelectorInvitadosActividad += $('#selectorInvitados2').val()[i] + ";";

             }

             SelectorInvitadosActividad = SelectorInvitadosActividad.substring(0, SelectorInvitadosActividad.length - 1);

             console.log(SelectorInvitadosActividad);
             //SelectInvitados = SelectInvitados[0];

             //console.log(SelectInvitados);
             //ComboEncargado('0');
             //console.log(IdOperatorTicket);

         } else {
             SelectorInvitadosActividad = "";
         }

     });

    $("#btnBuscarUsuario").click(function () {

        if ($("#selectorUsusarioBuscarPendiente").val() == "" || $("#selectorUsusarioBuscarPendiente").val() == null || $("#selectorUsusarioBuscarPendiente").val() == undefined) {
             toastr.options.timeOut = nTiempoCorto;
             toastr.options.extendedTimeOut = nTiempoCorto;
             /*success - info - warning - error*/
             var $toast = toastr["error"]("Es necesario seleccionar un Ususario", tTituloError); $toastlast = $toast;
             return;
        }

        UsusarioPersonId = $("#selectorUsusarioBuscarPendiente").val();
        UsusarioPersonId = UsusarioPersonId[0];

        $("#LstTicketDePendiente").addClass("hidden");
        $("#imgCargaLstTicketDePendiente").removeClass("hidden");
        $("#msjErrorLstTicketDePendiente").addClass("hidden");
        $("#msjVacioLstTicketDePendiente").addClass("hidden");
        $("#msjErrorListarLstTicketDePendiente").addClass("hidden");
        $("#msjSuperaLimiteLstTicketDePendiente").addClass("hidden");


        $("#LstActivityPendiente").addClass("hidden");
        $("#imgCargaLstActivityPendiente").removeClass("hidden");
        $("#msjErrorLstActivityPendiente").addClass("hidden");
        $("#msjVacioLstActivityPendiente").addClass("hidden");
        $("#msjErrorListarLstActivityPendiente").addClass("hidden");
        $("#msjSuperaLimiteLstActivityPendiente").addClass("hidden");

        GrillaListadoBuscarUsuario();
        ListarActiviadesTodas();
    });

    $('input[type=radio][name=rdoRadioFilterSearchTicket]').change(function (e) {

          if (e.target.id == 'rdoSearchDate') {

              ValueFilter = 'PF';

              $(".ContainerBuscadorValue").addClass("hidden");
              $(".ContainerSeachFechaInicio").removeClass("hidden");
              $(".ContainerSeachFechaFin").removeClass("hidden");
              $(".ContainerSeachTicket").addClass("hidden");
              $(".ContainerRadioStatus").addClass("hidden");

          } else if (e.target.id == 'rdoSearchTicket') {

              ValueFilter = 'PT';

              $(".ContainerBuscadorValue").addClass("hidden");
              $(".ContainerSeachFechaInicio").addClass("hidden");
              $(".ContainerSeachFechaFin").addClass("hidden");
              $(".ContainerSeachTicket").removeClass("hidden");
              $(".ContainerRadioStatus").addClass("hidden");

          } else if (e.target.id == 'rdoSearchStatus') {

              ValueFilter = 'PE';

              $(".ContainerBuscadorValue").addClass("hidden");
              $(".ContainerSeachFechaInicio").addClass("hidden");
              $(".ContainerSeachFechaFin").addClass("hidden");
              $(".ContainerSeachTicket").addClass("hidden");
              $(".ContainerRadioStatus").removeClass("hidden");

          } else if (e.target.id == 'rdoSearchValues') {

              ValueFilter = 'PS';

              $(".ContainerBuscadorValue").removeClass("hidden");
              $(".ContainerSeachFechaInicio").addClass("hidden");
              $(".ContainerSeachFechaFin").addClass("hidden");
              $(".ContainerSeachTicket").addClass("hidden");
              $(".ContainerRadioStatus").addClass("hidden");

          }

    });

    $('input[type=radio][name=rdoRadioFilterPenCom]').change(function (e) {

          if (e.target.id == 'rdoPendienteTicket') {

              ValuePenCom = 'PEN';

          } else if (e.target.id == 'rdoCompletadoTicket') {

              ValuePenCom = 'COM';

          }

     });

    $("#btnCerrarTicket").click(function () {

            Swal.fire({
                title: 'Estas seguro de cerrar este Ticket?',
                text: "Ya no podras revertirlo!",
                icon: 'warning',
                showCancelButton: true,
                confirmButtonColor: '#3085d6',
                cancelButtonColor: '#d33',
                confirmButtonText: 'Si, deseo cerrar!'
            }).then((result) => {
                if (result.isConfirmed) {

                    TicketFinish();

                }

            });

    });

    $("#btnProcesandoTicket").click(function () {

        @*var UserRegister = "@User.Identity.Name.ToUpper().ToString()";
        UserRegister = UserRegister.split(',')[2];

        var UserRegister2 = "@User.Identity.Name.ToUpper().ToString()";
        UserRegister2 = UserRegister2.split(',')[0];*@

        Swal.fire({
            title: 'Estas seguro dar por Operando este Ticket?',
            text: "Ya no podras revertirlo!",
            icon: 'warning',
            showCancelButton: true,
            confirmButtonColor: '#3085d6',
            cancelButtonColor: '#d33',
            confirmButtonText: 'Si, deseo!'
        }).then((result) => {
            if (result.isConfirmed) {

               /* if (UserRegister2 == 1 || UserRegister2 == UserResponsibleId || UserRegister == 10) {*/

                    TicketOperando();

                //} else {

                //    toastr.options.timeOut = nTiempoCorto;
                //    toastr.options.extendedTimeOut = nTiempoCorto;
                //    /*success - info - warning - error*/
                //    var $toast = toastr["error"]("Solo quien genera el ticket y el responsable pueden dar a Operando", tTituloError); $toastlast = $toast;
                //    return;

                //}
            }

        });

    });

    $("#btnAgregarEditar").click(function () {

        if ($("#txtActivityTicket").val() == "" || $("#txtActivityTicket").val() == null || $("#txtActivityTicket").val() == undefined) {
            toastr.options.timeOut = nTiempoCorto;
            toastr.options.extendedTimeOut = nTiempoCorto;
            /*success - info - warning - error*/
            var $toast = toastr["error"]("Es necesario ingresar la Actividad", tTituloError); $toastlast = $toast;
            return;
        }

        if ($("#selectorResponsableActivity").val() == "" || $("#selectorResponsableActivity").val() == null || $("#selectorResponsableActivity").val() == undefined) {
            toastr.options.timeOut = nTiempoCorto;
            toastr.options.extendedTimeOut = nTiempoCorto;
            /*success - info - warning - error*/
            var $toast = toastr["error"]("Es necesario ingresar el Responsable de la ctividad", tTituloError); $toastlast = $toast;
            return;
        }

        if ($("#txtActivityDateEnd").val() == "" || $("#txtActivityDateEnd").val() == null || $("#txtActivityDateEnd").val() == undefined) {
            toastr.options.timeOut = nTiempoCorto;
            toastr.options.extendedTimeOut = nTiempoCorto;
            /*success - info - warning - error*/
            var $toast = toastr["error"]("Es necesario ingresar la Fecha de Cierre", tTituloError); $toastlast = $toast;
            return;
        }


        Swal.fire({
            title: 'Estas seguro de editar esta actividad?',
            text: "Consultar antes de editar para no generar inconvenientes",
            icon: 'warning',
            showCancelButton: true,
            confirmButtonColor: '#3085d6',
            cancelButtonColor: '#d33',
            confirmButtonText: 'Si, estoy seguro!'
        }).then((result) => {
            if (result.isConfirmed) {

                TextActivity = $("#txtActivityTicket").val();
                //TextDetalleActivity = $("#txtDetalleActivity").val();
                IdResponsibleActivity = $('#selectorResponsableActivity').val()[0];
                FechaEndActivity = $("#txtActivityDateEnd").val();

                EditarActivity();

            } else {



            }
        });
    });

    /*---------------------------------*/

    $("#LstTicketsCriticidadAlta").delegate(".BtnVerTicketAlta", "click", function (e) {

        var grid = $("#LstTicketsCriticidadAlta").data("kendoGrid");
        var myVar = grid.dataItem($(this).closest("tr"));

         var UserLogIn = "@User.Identity.Name.ToUpper().ToString()";
         UserLogIn = UserLogIn.split(',')[0];

         var UserProfile = "@User.Identity.Name.ToUpper().ToString()";
         UserProfile = UserProfile.split(',')[2];

         var usuarioTicketName = "@User.Identity.Name.ToUpper().ToString()";
        usuarioTicketName = usuarioTicketName.split(',')[4];

        IdTicketLst = myVar.IdTicket;

        NroTicket = 0;
        FechaRegistroTicket = "";
        CallTicket = "";
        RegisterTicket = "";
        ResponsibleTicket = "";
        OperacionTicket = "";
        RazonTicket = "";
        LocationTicket = "";
        CriticidadTicket = "";
        DetalleTicket = "";

        NroTicketActivity = myVar.NroTicket;
        NroTicket = myVar.NroTicket;
        FechaRegistroTicket = myVar.StartDate;
        CallTicket = myVar.FullNameTicket;
        RegisterTicket = myVar.UsuarioNameTicket;
        ResponsibleTicket = myVar.ResponsibleNameTicket;
        OperacionTicketInform = myVar.OperationName;
        OperacionTicket = myVar.OperationName;
        RazonTicket = myVar.ReasonName;
        LocationTicket = myVar.LocationNameTicket;
        CriticidadTicket = myVar.CriticalityName;
        DetalleTicket = myVar.DetalleText;
        TitleTicketGlobal = myVar.TitleDetalle;

        $("#TitleDetalleTicketMovil").val("");
        $("#lblDetallerTicket").val("");
        $("#selectorTicketLocationComplete").selectpicker('val', "");
        $("#selectorTicketLocationComplete").selectpicker('refresh');

        UserResponsibleId = myVar.ResponsibleId;

        TitleProblemGlobal = myVar.ProblemTicket;
        TitleSolucionGlobal = myVar.SolutionTicket;

        var lblOperacion;
        lblOperacion = document.getElementById("lblOperationTicket");
        lblOperacion.innerHTML = OperacionTicket;

        var lblQuienLlama;
        lblQuienLlama = document.getElementById("lblWhoCallTicket");
        lblQuienLlama.innerHTML = CallTicket;

        var lblQuienRegistra;
        lblQuienRegistra = document.getElementById("lblWhoRegisterTicket");
        lblQuienRegistra.innerHTML = RegisterTicket;

        var lblResponsable;
        lblResponsable = document.getElementById("lblResponsibleTicket");
        lblResponsable.innerHTML = ResponsibleTicket;

        var lblRason;
        lblRason = document.getElementById("lblReasonTicket");
        lblRason.innerHTML = RazonTicket;

        var lblCriticidad;
        lblCriticidad = document.getElementById("lblCritiziedTicket");
        lblCriticidad.innerHTML = CriticidadTicket;

        var lblLocacion;
        lblLocacion = document.getElementById("lblLocationTicket");
        lblLocacion.innerHTML = LocationTicket;

        var lblFechaFin;
        lblFechaFin = document.getElementById("lblEndDateTicket");
        lblFechaFin.innerHTML = FechaRegistroTicket;

        var lblTitleTicket;
        lblTitleTicket = document.getElementById("lblTitleTicket");
        lblTitleTicket.innerHTML = myVar.TitleDetalle;

        var lblTitleTicketMovil;
        var lbltituloMovil = "";

        lblTitleTicketMovil = document.getElementById("TitleDetalleTicketMovil");
        lbltituloMovil = myVar.TitleDetalle;
        lblTitleTicketMovil.innerHTML = lbltituloMovil;

        var lblDescripcion;
        lblDescripcion = document.getElementById("lblDetallerTicket");
        lblDescripcion.innerHTML = DetalleTicket;

        let FechaInicioModificado = document.querySelector("#lblFechaInicioAlertas");
        FechaInicioModificado.innerHTML = "";
        FechaInicioModificado.innerHTML = FechaRegistroTicket;

        var titulo;
        titulo = document.getElementById("lblModelTicketEditAlertas");

        var lblOperacionInforme;
        lblOperacionInforme = document.getElementById("lblOperacionFormatoTicket");
        lblOperacionInforme.innerHTML = OperacionTicket;

        var lblUsuarioTicket;
        lblUsuarioTicket = document.getElementById("lblDeQuienFormatoTicket");
        lblUsuarioTicket.innerHTML = usuarioTicketName;

        if (myVar.MigrationStatus == 'C') {

            titulo.innerHTML = NroTicket + " - " + "<span style='color:green'>COMPLETADO</span>";

        } else if (myVar.MigrationStatus == 'O') {

            titulo.innerHTML = NroTicket + " - " + "<span style='color:blue'>OPERANDO</span>";

        } else {

            titulo.innerHTML = NroTicket + " - " + "<span style='color:#dada27f7'>PENDIENTE</span>";

        }

        if (myVar.TicketTypeStatus == 'MOVIL') {

            /*$("#btnProblemSolution").removeClass("hidden");*/

            FilterPlatMov = 'M';

            if (myVar.ValidationUserOpId == '0') {

                $("#btnValidateTicket").prop('disabled', false);
                $("#chkValidationOperation").prop('disabled', false);
                $("#chkValidationOperation").prop('checked', false).change();


            }
            else {

                $("#btnValidateTicket").prop('disabled', true);
                $("#chkValidationOperation").prop('checked', true).change();
                $("#chkValidationOperation").prop('disabled', true);

            }

            if (myVar.MigrationStatus == 'C') {

                /*$(".btnEditDetailTicket").addClass("hidden");*/
                $("#btnEditDetailTicketID").prop('disabled', true);
                $("#btnCerrarTicket").prop('disabled', true);
                $("#btnProcesandoTicket").removeClass("hidden");
                $("#btnProcesandoTicket").prop('disabled', true);
                $("#btnSubirInformeTicket").prop('disabled', true);
                $("#btnAgregarActivity").prop('disabled', true);
                $(".ContainerRegisterMovil").addClass("hidden");
                $("#btnSaveVitacora").prop('disabled', true);
                $("#btnSubirFormatoTicket2").prop('disabled', true);
                /* $("#btnSaveRegisterMovil").prop('disabled', true);*/
                $("#btnEnviarProblemSolution").prop('disabled', true);

                ButtonsGridActivity = "<button class='btn-grid btn-xs BtnVerInfo' type='button' title='Ver datos'><i class='fa fa-lg fa-fw fas fa-eye'></i></button>";

                $(".ContainerTitlelbl").removeClass("hidden");
                $(".ContainerTitleComplete").addClass("hidden");

                $(".ContainerLocationlbl").removeClass("hidden");
                $(".ContainerLocationComplete").addClass("hidden");

                /*$(".ContainerBtnEditTicketDetails").addClass("hidden");*/

                /*$("#txtProblemticket").prop('disabled', true);*/
                /*$("#txtSolutionticket").prop('disabled', true);*/

                let IdsComponentes = myVar.ComponentIds;

                IdsComponentes = IdsComponentes.split(', ');

                $("#selectorComponente").val(IdsComponentes);
                $("#selectorComponente").prop('disabled', true);
                $("#selectorComponente").selectpicker('refresh');

                $("#txtProblemticket").prop('disabled', true);
                $("#txtSolutionticket").prop('disabled', true);
                $("#btnEnviarProblemSolution").prop('disabled', true);


                document.getElementById("txtProblemticket").value = myVar.ProblemTicket;
                document.getElementById("txtSolutionticket").value = myVar.SolutionTicket;

                $("#lblDetallerTicket").prop('disabled', true);

                /*$("#txtProblemticket").prop('disabled', true);*/
                /*$("#txtSolutionticket").prop('disabled', true);*/

                document.getElementById("lblDetallerTicket").value = "";
                //document.getElementById("txtProblemticket").value = "";
                //document.getElementById("txtSolutionticket").value = "";

                document.getElementById("lblDetallerTicket").value = myVar.DetalleText;
                //document.getElementById("txtProblemticket").value = myVar.ProblemTicket;
                //document.getElementById("txtSolutionticket").value = myVar.SolutionTicket;

                $(".ContainerRegisterMovil").addClass("hidden");

                ButtonsGridFileTicket = "<button class='btn-grid btn-xs BtnDescargarTicket' type='button' title='Ver datos'><i class='fa fa-lg fa-fw fas fa-cloud-download'></i></button>";

            }
            else {

                $("#btnSaveVitacora").prop('disabled', false);

                if (myVar.ComponentIds != '0') {

                    let IdsComponentes = myVar.ComponentIds;

                    IdsComponentes = IdsComponentes.split(', ');

                    $("#selectorComponente").val(IdsComponentes);
                    $("#selectorComponente").prop('disabled', true);
                    $("#selectorComponente").selectpicker('refresh');

                    $("#txtProblemticket").prop('disabled', true);
                    $("#txtSolutionticket").prop('disabled', true);
                    $("#btnEnviarProblemSolution").prop('disabled', true);

                    document.getElementById("txtProblemticket").value = myVar.ProblemTicket;
                    document.getElementById("txtSolutionticket").value = myVar.SolutionTicket;

                }
                else {

                    $("#selectorComponente").val('');
                    $("#selectorComponente").prop('disabled', false);
                    $("#selectorComponente").selectpicker('refresh');

                    $("#txtProblemticket").prop('disabled', false);
                    $("#txtSolutionticket").prop('disabled', false);
                    $("#btnEnviarProblemSolution").prop('disabled', false);

                    document.getElementById("txtProblemticket").value = "";
                    document.getElementById("txtSolutionticket").value = "";

                }

                if (UserLogIn == 1 || UserProfile == 10 || UserLogIn == myVar.WhoCallId) {

                    $("#btnCerrarTicket").prop('disabled', false);
                    $("#btnProcesandoTicket").removeClass("hidden");
                    /* $(".btnEditDetailTicket").removeClass("hidden");*/
                   /* $("#btnEditDetailTicketID").prop('disabled', false);*/

                    if (myVar.MigrationStatus == 'O') {
                        $("#btnProcesandoTicket").prop('disabled', true);
                    } else {
                        $("#btnProcesandoTicket").prop('disabled', false);
                    }

                    $("#btnSubirFormatoTicket2").prop('disabled', false);

                    $("#btnSubirInformeTicket").prop('disabled', false);

                    $("#btnAgregarActivity").prop('disabled', false);



                    if (myVar.TitleDetalle == "" && myVar.LocationNameTicket == undefined) {

                        $(".ContainerTitleComplete").removeClass("hidden");
                        $(".ContainerTitlelbl").addClass("hidden");

                        //$("#lblDetallerTicket").val("");
                        //$("#TitleDetalleTicketMovil").val("");

                        $("#lblDetallerTicket").prop('disabled', false);

                        $(".ContainerLocationComplete").removeClass("hidden");
                        $(".ContainerLocationlbl").addClass("hidden");
                        $("#btnEditDetailTicketID").prop('disabled', false);
                        /*$(".btnEditDetailTicket").removeClass("hidden");*/
                    }
                    else {

                        $(".ContainerTitleComplete").addClass("hidden");
                        $(".ContainerTitlelbl").removeClass("hidden");
                        $("#btnEditDetailTicketID").prop('disabled', true);
                        /*  $("#lblDetallerTicket").prop('disabled', true);*/
                        /*   $(".btnEditDetailTicket").addClass("hidden");*/
                        $(".ContainerLocationComplete").addClass("hidden");
                        $(".ContainerLocationlbl").removeClass("hidden");
                    }

                    if (myVar.DetalleText != "") {

                        $("#lblDetallerTicket").prop('disabled', false);
                        $("#lblDetallerTicket").val(DetalleTicket);
                        $("#lblDetallerTicket").prop('disabled', true);

                    } else {
                        $("#lblDetallerTicket").prop('disabled', false);
                        $("#btnEditDetailTicketID").prop('disabled', false);
                    }

                    ButtonsGridFileTicket = "<button class='btn-grid btn-xs BtnEditTicket' type='button' title='Ver datos'><i class='fa fa-lg fa-fw fas fa-edit'></i></button>" + " " +
                        "<button class='btn-grid btn-xs BtnDescargarTicket' type='button' title='Ver datos'><i class='fa fa-lg fa-fw fas fa-cloud-download'></i></button>"
                        + " " + "<button class='btn-grid btn-xs BtnDeleteTicket' type='button' title='Ver datos'><i class='fa fa-trash-o fa-lg'></i></button>";

                    ButtonsGridActivity = "<button class='btn-grid btn-xs BtnVerInfo' type='button' title='Ver datos'><i class='fa fa-lg fa-fw fas fa-eye'></i></button>" + " " +
                        "<button class='btn-grid btn-xs BtnEdit' type='button' title='Editar'><i class='fa fa-lg fa-fw fas fa-edit'></i></button>";

                }
                else {
                    /*          $(".btnEditDetailTicket").addClass("hidden");*/

                    $(".ContainerTitlelbl").removeClass("hidden");
                    $(".ContainerTitleComplete").addClass("hidden");

                    $(".ContainerLocationlbl").removeClass("hidden");
                    $(".ContainerLocationComplete").addClass("hidden");

                    $("#btnCerrarTicket").prop('disabled', true);
                    $("#btnEditDetailTicketID").prop('disabled', true);
                    $("#btnEnviarProblemSolution").prop('disabled', true);

                    $("#btnSubirFormatoTicket2").prop('disabled', true);
                    $("#btnSubirInformeTicket").prop('disabled', true);
                    $("#btnAgregarActivity").prop('disabled', true);

                    /*$("#txtProblemticket").prop('disabled', true);*/
                    /*$("#txtSolutionticket").prop('disabled', true);*/

                    $("#btnValidateTicket").prop('disabled', true);

                    $("#chkValidationOperation").prop('disabled', true);
                    $("#btnProcesandoTicket").prop('disabled', true);

                    ButtonsGridFileTicket = "<button class='btn-grid btn-xs BtnDescargarTicket' type='button' title='Ver datos'><i class='fa fa-lg fa-fw fas fa-cloud-download'></i></button>";

                    ButtonsGridActivity = "<button class='btn-grid btn-xs BtnVerInfo' type='button' title='Ver datos'><i class='fa fa-lg fa-fw fas fa-eye'></i></button>";

                }

                ValidarStatusActividades();

            }

        }
        else if (myVar.TicketTypeStatus == 'PLATAFORMA') {

            /*  $(".btnEditDetailTicket").addClass("hidden");*/
            $("#btnEditDetailTicketID").prop('disabled', true);
            $(".ContainerTitlelbl").removeClass("hidden");
            $(".ContainerTitleComplete").addClass("hidden");

            $(".ContainerLocationlbl").removeClass("hidden");
            $(".ContainerLocationComplete").addClass("hidden")

            $("#lblDetallerTicket").prop('disabled', true);

            /* $(".ContainerBtnEditTicketDetails").addClass("hidden");*/

            /* $("#btnProblemSolution").addClass("hidden");*/

            $(".Container3WS").removeClass("hidden");

            FilterPlatMov = 'P';

            if (myVar.MigrationStatus == 'O') {
                $("#btnProcesandoTicket").prop('disabled', true);
            }
            else {
                $("#btnProcesandoTicket").prop('disabled', false);
            }

            if (myVar.ValidationUserOpId == '0') {

                $("#btnValidateTicket").prop('disabled', false);
                $("#chkValidationOperation").prop('disabled', false);
                $("#chkValidationOperation").prop('checked', false).change();


            }
            else {

                $("#btnValidateTicket").prop('disabled', true);
                $("#chkValidationOperation").prop('checked', true).change();
                $("#chkValidationOperation").prop('disabled', true);

            }

            if (myVar.DetalleText != "") {

                $("#lblDetallerTicket").prop('disabled', false);
                $("#lblDetallerTicket").val(DetalleTicket);
                $("#lblDetallerTicket").prop('disabled', true);

            }

            if (myVar.MigrationStatus == 'C') {

                $("#btnCerrarTicket").prop('disabled', true);
                $("#btnSubirFormatoTicket2").prop('disabled', true);
                $("#btnSaveVitacora").prop('disabled', true);
                $("#btnAgregarActivity").prop('disabled', true);
                $("#btnSubirInformeTicket").prop('disabled', true);
                $("#txtVitacoraTextSend").prop('disabled', true);
                $("#btnProcesandoTicket").prop('disabled', true);
                $("#chkValidationOperation").prop('disabled', true);
                $("#btnValidateTicket").prop('disabled', true);

                ButtonsGridActivity = "<button class='btn-grid btn-xs BtnVerInfo' type='button' title='Ver datos'><i class='fa fa-lg fa-fw fas fa-eye'></i></button>";
                ButtonsGridFileTicket = "<button class='btn-grid btn-xs BtnDescargarTicket' type='button' title='Ver datos'><i class='fa fa-lg fa-fw fas fa-cloud-download'></i></button>";

                let IdsComponentes = myVar.ComponentIds;

                IdsComponentes = IdsComponentes.split(', ');

                $("#selectorComponente").val(IdsComponentes);
                $("#selectorComponente").prop('disabled', true);
                $("#selectorComponente").selectpicker('refresh');

                $("#txtProblemticket").prop('disabled', true);
                $("#txtSolutionticket").prop('disabled', true);
                $("#btnEnviarProblemSolution").prop('disabled', true);


                document.getElementById("txtProblemticket").value = myVar.ProblemTicket;
                document.getElementById("txtSolutionticket").value = myVar.SolutionTicket;

            } else {

                if (myVar.ComponentIds != '0') {

                    let IdsComponentes = myVar.ComponentIds;

                    IdsComponentes = IdsComponentes.split(', ');

                    $("#selectorComponente").val(IdsComponentes);
                    $("#selectorComponente").prop('disabled', true);
                    $("#selectorComponente").selectpicker('refresh');

                    $("#txtProblemticket").prop('disabled', true);
                    $("#txtSolutionticket").prop('disabled', true);
                    $("#btnEnviarProblemSolution").prop('disabled', true);

                    document.getElementById("txtProblemticket").value = myVar.ProblemTicket;
                    document.getElementById("txtSolutionticket").value = myVar.SolutionTicket;

                } else {

                    $("#selectorComponente").val('');
                    $("#selectorComponente").prop('disabled', false);
                    $("#selectorComponente").selectpicker('refresh');


                    $("#txtProblemticket").prop('disabled', false);
                    $("#txtSolutionticket").prop('disabled', false);
                    $("#btnEnviarProblemSolution").prop('disabled', false);

                    document.getElementById("txtProblemticket").value = "";
                    document.getElementById("txtSolutionticket").value = "";

                }

                if (UserLogIn == 1 || UserProfile == 10 || UserLogIn == myVar.WhoCallId) {

                    $("#btnSubirInformeTicket").prop('disabled', false);
                    $("#btnSubirFormatoTicket2").prop('disabled', false);
                    $("#btnSaveVitacora").prop('disabled', false);
                    $("#btnAgregarActivity").prop('disabled', false);
                    $("#txtVitacoraTextSend").prop('disabled', false);

                    ButtonsGridActivity = "<button class='btn-grid btn-xs BtnVerInfo' type='button' title='Ver datos'><i class='fa fa-lg fa-fw fas fa-eye'></i></button>" + " " +
                        "<button class='btn-grid btn-xs BtnEdit' type='button' title='Editar'><i class='fa fa-lg fa-fw fas fa-edit'></i></button>";

                    ButtonsGridFileTicket = "<button class='btn-grid btn-xs BtnEditTicket' type='button' title='Ver datos'><i class='fa fa-lg fa-fw fas fa-edit'></i></button>" + " " +
                        "<button class='btn-grid btn-xs BtnDescargarTicket' type='button' title='Ver datos'><i class='fa fa-lg fa-fw fas fa-cloud-download'></i></button>"
                        + " " + "<button class='btn-grid btn-xs BtnDeleteTicket' type='button' title='Ver datos'><i class='fa fa-trash-o fa-lg'></i></button>";

                } else {

                    $("#btnCerrarTicket").prop('disabled', true);
                    $("#btnSubirFormatoTicket2").prop('disabled', true);
                    $("#btnSaveVitacora").prop('disabled', false);
                    $("#btnAgregarActivity").prop('disabled', true);
                    $("#btnSubirInformeTicket").prop('disabled', true);
                    $("#txtVitacoraTextSend").prop('disabled', false);
                    $("#chkValidationOperation").prop('disabled', true);
                    $("#btnValidateTicket").prop('disabled', true);
                    $("#btnEditDetailTicketID").prop('disabled', true);
                    $("#btnEnviarProblemSolution").prop('disabled', true);

                    ButtonsGridActivity = "<button class='btn-grid btn-xs BtnVerInfo' type='button' title='Ver datos'><i class='fa fa-lg fa-fw fas fa-eye'></i></button>";
                    ButtonsGridFileTicket = "<button class='btn-grid btn-xs BtnDescargarTicket' type='button' title='Ver datos'><i class='fa fa-lg fa-fw fas fa-cloud-download'></i></button>";
                }

                ValidarStatusActividades();

            }

            @*if (UserRegister2 == UserResponsibleId || UserRegister == 10) {

                if (myVar.MigrationStatus == 'C') {

                    $("#btnCerrarTicket").prop('disabled', true);
                    $("#btnSubirFormatoTicket2").prop('disabled', true);
                    $("#btnSaveVitacora").prop('disabled', true);
                    $("#btnAgregarActivity").prop('disabled', true);
                    $("#btnSubirInformeTicket").prop('disabled', true);

                    ButtonsGridActivity = "<button class='btn-grid btn-xs BtnVerInfo' type='button' title='Ver datos'><i class='fa fa-lg fa-fw fas fa-eye'></i></button>";

                }
                else {

                    $("#btnSubirInformeTicket").prop('disabled', false);
                    $("#btnSubirFormatoTicket2").prop('disabled', false);
                    $("#btnSaveVitacora").prop('disabled', false);
                    $("#btnAgregarActivity").prop('disabled', false);

                    ValidarStatusActividades();

                }

            }
            else {

                $("#btnCerrarTicket").prop('disabled', true);

                var UserRegister3 = "@User.Identity.Name.ToUpper().ToString()";
                UserRegister3 = UserRegister3.split(',')[2];

                if (myVar.MigrationStatus == 'C') {

                    $("#btnCerrarTicket").prop('disabled', true);
                    $("#btnSubirFormatoTicket2").prop('disabled', true);
                    $("#btnSaveVitacora").prop('disabled', true);
                    $("#btnAgregarActivity").prop('disabled', true);
                    $("#btnSubirInformeTicket").prop('disabled', true);

                    if (UserRegister3 == 1 || UserRegister3 == 2 || UserRegister3 == 10) {

                        ButtonsGridActivity = "<button class='btn-grid btn-xs BtnVerInfo' type='button' title='Ver datos'><i class='fa fa-lg fa-fw fas fa-eye'></i></button>";

                    }
                    else {

                        ButtonsGridActivity = "<button class='btn-grid btn-xs BtnVerInfo' type='button' title='Ver datos'><i class='fa fa-lg fa-fw fas fa-eye'></i></button>";

                    }


                }
                else {

                    $("#btnCerrarTicket").prop('disabled', true);
                    $("#btnSubirFormatoTicket2").prop('disabled', false);
                    $("#btnSaveVitacora").prop('disabled', false);
                    $("#btnAgregarActivity").prop('disabled', false);
                    $("#btnSubirInformeTicket").prop('disabled', false);

                    if (UserRegister3 == 1 || UserRegister3 == 2 || UserRegister3 == 10) {

                        ButtonsGridActivity = "<button class='btn-grid btn-xs BtnVerInfo' type='button' title='Ver datos'><i class='fa fa-lg fa-fw fas fa-eye'></i></button>" + " " +
                            "<button class='btn-grid btn-xs BtnEdit' type='button' title='Editar'><i class='fa fa-lg fa-fw fas fa-edit'></i></button>";

                    } else {

                        ButtonsGridActivity = "<button class='btn-grid btn-xs BtnVerInfo' type='button' title='Ver datos'><i class='fa fa-lg fa-fw fas fa-eye'></i></button>";

                    }

                }

            }*@
         }

        ListadoDescripcionVitacora(NroTicketActivity);
        GrillaListadoActividadAlertas();
        GrillaListadoArchivoTicket();

        $('#ModalTicketEdit').modal('show');

    });

    $("#LstTicketsCriticidadMedia").delegate(".BtnVerTicketMedia", "click", function (e) {

         var grid = $("#LstTicketsCriticidadMedia").data("kendoGrid");
         var myVar = grid.dataItem($(this).closest("tr"));

         var UserLogIn = "@User.Identity.Name.ToUpper().ToString()";
         UserLogIn = UserLogIn.split(',')[0];

         var UserProfile = "@User.Identity.Name.ToUpper().ToString()";
         UserProfile = UserProfile.split(',')[2];

         var usuarioTicketName = "@User.Identity.Name.ToUpper().ToString()";
        usuarioTicketName = usuarioTicketName.split(',')[4];

        IdTicketLst = myVar.IdTicket;

        NroTicket = 0;
        FechaRegistroTicket = "";
        CallTicket = "";
        RegisterTicket = "";
        ResponsibleTicket = "";
        OperacionTicket = "";
        RazonTicket = "";
        LocationTicket = "";
        CriticidadTicket = "";
        DetalleTicket = "";

        NroTicketActivity = myVar.NroTicket;
        NroTicket = myVar.NroTicket;
        FechaRegistroTicket = myVar.StartDate;
        CallTicket = myVar.FullNameTicket;
        RegisterTicket = myVar.UsuarioNameTicket;
        ResponsibleTicket = myVar.ResponsibleNameTicket;
        OperacionTicketInform = myVar.OperationName;
        OperacionTicket = myVar.OperationName;
        RazonTicket = myVar.ReasonName;
        LocationTicket = myVar.LocationNameTicket;
        CriticidadTicket = myVar.CriticalityName;
        DetalleTicket = myVar.DetalleText;
        TitleTicketGlobal = myVar.TitleDetalle;

        $("#TitleDetalleTicketMovil").val("");
        $("#lblDetallerTicket").val("");
        $("#selectorTicketLocationComplete").selectpicker('val', "");
        $("#selectorTicketLocationComplete").selectpicker('refresh');

        UserResponsibleId = myVar.ResponsibleId;

        TitleProblemGlobal = myVar.ProblemTicket;
        TitleSolucionGlobal = myVar.SolutionTicket;

        var lblOperacion;
        lblOperacion = document.getElementById("lblOperationTicket");
        lblOperacion.innerHTML = OperacionTicket;

        var lblQuienLlama;
        lblQuienLlama = document.getElementById("lblWhoCallTicket");
        lblQuienLlama.innerHTML = CallTicket;

        var lblQuienRegistra;
        lblQuienRegistra = document.getElementById("lblWhoRegisterTicket");
        lblQuienRegistra.innerHTML = RegisterTicket;

        var lblResponsable;
        lblResponsable = document.getElementById("lblResponsibleTicket");
        lblResponsable.innerHTML = ResponsibleTicket;

        var lblRason;
        lblRason = document.getElementById("lblReasonTicket");
        lblRason.innerHTML = RazonTicket;

        var lblCriticidad;
        lblCriticidad = document.getElementById("lblCritiziedTicket");
        lblCriticidad.innerHTML = CriticidadTicket;

        var lblLocacion;
        lblLocacion = document.getElementById("lblLocationTicket");
        lblLocacion.innerHTML = LocationTicket;

        var lblFechaFin;
        lblFechaFin = document.getElementById("lblEndDateTicket");
        lblFechaFin.innerHTML = FechaRegistroTicket;

        var lblTitleTicket;
        lblTitleTicket = document.getElementById("lblTitleTicket");
        lblTitleTicket.innerHTML = myVar.TitleDetalle;

        var lblTitleTicketMovil;
        var lbltituloMovil = "";

        lblTitleTicketMovil = document.getElementById("TitleDetalleTicketMovil");
        lbltituloMovil = myVar.TitleDetalle;
        lblTitleTicketMovil.innerHTML = lbltituloMovil;

        var lblDescripcion;
        lblDescripcion = document.getElementById("lblDetallerTicket");
        lblDescripcion.innerHTML = DetalleTicket;

        let FechaInicioModificado = document.querySelector("#lblFechaInicioAlertas");
        FechaInicioModificado.innerHTML = "";
        FechaInicioModificado.innerHTML = FechaRegistroTicket;

        var titulo;
        titulo = document.getElementById("lblModelTicketEditAlertas");

        var lblOperacionInforme;
        lblOperacionInforme = document.getElementById("lblOperacionFormatoTicket");
        lblOperacionInforme.innerHTML = OperacionTicket;

        var lblUsuarioTicket;
        lblUsuarioTicket = document.getElementById("lblDeQuienFormatoTicket");
        lblUsuarioTicket.innerHTML = usuarioTicketName;

        if (myVar.MigrationStatus == 'C') {

            titulo.innerHTML = NroTicket + " - " + "<span style='color:green'>COMPLETADO</span>";

        } else if (myVar.MigrationStatus == 'O') {

            titulo.innerHTML = NroTicket + " - " + "<span style='color:blue'>OPERANDO</span>";

        } else {

            titulo.innerHTML = NroTicket + " - " + "<span style='color:#dada27f7'>PENDIENTE</span>";

        }

        if (myVar.TicketTypeStatus == 'MOVIL') {

            /*$("#btnProblemSolution").removeClass("hidden");*/

            FilterPlatMov = 'M';

            if (myVar.ValidationUserOpId == '0') {

                $("#btnValidateTicket").prop('disabled', false);
                $("#chkValidationOperation").prop('disabled', false);
                $("#chkValidationOperation").prop('checked', false).change();


            }
            else {

                $("#btnValidateTicket").prop('disabled', true);
                $("#chkValidationOperation").prop('checked', true).change();
                $("#chkValidationOperation").prop('disabled', true);

            }

            if (myVar.MigrationStatus == 'C') {

                /*$(".btnEditDetailTicket").addClass("hidden");*/
                $("#btnEditDetailTicketID").prop('disabled', true);
                $("#btnCerrarTicket").prop('disabled', true);
                $("#btnProcesandoTicket").removeClass("hidden");
                $("#btnProcesandoTicket").prop('disabled', true);
                $("#btnSubirInformeTicket").prop('disabled', true);
                $("#btnAgregarActivity").prop('disabled', true);
                $(".ContainerRegisterMovil").addClass("hidden");
                $("#btnSaveVitacora").prop('disabled', true);
                $("#btnSubirFormatoTicket2").prop('disabled', true);
                /* $("#btnSaveRegisterMovil").prop('disabled', true);*/
                $("#btnEnviarProblemSolution").prop('disabled', true);

                ButtonsGridActivity = "<button class='btn-grid btn-xs BtnVerInfo' type='button' title='Ver datos'><i class='fa fa-lg fa-fw fas fa-eye'></i></button>";

                $(".ContainerTitlelbl").removeClass("hidden");
                $(".ContainerTitleComplete").addClass("hidden");

                $(".ContainerLocationlbl").removeClass("hidden");
                $(".ContainerLocationComplete").addClass("hidden");

                /*$(".ContainerBtnEditTicketDetails").addClass("hidden");*/

                /*$("#txtProblemticket").prop('disabled', true);*/
                /*$("#txtSolutionticket").prop('disabled', true);*/

                let IdsComponentes = myVar.ComponentIds;

                IdsComponentes = IdsComponentes.split(', ');

                $("#selectorComponente").val(IdsComponentes);
                $("#selectorComponente").prop('disabled', true);
                $("#selectorComponente").selectpicker('refresh');

                $("#txtProblemticket").prop('disabled', true);
                $("#txtSolutionticket").prop('disabled', true);
                $("#btnEnviarProblemSolution").prop('disabled', true);


                document.getElementById("txtProblemticket").value = myVar.ProblemTicket;
                document.getElementById("txtSolutionticket").value = myVar.SolutionTicket;

                $("#lblDetallerTicket").prop('disabled', true);

                /*$("#txtProblemticket").prop('disabled', true);*/
                /*$("#txtSolutionticket").prop('disabled', true);*/

                document.getElementById("lblDetallerTicket").value = "";
                //document.getElementById("txtProblemticket").value = "";
                //document.getElementById("txtSolutionticket").value = "";

                document.getElementById("lblDetallerTicket").value = myVar.DetalleText;
                //document.getElementById("txtProblemticket").value = myVar.ProblemTicket;
                //document.getElementById("txtSolutionticket").value = myVar.SolutionTicket;

                $(".ContainerRegisterMovil").addClass("hidden");

                ButtonsGridFileTicket = "<button class='btn-grid btn-xs BtnDescargarTicket' type='button' title='Ver datos'><i class='fa fa-lg fa-fw fas fa-cloud-download'></i></button>";

            }
            else {

                $("#btnSaveVitacora").prop('disabled', false);

                if (myVar.ComponentIds != '0') {

                    let IdsComponentes = myVar.ComponentIds;

                    IdsComponentes = IdsComponentes.split(', ');

                    $("#selectorComponente").val(IdsComponentes);
                    $("#selectorComponente").prop('disabled', true);
                    $("#selectorComponente").selectpicker('refresh');

                    $("#txtProblemticket").prop('disabled', true);
                    $("#txtSolutionticket").prop('disabled', true);
                    $("#btnEnviarProblemSolution").prop('disabled', true);

                    document.getElementById("txtProblemticket").value = myVar.ProblemTicket;
                    document.getElementById("txtSolutionticket").value = myVar.SolutionTicket;

                }
                else {

                    $("#selectorComponente").val('');
                    $("#selectorComponente").prop('disabled', false);
                    $("#selectorComponente").selectpicker('refresh');

                    $("#txtProblemticket").prop('disabled', false);
                    $("#txtSolutionticket").prop('disabled', false);
                    $("#btnEnviarProblemSolution").prop('disabled', false);

                    document.getElementById("txtProblemticket").value = "";
                    document.getElementById("txtSolutionticket").value = "";

                }

                if (UserLogIn == 1 || UserProfile == 10 || UserLogIn == myVar.WhoCallId) {

                    $("#btnCerrarTicket").prop('disabled', false);
                    $("#btnProcesandoTicket").removeClass("hidden");
                    /* $(".btnEditDetailTicket").removeClass("hidden");*/
                   /* $("#btnEditDetailTicketID").prop('disabled', false);*/

                    if (myVar.MigrationStatus == 'O') {
                        $("#btnProcesandoTicket").prop('disabled', true);
                    } else {
                        $("#btnProcesandoTicket").prop('disabled', false);
                    }

                    $("#btnSubirFormatoTicket2").prop('disabled', false);

                    $("#btnSubirInformeTicket").prop('disabled', false);

                    $("#btnAgregarActivity").prop('disabled', false);



                    if (myVar.TitleDetalle == "" && myVar.LocationNameTicket == undefined) {

                        $(".ContainerTitleComplete").removeClass("hidden");
                        $(".ContainerTitlelbl").addClass("hidden");

                        //$("#lblDetallerTicket").val("");
                        //$("#TitleDetalleTicketMovil").val("");

                        $("#lblDetallerTicket").prop('disabled', false);

                        $(".ContainerLocationComplete").removeClass("hidden");
                        $(".ContainerLocationlbl").addClass("hidden");
                        $("#btnEditDetailTicketID").prop('disabled', false);
                        /*$(".btnEditDetailTicket").removeClass("hidden");*/
                    }
                    else {

                        $(".ContainerTitleComplete").addClass("hidden");
                        $(".ContainerTitlelbl").removeClass("hidden");
                        $("#btnEditDetailTicketID").prop('disabled', true);
                        /*  $("#lblDetallerTicket").prop('disabled', true);*/
                        /*   $(".btnEditDetailTicket").addClass("hidden");*/
                        $(".ContainerLocationComplete").addClass("hidden");
                        $(".ContainerLocationlbl").removeClass("hidden");
                    }

                    if (myVar.DetalleText != "") {

                        $("#lblDetallerTicket").prop('disabled', false);
                        $("#lblDetallerTicket").val(DetalleTicket);
                        $("#lblDetallerTicket").prop('disabled', true);

                    } else {
                        $("#lblDetallerTicket").prop('disabled', false);
                        $("#btnEditDetailTicketID").prop('disabled', false);
                    }

                    ButtonsGridFileTicket = "<button class='btn-grid btn-xs BtnEditTicket' type='button' title='Ver datos'><i class='fa fa-lg fa-fw fas fa-edit'></i></button>" + " " +
                        "<button class='btn-grid btn-xs BtnDescargarTicket' type='button' title='Ver datos'><i class='fa fa-lg fa-fw fas fa-cloud-download'></i></button>"
                        + " " + "<button class='btn-grid btn-xs BtnDeleteTicket' type='button' title='Ver datos'><i class='fa fa-trash-o fa-lg'></i></button>";

                    ButtonsGridActivity = "<button class='btn-grid btn-xs BtnVerInfo' type='button' title='Ver datos'><i class='fa fa-lg fa-fw fas fa-eye'></i></button>" + " " +
                        "<button class='btn-grid btn-xs BtnEdit' type='button' title='Editar'><i class='fa fa-lg fa-fw fas fa-edit'></i></button>";

                }
                else {
                    /*          $(".btnEditDetailTicket").addClass("hidden");*/

                    $(".ContainerTitlelbl").removeClass("hidden");
                    $(".ContainerTitleComplete").addClass("hidden");

                    $(".ContainerLocationlbl").removeClass("hidden");
                    $(".ContainerLocationComplete").addClass("hidden");

                    $("#btnCerrarTicket").prop('disabled', true);
                    $("#btnEditDetailTicketID").prop('disabled', true);
                    $("#btnEnviarProblemSolution").prop('disabled', true);

                    $("#btnSubirFormatoTicket2").prop('disabled', true);
                    $("#btnSubirInformeTicket").prop('disabled', true);
                    $("#btnAgregarActivity").prop('disabled', true);

                    /*$("#txtProblemticket").prop('disabled', true);*/
                    /*$("#txtSolutionticket").prop('disabled', true);*/

                    $("#btnValidateTicket").prop('disabled', true);

                    $("#chkValidationOperation").prop('disabled', true);
                    $("#btnProcesandoTicket").prop('disabled', true);

                    ButtonsGridFileTicket = "<button class='btn-grid btn-xs BtnDescargarTicket' type='button' title='Ver datos'><i class='fa fa-lg fa-fw fas fa-cloud-download'></i></button>";

                    ButtonsGridActivity = "<button class='btn-grid btn-xs BtnVerInfo' type='button' title='Ver datos'><i class='fa fa-lg fa-fw fas fa-eye'></i></button>";

                }

                ValidarStatusActividades();

            }

        }
        else if (myVar.TicketTypeStatus == 'PLATAFORMA') {

            /*  $(".btnEditDetailTicket").addClass("hidden");*/
            $("#btnEditDetailTicketID").prop('disabled', true);
            $(".ContainerTitlelbl").removeClass("hidden");
            $(".ContainerTitleComplete").addClass("hidden");

            $(".ContainerLocationlbl").removeClass("hidden");
            $(".ContainerLocationComplete").addClass("hidden")

            $("#lblDetallerTicket").prop('disabled', true);

            /* $(".ContainerBtnEditTicketDetails").addClass("hidden");*/

            /* $("#btnProblemSolution").addClass("hidden");*/

            $(".Container3WS").removeClass("hidden");

            FilterPlatMov = 'P';

            if (myVar.MigrationStatus == 'O') {
                $("#btnProcesandoTicket").prop('disabled', true);
            }
            else {
                $("#btnProcesandoTicket").prop('disabled', false);
            }

            if (myVar.ValidationUserOpId == '0') {

                $("#btnValidateTicket").prop('disabled', false);
                $("#chkValidationOperation").prop('disabled', false);
                $("#chkValidationOperation").prop('checked', false).change();


            }
            else {

                $("#btnValidateTicket").prop('disabled', true);
                $("#chkValidationOperation").prop('checked', true).change();
                $("#chkValidationOperation").prop('disabled', true);

            }

            if (myVar.DetalleText != "") {

                $("#lblDetallerTicket").prop('disabled', false);
                $("#lblDetallerTicket").val(DetalleTicket);
                $("#lblDetallerTicket").prop('disabled', true);

            }

            if (myVar.MigrationStatus == 'C') {

                $("#btnCerrarTicket").prop('disabled', true);
                $("#btnSubirFormatoTicket2").prop('disabled', true);
                $("#btnSaveVitacora").prop('disabled', true);
                $("#btnAgregarActivity").prop('disabled', true);
                $("#btnSubirInformeTicket").prop('disabled', true);
                $("#txtVitacoraTextSend").prop('disabled', true);
                $("#btnProcesandoTicket").prop('disabled', true);
                $("#chkValidationOperation").prop('disabled', true);
                $("#btnValidateTicket").prop('disabled', true);

                ButtonsGridActivity = "<button class='btn-grid btn-xs BtnVerInfo' type='button' title='Ver datos'><i class='fa fa-lg fa-fw fas fa-eye'></i></button>";
                ButtonsGridFileTicket = "<button class='btn-grid btn-xs BtnDescargarTicket' type='button' title='Ver datos'><i class='fa fa-lg fa-fw fas fa-cloud-download'></i></button>";

                let IdsComponentes = myVar.ComponentIds;

                IdsComponentes = IdsComponentes.split(', ');

                $("#selectorComponente").val(IdsComponentes);
                $("#selectorComponente").prop('disabled', true);
                $("#selectorComponente").selectpicker('refresh');

                $("#txtProblemticket").prop('disabled', true);
                $("#txtSolutionticket").prop('disabled', true);
                $("#btnEnviarProblemSolution").prop('disabled', true);


                document.getElementById("txtProblemticket").value = myVar.ProblemTicket;
                document.getElementById("txtSolutionticket").value = myVar.SolutionTicket;

            } else {

                if (myVar.ComponentIds != '0') {

                    let IdsComponentes = myVar.ComponentIds;

                    IdsComponentes = IdsComponentes.split(', ');

                    $("#selectorComponente").val(IdsComponentes);
                    $("#selectorComponente").prop('disabled', true);
                    $("#selectorComponente").selectpicker('refresh');

                    $("#txtProblemticket").prop('disabled', true);
                    $("#txtSolutionticket").prop('disabled', true);
                    $("#btnEnviarProblemSolution").prop('disabled', true);

                    document.getElementById("txtProblemticket").value = myVar.ProblemTicket;
                    document.getElementById("txtSolutionticket").value = myVar.SolutionTicket;

                } else {

                    $("#selectorComponente").val('');
                    $("#selectorComponente").prop('disabled', false);
                    $("#selectorComponente").selectpicker('refresh');


                    $("#txtProblemticket").prop('disabled', false);
                    $("#txtSolutionticket").prop('disabled', false);
                    $("#btnEnviarProblemSolution").prop('disabled', false);

                    document.getElementById("txtProblemticket").value = "";
                    document.getElementById("txtSolutionticket").value = "";

                }

                if (UserLogIn == 1 || UserProfile == 10 || UserLogIn == myVar.WhoCallId) {

                    $("#btnSubirInformeTicket").prop('disabled', false);
                    $("#btnSubirFormatoTicket2").prop('disabled', false);
                    $("#btnSaveVitacora").prop('disabled', false);
                    $("#btnAgregarActivity").prop('disabled', false);
                    $("#txtVitacoraTextSend").prop('disabled', false);

                    ButtonsGridActivity = "<button class='btn-grid btn-xs BtnVerInfo' type='button' title='Ver datos'><i class='fa fa-lg fa-fw fas fa-eye'></i></button>" + " " +
                        "<button class='btn-grid btn-xs BtnEdit' type='button' title='Editar'><i class='fa fa-lg fa-fw fas fa-edit'></i></button>";

                    ButtonsGridFileTicket = "<button class='btn-grid btn-xs BtnEditTicket' type='button' title='Ver datos'><i class='fa fa-lg fa-fw fas fa-edit'></i></button>" + " " +
                        "<button class='btn-grid btn-xs BtnDescargarTicket' type='button' title='Ver datos'><i class='fa fa-lg fa-fw fas fa-cloud-download'></i></button>"
                        + " " + "<button class='btn-grid btn-xs BtnDeleteTicket' type='button' title='Ver datos'><i class='fa fa-trash-o fa-lg'></i></button>";

                } else {

                    $("#btnCerrarTicket").prop('disabled', true);
                    $("#btnSubirFormatoTicket2").prop('disabled', true);
                    $("#btnSaveVitacora").prop('disabled', false);
                    $("#btnAgregarActivity").prop('disabled', true);
                    $("#btnSubirInformeTicket").prop('disabled', true);
                    $("#txtVitacoraTextSend").prop('disabled', false);
                    $("#chkValidationOperation").prop('disabled', true);
                    $("#btnValidateTicket").prop('disabled', true);
                    $("#btnEditDetailTicketID").prop('disabled', true);
                    $("#btnEnviarProblemSolution").prop('disabled', true);

                    ButtonsGridActivity = "<button class='btn-grid btn-xs BtnVerInfo' type='button' title='Ver datos'><i class='fa fa-lg fa-fw fas fa-eye'></i></button>";
                    ButtonsGridFileTicket = "<button class='btn-grid btn-xs BtnDescargarTicket' type='button' title='Ver datos'><i class='fa fa-lg fa-fw fas fa-cloud-download'></i></button>";
                }

                ValidarStatusActividades();

            }

            @*if (UserRegister2 == UserResponsibleId || UserRegister == 10) {

                if (myVar.MigrationStatus == 'C') {

                    $("#btnCerrarTicket").prop('disabled', true);
                    $("#btnSubirFormatoTicket2").prop('disabled', true);
                    $("#btnSaveVitacora").prop('disabled', true);
                    $("#btnAgregarActivity").prop('disabled', true);
                    $("#btnSubirInformeTicket").prop('disabled', true);

                    ButtonsGridActivity = "<button class='btn-grid btn-xs BtnVerInfo' type='button' title='Ver datos'><i class='fa fa-lg fa-fw fas fa-eye'></i></button>";

                }
                else {

                    $("#btnSubirInformeTicket").prop('disabled', false);
                    $("#btnSubirFormatoTicket2").prop('disabled', false);
                    $("#btnSaveVitacora").prop('disabled', false);
                    $("#btnAgregarActivity").prop('disabled', false);

                    ValidarStatusActividades();

                }

            }
            else {

                $("#btnCerrarTicket").prop('disabled', true);

                var UserRegister3 = "@User.Identity.Name.ToUpper().ToString()";
                UserRegister3 = UserRegister3.split(',')[2];

                if (myVar.MigrationStatus == 'C') {

                    $("#btnCerrarTicket").prop('disabled', true);
                    $("#btnSubirFormatoTicket2").prop('disabled', true);
                    $("#btnSaveVitacora").prop('disabled', true);
                    $("#btnAgregarActivity").prop('disabled', true);
                    $("#btnSubirInformeTicket").prop('disabled', true);

                    if (UserRegister3 == 1 || UserRegister3 == 2 || UserRegister3 == 10) {

                        ButtonsGridActivity = "<button class='btn-grid btn-xs BtnVerInfo' type='button' title='Ver datos'><i class='fa fa-lg fa-fw fas fa-eye'></i></button>";

                    }
                    else {

                        ButtonsGridActivity = "<button class='btn-grid btn-xs BtnVerInfo' type='button' title='Ver datos'><i class='fa fa-lg fa-fw fas fa-eye'></i></button>";

                    }


                }
                else {

                    $("#btnCerrarTicket").prop('disabled', true);
                    $("#btnSubirFormatoTicket2").prop('disabled', false);
                    $("#btnSaveVitacora").prop('disabled', false);
                    $("#btnAgregarActivity").prop('disabled', false);
                    $("#btnSubirInformeTicket").prop('disabled', false);

                    if (UserRegister3 == 1 || UserRegister3 == 2 || UserRegister3 == 10) {

                        ButtonsGridActivity = "<button class='btn-grid btn-xs BtnVerInfo' type='button' title='Ver datos'><i class='fa fa-lg fa-fw fas fa-eye'></i></button>" + " " +
                            "<button class='btn-grid btn-xs BtnEdit' type='button' title='Editar'><i class='fa fa-lg fa-fw fas fa-edit'></i></button>";

                    } else {

                        ButtonsGridActivity = "<button class='btn-grid btn-xs BtnVerInfo' type='button' title='Ver datos'><i class='fa fa-lg fa-fw fas fa-eye'></i></button>";

                    }

                }

            }*@
         }

        ListadoDescripcionVitacora(NroTicketActivity);
        GrillaListadoActividadAlertas();
        GrillaListadoArchivoTicket();

        $('#ModalTicketEdit').modal('show');

    });

    $("#LstTicketsCriticidadBaja").delegate(".BtnVerTicketBaja", "click", function (e) {

        var grid = $("#LstTicketsCriticidadBaja").data("kendoGrid");
        var myVar = grid.dataItem($(this).closest("tr"));

        var UserLogIn = "@User.Identity.Name.ToUpper().ToString()";
         UserLogIn = UserLogIn.split(',')[0];

         var UserProfile = "@User.Identity.Name.ToUpper().ToString()";
         UserProfile = UserProfile.split(',')[2];

         var usuarioTicketName = "@User.Identity.Name.ToUpper().ToString()";
        usuarioTicketName = usuarioTicketName.split(',')[4];

        IdTicketLst = myVar.IdTicket;

        NroTicket = 0;
        FechaRegistroTicket = "";
        CallTicket = "";
        RegisterTicket = "";
        ResponsibleTicket = "";
        OperacionTicket = "";
        RazonTicket = "";
        LocationTicket = "";
        CriticidadTicket = "";
        DetalleTicket = "";

        NroTicketActivity = myVar.NroTicket;
        NroTicket = myVar.NroTicket;
        FechaRegistroTicket = myVar.StartDate;
        CallTicket = myVar.FullNameTicket;
        RegisterTicket = myVar.UsuarioNameTicket;
        ResponsibleTicket = myVar.ResponsibleNameTicket;
        OperacionTicketInform = myVar.OperationName;
        OperacionTicket = myVar.OperationName;
        RazonTicket = myVar.ReasonName;
        LocationTicket = myVar.LocationNameTicket;
        CriticidadTicket = myVar.CriticalityName;
        DetalleTicket = myVar.DetalleText;
        TitleTicketGlobal = myVar.TitleDetalle;

        $("#TitleDetalleTicketMovil").val("");
        $("#lblDetallerTicket").val("");
        $("#selectorTicketLocationComplete").selectpicker('val', "");
        $("#selectorTicketLocationComplete").selectpicker('refresh');

        UserResponsibleId = myVar.ResponsibleId;

        TitleProblemGlobal = myVar.ProblemTicket;
        TitleSolucionGlobal = myVar.SolutionTicket;

        var lblOperacion;
        lblOperacion = document.getElementById("lblOperationTicket");
        lblOperacion.innerHTML = OperacionTicket;

        var lblQuienLlama;
        lblQuienLlama = document.getElementById("lblWhoCallTicket");
        lblQuienLlama.innerHTML = CallTicket;

        var lblQuienRegistra;
        lblQuienRegistra = document.getElementById("lblWhoRegisterTicket");
        lblQuienRegistra.innerHTML = RegisterTicket;

        var lblResponsable;
        lblResponsable = document.getElementById("lblResponsibleTicket");
        lblResponsable.innerHTML = ResponsibleTicket;

        var lblRason;
        lblRason = document.getElementById("lblReasonTicket");
        lblRason.innerHTML = RazonTicket;

        var lblCriticidad;
        lblCriticidad = document.getElementById("lblCritiziedTicket");
        lblCriticidad.innerHTML = CriticidadTicket;

        var lblLocacion;
        lblLocacion = document.getElementById("lblLocationTicket");
        lblLocacion.innerHTML = LocationTicket;

        var lblFechaFin;
        lblFechaFin = document.getElementById("lblEndDateTicket");
        lblFechaFin.innerHTML = FechaRegistroTicket;

        var lblTitleTicket;
        lblTitleTicket = document.getElementById("lblTitleTicket");
        lblTitleTicket.innerHTML = myVar.TitleDetalle;

        var lblTitleTicketMovil;
        var lbltituloMovil = "";

        lblTitleTicketMovil = document.getElementById("TitleDetalleTicketMovil");
        lbltituloMovil = myVar.TitleDetalle;
        lblTitleTicketMovil.innerHTML = lbltituloMovil;

        var lblDescripcion;
        lblDescripcion = document.getElementById("lblDetallerTicket");
        lblDescripcion.innerHTML = DetalleTicket;

        let FechaInicioModificado = document.querySelector("#lblFechaInicioAlertas");
        FechaInicioModificado.innerHTML = "";
        FechaInicioModificado.innerHTML = FechaRegistroTicket;

        var titulo;
        titulo = document.getElementById("lblModelTicketEditAlertas");

        var lblOperacionInforme;
        lblOperacionInforme = document.getElementById("lblOperacionFormatoTicket");
        lblOperacionInforme.innerHTML = OperacionTicket;

        var lblUsuarioTicket;
        lblUsuarioTicket = document.getElementById("lblDeQuienFormatoTicket");
        lblUsuarioTicket.innerHTML = usuarioTicketName;

        if (myVar.MigrationStatus == 'C') {

            titulo.innerHTML = NroTicket + " - " + "<span style='color:green'>COMPLETADO</span>";

        } else if (myVar.MigrationStatus == 'O') {

            titulo.innerHTML = NroTicket + " - " + "<span style='color:blue'>OPERANDO</span>";

        } else {

            titulo.innerHTML = NroTicket + " - " + "<span style='color:#dada27f7'>PENDIENTE</span>";

        }

        if (myVar.TicketTypeStatus == 'MOVIL') {

            /*$("#btnProblemSolution").removeClass("hidden");*/

            FilterPlatMov = 'M';

            if (myVar.ValidationUserOpId == '0') {

                $("#btnValidateTicket").prop('disabled', false);
                $("#chkValidationOperation").prop('disabled', false);
                $("#chkValidationOperation").prop('checked', false).change();


            }
            else {

                $("#btnValidateTicket").prop('disabled', true);
                $("#chkValidationOperation").prop('checked', true).change();
                $("#chkValidationOperation").prop('disabled', true);

            }

            if (myVar.MigrationStatus == 'C') {

                /*$(".btnEditDetailTicket").addClass("hidden");*/
                $("#btnEditDetailTicketID").prop('disabled', true);
                $("#btnCerrarTicket").prop('disabled', true);
                $("#btnProcesandoTicket").removeClass("hidden");
                $("#btnProcesandoTicket").prop('disabled', true);
                $("#btnSubirInformeTicket").prop('disabled', true);
                $("#btnAgregarActivity").prop('disabled', true);
                $(".ContainerRegisterMovil").addClass("hidden");
                $("#btnSaveVitacora").prop('disabled', true);
                $("#btnSubirFormatoTicket2").prop('disabled', true);
                /* $("#btnSaveRegisterMovil").prop('disabled', true);*/
                $("#btnEnviarProblemSolution").prop('disabled', true);

                ButtonsGridActivity = "<button class='btn-grid btn-xs BtnVerInfo' type='button' title='Ver datos'><i class='fa fa-lg fa-fw fas fa-eye'></i></button>";

                $(".ContainerTitlelbl").removeClass("hidden");
                $(".ContainerTitleComplete").addClass("hidden");

                $(".ContainerLocationlbl").removeClass("hidden");
                $(".ContainerLocationComplete").addClass("hidden");

                /*$(".ContainerBtnEditTicketDetails").addClass("hidden");*/

                /*$("#txtProblemticket").prop('disabled', true);*/
                /*$("#txtSolutionticket").prop('disabled', true);*/

                let IdsComponentes = myVar.ComponentIds;

                IdsComponentes = IdsComponentes.split(', ');

                $("#selectorComponente").val(IdsComponentes);
                $("#selectorComponente").prop('disabled', true);
                $("#selectorComponente").selectpicker('refresh');

                $("#txtProblemticket").prop('disabled', true);
                $("#txtSolutionticket").prop('disabled', true);
                $("#btnEnviarProblemSolution").prop('disabled', true);


                document.getElementById("txtProblemticket").value = myVar.ProblemTicket;
                document.getElementById("txtSolutionticket").value = myVar.SolutionTicket;

                $("#lblDetallerTicket").prop('disabled', true);

                /*$("#txtProblemticket").prop('disabled', true);*/
                /*$("#txtSolutionticket").prop('disabled', true);*/

                document.getElementById("lblDetallerTicket").value = "";
                //document.getElementById("txtProblemticket").value = "";
                //document.getElementById("txtSolutionticket").value = "";

                document.getElementById("lblDetallerTicket").value = myVar.DetalleText;
                //document.getElementById("txtProblemticket").value = myVar.ProblemTicket;
                //document.getElementById("txtSolutionticket").value = myVar.SolutionTicket;

                $(".ContainerRegisterMovil").addClass("hidden");

                ButtonsGridFileTicket = "<button class='btn-grid btn-xs BtnDescargarTicket' type='button' title='Ver datos'><i class='fa fa-lg fa-fw fas fa-cloud-download'></i></button>";

            }
            else {

                $("#btnSaveVitacora").prop('disabled', false);

                if (myVar.ComponentIds != '0') {

                    let IdsComponentes = myVar.ComponentIds;

                    IdsComponentes = IdsComponentes.split(', ');

                    $("#selectorComponente").val(IdsComponentes);
                    $("#selectorComponente").prop('disabled', true);
                    $("#selectorComponente").selectpicker('refresh');

                    $("#txtProblemticket").prop('disabled', true);
                    $("#txtSolutionticket").prop('disabled', true);
                    $("#btnEnviarProblemSolution").prop('disabled', true);

                    document.getElementById("txtProblemticket").value = myVar.ProblemTicket;
                    document.getElementById("txtSolutionticket").value = myVar.SolutionTicket;

                }
                else {

                    $("#selectorComponente").val('');
                    $("#selectorComponente").prop('disabled', false);
                    $("#selectorComponente").selectpicker('refresh');

                    $("#txtProblemticket").prop('disabled', false);
                    $("#txtSolutionticket").prop('disabled', false);
                    $("#btnEnviarProblemSolution").prop('disabled', false);

                    document.getElementById("txtProblemticket").value = "";
                    document.getElementById("txtSolutionticket").value = "";

                }

                if (UserLogIn == 1 || UserProfile == 10 || UserLogIn == myVar.WhoCallId) {

                    $("#btnCerrarTicket").prop('disabled', false);
                    $("#btnProcesandoTicket").removeClass("hidden");
                    /* $(".btnEditDetailTicket").removeClass("hidden");*/
                   /* $("#btnEditDetailTicketID").prop('disabled', false);*/

                    if (myVar.MigrationStatus == 'O') {
                        $("#btnProcesandoTicket").prop('disabled', true);
                    } else {
                        $("#btnProcesandoTicket").prop('disabled', false);
                    }

                    $("#btnSubirFormatoTicket2").prop('disabled', false);

                    $("#btnSubirInformeTicket").prop('disabled', false);

                    $("#btnAgregarActivity").prop('disabled', false);



                    if (myVar.TitleDetalle == "" && myVar.LocationNameTicket == undefined) {

                        $(".ContainerTitleComplete").removeClass("hidden");
                        $(".ContainerTitlelbl").addClass("hidden");

                        //$("#lblDetallerTicket").val("");
                        //$("#TitleDetalleTicketMovil").val("");

                        $("#lblDetallerTicket").prop('disabled', false);

                        $(".ContainerLocationComplete").removeClass("hidden");
                        $(".ContainerLocationlbl").addClass("hidden");
                        $("#btnEditDetailTicketID").prop('disabled', false);
                        /*$(".btnEditDetailTicket").removeClass("hidden");*/
                    }
                    else {

                        $(".ContainerTitleComplete").addClass("hidden");
                        $(".ContainerTitlelbl").removeClass("hidden");
                        $("#btnEditDetailTicketID").prop('disabled', true);
                        /*  $("#lblDetallerTicket").prop('disabled', true);*/
                        /*   $(".btnEditDetailTicket").addClass("hidden");*/
                        $(".ContainerLocationComplete").addClass("hidden");
                        $(".ContainerLocationlbl").removeClass("hidden");
                    }

                    if (myVar.DetalleText != "") {

                        $("#lblDetallerTicket").prop('disabled', false);
                        $("#lblDetallerTicket").val(DetalleTicket);
                        $("#lblDetallerTicket").prop('disabled', true);

                    } else {
                        $("#lblDetallerTicket").prop('disabled', false);
                        $("#btnEditDetailTicketID").prop('disabled', false);
                    }

                    ButtonsGridFileTicket = "<button class='btn-grid btn-xs BtnEditTicket' type='button' title='Ver datos'><i class='fa fa-lg fa-fw fas fa-edit'></i></button>" + " " +
                        "<button class='btn-grid btn-xs BtnDescargarTicket' type='button' title='Ver datos'><i class='fa fa-lg fa-fw fas fa-cloud-download'></i></button>"
                        + " " + "<button class='btn-grid btn-xs BtnDeleteTicket' type='button' title='Ver datos'><i class='fa fa-trash-o fa-lg'></i></button>";

                    ButtonsGridActivity = "<button class='btn-grid btn-xs BtnVerInfo' type='button' title='Ver datos'><i class='fa fa-lg fa-fw fas fa-eye'></i></button>" + " " +
                        "<button class='btn-grid btn-xs BtnEdit' type='button' title='Editar'><i class='fa fa-lg fa-fw fas fa-edit'></i></button>";

                }
                else {
                    /*          $(".btnEditDetailTicket").addClass("hidden");*/

                    $(".ContainerTitlelbl").removeClass("hidden");
                    $(".ContainerTitleComplete").addClass("hidden");

                    $(".ContainerLocationlbl").removeClass("hidden");
                    $(".ContainerLocationComplete").addClass("hidden");

                    $("#btnCerrarTicket").prop('disabled', true);
                    $("#btnEditDetailTicketID").prop('disabled', true);
                    $("#btnEnviarProblemSolution").prop('disabled', true);

                    $("#btnSubirFormatoTicket2").prop('disabled', true);
                    $("#btnSubirInformeTicket").prop('disabled', true);
                    $("#btnAgregarActivity").prop('disabled', true);

                    /*$("#txtProblemticket").prop('disabled', true);*/
                    /*$("#txtSolutionticket").prop('disabled', true);*/

                    $("#btnValidateTicket").prop('disabled', true);

                    $("#chkValidationOperation").prop('disabled', true);
                    $("#btnProcesandoTicket").prop('disabled', true);

                    ButtonsGridFileTicket = "<button class='btn-grid btn-xs BtnDescargarTicket' type='button' title='Ver datos'><i class='fa fa-lg fa-fw fas fa-cloud-download'></i></button>";

                    ButtonsGridActivity = "<button class='btn-grid btn-xs BtnVerInfo' type='button' title='Ver datos'><i class='fa fa-lg fa-fw fas fa-eye'></i></button>";

                }

                ValidarStatusActividades();

            }

        }
        else if (myVar.TicketTypeStatus == 'PLATAFORMA') {

            /*  $(".btnEditDetailTicket").addClass("hidden");*/
            $("#btnEditDetailTicketID").prop('disabled', true);
            $(".ContainerTitlelbl").removeClass("hidden");
            $(".ContainerTitleComplete").addClass("hidden");

            $(".ContainerLocationlbl").removeClass("hidden");
            $(".ContainerLocationComplete").addClass("hidden")

            $("#lblDetallerTicket").prop('disabled', true);

            /* $(".ContainerBtnEditTicketDetails").addClass("hidden");*/

            /* $("#btnProblemSolution").addClass("hidden");*/

            $(".Container3WS").removeClass("hidden");

            FilterPlatMov = 'P';

            if (myVar.MigrationStatus == 'O') {
                $("#btnProcesandoTicket").prop('disabled', true);
            }
            else {
                $("#btnProcesandoTicket").prop('disabled', false);
            }

            if (myVar.ValidationUserOpId == '0') {

                $("#btnValidateTicket").prop('disabled', false);
                $("#chkValidationOperation").prop('disabled', false);
                $("#chkValidationOperation").prop('checked', false).change();


            }
            else {

                $("#btnValidateTicket").prop('disabled', true);
                $("#chkValidationOperation").prop('checked', true).change();
                $("#chkValidationOperation").prop('disabled', true);

            }

            if (myVar.DetalleText != "") {

                $("#lblDetallerTicket").prop('disabled', false);
                $("#lblDetallerTicket").val(DetalleTicket);
                $("#lblDetallerTicket").prop('disabled', true);

            }

            if (myVar.MigrationStatus == 'C') {

                $("#btnCerrarTicket").prop('disabled', true);
                $("#btnSubirFormatoTicket2").prop('disabled', true);
                $("#btnSaveVitacora").prop('disabled', true);
                $("#btnAgregarActivity").prop('disabled', true);
                $("#btnSubirInformeTicket").prop('disabled', true);
                $("#txtVitacoraTextSend").prop('disabled', true);
                $("#btnProcesandoTicket").prop('disabled', true);
                $("#chkValidationOperation").prop('disabled', true);
                $("#btnValidateTicket").prop('disabled', true);

                ButtonsGridActivity = "<button class='btn-grid btn-xs BtnVerInfo' type='button' title='Ver datos'><i class='fa fa-lg fa-fw fas fa-eye'></i></button>";
                ButtonsGridFileTicket = "<button class='btn-grid btn-xs BtnDescargarTicket' type='button' title='Ver datos'><i class='fa fa-lg fa-fw fas fa-cloud-download'></i></button>";

                let IdsComponentes = myVar.ComponentIds;

                IdsComponentes = IdsComponentes.split(', ');

                $("#selectorComponente").val(IdsComponentes);
                $("#selectorComponente").prop('disabled', true);
                $("#selectorComponente").selectpicker('refresh');

                $("#txtProblemticket").prop('disabled', true);
                $("#txtSolutionticket").prop('disabled', true);
                $("#btnEnviarProblemSolution").prop('disabled', true);


                document.getElementById("txtProblemticket").value = myVar.ProblemTicket;
                document.getElementById("txtSolutionticket").value = myVar.SolutionTicket;

            } else {

                if (myVar.ComponentIds != '0') {

                    let IdsComponentes = myVar.ComponentIds;

                    IdsComponentes = IdsComponentes.split(', ');

                    $("#selectorComponente").val(IdsComponentes);
                    $("#selectorComponente").prop('disabled', true);
                    $("#selectorComponente").selectpicker('refresh');

                    $("#txtProblemticket").prop('disabled', true);
                    $("#txtSolutionticket").prop('disabled', true);
                    $("#btnEnviarProblemSolution").prop('disabled', true);

                    document.getElementById("txtProblemticket").value = myVar.ProblemTicket;
                    document.getElementById("txtSolutionticket").value = myVar.SolutionTicket;

                } else {

                    $("#selectorComponente").val('');
                    $("#selectorComponente").prop('disabled', false);
                    $("#selectorComponente").selectpicker('refresh');


                    $("#txtProblemticket").prop('disabled', false);
                    $("#txtSolutionticket").prop('disabled', false);
                    $("#btnEnviarProblemSolution").prop('disabled', false);

                    document.getElementById("txtProblemticket").value = "";
                    document.getElementById("txtSolutionticket").value = "";

                }

                if (UserLogIn == 1 || UserProfile == 10 || UserLogIn == myVar.WhoCallId) {

                    $("#btnSubirInformeTicket").prop('disabled', false);
                    $("#btnSubirFormatoTicket2").prop('disabled', false);
                    $("#btnSaveVitacora").prop('disabled', false);
                    $("#btnAgregarActivity").prop('disabled', false);
                    $("#txtVitacoraTextSend").prop('disabled', false);

                    ButtonsGridActivity = "<button class='btn-grid btn-xs BtnVerInfo' type='button' title='Ver datos'><i class='fa fa-lg fa-fw fas fa-eye'></i></button>" + " " +
                        "<button class='btn-grid btn-xs BtnEdit' type='button' title='Editar'><i class='fa fa-lg fa-fw fas fa-edit'></i></button>";

                    ButtonsGridFileTicket = "<button class='btn-grid btn-xs BtnEditTicket' type='button' title='Ver datos'><i class='fa fa-lg fa-fw fas fa-edit'></i></button>" + " " +
                        "<button class='btn-grid btn-xs BtnDescargarTicket' type='button' title='Ver datos'><i class='fa fa-lg fa-fw fas fa-cloud-download'></i></button>"
                        + " " + "<button class='btn-grid btn-xs BtnDeleteTicket' type='button' title='Ver datos'><i class='fa fa-trash-o fa-lg'></i></button>";

                } else {

                    $("#btnCerrarTicket").prop('disabled', true);
                    $("#btnSubirFormatoTicket2").prop('disabled', true);
                    $("#btnSaveVitacora").prop('disabled', false);
                    $("#btnAgregarActivity").prop('disabled', true);
                    $("#btnSubirInformeTicket").prop('disabled', true);
                    $("#txtVitacoraTextSend").prop('disabled', false);
                    $("#chkValidationOperation").prop('disabled', true);
                    $("#btnValidateTicket").prop('disabled', true);
                    $("#btnEditDetailTicketID").prop('disabled', true);
                    $("#btnEnviarProblemSolution").prop('disabled', true);

                    ButtonsGridActivity = "<button class='btn-grid btn-xs BtnVerInfo' type='button' title='Ver datos'><i class='fa fa-lg fa-fw fas fa-eye'></i></button>";
                    ButtonsGridFileTicket = "<button class='btn-grid btn-xs BtnDescargarTicket' type='button' title='Ver datos'><i class='fa fa-lg fa-fw fas fa-cloud-download'></i></button>";
                }

                ValidarStatusActividades();

            }

            @*if (UserRegister2 == UserResponsibleId || UserRegister == 10) {

                if (myVar.MigrationStatus == 'C') {

                    $("#btnCerrarTicket").prop('disabled', true);
                    $("#btnSubirFormatoTicket2").prop('disabled', true);
                    $("#btnSaveVitacora").prop('disabled', true);
                    $("#btnAgregarActivity").prop('disabled', true);
                    $("#btnSubirInformeTicket").prop('disabled', true);

                    ButtonsGridActivity = "<button class='btn-grid btn-xs BtnVerInfo' type='button' title='Ver datos'><i class='fa fa-lg fa-fw fas fa-eye'></i></button>";

                }
                else {

                    $("#btnSubirInformeTicket").prop('disabled', false);
                    $("#btnSubirFormatoTicket2").prop('disabled', false);
                    $("#btnSaveVitacora").prop('disabled', false);
                    $("#btnAgregarActivity").prop('disabled', false);

                    ValidarStatusActividades();

                }

            }
            else {

                $("#btnCerrarTicket").prop('disabled', true);

                var UserRegister3 = "@User.Identity.Name.ToUpper().ToString()";
                UserRegister3 = UserRegister3.split(',')[2];

                if (myVar.MigrationStatus == 'C') {

                    $("#btnCerrarTicket").prop('disabled', true);
                    $("#btnSubirFormatoTicket2").prop('disabled', true);
                    $("#btnSaveVitacora").prop('disabled', true);
                    $("#btnAgregarActivity").prop('disabled', true);
                    $("#btnSubirInformeTicket").prop('disabled', true);

                    if (UserRegister3 == 1 || UserRegister3 == 2 || UserRegister3 == 10) {

                        ButtonsGridActivity = "<button class='btn-grid btn-xs BtnVerInfo' type='button' title='Ver datos'><i class='fa fa-lg fa-fw fas fa-eye'></i></button>";

                    }
                    else {

                        ButtonsGridActivity = "<button class='btn-grid btn-xs BtnVerInfo' type='button' title='Ver datos'><i class='fa fa-lg fa-fw fas fa-eye'></i></button>";

                    }


                }
                else {

                    $("#btnCerrarTicket").prop('disabled', true);
                    $("#btnSubirFormatoTicket2").prop('disabled', false);
                    $("#btnSaveVitacora").prop('disabled', false);
                    $("#btnAgregarActivity").prop('disabled', false);
                    $("#btnSubirInformeTicket").prop('disabled', false);

                    if (UserRegister3 == 1 || UserRegister3 == 2 || UserRegister3 == 10) {

                        ButtonsGridActivity = "<button class='btn-grid btn-xs BtnVerInfo' type='button' title='Ver datos'><i class='fa fa-lg fa-fw fas fa-eye'></i></button>" + " " +
                            "<button class='btn-grid btn-xs BtnEdit' type='button' title='Editar'><i class='fa fa-lg fa-fw fas fa-edit'></i></button>";

                    } else {

                        ButtonsGridActivity = "<button class='btn-grid btn-xs BtnVerInfo' type='button' title='Ver datos'><i class='fa fa-lg fa-fw fas fa-eye'></i></button>";

                    }

                }

            }*@
         }

        ListadoDescripcionVitacora(NroTicketActivity);
        GrillaListadoActividadAlertas();
        GrillaListadoArchivoTicket();

        $('#ModalTicketEdit').modal('show');

    });

    /*--------------------- ADICIONAL DE SEPARACION POR TIPO DE TICKET ------------------*/

    $('input[type=radio][name=rdoRadioCategory]').change(function (e) {

          if (e.target.id == 'rdoEventoFalla') {

              ValueFilterTicket = 'E';

              document.getElementById("lblTitleTicketCategoria").innerHTML = "<strong><span style='color:red'>EVENTO FALLA: </span></strong>";

              $("#selectorTicketEvento").val('E').change();

              GrillaListadoBusqueda();
              ComboTicket();
              GrillaListadoActividadExpiration();
              GrillaListarActividadesCompletas();
              GrillaListadoBuscarUsuario();
              ListarActiviadesTodas();
              GrillaListadoAltaTicket();
              GrillaListadoAltaCACriticidadTicket();
              GrillaListadoMediaTicket();
              GrillaListadoMediaCACriticidadTicket();
              GrillaListadoBajaTicket();
              GrillaListadoBajaCACriticidadTicket();
              listadoTicketsXOperacion('1');
              listadoActividadesXTicket('1');
              listadoTicketXActividad('1');
              listadoActividadesXUsuario('1');

          } else if (e.target.id == 'rdoRequerimiento') {

              ValueFilterTicket = 'R';

              document.getElementById("lblTitleTicketCategoria").innerHTML = "<strong><span style='color:red'>REQUERIMIENTO: </span></strong>";

              $("#selectorTicketEvento").val('R').change();


              GrillaListadoBusqueda();
              ComboTicket();
              GrillaListadoActividadExpiration();
              GrillaListarActividadesCompletas();
              GrillaListadoBuscarUsuario();
              ListarActiviadesTodas();
              GrillaListadoAltaTicket();
              GrillaListadoAltaCACriticidadTicket();
              GrillaListadoMediaTicket();
              GrillaListadoMediaCACriticidadTicket();
              GrillaListadoBajaTicket();
              GrillaListadoBajaCACriticidadTicket();
              listadoTicketsXOperacion('1');
              listadoActividadesXTicket('1');
              listadoTicketXActividad('1');
              listadoActividadesXUsuario('1');

          } else if (e.target.id == 'rdoProyecto') {

              ValueFilterTicket = 'P';

              document.getElementById("lblTitleTicketCategoria").innerHTML =  "<strong><span style='color:red'>NUEVO PROYECTO: </span></strong>";

              $("#selectorTicketEvento").val('P').change();

              GrillaListadoBusqueda();
              ComboTicket();
              GrillaListadoActividadExpiration();
              GrillaListarActividadesCompletas();
              GrillaListadoBuscarUsuario();
              ListarActiviadesTodas();
              GrillaListadoAltaTicket();
              GrillaListadoAltaCACriticidadTicket();
              GrillaListadoMediaTicket();
              GrillaListadoMediaCACriticidadTicket();
              GrillaListadoBajaTicket();
              GrillaListadoBajaCACriticidadTicket();
              listadoTicketsXOperacion('1');
              listadoActividadesXTicket('1');
              listadoTicketXActividad('1');
              listadoActividadesXUsuario('1');
          }

     });

    $('#chkFallaSistema').change(function () {

       $("#CargaTemporal").removeClass("hidden");

       if (document.getElementById('chkFallaSistema').checked == true) {

           $("#chkNuevoProyecto").prop('checked', false).change();
           $("#chkRequerimiento").prop('checked', false).change();


           ValueFilterTicket = 'E';

           document.getElementById("lblTitleTicketCategoria").innerHTML = "<strong><span style='color:red'>FALLA SISTEMA: </span></strong>";

           $("#selectorTicketEvento").val('E').change();

           GrillaListadoBusqueda();
           ComboTicket();
           GrillaListadoActividadExpiration();
           GrillaListarActividadesCompletas();
           GrillaListadoBuscarUsuario();
           ListarActiviadesTodas();
           GrillaListadoAltaTicket();
           GrillaListadoAltaCACriticidadTicket();
           GrillaListadoMediaTicket();
           GrillaListadoMediaCACriticidadTicket();
           GrillaListadoBajaTicket();
           GrillaListadoBajaCACriticidadTicket();
           listadoTicketsXOperacion('1');
           listadoActividadesXTicket('1');
           listadoTicketXActividad('1');
           listadoActividadesXUsuario('1');

       } else {



       }

       $("#CargaTemporal").addClass("hidden");
    });

    $('#chkNuevoProyecto').change(function () {

        $("#CargaTemporal").removeClass("hidden");

        if (document.getElementById('chkNuevoProyecto').checked == true) {

            $("#chkFallaSistema").prop('checked', false).change();
            $("#chkRequerimiento").prop('checked', false).change();

            ValueFilterTicket = 'P';

            document.getElementById("lblTitleTicketCategoria").innerHTML =  "<strong><span style='color:red'>NUEVO PROYECTO: </span></strong>";


            $("#selectorTicketEvento").val('P').change();


            GrillaListadoBusqueda();
            ComboTicket();
            GrillaListadoActividadExpiration();
            GrillaListarActividadesCompletas();
            GrillaListadoBuscarUsuario();
            ListarActiviadesTodas();
            GrillaListadoAltaTicket();
            GrillaListadoAltaCACriticidadTicket();
            GrillaListadoMediaTicket();
            GrillaListadoMediaCACriticidadTicket();
            GrillaListadoBajaTicket();
            GrillaListadoBajaCACriticidadTicket();
            listadoTicketsXOperacion('1');
            listadoActividadesXTicket('1');
            listadoTicketXActividad('1');
            listadoActividadesXUsuario('1');

        } else {



        }

        $("#CargaTemporal").addClass("hidden");
    });

    $('#chkRequerimiento').change(function () {

        $("#CargaTemporal").removeClass("hidden");

        if (document.getElementById('chkRequerimiento').checked == true) {

            $("#chkNuevoProyecto").prop('checked', false).change();
            $("#chkFallaSistema").prop('checked', false).change();

            ValueFilterTicket = 'R';

            document.getElementById("lblTitleTicketCategoria").innerHTML = "<strong><span style='color:red'>REQUERIMIENTO: </span></strong>";

            $("#selectorTicketEvento").val('R').change();

            GrillaListadoBusqueda();
            ComboTicket();
            GrillaListadoActividadExpiration();
            GrillaListarActividadesCompletas();
            GrillaListadoBuscarUsuario();
            ListarActiviadesTodas();
            GrillaListadoAltaTicket();
            GrillaListadoAltaCACriticidadTicket();
            GrillaListadoMediaTicket();
            GrillaListadoMediaCACriticidadTicket();
            GrillaListadoBajaTicket();
            GrillaListadoBajaCACriticidadTicket();
            listadoTicketsXOperacion('1');
            listadoActividadesXTicket('1');
            listadoTicketXActividad('1');
            listadoActividadesXUsuario('1');

        } else {



        }

         $("#CargaTemporal").addClass("hidden");
    });

    $("#BtnFallaSistema").click(function () {

         var element = document.getElementById('BtnFallaSistema');
         //element.class = 'BtnEventoClick';
         element.style.background = '#00b1fc';
         element.style.color = '#fff';
         element.style.boxShadow = '5px 5px 5px 1px rgba(0,0,0,0.6)';

         var element2 = document.getElementById('BtnNuevoProyecto');
         //element.class = 'BtnEventoClick';
         element2.style.background = '#e2e2e2';
         element2.style.color = 'black';
         element2.style.boxShadow = '0px 0px 0px 0px rgba(0,0,0,0)';

         var element3 = document.getElementById('BtnRequerimiento');
         //element.class = 'BtnEventoClick';
         element3.style.background = '#e2e2e2';
         element3.style.color = 'black';
         element3.style.boxShadow = '0px 0px 0px 0px rgba(0,0,0,0)';

         var element4 = document.getElementById('BtnMantenimientoProgramado');
         //element.class = 'BtnEventoClick';
         element4.style.background = '#e2e2e2';
         element4.style.color = 'black';
         element4.style.boxShadow = '0px 0px 0px 0px rgba(0,0,0,0)';

         ValueFilterTicket = 'E';

         document.getElementById("lblTitleTicketCategoria").innerHTML = "<strong><span style='color:red'>FALLA SISTEMA: </span></strong>";

         $("#selectorTicketEvento").val('E').change();

        /*-------- REPORTE ------*/
        var IdsReponsibleTable = "";

        var TextResponsible = "";

        TextResponsible = $("#selectorResponsible").val();

        if (TextResponsible == '' || TextResponsible == null) {

            IdsReponsibleTable = '0'

        } else {

            IdsReponsibleTable = TextResponsible;
            IdsReponsibleTable = IdsReponsibleTable.toString();

        }
        /*----------------------*/

        BuscadorPrincipal = '2';

         GrillaListadoBusqueda();
         ComboTicket();
         GrillaListadoActividadExpiration();
         GrillaListarActividadesCompletas();
         GrillaListadoBuscarUsuario();
         ListarActiviadesTodas();
         GrillaListadoAltaTicket();
         GrillaListadoAltaCACriticidadTicket();
         GrillaListadoMediaTicket();
         GrillaListadoMediaCACriticidadTicket();
         GrillaListadoBajaTicket();
         GrillaListadoBajaCACriticidadTicket();
         listadoTicketsXOperacion('1');
         listadoActividadesXTicket('1');
         listadoTicketXActividad('1');
         listadoActividadesXUsuario('1');
         ListadoTablaTicketYResponsable(StatusTicketRadio, IdsReponsibleTable);
         ListadoTablaActivityByResponsible();
    });

    $("#BtnMantenimientoProgramado").click(function () {

        var element = document.getElementById('BtnMantenimientoProgramado');
        //element.class = 'BtnEventoClick';
        element.style.background = '#00b1fc';
        element.style.color = '#fff';
        element.style.boxShadow = '5px 5px 5px 1px rgba(0,0,0,0.6)';

        var element2 = document.getElementById('BtnNuevoProyecto');
        //element.class = 'BtnEventoClick';
        element2.style.background = '#e2e2e2';
        element2.style.color = 'black';
        element2.style.boxShadow = '0px 0px 0px 0px rgba(0,0,0,0)';

        var element3 = document.getElementById('BtnRequerimiento');
        //element.class = 'BtnEventoClick';
        element3.style.background = '#e2e2e2';
        element3.style.color = 'black';
        element3.style.boxShadow = '0px 0px 0px 0px rgba(0,0,0,0)';

        var element4 = document.getElementById('BtnFallaSistema');
        //element.class = 'BtnEventoClick';
        element4.style.background = '#e2e2e2';
        element4.style.color = 'black';
        element4.style.boxShadow = '0px 0px 0px 0px rgba(0,0,0,0)';

        ValueFilterTicket = 'M';

        document.getElementById("lblTitleTicketCategoria").innerHTML = "<strong><span style='color:red'>MANT. PROGRAMADO: </span></strong>";

        $("#selectorTicketEvento").val('E').change();

        /*-------- REPORTE ------*/
        var IdsReponsibleTable = "";

        var TextResponsible = "";

        TextResponsible = $("#selectorResponsible").val();

        if (TextResponsible == '' || TextResponsible == null) {

            IdsReponsibleTable = '0'

        } else {

            IdsReponsibleTable = TextResponsible;
            IdsReponsibleTable = IdsReponsibleTable.toString();

        }
        /*----------------------*/

        BuscadorPrincipal = '2';

        GrillaListadoBusqueda();
        ComboTicket();
        GrillaListadoActividadExpiration();
        GrillaListarActividadesCompletas();
        GrillaListadoBuscarUsuario();
        ListarActiviadesTodas();
        GrillaListadoAltaTicket();
        GrillaListadoAltaCACriticidadTicket();
        GrillaListadoMediaTicket();
        GrillaListadoMediaCACriticidadTicket();
        GrillaListadoBajaTicket();
        GrillaListadoBajaCACriticidadTicket();
        listadoTicketsXOperacion('1');
        listadoActividadesXTicket('1');
        listadoTicketXActividad('1');
        listadoActividadesXUsuario('1');
        ListadoTablaTicketYResponsable(StatusTicketRadio, IdsReponsibleTable);
        ListadoTablaActivityByResponsible();
    });

    $("#BtnNuevoProyecto").click(function () {

         var element = document.getElementById('BtnNuevoProyecto');
         //element.class = 'BtnEventoClick';
         element.style.background = '#00b1fc';
         element.style.color = '#fff';
         element.style.boxShadow = '5px 5px 5px 1px rgba(0,0,0,0.6)';

         var element2 = document.getElementById('BtnFallaSistema');
         //element.class = 'BtnEventoClick';
         element2.style.background = '#e2e2e2';
         element2.style.color = 'black';
         element2.style.boxShadow = '0px 0px 0px 0px rgba(0,0,0,0)';

         var element3 = document.getElementById('BtnRequerimiento');
         //element.class = 'BtnEventoClick';
         element3.style.background = '#e2e2e2';
         element3.style.color = 'black';
         element3.style.boxShadow = '0px 0px 0px 0px rgba(0,0,0,0)';

         var element4 = document.getElementById('BtnMantenimientoProgramado');
         //element.class = 'BtnEventoClick';
         element4.style.background = '#e2e2e2';
         element4.style.color = 'black';
         element4.style.boxShadow = '0px 0px 0px 0px rgba(0,0,0,0)';

         ValueFilterTicket = 'P';

         document.getElementById("lblTitleTicketCategoria").innerHTML =  "<strong><span style='color:red'>NUEVO PROYECTO: </span></strong>";


         $("#selectorTicketEvento").val('P').change();

        /*-------- REPORTE ------*/
        var IdsReponsibleTable = "";

        var TextResponsible = "";

        TextResponsible = $("#selectorResponsible").val();

        if (TextResponsible == '' || TextResponsible == null) {

            IdsReponsibleTable = '0'

        } else {

            IdsReponsibleTable = TextResponsible;
            IdsReponsibleTable = IdsReponsibleTable.toString();

        }
        /*----------------------*/
        BuscadorPrincipal = '2';

         GrillaListadoBusqueda();
         ComboTicket();
         GrillaListadoActividadExpiration();
         GrillaListarActividadesCompletas();
         GrillaListadoBuscarUsuario();
         ListarActiviadesTodas();
         GrillaListadoAltaTicket();
         GrillaListadoAltaCACriticidadTicket();
         GrillaListadoMediaTicket();
         GrillaListadoMediaCACriticidadTicket();
         GrillaListadoBajaTicket();
         GrillaListadoBajaCACriticidadTicket();
         listadoTicketsXOperacion('1');
         listadoActividadesXTicket('1');
         listadoTicketXActividad('1');
         listadoActividadesXUsuario('1');
         ListadoTablaTicketYResponsable(StatusTicketRadio, IdsReponsibleTable);
         ListadoTablaActivityByResponsible();
    });

    $("#BtnRequerimiento").click(function () {

         var element = document.getElementById('BtnRequerimiento');
         //element.class = 'BtnEventoClick';
         element.style.background = '#00b1fc';
         element.style.color = '#fff';
         element.style.boxShadow = '5px 5px 5px 1px rgba(0,0,0,0.6)';

         var element2 = document.getElementById('BtnNuevoProyecto');
         //element.class = 'BtnEventoClick';
         element2.style.background = '#e2e2e2';
         element2.style.color = 'black';
         element2.style.boxShadow = '0px 0px 0px 0px rgba(0,0,0,0)';

         var element3 = document.getElementById('BtnFallaSistema');
         //element.class = 'BtnEventoClick';
         element3.style.background = '#e2e2e2';
         element3.style.color = 'black';
         element3.style.boxShadow= '0px 0px 0px 0px rgba(0,0,0,0)';

         var element4 = document.getElementById('BtnMantenimientoProgramado');
         //element.class = 'BtnEventoClick';
         element4.style.background = '#e2e2e2';
         element4.style.color = 'black';
         element4.style.boxShadow = '0px 0px 0px 0px rgba(0,0,0,0)';

         ValueFilterTicket = 'R';

         document.getElementById("lblTitleTicketCategoria").innerHTML = "<strong><span style='color:red'>REQUERIMIENTO: </span></strong>";

         $("#selectorTicketEvento").val('R').change();

         /*-------- REPORTE ------*/
         var IdsReponsibleTable = "";

         var TextResponsible = "";

         TextResponsible = $("#selectorResponsible").val();

         if (TextResponsible == '' || TextResponsible == null) {

             IdsReponsibleTable = '0'

         } else {

             IdsReponsibleTable = TextResponsible;
             IdsReponsibleTable = IdsReponsibleTable.toString();

         }
         /*----------------------*/
         BuscadorPrincipal = '2';

         GrillaListadoBusqueda();
         ComboTicket();
         GrillaListadoActividadExpiration();
         GrillaListarActividadesCompletas();
         GrillaListadoBuscarUsuario();
         ListarActiviadesTodas();
         GrillaListadoAltaTicket();
         GrillaListadoAltaCACriticidadTicket();
         GrillaListadoMediaTicket();
         GrillaListadoMediaCACriticidadTicket();
         GrillaListadoBajaTicket();
         GrillaListadoBajaCACriticidadTicket();
         listadoTicketsXOperacion('1');
         listadoActividadesXTicket('1');
         listadoTicketXActividad('1');
         listadoActividadesXUsuario('1');
         ListadoTablaTicketYResponsable(StatusTicketRadio, IdsReponsibleTable);
         ListadoTablaActivityByResponsible();

     });

    $("#BtnMytickets").click(function () {


        ListadoTablaMyTicket();

        $("#ModalJustMyTickets").modal("show");

    });

    /*---------*/

    $("#btnTicketDiaHoy").click(function () {

        $('#ModalDayTicketNow').modal('show');
    });

    $("#LstTicketsDayOfNow").delegate(".BtnVerTickeToday", "click", function (e) {

        var grid = $("#LstTicketsDayOfNow").data("kendoGrid");
       var myVar = grid.dataItem($(this).closest("tr"));

       var UserRegister = "@User.Identity.Name.ToUpper().ToString()";
       //console.log(UserRegister);
       UserRegister = UserRegister.split(',')[2];

       var UserRegister2 = "@User.Identity.Name.ToUpper().ToString()";
       //console.log(UserRegister);
       UserRegister2 = UserRegister2.split(',')[0];

       IdTicketLst = myVar.IdTicket;

       if (UserRegister == "1" || UserRegister == "2") {

           //console.log('Responsable o Tiassac');

           ButtonsGridActivity = "<button class='btn-grid btn-xs BtnVerInfo' type='button' title='Ver datos'><i class='fa fa-lg fa-fw fas fa-eye'></i></button>" + " " +
                                 "<button class='btn-grid btn-xs BtnEdit' type='button' title='Editar'><i class='fa fa-lg fa-fw fas fa-edit'></i></button>";

           //$("#btnAgregarActivity").prop('disabled', false);

       } else {

           //console.log('Usuario normal');
            //$("#btnAgregarActivity").prop('disabled', true);
            ButtonsGridActivity = "<button class='btn-grid btn-xs BtnVerInfo' type='button' title='Ver datos'><i class='fa fa-lg fa-fw fas fa-eye'></i></button>";

       }

       NroTicket = 0;
       FechaRegistroTicket = "";
       CallTicket = "";
       RegisterTicket = "";
       ResponsibleTicket = "";
       OperacionTicket = "";
       RazonTicket = "";
       LocationTicket = "";
       CriticidadTicket = "";
       DetalleTicket = "";

       NroTicketActivity = myVar.NroTicket;
       NroTicket = myVar.NroTicket;
       FechaRegistroTicket = myVar.StartDate;
       CallTicket = myVar.FullNameTicket;
       RegisterTicket = myVar.UsuarioNameTicket;
       ResponsibleTicket = myVar.ResponsibleNameTicket;
       OperacionTicket = myVar.OperationName;
       RazonTicket = myVar.ReasonName;
       LocationTicket = myVar.LocationNameTicket;
       CriticidadTicket = myVar.CriticalityName;
       DetalleTicket = myVar.DetalleText;

       UserResponsibleId = myVar.ResponsibleId;

       var lblOperacion;
       lblOperacion = document.getElementById("lblOperationTicket");
       lblOperacion.innerHTML = OperacionTicket;

       var lblQuienLlama;
       lblQuienLlama = document.getElementById("lblWhoCallTicket");
       lblQuienLlama.innerHTML = CallTicket;

       var lblQuienRegistra;
       lblQuienRegistra = document.getElementById("lblWhoRegisterTicket");
       lblQuienRegistra.innerHTML = RegisterTicket;

       var lblResponsable;
       lblResponsable = document.getElementById("lblResponsibleTicket");
       lblResponsable.innerHTML = ResponsibleTicket;

       var lblRason;
       lblRason = document.getElementById("lblReasonTicket");
       lblRason.innerHTML = RazonTicket;

       var lblCriticidad;
       lblCriticidad = document.getElementById("lblCritiziedTicket");
       lblCriticidad.innerHTML = CriticidadTicket;

       var lblLocacion;
       lblLocacion = document.getElementById("lblLocationTicket");
       lblLocacion.innerHTML = LocationTicket;

       var lblFechaFin;
       lblFechaFin = document.getElementById("lblEndDateTicket");
       lblFechaFin.innerHTML = FechaRegistroTicket;

       var lblTitleTicket;
       lblTitleTicket = document.getElementById("lblTitleTicket");
       lblTitleTicket.innerHTML = myVar.TitleDetalle;

       var lblDescripcion;
       lblDescripcion = document.getElementById("lblDetallerTicket");
       lblDescripcion.innerHTML = DetalleTicket;

       //document.getElementById("txtNroTicket").value = NroTicket;
       //document.getElementById("txtOperacionTicket").value = OperacionTicket;
       //document.getElementById("txtWhoCall").value = CallTicket;
       //document.getElementById("txtWhoRegister").value = RegisterTicket;
       //document.getElementById("txtWhoResponsible").value = ResponsibleTicket;
       //document.getElementById("txtTicketDate").value = FechaRegistroTicket;
       //document.getElementById("txtRazonTicket").value = RazonTicket;
       //document.getElementById("txtLocationTicket").value = LocationTicket;
       //document.getElementById("lblDetallerTicket").value = DetalleTicket;

       if (CriticidadTicket == 'ALTA') {

           document.getElementById("rdoAltaCriticidad").checked = true;
           document.getElementById("rdoMedioCriticidad").checked = false;
           document.getElementById("rdoBajaCriticidad").checked = false;

       } else if (CriticidadTicket == 'MEDIA') {

           document.getElementById("rdoAltaCriticidad").checked = false;
           document.getElementById("rdoMedioCriticidad").checked = true;
           document.getElementById("rdoBajaCriticidad").checked = false;


       } else if (CriticidadTicket == 'BAJA') {

           document.getElementById("rdoAltaCriticidad").checked = false;
           document.getElementById("rdoMedioCriticidad").checked = false;
           document.getElementById("rdoBajaCriticidad").checked = true;

       }

       let FechaInicioModificado = document.querySelector("#lblFechaInicioAlertas");
       FechaInicioModificado.innerHTML = "";
       FechaInicioModificado.innerHTML = FechaRegistroTicket;

       var titulo;
       titulo = document.getElementById("lblModelTicketEditAlertas");

       if (myVar.MigrationStatus == 'C') {

           titulo.innerHTML = NroTicket + " - " + "<span style='color:green'>COMPLETADO</span>";

       } else {

           titulo.innerHTML = NroTicket + " - " + "<span style='color:#dada27f7'>PENDIENTE</span>";

       }

       //console.log(NroTicket);
       //console.log(FechaRegistroTicket);
       //console.log(EncargadoTicket);
       //console.log(OperacionTicket);
       //console.log(RazonTicket);
       //console.log(CriticidadTicket);
       //console.log(DetalleTicket);

       if (UserRegister2 == UserResponsibleId) {

           if (myVar.MigrationStatus == 'C') {

                $("#btnCerrarTicket").prop('disabled', true);
                $("#btnSubirFormatoTicket").prop('disabled', true);
                $("#btnSaveVitacora").prop('disabled', true);
                $("#btnAgregarActivity").prop('disabled', true);

                ButtonsGridActivity = "<button class='btn-grid btn-xs BtnVerInfo' type='button' title='Ver datos'><i class='fa fa-lg fa-fw fas fa-eye'></i></button>";

           } else {

               ValidarStatusActividades();

           }

       } else {

           $("#btnCerrarTicket").prop('disabled', true);

           var UserRegister3 = "@User.Identity.Name.ToUpper().ToString()";
           //console.log(UserRegister);
           UserRegister3 = UserRegister3.split(',')[2];

           if (myVar.MigrationStatus == 'C') {

                $("#btnCerrarTicket").prop('disabled', true);
                $("#btnSubirFormatoTicket").prop('disabled', true);
                $("#btnSaveVitacora").prop('disabled', true);
                $("#btnAgregarActivity").prop('disabled', true);

                if (UserRegister3 == 1 || UserRegister3 == 2) {

                    ButtonsGridActivity = "<button class='btn-grid btn-xs BtnVerInfo' type='button' title='Ver datos'><i class='fa fa-lg fa-fw fas fa-eye'></i></button>";

                    //$("#btnAgregarActivity").prop('disabled', false);

                } else {

                     ButtonsGridActivity = "<button class='btn-grid btn-xs BtnVerInfo' type='button' title='Ver datos'><i class='fa fa-lg fa-fw fas fa-eye'></i></button>";

                     //$("#btnAgregarActivity").prop('disabled', true);

                }


           } else {

                $("#btnCerrarTicket").prop('disabled', true);
                $("#btnSubirFormatoTicket").prop('disabled', false);
                $("#btnSaveVitacora").prop('disabled', false);
                $("#btnAgregarActivity").prop('disabled', false);

                if (UserRegister3 == 1 || UserRegister3 == 2) {

                    ButtonsGridActivity = "<button class='btn-grid btn-xs BtnVerInfo' type='button' title='Ver datos'><i class='fa fa-lg fa-fw fas fa-eye'></i></button>" + " " +
                    "<button class='btn-grid btn-xs BtnEdit' type='button' title='Editar'><i class='fa fa-lg fa-fw fas fa-edit'></i></button>";

                    //$("#btnAgregarActivity").prop('disabled', false);

                } else {

                    //$("#btnAgregarActivity").prop('disabled', true);

                     ButtonsGridActivity = "<button class='btn-grid btn-xs BtnVerInfo' type='button' title='Ver datos'><i class='fa fa-lg fa-fw fas fa-eye'></i></button>";

                }

           }

       }

       ListadoDescripcionVitacora(NroTicketActivity);
       GrillaListadoActividadAlertas();
       GrillaListadoArchivoTicket();

       $('#ModalTicketEdit').modal('show');

    });

    /*------- ADJUNTAR ARCHIVO ---- CREACION TICKET --------*/

    function SubirArchivoTicket() {

        var fileData = new FormData();
        var fileUpload = $("#flArchivoSubirAdjuntoTicket").get(0);
        var files = fileUpload.files;

        for (var i = 0; i < files.length; i++) {
            fileData.append(files[i].name, files[i]);
        }
        //$("#GrillaArchivos").addClass("hidden");
        //$("#ContenedorTablaAdjuntos").addClass("hidden");
        //$("#ImagenCargaListArchivo").removeClass("hidden");
        //$("#MensajeErrorListArchivo").addClass("hidden");
        //$("#MensajeVacioListArchivo").addClass("hidden");
        //$("#MensajeErrorListarListArchivo").addClass("hidden");

        $.ajax({
            type: "POST",
            url: tRutaServidor + "/PathFile/SubirArchivoTicket?FileType=" + "P" + "&IdRegister=" + 0 + "&TableAbrev=" + "TCK" + "&NombreCarpeta=" + "TicketArchivo" + "&OperacionName=" + 'OPERACION',
            data: fileData,
            contentType: false, // Not to set any content header
            processData: false, // Not to process data
            success: function (resultado) {

                if (resultado.length > 0) {

                    if (resultado[0].ValorConsulta == "1") {

                        $("#flArchivoSubirAdjuntoTicket").filestyle('clear');

                        toastr.options.timeOut = nTiempoMedio;
                        toastr.options.extendedTimeOut = nTiempoMedio;
                        /*success - info - warning - error*/
                        var $toast = toastr["success"](tMensajeCreadoExito, tTituloExito); $toastlast = $toast;

                        //idsPathFileTicketDoc.push(resultado[0].IdPathFile);

                        //if (idsPathFileTicketDoc.length > 4) {
                        document.getElementById('flArchivoSubirAdjuntoTicket').disabled = true;
                        document.getElementById('btnSubirFormatoTicket').disabled = true;

                        idsPathFileTicketDoc = [];
                        arrayArchivosHistoricos = [];

                        EstadoArchivo = "1";

                        GrillaListadoArchivoTicket()
                        //}
                        //ListadoDetalleActividadInforme();
                        //ListadoDetalleActividadInforme();
                        //GrillaArchivosCargados();

                    } else if (resultado[0].ValorConsulta == "102") {
                        toastr.options.timeOut = nTiempoMedio;
                        toastr.options.extendedTimeOut = nTiempoMedio;
                        /*success - info - warning - error*/
                        var $toast = toastr["error"](tValidacionTipoArchivo, tTituloError); $toastlast = $toast;

                        //$("#CargaTemporal").addClass("hidden");
                        //$("#ContenedorTablaAdjuntos").removeClass("hidden");
                        //$("#ImagenCargaListArchivo").addClass("hidden");
                        //$("#MensajeErrorListArchivo").addClass("hidden");
                        //$("#MensajeVacioListArchivo").addClass("hidden");
                        //$("#MensajeErrorListarListArchivo").addClass("hidden");
                        //document.getElementById('btnSubirFormato').disabled = false;

                    } else if (resultado[0].ValorConsulta == "101") {
                        toastr.options.timeOut = nTiempoMedio;
                        toastr.options.extendedTimeOut = nTiempoMedio;
                        /*success - info - warning - error*/
                        var $toast = toastr["error"](tValidacionPesoArchivo, tTituloError); $toastlast = $toast;

                        //$("#CargaTemporal").addClass("hidden");
                        //$("#ContenedorTablaAdjuntos").removeClass("hidden");
                        //$("#ImagenCargaListArchivo").addClass("hidden");
                        //$("#MensajeErrorListArchivo").addClass("hidden");
                        //$("#MensajeVacioListArchivo").addClass("hidden");
                        //$("#MensajeErrorListarListArchivo").addClass("hidden");
                        //document.getElementById('btnSubirFormato').disabled = false;

                    } else {
                        toastr.options.timeOut = nTiempoMedio;
                        toastr.options.extendedTimeOut = nTiempoMedio;
                        /*success - info - warning - error*/
                        var $toast = toastr["error"](tMensajeErrorDesconocido, tTituloError); $toastlast = $toast;
                        console.log("Mensaje del error : " + resultado)
                        //$("#CargaTemporal").addClass("hidden");
                        //$("#ContenedorTablaAdjuntos").removeClass("hidden");
                        //$("#ImagenCargaListArchivo").addClass("hidden");
                        //$("#MensajeErrorListArchivo").addClass("hidden");
                        //$("#MensajeVacioListArchivo").addClass("hidden");
                        //$("#MensajeErrorListarListArchivo").addClass("hidden");
                        //document.getElementById('btnSubirFormato').disabled = false;
                    }
                } else {

                }
                $("#CargaTemporal").addClass("hidden");

            },
            error: function (xhr, ajaxOptions, thrownError) {

                //$("#CargaTemporal").addClass("hidden");
                //$("#ContenedorTablaAdjuntos").removeClass("hidden");
                //$("#ImagenCargaListArchivo").addClass("hidden");
                //$("#MensajeErrorListArchivo").addClass("hidden");
                //$("#MensajeVacioListArchivo").addClass("hidden");
                //$("#MensajeErrorListarListArchivo").addClass("hidden");
                /*fallo al llamar a la funcion ajax*/
                toastr.options.timeOut = nTiempoLargo;
                toastr.options.extendedTimeOut = nTiempoLargo;
                /*success - info - warning - error*/
                var $toast = toastr["error"](tMensajeErrorConexion, tTituloErrorConexion); $toastlast = $toast;
                console.log("ERROR AJAX : " + ajaxOptions);
                console.log("ERROR AJAX : " + thrownError);
                console.log(xhr.responseText);
                console.log(xhr);

            }
        });

    };

    $("#btnSubirFormatoTicket").click(function () {

        if (idsPathFileTicketDoc.length >= 0) {

            if ($('#flArchivoSubirAdjuntoTicket').val() != "") {

                var TamañoArchivo = $("#flArchivoSubirAdjuntoTicket")[0].files[0].size;

                if (TamañoArchivo > 5000000) {
                    toastr.options.timeOut = nTiempoMedio;
                    toastr.options.extendedTimeOut = nTiempoMedio;
                    /*success - info - warning - error*/
                    var $toast = toastr["error"](tValidacionExcedeTamanioArchivoError, tTituloError); $toastlast = $toast;
                    return;
                }

                //Swal.fire({
                //    title: 'Estas seguro de guardar este archivo?',
                //    text: "Ya no podras revertirlo!",
                //    icon: 'warning',
                //    showCancelButton: true,
                //    confirmButtonColor: '#3085d6',
                //    cancelButtonColor: '#d33',
                //    confirmButtonText: 'Si, deseo guardar!'
                //}).then((result) => {
                //    if (result.isConfirmed) {

                SubirArchivoTicket();

                //    } else {



                //    }
                //});

            } else {
                toastr.options.timeOut = nTiempoMedio;
                toastr.options.extendedTimeOut = nTiempoMedio;
                /*success - info - warning - error*/
                var $toast = toastr["error"](tValidacionSeleccionaArchivoError, tTituloError); $toastlast = $toast;
            }
        }
        else {
            toastr.options.timeOut = nTiempoMedio;
            toastr.options.extendedTimeOut = nTiempoMedio;
            /*success - info - warning - error*/
            var $toast = toastr["error"]("Solo se puede ingresar " + "1 archivo.", tTituloError); $toastlast = $toast;
        }
    });

    /*------- ADJUNTAR ARCHIVO ---- LISTADO TICKET --------*/

    function SubirArchivoTicketPanel() {

        var fileData = new FormData();
        var fileUpload = $("#flArchivoSubirAdjuntoTicket2").get(0);
        var files = fileUpload.files;

        for (var i = 0; i < files.length; i++) {
            fileData.append(files[i].name, files[i]);
        }
        //$("#GrillaArchivos").addClass("hidden");
        //$("#ContenedorTablaAdjuntos").addClass("hidden");
        //$("#ImagenCargaListArchivo").removeClass("hidden");
        //$("#MensajeErrorListArchivo").addClass("hidden");
        //$("#MensajeVacioListArchivo").addClass("hidden");
        //$("#MensajeErrorListarListArchivo").addClass("hidden");

        $.ajax({
            type: "POST",
            url: tRutaServidor + "/PathFile/SubirArchivoTicket?FileType=" + "P" + "&IdRegister=" + IdTicketLst + "&TableAbrev=" + "TCK" + "&NombreCarpeta=" + "TicketArchivo" + "&OperacionName=" + OperacionTicketInform,
            data: fileData,
            contentType: false, // Not to set any content header
            processData: false, // Not to process data
            success: function (resultado) {

                if (resultado.length > 0) {

                    if (resultado[0].ValorConsulta == "1") {

                        $("#flArchivoSubirAdjuntoTicket2").filestyle('clear');

                        toastr.options.timeOut = nTiempoMedio;
                        toastr.options.extendedTimeOut = nTiempoMedio;
                        /*success - info - warning - error*/
                        var $toast = toastr["success"](tMensajeCreadoExito, tTituloExito); $toastlast = $toast;

                        //idsPathFileTicketDoc.push(resultado[0].IdPathFile);

                        //if (idsPathFileTicketDoc.length > 4) {
                        idsPathFileTicketDoc = [];
                        arrayArchivosHistoricos = [];


                        GrillaListadoArchivoTicket();
                        ValidarStatusActividades();
                        //}
                        //ListadoDetalleActividadInforme();
                        //ListadoDetalleActividadInforme();
                        //GrillaArchivosCargados();

                    } else if (resultado[0].ValorConsulta == "102") {
                        toastr.options.timeOut = nTiempoMedio;
                        toastr.options.extendedTimeOut = nTiempoMedio;
                        /*success - info - warning - error*/
                        var $toast = toastr["error"](tValidacionTipoArchivo, tTituloError); $toastlast = $toast;

                        //$("#CargaTemporal").addClass("hidden");
                        //$("#ContenedorTablaAdjuntos").removeClass("hidden");
                        //$("#ImagenCargaListArchivo").addClass("hidden");
                        //$("#MensajeErrorListArchivo").addClass("hidden");
                        //$("#MensajeVacioListArchivo").addClass("hidden");
                        //$("#MensajeErrorListarListArchivo").addClass("hidden");
                        //document.getElementById('btnSubirFormato').disabled = false;

                    } else if (resultado[0].ValorConsulta == "101") {
                        toastr.options.timeOut = nTiempoMedio;
                        toastr.options.extendedTimeOut = nTiempoMedio;
                        /*success - info - warning - error*/
                        var $toast = toastr["error"](tValidacionPesoArchivo, tTituloError); $toastlast = $toast;

                        //$("#CargaTemporal").addClass("hidden");
                        //$("#ContenedorTablaAdjuntos").removeClass("hidden");
                        //$("#ImagenCargaListArchivo").addClass("hidden");
                        //$("#MensajeErrorListArchivo").addClass("hidden");
                        //$("#MensajeVacioListArchivo").addClass("hidden");
                        //$("#MensajeErrorListarListArchivo").addClass("hidden");
                        //document.getElementById('btnSubirFormato').disabled = false;

                    } else {
                        toastr.options.timeOut = nTiempoMedio;
                        toastr.options.extendedTimeOut = nTiempoMedio;
                        /*success - info - warning - error*/
                        var $toast = toastr["error"](tMensajeErrorDesconocido, tTituloError); $toastlast = $toast;
                        console.log("Mensaje del error : " + resultado)
                        //$("#CargaTemporal").addClass("hidden");
                        //$("#ContenedorTablaAdjuntos").removeClass("hidden");
                        //$("#ImagenCargaListArchivo").addClass("hidden");
                        //$("#MensajeErrorListArchivo").addClass("hidden");
                        //$("#MensajeVacioListArchivo").addClass("hidden");
                        //$("#MensajeErrorListarListArchivo").addClass("hidden");
                        //document.getElementById('btnSubirFormato').disabled = false;
                    }
                } else {

                }
                $("#CargaTemporal").addClass("hidden");

            },
            error: function (xhr, ajaxOptions, thrownError) {

                //$("#CargaTemporal").addClass("hidden");
                //$("#ContenedorTablaAdjuntos").removeClass("hidden");
                //$("#ImagenCargaListArchivo").addClass("hidden");
                //$("#MensajeErrorListArchivo").addClass("hidden");
                //$("#MensajeVacioListArchivo").addClass("hidden");
                //$("#MensajeErrorListarListArchivo").addClass("hidden");
                /*fallo al llamar a la funcion ajax*/
                toastr.options.timeOut = nTiempoLargo;
                toastr.options.extendedTimeOut = nTiempoLargo;
                /*success - info - warning - error*/
                var $toast = toastr["error"](tMensajeErrorConexion, tTituloErrorConexion); $toastlast = $toast;
                console.log("ERROR AJAX : " + ajaxOptions);
                console.log("ERROR AJAX : " + thrownError);
                console.log(xhr.responseText);
                console.log(xhr);

            }
        });

    };

    $("#btnSubirFormatoTicket2").click(function () {

        if (idsPathFileTicketDocTicket.length >= 0) {

            if ($('#flArchivoSubirAdjuntoTicket2').val() != "") {

                var TamañoArchivo = $("#flArchivoSubirAdjuntoTicket2")[0].files[0].size;

                if (TamañoArchivo > 5000000) {
                    toastr.options.timeOut = nTiempoMedio;
                    toastr.options.extendedTimeOut = nTiempoMedio;
                    /*success - info - warning - error*/
                    var $toast = toastr["error"](tValidacionExcedeTamanioArchivoError, tTituloError); $toastlast = $toast;
                    return;
                }

                //Swal.fire({
                //    title: 'Estas seguro de guardar este archivo?',
                //    text: "Ya no podras revertirlo!",
                //    icon: 'warning',
                //    showCancelButton: true,
                //    confirmButtonColor: '#3085d6',
                //    cancelButtonColor: '#d33',
                //    confirmButtonText: 'Si, deseo guardar!'
                //}).then((result) => {
                //    if (result.isConfirmed) {

                SubirArchivoTicketPanel();

                //    } else {



                //    }
                //});

            } else {
                toastr.options.timeOut = nTiempoMedio;
                toastr.options.extendedTimeOut = nTiempoMedio;
                /*success - info - warning - error*/
                var $toast = toastr["error"](tValidacionSeleccionaArchivoError, tTituloError); $toastlast = $toast;
            }
        }
        else {
            toastr.options.timeOut = nTiempoMedio;
            toastr.options.extendedTimeOut = nTiempoMedio;
            /*success - info - warning - error*/
            var $toast = toastr["error"]("Solo se puede ingresar " + "1 archivo.", tTituloError); $toastlast = $toast;
        }
    });

    function GrillaListadoArchivoTicket() {

       /* $("#CargaTemporal").removeClass("hidden");*/

        var dataSource = new kendo.data.DataSource({
            transport: {
                read: function (options) {
                    $.ajax({
                        type: "GET",
                        url: tRutaServidor + "/Ticket/ListarArchivoTicket", /* es importante poner los .. delante*/
                        data: {
                            IdTicket: IdTicketLst
                        },
                        dataType: "json",
                        /*async: false,*/
                        success: function (resultado) {
                            /*exitosamente*/
                            if (resultado.length > 0) {
                                /* proceso exitoso con datos*/

                                if (resultado[0].ValorConsulta == "1") {

                                    $("#GrillaLstArchivoTicket").removeClass("hidden");
                                    $("#imgCargaLstArchivoTicket").addClass("hidden");
                                    $("#msjErrorLstArchivoTicket").addClass("hidden");
                                    $("#msjVacioLstArchivoTicket").addClass("hidden");
                                    $("#msjErrorListarLstArchivoTicket").addClass("hidden");
                                    $("#msjSuperaLimiteLstArchivoTicket").addClass("hidden");

                                    $("#CargaTemporal").addClass("hidden");

                                } else if (resultado[0].ValorConsulta == "-1") {

                                    $("#GrillaLstArchivoTicket").addClass("hidden");
                                    $("#imgCargaLstArchivoTicket").addClass("hidden");
                                    $("#msjErrorLstArchivoTicket").addClass("hidden");
                                    $("#msjVacioLstArchivoTicket").addClass("hidden");
                                    $("#msjErrorListarLstArchivoTicket").addClass("hidden");
                                    $("#msjSuperaLimiteLstArchivoTicket").removeClass("hidden");

                                }
                                else {
                                    /* proceso fallido catch listado datos*/
                                    $("#GrillaLstArchivoTicket").addClass("hidden");
                                    $("#imgCargaLstArchivoTicket").addClass("hidden");
                                    $("#msjErrorLstArchivoTicket").addClass("hidden");
                                    $("#msjVacioLstArchivoTicket").addClass("hidden");
                                    $("#msjErrorListarLstArchivoTicket").removeClass("hidden");
                                    $("#msjSuperaLimiteLstArchivoTicket").addClass("hidden");

                                    console.log(resultado);
                                }

                            } else {
                                $("#GrillaLstArchivoTicket").addClass("hidden");
                                $("#imgCargaLstArchivoTicket").addClass("hidden");
                                $("#msjErrorLstArchivoTicket").addClass("hidden");
                                $("#msjVacioLstArchivoTicket").removeClass("hidden");
                                $("#msjErrorListarLstArchivoTicket").addClass("hidden");
                                $("#msjSuperaLimiteLstArchivoTicket").addClass("hidden");


                                $("#CargaTemporal").addClass("hidden");
                            }

                            $("#CargaTemporal").addClass("hidden");

                            options.success(resultado);
                            var grid = $("#GrillaLstArchivoTicket").data("kendoGrid");
                            if (grid.dataSource.total() > 0) {
                                grid.setDataSource(dataSource);
                            }

                        },
                        error: function (xhr, ajaxOptions, thrownError) {
                            /*fallo al llamar a la funcion ajax*/
                            $("#GrillaLstArchivoTicket").addClass("hidden");
                            $("#imgCargaLstArchivoTicket").addClass("hidden");
                            $("#msjErrorLstArchivoTicket").removeClass("hidden");
                            $("#msjVacioLstArchivoTicket").addClass("hidden");
                            $("#msjErrorListarLstArchivoTicket").addClass("hidden");
                            $("#msjSuperaLimiteLstArchivoTicket").addClass("hidden");

                            console.log("ERROR AJAX : " + ajaxOptions);
                            console.log("ERROR AJAX : " + thrownError);
                            console.log(xhr.responseText);
                            console.log(xhr);

                        }
                    });
                },
                parameterMap: function (data, operation) {
                    if (operation !== "read" && data.models) {
                        return JSON.stringify({ JSONparam: data.models });
                    }
                }
            },
            error: function (e) {
                alert("Status: " + e.status + "; Error message: " + e.errorThrown);
            },
            batch: false,
            pageSize: PaginationKendoGrid,
            schema: {
                model: {
                    fields: {
                        IdPathFile: { type: "number" },
                        FileTableAbbreviation: { type: "string" },
                        IdRegister: { type: "number" },
                        PathFile: { type: "string" },
                        FileNameRegister: { type: "string" },
                        FileSize: { type: "string" },
                        FullName: { type: "string" },
                        RegistrationDateString: { type: "string" },
                        TipoArchivo: { type: "string" }
                    }
                }
            },
            //aggregate: [
            //    {
            //        field: "TicketNumber",
            //        aggregate: "count"
            //    },
            //    {
            //        field: "FuelQuantity",
            //        aggregate: "sum"
            //    }
            //]
        });

        $("#GrillaLstArchivoTicket").kendoGrid({
            dataSource: dataSource,
            sortable: true,
            pageable: true,
            columnMenu: true,
            columnMenu: {
                sortable: true,
                filterable: true,
                columns: true,
                messages: {
                    columns: KendoMsjColumnMenuColumns,
                    filter: KendoMsjColumnMenuFilter,
                    sortAscending: KendoMsjColumnMenuSortAscending,
                    sortDescending: KendoMsjColumnMenuSortDescending,
                    settings: KendoMsjSettings
                }
            },
            columnMenuInit: function (e) {
                var menu = e.container.find(".k-menu").data("kendoMenu");
                menu.bind("select", function (e) {
                    var EtiquetaInput = $(".k-animation-container > .k-menu-group > .k-item > .k-content > .k-filter-menu > .k-textbox :input");
                    EtiquetaInput.focus();
                });
            },
            groupable: false,
            reorderable: true,
            selectable: "row",
            scrollable: true,
            resizable: true,
            filterable: {
                multi: true,
                checkAll: true,
                search: true,
                messages: {
                    clear: KendoMsjClear,
                    filter: KendoMsjFilter,
                    selectedItemsFormat: KendoMsjSelectedItemsFormat,
                    checkAll: KendoMsjCheckAll,
                    search: KendoMsjSearch
                }
            },
            //groupable: {
            //    info: true,
            //    messages: {
            //        empty: "<b style='font-style:italic';>Arrastre una cabecera aquí para agrupar su información por esa columna</b>"
            //    }
            //},
            pageable: {
                messages: {
                    empty: KendoMsjEmpty,
                    page: kendoMsjPage,
                    of: KendoMsjOf,
                    itemsPerPage: KendoMsjItemsPerPage,
                    first: KendoMsjFirst,
                    last: KendoMsjLast,
                    next: KendoMsjNext,
                    previous: KendoMsjPrevious,
                    refresh: KendoMsjRefresh,
                    morePages: KendoMsjMorePages,
                    display: KendoMsjDisplay
                },
                refresh: false,
                pageSizes: true,
                pageSizes: [5, 10, 15],
                /*para la cantidad de paginas se sugieren 5*/
                buttonCount: 5,
                /*Posicion de la pagina*/
                pageSize: 5
            },
            //excel: { fileName: "Listado de Acta de Reunión.xlsx", filterable: true, allPages: true },
            columns: [
                {
                    width: 100,
                    command: {
                        template:
                            ButtonsGridFileTicket
                    },
                    attributes: { "class": "text-center" },
                    title: ""
                },
                //{ field: "IdPathFile", title: "IdPath", hidden: true, width: 120, attributes: { "class": "text-center" } },
                //{ field: "IdRegister", title: "IdRegister", hidden: true, width: 120, attributes: { "class": "text-center" } },
                //{ field: "PathFile", title: "PathFile", hidden: true, width: 120, attributes: { "class": "text-center" } },
                { field: "FileNameRegister", title: "Titulo Informe", width: 200, attributes: { "class": "text-center" } },
                //{ field: "FileSize", title: "Tamaño Archivo", width: 150, attributes: { "class": "text-left" } },
                //{ field: "FullName", title: "Registrado por", width: 200, attributes: { "class": "text-left" } },
                //{ field: "RegistrationDateString", title: "Registrado", width: 160, attribute: { "class": "text-center" } }
                { field: "TipoArchivo", title: "TipoArchivo", hidden: true, width: 120, attributes: { "class": "text-center" } },
            ],
            dataBound: function () {


            }
        });


    }

    $("#GrillaLstArchivoTicket").delegate(".BtnEditTicket", "click", function (e) {

        var grid = $("#GrillaLstArchivoTicket").data("kendoGrid");
        var myVar = grid.dataItem($(this).closest("tr"));

        //var UserRegisterSave = "1,TIASSAC,1,P,TI ASSAC TI ASSAC -,VMANAGEMENTDASHBOARD,MANAGEMENTDASHBOARD";
        //UserRegisterSave = UserRegisterSave.split(',')[0];

        //var ValidarPerfilAdmi = "1,TIASSAC,1,P,TI ASSAC TI ASSAC -,VMANAGEMENTDASHBOARD,MANAGEMENTDASHBOARD";
        //ValidarPerfilAdmi = ValidarPerfilAdmi.split(',')[2];

        var TipoArchivo = "";
        var TituloInforme = "";
        //var ParaQuienInforme = "";
        var IdParaQuienInforme = 0;
        var AsuntoInforme = "";
        //var OperacionInforme = "";
        var FechaInforme = "";
        var AntecedentesInforme = "";
        var ConclusionesInforme = "";
        var ActivityInforme = "";
        var RecomendacionesInforme = "";

        //Swal.fire({
        //    title: 'Estas seguro de guardar los datos de este informe?',
        //    text: "Estar seguro de lo que se registra!",
        //    icon: 'warning',
        //    showCancelButton: true,
        //    confirmButtonColor: '#3085d6',
        //    cancelButtonColor: '#d33',
        //    confirmButtonText: 'Si, deseo guardar!'

        //}).then((result) => {
        //    if (result.isConfirmed) {

               /* if (UserRegisterSave == IdResponsibleCritizity || ValidarPerfilAdmi === "10") {*/

        IdTicketDetailReport = myVar.IdPathFile;
        TipoArchivo = myVar.TipoArchivo;
        TituloInforme = myVar.TituloInforme;
        AsuntoInforme = myVar.AsuntoInforme;
        FechaInforme = myVar.FechaRegistroInforme;
        AntecedentesInforme = myVar.AntecedentesInforme;
        ConclusionesInforme = myVar.ConclusionesInforme;
        ActivityInforme = myVar.ActivityDevelopInforme;
        RecomendacionesInforme = myVar.RecomendacionesInforme;
        IdParaQuienInforme = myVar.IdParaQuienInforme;

        /*console.log(IdActivityDetail);*/

        if (TipoArchivo == "INF") {

             document.getElementById("txtTitleInformeTicket").value = TituloInforme;
             document.getElementById("txtAsuntoInformeTicket").value = AsuntoInforme;
             document.getElementById("txtFechaActividadTicket").value = FechaInforme;
             document.getElementById("txtAntecedentesActividadTicket").value = AntecedentesInforme;
             document.getElementById("txtConclusionesActividadTicket").value = ConclusionesInforme;
             document.getElementById("txtRecomendacionesActividadTicket").value = RecomendacionesInforme;
             document.getElementById("txtActivityDevelopTicket").value = ActivityInforme;

             $("#txtParaQuienFormatoTicket").val(IdParaQuienInforme).change();

            $("#btnGenerateInformeTicket").addClass("hidden");
            $("#btnEditarInformeTicket").removeClass("hidden");

             $('#ModalInformeTicket').modal('show');

        } else if (TipoArchivo == "ACTV") {

            toastr.options.timeOut = nTiempoCorto;
            toastr.options.extendedTimeOut = nTiempoCorto;
            /*success - info - warning - error*/
            var $toast = toastr["error"]("No se puede Editar un Documento subido, solo informes generado por plataforma", tTituloError); $toastlast = $toast;
            return;

        }

                //}
                //else {

                //    Swal.fire({
                //        icon: 'error',
                //        title: 'Esta actividad no te pertenece',
                //        text: 'Solo el responsable de la actividad puede registrar!'
                //        //footer: '<a href="">Comunicarse con ?</a>'
                //    });

                //}

        //    }
        //});
    });


    function GrillaListadoArchivoTicket2() {

        $.ajax({
            type: "GET",
            url: tRutaServidor + "/Ticket/ListarArchivoTicket", /* es importante poner los .. delante*/
            data: {
                IdTicket: IdTicketLst
            },
            dataType: "json",
            /*async: false,*/
            success: function (resultado) {
                /*exitosamente*/
                let divContainerArchivoTicket2;
                divContainerArchivoTicket2 = document.getElementById('ContenedorArchivosTicket2');

                var ValorTextoContenedor = "";

                if (resultado.length > 0) {
                    /* proceso exitoso con datos*/

                    if (resultado[0].ValorConsulta == "1") {

                        ValorTextoContenedor = "<label style='color: #2F4050'><strong>Listado Archivos: </strong></label>" +
                            "<table class='table table-striped'>" +
                            "<thead>" +
                            "<tr>" +
                            "<th scope='col'>#</th>" +
                            "<th scope='col'>Nombre Archivo</th>" +
                            //"<th scope='col'>Last</th>" +
                            //"<th scope='col'>Handle</th>" +
                            "</tr>" +
                            "</thead>";

                        for (i = 0; i < resultado.length; i++) {

                            ValorTextoContenedor += "<tbody>" +
                                "<tr>" +
                                "<th scope='row'>" + (i + 1) + "</th>" +
                                "<td><a href='" + resultado[i].PathFile + "' target='_blank'>"+resultado[i].FileNameRegister+"</a></td>" +
                                //"<td>Otto</td>" + <a href="url">link text</a>
                                //"<td>mdo</td>" +
                                "</tr>" +
                                "</tbody>";
                        }

                        ValorTextoContenedor += "</table>";

                        divContainerArchivoTicket2.innerHTML = ValorTextoContenedor;


                    } else if (resultado[0].ValorConsulta == "-1") {

                        $("#GrillaLstArchivoTicket2").addClass("hidden");
                        $("#imgCargaLstArchivoTicket2").addClass("hidden");
                        $("#msjErrorLstArchivoTicket2").addClass("hidden");
                        $("#msjVacioLstArchivoTicket2").addClass("hidden");
                        $("#msjErrorListarLstArchivoTicket2").addClass("hidden");
                        $("#msjSuperaLimiteLstArchivoTicket2").removeClass("hidden");

                    }
                    else {
                        /* proceso fallido catch listado datos*/
                        $("#GrillaLstArchivoTicket2").addClass("hidden");
                        $("#imgCargaLstArchivoTicket2").addClass("hidden");
                        $("#msjErrorLstArchivoTicket2").addClass("hidden");
                        $("#msjVacioLstArchivoTicket2").addClass("hidden");
                        $("#msjErrorListarLstArchivoTicket2").removeClass("hidden");
                        $("#msjSuperaLimiteLstArchivoTicket2").addClass("hidden");

                        console.log(resultado);
                    }

                } else {

                    ValorTextoContenedor = "<table class='table table-striped'>" +
                        "<thead>" +
                        "<tr>" +
                        "<th scope='col'>#</th>" +
                        "<th scope='col'>Nombre Archivo</th>" +
                        "</tr>" +
                        "</thead>"+
                        "<tbody>" +
                        "<tr>" +
                        "<th scope='row'>0</th>" +
                        "<td>No Existe Archivo</td>" +
                        "</tr>" +
                        "</tbody>"+
                        "</table>";

                    divContainerArchivoTicket2.innerHTML = ValorTextoContenedor;
                }

                $("#CargaTemporal").addClass("hidden");

            },
            error: function (xhr, ajaxOptions, thrownError) {
                /*fallo al llamar a la funcion ajax*/
                $("#GrillaLstArchivoTicket2").addClass("hidden");
                $("#imgCargaLstArchivoTicket2").addClass("hidden");
                $("#msjErrorLstArchivoTicket2").removeClass("hidden");
                $("#msjVacioLstArchivoTicket2").addClass("hidden");
                $("#msjErrorListarLstArchivoTicket2").addClass("hidden");
                $("#msjSuperaLimiteLstArchivoTicket2").addClass("hidden");

                console.log("ERROR AJAX : " + ajaxOptions);
                console.log("ERROR AJAX : " + thrownError);
                console.log(xhr.responseText);
                console.log(xhr);

            }
        });

    }

    $("#GrillaLstArchivoTicket").delegate(".BtnDescargarTicket", "click", function (e) {

        var grid = $("#GrillaLstArchivoTicket").data("kendoGrid");
        var myVar = grid.dataItem($(this).closest("tr"));

        var TipoArchivo = "";
        TipoArchivo = myVar.TipoArchivo;

        if (TipoArchivo == "INF") {

            var TituloInfo = "";
            var ParaQuienInfo = "";
            var AsuntoInfo = "";
            var OperacionInfo = "";
            var FechaRegistroInfo = "";
            var AntecedenteInfo = "";
            var ConclusionesInfo = "";
            var RecomendacionesInfo = "";
            var ActivityDevelop = "";

            TituloInfo = myVar.TituloInforme;
            ParaQuienInfo = myVar.NameParaQuienInforme;
            AsuntoInfo = myVar.AsuntoInforme;
            OperacionInfo = myVar.OperacionNombre;
            FechaRegistroInfo = myVar.FechaRegistroInforme;
            AntecedenteInfo = myVar.AntecedentesInforme;
            ConclusionesInfo = myVar.ConclusionesInforme;
            RecomendacionesInfo = myVar.RecomendacionesInforme;
            ActivityDevelop = myVar.ActivityDevelopInforme;
            //toastr.options.timeOut = nTiempoCorto;
            //toastr.options.extendedTimeOut = nTiempoCorto;
            ///*success - info - warning - error*/
            //var $toast = toastr["error"]("No se puede Descargar un informe generado por plataforma, solo archivos cargados", tTituloError); $toastlast = $toast;
            //return;

            DesgarcarPDFInforme(TituloInfo, ParaQuienInfo, AsuntoInfo, OperacionInfo, FechaRegistroInfo, AntecedenteInfo, ConclusionesInfo, RecomendacionesInfo, ActivityDevelop);

        } else if (TipoArchivo == "TCK") {

            window.open(myVar.PathFile, '_blank');

        }

    });

    $("#GrillaLstArchivoTicket2").delegate(".BtnDescargarArchivo2", "click", function (e) {

        var grid = $("#GrillaLstArchivoTicket2").data("kendoGrid");
        var myVar = grid.dataItem($(this).closest("tr"));
        //idRutaArchivo = myVar.IdPathFile;

        //$("#ImagenCargaListArchivo").addClass("hidden");

        //e.preventDefault();  //stop the browser from following
        //window.location.href = myVar.PathFile;

        window.open(myVar.PathFile, '_blank');
    });

    $("#GrillaLstArchivoTicket").delegate(".BtnDeleteTicket", "click", function (e) {

        var grid = $("#GrillaLstArchivoTicket").data("kendoGrid");
        var myVar = grid.dataItem($(this).closest("tr"));

        var IdArchivoTicket = myVar.IdPathFile;

        Swal.fire({
            title: 'Estas seguro de eliminar este archivo?',
            text: "Ya no podras revertirlo!",
            icon: 'warning',
            showCancelButton: true,
            confirmButtonColor: '#3085d6',
            cancelButtonColor: '#d33',
            confirmButtonText: 'Si, estoy seguro!'
        }).then((result) => {
            if (result.isConfirmed) {

                AnularArchivoTicket(IdArchivoTicket);

            } else {

            }
        });


    });

    function AnularArchivoTicket(ValorArchivoTicket) {

        //$("#CargaTemporal").removeClass("hidden");

        $.ajax({
            type: "POST",
            url: tRutaServidor + "/Ticket/AnularArchivoTicket",
            dataType: "json",
            data: {
                IdTicketFile: ValorArchivoTicket,
            },
            success: function (resultado) {

                //if (resultado.length > 0) {

                if (resultado != '0') {

                    toastr.options.timeOut = nTiempoMedio;
                    toastr.options.extendedTimeOut = nTiempoMedio;
                    /*success - info - warning - error*/
                    var $toast = toastr["success"]("Se ha eliminado el archivo con exito", tTituloExito); $toastlast = $toast;

                    ValidarStatusActividades();
                    GrillaListadoArchivoTicket();

                } else {

                    toastr.options.timeOut = nTiempoMedio;
                    toastr.options.extendedTimeOut = nTiempoMedio;
                    /*success - info - warning - error*/
                    var $toast = toastr["error"](tMensajeErrorDesconocido, tTituloError); $toastlast = $toast;
                    console.log("Mensaje del error : " + resultado);

                }

                $("#CargaTemporal").addClass("hidden");

            },
            error: function (xhr, ajaxOptions, thrownError) {
                /*fallo al llamar a la funcion ajax*/
                toastr.options.timeOut = nTiempoLargo;
                toastr.options.extendedTimeOut = nTiempoLargo;
                /*success - info - warning - error*/
                var $toast = toastr["error"](tMensajeErrorConexion, tTituloErrorConexion); $toastlast = $toast;
                console.log("ERROR AJAX : " + ajaxOptions);
                console.log("ERROR AJAX : " + thrownError);
                console.log(xhr.responseText);
                console.log(xhr);

            }
        });

    };

    /*------- ADJUNTAR ARCHIVO ---- EDITAR ACTIVIDAD --------*/

    function SubirArchivo() {

        var fileData = new FormData();
        var fileUpload = $("#flArchivoSubirAdjunto").get(0);
        var files = fileUpload.files;

        for (var i = 0; i < files.length; i++) {
            fileData.append(files[i].name, files[i]);
        }

        $("#GrillaArchivos").addClass("hidden");
        $("#ContenedorTablaAdjuntos").addClass("hidden");
        $("#ImagenCargaListArchivo").removeClass("hidden");
        $("#MensajeErrorListArchivo").addClass("hidden");
        $("#MensajeVacioListArchivo").addClass("hidden");
        $("#MensajeErrorListarListArchivo").addClass("hidden");

        $.ajax({
            type: "POST",
            url: tRutaServidor + "/PathFile/SubirArchivoActivity?FileType=" + "P" + "&IdRegister=" + idActivity + "&TableAbrev=" + "ACTV" + "&NombreCarpeta=" + "ActividadTicket" + "&OperacionName=" + OperacionTicket,
            data: fileData,
            contentType: false, // Not to set any content header
            processData: false, // Not to process data
            success: function (resultado) {
                if (resultado.length > 0) {

                    if (resultado[0].ValorConsulta == "1") {

                        $("#flArchivoSubirAdjunto").filestyle('clear');
                        toastr.options.timeOut = nTiempoMedio;
                        toastr.options.extendedTimeOut = nTiempoMedio;
                        /*success - info - warning - error*/
                        var $toast = toastr["success"](tMensajeCreadoExito, tTituloExito); $toastlast = $toast;

                        //idsPathFileTicketDoc.push(resultado[0].IdPathFile);

                        //if (idsPathFileTicketDoc.length > 4) {
                        //    document.getElementById('flArchivoSubirAdjunto').disabled = true;
                        //    document.getElementById('btnSubirFormato').disabled = true;
                        //}
                        ListadoDetalleActividadInforme();
                        //ListadoDetalleActividadInforme();
                        //GrillaArchivosCargados();

                    } else if (resultado[0].ValorConsulta == "102") {
                        toastr.options.timeOut = nTiempoMedio;
                        toastr.options.extendedTimeOut = nTiempoMedio;
                        /*success - info - warning - error*/
                        var $toast = toastr["error"](tValidacionTipoArchivo, tTituloError); $toastlast = $toast;

                        $("#CargaTemporal").addClass("hidden");
                        $("#ContenedorTablaAdjuntos").removeClass("hidden");
                        $("#ImagenCargaListArchivo").addClass("hidden");
                        $("#MensajeErrorListArchivo").addClass("hidden");
                        $("#MensajeVacioListArchivo").addClass("hidden");
                        $("#MensajeErrorListarListArchivo").addClass("hidden");
                        document.getElementById('btnSubirFormato').disabled = false;

                    } else if (resultado[0].ValorConsulta == "101") {
                        toastr.options.timeOut = nTiempoMedio;
                        toastr.options.extendedTimeOut = nTiempoMedio;
                        /*success - info - warning - error*/
                        var $toast = toastr["error"](tValidacionPesoArchivo, tTituloError); $toastlast = $toast;

                        $("#CargaTemporal").addClass("hidden");
                        $("#ContenedorTablaAdjuntos").removeClass("hidden");
                        $("#ImagenCargaListArchivo").addClass("hidden");
                        $("#MensajeErrorListArchivo").addClass("hidden");
                        $("#MensajeVacioListArchivo").addClass("hidden");
                        $("#MensajeErrorListarListArchivo").addClass("hidden");
                        document.getElementById('btnSubirFormato').disabled = false;

                    } else {
                        toastr.options.timeOut = nTiempoMedio;
                        toastr.options.extendedTimeOut = nTiempoMedio;
                        /*success - info - warning - error*/
                        var $toast = toastr["error"](tMensajeErrorDesconocido, tTituloError); $toastlast = $toast;
                        console.log("Mensaje del error : " + resultado)
                        $("#CargaTemporal").addClass("hidden");
                        $("#ContenedorTablaAdjuntos").removeClass("hidden");
                        $("#ImagenCargaListArchivo").addClass("hidden");
                        $("#MensajeErrorListArchivo").addClass("hidden");
                        $("#MensajeVacioListArchivo").addClass("hidden");
                        $("#MensajeErrorListarListArchivo").addClass("hidden");
                        document.getElementById('btnSubirFormato').disabled = false;
                    }
                } else {

                }
                $("#CargaTemporal").addClass("hidden");

            },
            error: function (xhr, ajaxOptions, thrownError) {

                $("#CargaTemporal").addClass("hidden");
                $("#ContenedorTablaAdjuntos").removeClass("hidden");
                $("#ImagenCargaListArchivo").addClass("hidden");
                $("#MensajeErrorListArchivo").addClass("hidden");
                $("#MensajeVacioListArchivo").addClass("hidden");
                $("#MensajeErrorListarListArchivo").addClass("hidden");
                /*fallo al llamar a la funcion ajax*/
                toastr.options.timeOut = nTiempoLargo;
                toastr.options.extendedTimeOut = nTiempoLargo;
                /*success - info - warning - error*/
                var $toast = toastr["error"](tMensajeErrorConexion, tTituloErrorConexion); $toastlast = $toast;
                console.log("ERROR AJAX : " + ajaxOptions);
                console.log("ERROR AJAX : " + thrownError);
                console.log(xhr.responseText);
                console.log(xhr);

            }
        });

    };

    $("#btnSubirFormato").click(function () {

        var UserRegisterSave = "@User.Identity.Name.ToUpper().ToString()";
        UserRegisterSave = UserRegisterSave.split(',')[0];

        var ValidarPerfilAdmi = "@User.Identity.Name.ToUpper().ToString()";
        ValidarPerfilAdmi = ValidarPerfilAdmi.split(',')[2];

        if (idsPathFileTicketDoc.length == 0) {

                if ($('#flArchivoSubirAdjunto').val() != "") {
                    var TamañoArchivo = $("#flArchivoSubirAdjunto")[0].files[0].size;
                    if (TamañoArchivo > 5000000) {
                        toastr.options.timeOut = nTiempoMedio;
                        toastr.options.extendedTimeOut = nTiempoMedio;
                        /*success - info - warning - error*/
                        var $toast = toastr["error"](tValidacionExcedeTamanioArchivoError, tTituloError); $toastlast = $toast;
                        return;
                    }

                    //if (idsPathFileAnexoAct.length > 0) {
                    //    for (i = 0; i < $("#GrillaArchivos2").data("kendoGrid").dataSource.total(); i++) {
                    //        if ($("#GrillaArchivos2").data("kendoGrid").dataSource._data[i].FileNameRegister == $("#flArchivoSubirAdjunto")[0].files[0].name) {
                    //            toastr.options.timeOut = nTiempoMedio;
                    //            toastr.options.extendedTimeOut = nTiempoMedio;
                    //            /*success - info - warning - error*/
                    //            var $toast = toastr["error"](tMensajeErrorArchivoCargado, tTituloError); $toastlast = $toast;
                    //            return;
                    //        }
                    //    }
                    //}

                    //document.getElementById('btnSubirFormato').disabled = true;

                    Swal.fire({
                        title: 'Estas seguro de guardar este archivo?',
                        text: "Ya no podras revertirlo!",
                        icon: 'warning',
                        showCancelButton: true,
                        confirmButtonColor: '#3085d6',
                        cancelButtonColor: '#d33',
                        confirmButtonText: 'Si, deseo guardar!'
                    }).then((result) => {
                        if (result.isConfirmed) {

                            if (UserRegisterSave == IdResponsibleCritizity || ValidarPerfilAdmi === "10") {

                                 SubirArchivo();

                            } else {

                                 Swal.fire({
                                     icon: 'error',
                                     title: 'Esta actividad no te pertenece',
                                     text: 'Solo el responsable de la actividad puede registrar!'
                                     //footer: '<a href="">Comunicarse con ?</a>'
                                 });

                            }

                        } else {



                        }
                    });

                } else {
                    toastr.options.timeOut = nTiempoMedio;
                    toastr.options.extendedTimeOut = nTiempoMedio;
                    /*success - info - warning - error*/
                    var $toast = toastr["error"](tValidacionSeleccionaArchivoError, tTituloError); $toastlast = $toast;
                }
            }
            else {
                toastr.options.timeOut = nTiempoMedio;
                toastr.options.extendedTimeOut = nTiempoMedio;
                /*success - info - warning - error*/
                var $toast = toastr["error"]("Solo se puede ingresar " + "1 archivo.", tTituloError); $toastlast = $toast;
            }

        });

    function ListadoDetalleActividadInforme() {

        var dataSource = new kendo.data.DataSource({
            transport: {
                read: function (options) {
                    $.ajax({
                        type: "GET",
                        url: tRutaServidor + "/Activity/ListarInformeDetalleActivity", /* es importante poner los .. delante*/
                        data: {
                            IdActivity: idActivity,
                        },
                        dataType: "json",
                        /*async: false,*/
                        success: function (resultado) {
                            /*exitosamente*/

                            ValidarListadoArchivoActividad = resultado.length;

                            if (resultado.length > 0) {
                                /* proceso exitoso con datos*/
                                if (resultado[0].ValorConsulta == "1") {

                                    console.log(resultado);

                                    $("#GrillaArchivos").removeClass("hidden");
                                    $("#ImagenCargaListArchivo").addClass("hidden");
                                    $("#MensajeErrorListArchivo").addClass("hidden");
                                    $("#MensajeVacioListArchivo").addClass("hidden");
                                    $("#MensajeErrorListarListArchivo").addClass("hidden");

                                } else if (resultado[0].ValorConsulta == "-1") {

                                    $("#GrillaArchivos").addClass("hidden");
                                    $("#ImagenCargaListArchivo").addClass("hidden");
                                    $("#MensajeErrorListArchivo").removeClass("hidden");
                                    $("#MensajeVacioListArchivo").addClass("hidden");
                                    $("#MensajeErrorListarListArchivo").addClass("hidden");
                                }
                                else {
                                    /* proceso fallido catch listado datos*/
                                    $("#GrillaArchivos").addClass("hidden");
                                    $("#ImagenCargaListArchivo").addClass("hidden");
                                    $("#MensajeErrorListArchivo").addClass("hidden");
                                    $("#MensajeVacioListArchivo").addClass("hidden");
                                    $("#MensajeErrorListarListArchivo").removeClass("hidden");

                                    console.log(resultado);
                                }

                            } else {
                                $("#GrillaArchivos").addClass("hidden");
                                $("#ImagenCargaListArchivo").addClass("hidden");
                                $("#MensajeErrorListArchivo").addClass("hidden");
                                $("#MensajeVacioListArchivo").removeClass("hidden");
                                $("#MensajeErrorListarListArchivo").addClass("hidden");
                            }

                            options.success(resultado);
                            var grid = $("#GrillaArchivos").data("kendoGrid");
                            if (grid.dataSource.total() > 0) {
                                grid.setDataSource(dataSource);
                            }

                        },
                        error: function (xhr, ajaxOptions, thrownError) {
                            /*fallo al llamar a la funcion ajax*/
                            $("#GrillaArchivos").addClass("hidden");
                            $("#ImagenCargaListArchivo").addClass("hidden");
                            $("#MensajeErrorListArchivo").addClass("hidden");
                            $("#MensajeVacioListArchivo").addClass("hidden");
                            $("#MensajeErrorListarListArchivo").removeClass("hidden");

                            console.log("ERROR AJAX : " + ajaxOptions);
                            console.log("ERROR AJAX : " + thrownError);
                            console.log(xhr.responseText);
                            console.log(xhr);

                        }
                    });
                },
                parameterMap: function (data, operation) {
                    if (operation !== "read" && data.models) {
                        return JSON.stringify({ JSONparam: data.models });
                    }
                }
            },
            error: function (e) {
                alert("Status: " + e.status + "; Error message: " + e.errorThrown);
            },
            batch: false,
            pageSize: PaginationKendoGrid,
            schema: {
                model: {
                    fields: {
                        IdActivityDetail: { type: "number" },
                        TituloInforme: { type: "string" },
                        IdParaQuienInforme: { type: "number" },
                        NameParaQuienInforme: { type: "string" },
                        AsuntoInforme: { type: "string" },
                        OperacionNombre: { type: "string" },
                        FechaRegistroInforme: { type: "string" },
                        AntecedentesInforme: { type: "string" },
                        ConclusionesInforme: { type: "string" },
                        RecomendacionesInforme: { type: "string" },
                        FileNameRegister: { type: "string" },
                        PathFile: { type: "string" },
                        FileSize: { type: "string" },
                        //RegistrationUserName: { type: "string" },
                        TipoArchivo: { type: "string" },
                    }
                }
            },
            //aggregate: [
            //    {
            //        field: "TicketNumber",
            //        aggregate: "count"
            //    },
            //    {
            //        field: "FuelQuantity",
            //        aggregate: "sum"
            //    }
            //]
        });

        $("#GrillaArchivos").kendoGrid({
            dataSource: dataSource,
            sortable: true,
            pageable: true,
            columnMenu: true,
            columnMenu: {
                sortable: true,
                filterable: true,
                columns: true,
                messages: {
                    columns: KendoMsjColumnMenuColumns,
                    filter: KendoMsjColumnMenuFilter,
                    sortAscending: KendoMsjColumnMenuSortAscending,
                    sortDescending: KendoMsjColumnMenuSortDescending,
                    settings: KendoMsjSettings
                }
            },
            columnMenuInit: function (e) {
                var menu = e.container.find(".k-menu").data("kendoMenu");
                menu.bind("select", function (e) {
                    var EtiquetaInput = $(".k-animation-container > .k-menu-group > .k-item > .k-content > .k-filter-menu > .k-textbox :input");
                    EtiquetaInput.focus();
                });
            },
            groupable: false,
            reorderable: true,
            selectable: "row",
            scrollable: true,
            resizable: true,
            filterable: {
                multi: true,
                checkAll: true,
                search: true,
                messages: {
                    clear: KendoMsjClear,
                    filter: KendoMsjFilter,
                    selectedItemsFormat: KendoMsjSelectedItemsFormat,
                    checkAll: KendoMsjCheckAll,
                    search: KendoMsjSearch
                }
            },
            //groupable: {
            //    info: true,
            //    messages: {
            //        empty: "<b style='font-style:italic';>Arrastre una cabecera aquí para agrupar su información por esa columna</b>"
            //    }
            //},
            pageable: {
                messages: {
                    empty: KendoMsjEmpty,
                    page: kendoMsjPage,
                    of: KendoMsjOf,
                    itemsPerPage: KendoMsjItemsPerPage,
                    first: KendoMsjFirst,
                    last: KendoMsjLast,
                    next: KendoMsjNext,
                    previous: KendoMsjPrevious,
                    refresh: KendoMsjRefresh,
                    morePages: KendoMsjMorePages,
                    display: KendoMsjDisplay
                },
                refresh: false,
                pageSizes: true,
                pageSizes: [5, 10, 15],
                /*para la cantidad de paginas se sugieren 5*/
                buttonCount: 5,
                /*Posicion de la pagina*/
                pageSize: 5
            },
            excel: { fileName: "Listado de Acta de Reunión.xlsx", filterable: true, allPages: true },
            columns: [
                {
                    width: 100,
                    command: {
                        template:
                            "<button class='btn-grid btn-xs BtnEdit' type='button' title='Ver datos'><i class='fa fa-lg fa-fw fas fa-edit'></i></button>" + " " +
                            "<button class='btn-grid btn-xs BtnDescargar' type='button' title='Ver datos'><i class='fa fa-lg fa-fw fas fa-cloud-download'></i></button>"
                            + " " + "<button class='btn-grid btn-xs BtnDelete' type='button' title='Ver datos'><i class='fa fa-trash-o fa-lg'></i></button>"
                    },
                    attributes: { "class": "text-center" },
                    title: ""
                },
                { field: "TituloInforme", title: "Titulo Informe", width: 140, attributes: { "class": "text-center" } },
                //{ field: "NameParaQuienInforme", title: "Para", width: 150, attributes: { "class": "text-center" } },
                //{ field: "AsuntoInforme", title: "Asunto", width: 120, attributes: { "class": "text-center" } },
                //{ field: "OperacionNombre", title: "Operación", width: 150, attributes: { "class": "text-center" } },
                //{ field: "FechaRegistroInforme", title: "Fecha Registro",  width: 150, attributes: { "class": "text-center" } },
                //{ field: "AntecedentesInforme", title: "Antecendete", width: 150, attributes: { "class": "text-center" } },
                //{ field: "ConclusionesInforme", title: "Conclusión", width: 120, attributes: { "class": "text-center" } },
                //{ field: "RecomendacionesInforme", title: "Recomendacione", width: 120, attributes: { "class": "text-center" } },
                //{ field: "FileNameRegister", title: "Nombre Archivo", width: 140, attributes: { "class": "text-center" } },
                //{ field: "FileSize", title: "Tamaño Archivo", width: 120, attributes: { "class": "text-center" } },
                //{ field: "RegistrationUserName", title: "Registrado Por", width: 120, attributes: { "class": "text-center" } },
                { field: "TipoArchivo", title: "TipoArchivo", hidden: true, width: 120, attributes: { "class": "text-center" } },

            ],
            dataBound: function () {

                //var Grilla = this;

                //Grilla.tbody.find("tr[role='row']").each(function () {
                //    var model = Grilla.dataItem(this);
                //    //var estadoOrden = model.bE_Purchase_Order.PurchaseOrderStatus;

                //    //if (estadoOrden == 'Z') {
                //    //    $(this).find("td > button.BtnRegistrar").remove();
                //    //}

                //    //if (model.BillingCompleted == 'Z') {
                //    //    $(this).find("td > button.BtnRegistrar").remove();
                //    //}
                //});


                //for (i = 0; i < Grilla.dataSource._view.length; i++) {
                //    var estadoActual = Grilla.tbody.children()[i].children[9].textContent;
                //    if (estadoActual == 'BAJA') {
                //        $($("#LstCreateTicket").data("kendoGrid").tbody.children()[i]).addClass('colorVerde');
                //    }
                //    else if (estadoActual == 'MEDIA') {
                //        $($("#LstCreateTicket").data("kendoGrid").tbody.children()[i]).addClass('colorAmarillo');
                //    }
                //    else {
                //        $($("#LstCreateTicket").data("kendoGrid").tbody.children()[i]).addClass('colorRojo');
                //    }
                //}

                //    for (i = 0; i < $("#LstCotizacion").data("kendoGrid").dataSource._view.length; i++) {
                //        var diasRestantes = $("#LstCotizacion").data("kendoGrid").tbody.children()[i].children[2].textContent;

                //        if (diasRestantes < 11) {
                //            $($("#LstCotizacion").data("kendoGrid").tbody.children()[i]).addClass('colorRojo');
                //        }
                //        else if (diasRestantes > 10 && diasRestantes < 21) {
                //            $($("#LstCotizacion").data("kendoGrid").tbody.children()[i]).addClass('colorAmarillo');
                //        }
                //        else if (diasRestantes > 20) {
                //          $($("#LstCotizacion").data("kendoGrid").tbody.children()[i]).addClass('colorAmarillo');
                //        }
                //        else {
                //            $($("#LstCotizacion").data("kendoGrid").tbody.children()[i]).addClass('colorRojo');
                //        }
                //    }

                //    var Grilla = this;
                //    Grilla.tbody.find("tr[role='row']").each(function () {
                //        var model = Grilla.dataItem(this);
                //        if (model.QuotationStatus != "C") {
                //            $(this).find("td > button.BtnVerInfo").remove();
                //        }

                //    });

            }
        });


    }

    $("#GrillaArchivos").delegate(".BtnEdit", "click", function (e) {

            var grid = $("#GrillaArchivos").data("kendoGrid");
            var myVar = grid.dataItem($(this).closest("tr"));

            var UserRegisterSave = "@User.Identity.Name.ToUpper().ToString()";
            UserRegisterSave = UserRegisterSave.split(',')[0];

            var ValidarPerfilAdmi = "@User.Identity.Name.ToUpper().ToString()";
            ValidarPerfilAdmi = ValidarPerfilAdmi.split(',')[2];

            var TipoArchivo = "";
            var TituloInforme = "";
            //var ParaQuienInforme = "";
            var IdParaQuienInforme = 0;
            var AsuntoInforme = "";
            //var OperacionInforme = "";
            var FechaInforme = "";
            var AntecedentesInforme = "";
            var ConclusionesInforme = "";
            var ActivityInforme = "";
            var RecomendacionesInforme = "";

            Swal.fire({
                 title: 'Estas seguro de guardar los datos de este informe?',
                 text: "Estar seguro de lo que se registra!",
                 icon: 'warning',
                 showCancelButton: true,
                 confirmButtonColor: '#3085d6',
                 cancelButtonColor: '#d33',
                confirmButtonText: 'Si, deseo guardar!'

            }).then((result) => {
                if (result.isConfirmed) {

                    if (UserRegisterSave == IdResponsibleCritizity || ValidarPerfilAdmi === "10") {

                        IdActivityDetail = myVar.IdActivityDetail;
                        TipoArchivo = myVar.TipoArchivo;
                        TituloInforme = myVar.TituloInforme;
                        AsuntoInforme = myVar.AsuntoInforme;
                        FechaInforme = myVar.FechaRegistroInforme;
                        AntecedentesInforme = myVar.AntecedentesInforme;
                        ConclusionesInforme = myVar.ConclusionesInforme;
                        ActivityInforme = myVar.ActivityDevelopInforme;
                        RecomendacionesInforme = myVar.RecomendacionesInforme;
                        IdParaQuienInforme = myVar.IdParaQuienInforme;

                        console.log(IdActivityDetail);

                        if (TipoArchivo == "INF") {

                            Swal.fire({
                                title: 'Estas seguro de mostrar el informe a editar?',
                                text: "Solo se puede editar informes generador por plataforma!",
                                icon: 'warning',
                                showCancelButton: true,
                                confirmButtonColor: '#3085d6',
                                cancelButtonColor: '#d33',
                                confirmButtonText: 'Si, deseo ver!'
                            }).then((result) => {
                                if (result.isConfirmed) {

                                    document.getElementById("txtTitleInforme").value = TituloInforme;
                                    document.getElementById("txtAsuntoInforme").value = AsuntoInforme;
                                    document.getElementById("txtFechaActividad").value = FechaInforme;
                                    document.getElementById("txtAntecedentesActividad").value = AntecedentesInforme;
                                    document.getElementById("txtConclusionesActividad").value = ConclusionesInforme;
                                    document.getElementById("txtRecomendacionesActividad").value = RecomendacionesInforme;
                                    document.getElementById("txtActivityDevelop").value = ActivityInforme;

                                    $("#txtParaQuienFormato").val(IdParaQuienInforme).change();

                                    $("#btnSaveInforme").addClass("hidden");
                                    $("#btnEditarInforme").removeClass("hidden");

                                } else {



                                }
                            });

                        } else if (TipoArchivo == "ACTV") {

                            toastr.options.timeOut = nTiempoCorto;
                            toastr.options.extendedTimeOut = nTiempoCorto;
                            /*success - info - warning - error*/
                            var $toast = toastr["error"]("No se puede Editar un Documento subido, solo informes generado por plataforma", tTituloError); $toastlast = $toast;
                            return;

                        }


                    }
                    else {

                        Swal.fire({
                           icon: 'error',
                           title: 'Esta actividad no te pertenece',
                           text: 'Solo el responsable de la actividad puede registrar!'
                           //footer: '<a href="">Comunicarse con ?</a>'
                       });

                    }

                } else {

                }
            });

        });

    $("#GrillaArchivos").delegate(".BtnDescargar", "click", function (e) {

        var grid = $("#GrillaArchivos").data("kendoGrid");
        var myVar = grid.dataItem($(this).closest("tr"));
        //idRutaArchivo = myVar.IdPathFile;

        var TipoArchivo = "";
        TipoArchivo = myVar.TipoArchivo;

        if (TipoArchivo == "INF") {

            var TituloInfo = "";
            var ParaQuienInfo = "";
            var AsuntoInfo = "";
            var OperacionInfo = "";
            var FechaRegistroInfo = "";
            var AntecedenteInfo = "";
            var ConclusionesInfo = "";
            var RecomendacionesInfo = "";
            var ActivityDevelop = "";

            TituloInfo = myVar.TituloInforme;
            ParaQuienInfo = myVar.NameParaQuienInforme;
            AsuntoInfo = myVar.AsuntoInforme;
            OperacionInfo = myVar.OperacionNombre;
            FechaRegistroInfo = myVar.FechaRegistroInforme;
            AntecedenteInfo = myVar.AntecedentesInforme;
            ConclusionesInfo = myVar.ConclusionesInforme;
            RecomendacionesInfo = myVar.RecomendacionesInforme;
            ActivityDevelop = myVar.ActivityDevelopInforme;
            //toastr.options.timeOut = nTiempoCorto;
            //toastr.options.extendedTimeOut = nTiempoCorto;
            ///*success - info - warning - error*/
            //var $toast = toastr["error"]("No se puede Descargar un informe generado por plataforma, solo archivos cargados", tTituloError); $toastlast = $toast;
            //return;

            DesgarcarPDFInforme(TituloInfo,ParaQuienInfo,AsuntoInfo,OperacionInfo,FechaRegistroInfo,AntecedenteInfo,ConclusionesInfo,RecomendacionesInfo,ActivityDevelop);

             //var options = {};

             //$('.cmd').click(function () {
               //var doc = new jsPDF();
               // doc.fromHTML(document.getElementById("ContenedorInforme"), // page element which you want to print as PDF
               // 15,
               // 15,
               // {
               //   'width': 170
               // },
               // function(a)
               //  {
               //   doc.save("HTML2PDF.pdf");
               // });

               //pdf.save('sample-file.pdf');
             //});

            //$('#ModalPDF').modal('show');
        } else if (TipoArchivo == "ACTV") {

             window.open(myVar.PathFile, '_blank');

        }


    });

    $("#GrillaArchivos").delegate(".BtnDelete", "click", function (e) {

        var grid = $("#GrillaArchivos").data("kendoGrid");
        var myVar = grid.dataItem($(this).closest("tr"));

        var IdActivityDetail = "";
        IdActivityDetail = myVar.IdActivityDetail;

        var UserRegisterSave = "@User.Identity.Name.ToUpper().ToString()";
        UserRegisterSave = UserRegisterSave.split(',')[0];

        var ValidarPerfilAdmi = "@User.Identity.Name.ToUpper().ToString()";
        ValidarPerfilAdmi = ValidarPerfilAdmi.split(',')[2];

        Swal.fire({
            title: 'Estas seguro de eliminar este archivo?',
            text: "Ya no podras revertirlo!",
            icon: 'warning',
            showCancelButton: true,
            confirmButtonColor: '#3085d6',
            cancelButtonColor: '#d33',
            confirmButtonText: 'Si, estoy seguro!'
        }).then((result) => {
            if (result.isConfirmed) {

                if (UserRegisterSave == IdResponsibleCritizity || ValidarPerfilAdmi === "10") {

                    EliminarActividadDetalle(IdActivityDetail);

                } else {

                    Swal.fire({
                       icon: 'error',
                       title: 'Esta actividad no te pertenece',
                       text: 'Solo el responsable de la actividad puede registrar!'
                       //footer: '<a href="">Comunicarse con ?</a>'
                    });

                }


            } else {

            }
        });

    });

    function EliminarActividadDetalle(ArchivoActivityDetalle) {

        $.ajax({
            type: "POST",
            url: tRutaServidor + "/Activity/EliminarActivityDetail",
            dataType: "json",
            data: {
                IdActivityDetail: ArchivoActivityDetalle,
            },
            success: function (resultado) {

                if (resultado.length > 0) {

                    if (resultado == '1') {

                        toastr.options.timeOut = nTiempoMedio;
                        toastr.options.extendedTimeOut = nTiempoMedio;
                        /*success - info - warning - error*/
                        var $toast = toastr["success"](tMensajeEliminadoExito, tTituloExito); $toastlast = $toast;

                        ListadoDetalleActividadInforme();

                    } else {

                        toastr.options.timeOut = nTiempoMedio;
                        toastr.options.extendedTimeOut = nTiempoMedio;
                        /*success - info - warning - error*/
                        var $toast = toastr["warning"](tMensajeErrorDesconocido, tTituloError); $toastlast = $toast;
                        return;
                    }

                } else if (resultado == 2) {
                    toastr.options.timeOut = nTiempoMedio;
                    toastr.options.extendedTimeOut = nTiempoMedio;
                    /*success - info - warning - error*/
                    var $toast = toastr["error"](tValidacionNroCotizacionExiste, tTituloError); $toastlast = $toast;
                    document.getElementById('btnGrabar').disabled = false;

                } else if (resultado == 3) {
                    toastr.options.timeOut = nTiempoMedio;
                    toastr.options.extendedTimeOut = nTiempoMedio;
                    /*success - info - warning - error*/
                    var $toast = toastr["error"](tMensajeErrorActualizarRutas, tTituloError); $toastlast = $toast;
                    document.getElementById('btnGrabar').disabled = false;
                } else {
                    toastr.options.timeOut = nTiempoMedio;
                    toastr.options.extendedTimeOut = nTiempoMedio;
                    /*success - info - warning - error*/
                    var $toast = toastr["error"](tMensajeErrorDesconocido, tTituloError); $toastlast = $toast;
                    console.log("Mensaje del error : " + resultado);
                }
                $("#CargaTemporal").addClass("hidden");

            },
            error: function (xhr, ajaxOptions, thrownError) {
                /*fallo al llamar a la funcion ajax*/
                toastr.options.timeOut = nTiempoLargo;
                toastr.options.extendedTimeOut = nTiempoLargo;
                /*success - info - warning - error*/
                var $toast = toastr["error"](tMensajeErrorConexion, tTituloErrorConexion); $toastlast = $toast;
                console.log("ERROR AJAX : " + ajaxOptions);
                console.log("ERROR AJAX : " + thrownError);
                console.log(xhr.responseText);
                console.log(xhr);

            }
        });

    };

    /*---------------------------------*/

    $('input[type=radio][name=rdoRadioFilterStatusTicket]').change(function (e) {

        if (e.target.id == 'rdoPendienteStatusTicket') {

            StatusTicketRadio = 'P';

        } else if (e.target.id == 'rdoOperadoStatusTicket') {

            StatusTicketRadio = 'O';

        }else if (e.target.id == 'rdoCompletadoStatusTicket') {

            StatusTicketRadio = 'C';

        } else if (e.target.id == 'rdoAmbosStatusTicket') {

            StatusTicketRadio = 'B';

        }
    });

    $('input[type=radio][name=rdoRadioFilterFiles]').change(function (e) {

        if (e.target.id == 'rdoImagesRadio') {

            ValueRadioFile = '1';

        } else if (e.target.id == 'rdoDocumentsRadio') {

            ValueRadioFile = '2';

        } else if (e.target.id == 'rdoAmbosRadio') {

            ValueRadioFile = '3';

        }
    });

    $('input[type=radio][name=rdoRadioPlatMov2]').change(function (e) {

        if (e.target.id == 'rdoPlatform') {

            StatusTicketMovil2 = 'P';

        } else if (e.target.id == 'rdoMovil') {

            StatusTicketMovil2 = 'M';

        } else if (e.target.id == 'rdoAmbos') {

            StatusTicketMovil2 = 'A';

        }
    });

    $("#btnBuscarStatusTicket").click(function () {

        var IdsReponsibleTable = "";

        var TextResponsible = "";

        TextResponsible = $("#selectorResponsibleStatusTicket").val();

        if (TextResponsible == '' || TextResponsible == null) {

            IdsReponsibleTable = '0'

        } else {

            IdsReponsibleTable = TextResponsible;
            IdsReponsibleTable = IdsReponsibleTable.toString();

        }

        ListadoTablaTicketYResponsable(StatusTicketRadio, IdsReponsibleTable);
    });

    $("#BtnDashboardFiles").click(function () {

        $('#ModalTicketArchivo').modal('show');

        GrillaListadoHistoricosTicket();
    });

    $("#btnTicketHistorico").click(function () {

        GrillaListadoHistoricosTicket();

    });

    $("#btnBuscarHist").click(function () {

        ListadoDetalleActiviadesAllFiles();

    });

    function GrillaListadoHistoricosTicket() {

        var dataSource = new kendo.data.DataSource({
            transport: {
                read: function (options) {
                    $.ajax({
                        type: "GET",
                        url: tRutaServidor + "/Ticket/ListarTicketsHistoricos", /* es importante poner los .. delante */
                        dataType: "json",
                        /*async: false,*/
                        data: {
                            StatusCategory: ValueFilterTicket,
                            StartDate: $("#txtFechaInicioTicketHistoric").val(),
                            EndDate: $("#txtFechaFinalTicketHistoric").val()
                        },
                        success: function (resultado) {
                            /*exitosamente*/
                            if (resultado.length > 0) {
                                /* proceso exitoso con datos*/
                                if (resultado[0].ValorConsulta == "1") {

                                    $("#LstTicketGeneralHistoric").removeClass("hidden");
                                    $("#imgCargaLstTicketGeneralHistoric").addClass("hidden");
                                    $("#msjErrorLstTicketGeneralHistoric").addClass("hidden");
                                    $("#msjVacioLstTicketGeneralHistoric").addClass("hidden");
                                    $("#msjErrorListarLstTicketGeneralHistoric").addClass("hidden");
                                    $("#msjErrorListarLstTicketGeneralHistoric").addClass("hidden");

                                    //$("#btnBuscar").prop('disabled', false);
                                    //$("#BtnExportarExcel").prop('disabled', false);

                                } else if (resultado[0].ValorConsulta == "-1") {

                                    $("#LstTicketGeneralHistoric").addClass("hidden");
                                    $("#imgCargaLstTicketGeneralHistoric").addClass("hidden");
                                    $("#msjErrorLstTicketGeneralHistoric").addClass("hidden");
                                    $("#msjVacioLstTicketGeneralHistoric").addClass("hidden");
                                    $("#msjErrorListarLstTicketGeneralHistoric").addClass("hidden");
                                    $("#msjErrorListarLstTicketGeneralHistoric").removeClass("hidden");

                                    //$("#btnBuscar").prop('disabled', false);
                                    //$("#BtnExportarExcel").prop('disabled', true);
                                }
                                else {
                                    /* proceso fallido catch listado datos*/
                                    $("#LstTicketGeneralHistoric").addClass("hidden");
                                    $("#imgCargaLstTicketGeneralHistoric").addClass("hidden");
                                    $("#msjErrorLstTicketGeneralHistoric").addClass("hidden");
                                    $("#msjVacioLstTicketGeneralHistoric").addClass("hidden");
                                    $("#msjErrorListarLstTicketGeneralHistoric").removeClass("hidden");
                                    $("#msjErrorListarLstTicketGeneralHistoric").addClass("hidden");

                                    //$("#btnBuscar").prop('disabled', true);
                                    //$("#BtnExportarExcel").prop('disabled', true);
                                    console.log(resultado);
                                }

                            } else {

                                $("#LstTicketGeneralHistoric").addClass("hidden");
                                $("#imgCargaLstTicketGeneralHistoric").addClass("hidden");
                                $("#msjErrorLstTicketGeneralHistoric").addClass("hidden");
                                $("#msjVacioLstTicketGeneralHistoric").removeClass("hidden");
                                $("#msjErrorListarLstTicketGeneralHistoric").addClass("hidden");
                                $("#msjErrorListarLstTicketGeneralHistoric").addClass("hidden");

                                //$("#btnBuscar").prop('disabled', false);
                                //$("#BtnExportarExcel").prop('disabled', true);
                            }

                            options.success(resultado);
                            var grid = $("#LstTicketGeneralHistoric").data("kendoGrid");
                            if (grid.dataSource.total() > 0) {
                                grid.setDataSource(dataSource);
                            }

                        },
                        error: function (xhr, ajaxOptions, thrownError) {
                            /*fallo al llamar a la funcion ajax*/
                            $("#LstTicketGeneralHistoric").addClass("hidden");
                            $("#imgCargaLstTicketGeneralHistoric").addClass("hidden");
                            $("#msjErrorLstTicketGeneralHistoric").removeClass("hidden");
                            $("#msjVacioLstTicketGeneralHistoric").addClass("hidden");
                            $("#msjErrorListarLstTicketGeneralHistoric").addClass("hidden");
                            $("#msjErrorListarLstTicketGeneralHistoric").addClass("hidden");

                            //$("#btnBuscar").prop('disabled', true);
                            //$("#BtnExportarExcel").prop('disabled', true);
                            console.log("ERROR AJAX : " + ajaxOptions);
                            console.log("ERROR AJAX : " + thrownError);
                            console.log(xhr.responseText);
                            console.log(xhr);

                        }
                    });
                },
                parameterMap: function (data, operation) {
                    if (operation !== "read" && data.models) {
                        return JSON.stringify({ JSONparam: data.models });
                    }
                }
            },
            error: function (e) {
                alert("Status: " + e.status + "; Error message: " + e.errorThrown);
            },
            batch: false,
            pageSize: PaginationKendoGrid,
            schema: {
                model: {
                    fields: {
                        IdTicket: { type: "number" },
                        NroTicket: { type: "string" },
                        StartDate: { type: "string" },
                        UsuarioNameTicket: { type: "string" },
                        ResponsibleNameTicket: { type: "string" },
                        FullNameTicket: { type: "string" },
                        OperationName: { type: "string" },
                        ReasonName: { type: "string" },
                        LocationNameTicket: { type: "string" },
                        CriticalityName: { type: "string" },
                        TitleDetalle: { type: "string" },
                        DetalleText: { type: "string" },
                        ResponsibleId: { type: "number" },
                        MigrationStatus: { type: "string" },
                        StatusTicket: { type: "string" },
                        CategoryTicketStatus: { type: "string" },
                    }
                }
            },
            group: [{
                field: "CategoryTicketStatus",
            }],
            //aggregate: [
            //    {
            //        field: "TicketNumber",
            //        aggregate: "count"
            //    },
            //    {
            //        field: "FuelQuantity",
            //        aggregate: "sum"
            //    }
            //]
        });

        $("#LstTicketGeneralHistoric").kendoGrid({
            dataSource: dataSource,
            sortable: true,
            pageable: true,
            columnMenu: true,
            columnMenu: {
                sortable: true,
                filterable: true,
                columns: true,
                messages: {
                    columns: KendoMsjColumnMenuColumns,
                    filter: KendoMsjColumnMenuFilter,
                    sortAscending: KendoMsjColumnMenuSortAscending,
                    sortDescending: KendoMsjColumnMenuSortDescending,
                    settings: KendoMsjSettings
                }
            },
            columnMenuInit: function (e) {
                var menu = e.container.find(".k-menu").data("kendoMenu");
                menu.bind("select", function (e) {
                    var EtiquetaInput = $(".k-animation-container > .k-menu-group > .k-item > .k-content > .k-filter-menu > .k-textbox :input");
                    EtiquetaInput.focus();
                });
            },
            groupable: true,
            reorderable: true,
            selectable: "row",
            scrollable: true,
            resizable: true,
            filterable: {
                multi: true,
                checkAll: true,
                search: true,
                messages: {
                    clear: KendoMsjClear,
                    filter: KendoMsjFilter,
                    selectedItemsFormat: KendoMsjSelectedItemsFormat,
                    checkAll: KendoMsjCheckAll,
                    search: KendoMsjSearch
                }
            },
            groupable: {
                info: true,
                messages: {
                    empty: "<b style='font-style:italic';>Arrastre una cabecera aquí para agrupar su información por esa columna</b>"
                }
            },
            pageable: {
                messages: {
                    empty: KendoMsjEmpty,
                    page: kendoMsjPage,
                    of: KendoMsjOf,
                    itemsPerPage: KendoMsjItemsPerPage,
                    first: KendoMsjFirst,
                    last: KendoMsjLast,
                    next: KendoMsjNext,
                    previous: KendoMsjPrevious,
                    refresh: KendoMsjRefresh,
                    morePages: KendoMsjMorePages,
                    display: KendoMsjDisplay
                },
                refresh: false,
                pageSizes: true,
                pageSizes: [5, 10, 15],
                /*para la cantidad de paginas se sugieren 5*/
                buttonCount: 5,
                /*Posicion de la pagina*/
                pageSize: 5
            },
            //excel: { fileName: "Listado de Acta de Reunión.xlsx", filterable: true, allPages: true },
            columns: [
                {
                    width: 50,
                    command: {
                        template:
                            "<button class='btn-grid btn-xs BtnVerInfo' type='button' title='Ver datos'><i class='fa fa-lg fa-fw fas fa-eye'></i></button>"
                        //+ " " +"<button class='btn-grid btn-xs BtnAnular' type='button' title='Ver datos'><i class='fa fa-lg fa-fw fas fa-ban'></i></button>"
                    },
                    attributes: { "class": "text-center" },
                    title: ""
                },
                { field: "NroTicket", title: "Nro. Ticket", width: 60, attributes: { "class": "text-center" } },
                { field: "TitleDetalle", title: "Titulo Ticket", width: 250, attributes: { "class": "text-center" } },
                { field: "OperationName", title: "Operacion", width: 100, attributes: { "class": "text-center" } },
                { field: "ResponsibleNameTicket", title: "Responsable", width: 100, attributes: { "class": "text-center" } },
                { field: "CategoryTicketStatus", title: "Tipo de Evento", hidden:true, width: 100, attributes: { "class": "text-center" } },
            ]
        });
    }

    $("#LstTicketGeneralHistoric").delegate(".BtnVerInfo", "click", function (e) {

         var grid = $("#LstTicketGeneralHistoric").data("kendoGrid");
         var myVar = grid.dataItem($(this).closest("tr"));

         var UserRegister = "@User.Identity.Name.ToUpper().ToString()";
         //console.log(UserRegister);
         UserRegister = UserRegister.split(',')[2];

         var UserRegister2 = "@User.Identity.Name.ToUpper().ToString()";
         //console.log(UserRegister);
         UserRegister2 = UserRegister2.split(',')[0];

         IdTicketLst = myVar.IdTicket;

         NroTicket = 0;
         FechaRegistroTicket = "";
         CallTicket = "";
         RegisterTicket = "";
         ResponsibleTicket = "";
         OperacionTicket = "";
         RazonTicket = "";
         LocationTicket = "";
         CriticidadTicket = "";
         DetalleTicket = "";
         TitleDetalle = "";

         NroTicketActivity = myVar.NroTicket;
         NroTicket = myVar.NroTicket;
         FechaRegistroTicket = myVar.StartDate;
         CallTicket = myVar.FullNameTicket;
         RegisterTicket = myVar.UsuarioNameTicket;
         ResponsibleTicket = myVar.ResponsibleNameTicket;
         OperacionTicket = myVar.OperationName;
         RazonTicket = myVar.ReasonName;
         LocationTicket = myVar.LocationNameTicket;
         CriticidadTicket = myVar.CriticalityName;
         DetalleTicket = myVar.DetalleText;
         UserResponsibleId = myVar.ResponsibleId;
         TitleDetalleTickets = myVar.TitleDetalle;
         /*-----------------------------------*/

         let divContainerDetelleTicket;
         divContainerDetelleTicket = document.getElementById('ContainerDetalleTicket');

         var ValorTextoContenedor = "";

         ValorTextoContenedor = "<div class='form-group' style='padding: 10px 0px 0px 20px;'>" +
            "<div class='col-xs-12 col-sm-12 col-md-3 col-lg-12'>" +
            "<div class='row'>" +
             "<label style='color: #2F4050'><strong>Titulo: </strong><span style='font-family:sans-serif;color:red'><strong>" + TitleDetalleTickets + "</strong></span></label>" +
            "</div>" +
            "<div class='row'>" +
            "<label style='color: #2F4050'><strong>Operación: </strong><span style='font-family:sans-serif;'>" + OperacionTicket + "</span></label>" +
            "</div>" +
            "<div class='row'>" +
            "<label style='color: #2F4050'><strong>Quien Llama: </strong><span style='font-family: sans-serif;'>" + CallTicket + "</span></label>" +
            "</div>" +
            "<div class='row'>" +
            "<label style='color: #2F4050'><strong>Razon: </strong><span style='font-family:sans-serif;'>" + RazonTicket + "</span></label>" +
            "</div>" +
            "<div class='row'>" +
            "<label style='color: #2F4050'><strong>Quien Registra: </strong><span style='font-family:sans-serif;'>" + RegisterTicket +"</span></label>" +
            "</div>" +
            "<div class='row'>" +
            "<label style='color: #2F4050'><strong>Responsable: </strong><span style='font-family: sans-serif;'>" + ResponsibleTicket + "</span></label>" +
            "</div>" +
            "<div class='row'>" +
            "<label style='color: #2F4050'><strong>Criticidad: </strong><span style='font-family: sans-serif;'>" + CriticidadTicket + "</span></label>" +
            "</div>" +
            "<div class='row'>" +
            "<label style='color: #2F4050'><strong>Fecha Inicio: </strong><span style='font-family: sans-serif;'>" + FechaRegistroTicket + "</span></label>" +
            "</div>" +
            "<div class='row'>" +
            "<label style='color: #2F4050'><strong>Locación: </strong><span style='font-family: sans-serif;'>" + LocationTicket + "</span></label>" +
            "</div>" +
            "<div class='row'>" +
            "<label style='color: #2F4050'> <strong> Detalle Ticket: </strong></label>" +
            "<div style='width: 95%; display:flex; flex-flow:row nowrap;'>" +
            "<textarea style='font-family: sans-serif;min-width: 100%' class='form-control' id='lblDetallerTicket2' name='lblDetallerTicket2' disabled rows='9'>" + DetalleTicket + "</textarea>" +
             "</div>" +
             "</div>" +
             "<div class='row' style='margin-top: 10px;'>" +
                "<label style='color: #2F4050'><strong>Listado de Archivos: </strong></label>" +
             "</div>" +
             "<div class='row' id='ContenedorArchivosTicket2' style='margin-top: 5px; width:100%'>" +
             //"<table class='table table-striped'>"+
             //    "<thead>"+
             //        "<tr>"+
             //        "<th scope='col'>#</th>"+
             //        "<th scope='col'>First</th>"+
             //        "<th scope='col'>Last</th>"+
             //        "<th scope='col'>Handle</th>"+
             //        "</tr>"+
             //    "</thead>"+
             //    "<tbody>"+
             //       "<tr>"+
             //       "<th scope='row'>1</th>"+
             //       "<td>Mark</td>"+
             //       "<td>Otto</td>"+
             //       "<td>mdo</td>"+
             //       "</tr>"+
             //       "<tr>"+
             //       "<th scope='row'>2</th>"+
             //       "<td>Jacob</td>"+
             //       "<td>Thornton</td>"+
             //       "<td>fat</td>"+
             //       "</tr>"+
             //       "<tr>"+
             //       "<th scope='row'>3</th>"+
             //       "<td>Larry</td>"+
             //       "<td>the Bird</td>"+
             //       "<td>twitter</td>"+
             //       "</tr>"+
             //     "</tbody>"+
             // "</table>"+
             "</div>" +
             "</div>" +
             "</div >";


            divContainerDetelleTicket.innerHTML = ValorTextoContenedor;


            $("#ContainerDetalleTicket").removeClass("hidden");
            $("#imgCargaContainerDetalleTicket").addClass("hidden");
            $("#msjErrorContainerDetalleTicket").addClass("hidden");
            $("#msjVacioContainerDetalleTicket").addClass("hidden");
            $("#msjErrorListarContainerDetalleTicket").addClass("hidden");
            $("#msjSuperaLimiteContainerDetalleTicket").addClass("hidden");


         /*----------------------------------*/

         //let FechaInicioModificado = document.querySelector("#lblFechaInicioAlertas2");
         //FechaInicioModificado.innerHTML = "";
         //FechaInicioModificado.innerHTML = FechaRegistroTicket;

         var titulo;
         titulo = document.getElementById("lblModelTicketEditAlertas2");

         if (myVar.MigrationStatus == 'C') {

             titulo.innerHTML = NroTicket + " - " + "<span style='color:green'>COMPLETADO</span>";

         } else {

             titulo.innerHTML = NroTicket + " - " + "<span style='color:#dada27f7'>PENDIENTE</span>";

         }

         ListadoDescripcionVitacora2(NroTicketActivity);
         GrillaListadoArchivoTicket2();
         ListadoDetalleActiviadesTicket(IdTicketLst);
         ListadoDetalleActiviadesAllFiles();
         //GrillaListadoActividadAlertas();


         $('#ModalHistoricTicket').modal('show');

    });

    function ListadoDetalleActiviadesAllFiles() {

        $("#ContainerActivitiesAllFiles").addClass("hidden");
        $("#imgCargaContainerActivitiesAllFiles").removeClass("hidden");
        $("#msjErrorContainerActivitiesAllFiles").addClass("hidden");
        $("#msjVacioContainerActivitiesAllFiles").addClass("hidden");
        $("#msjErrorListarContainerActivitiesAllFiles").addClass("hidden");
        $("#msjSuperaLimiteContainerActivitiesAllFiles").addClass("hidden");

        $.ajax({
            type: "GET", /*Puede ser post*/
            url: tRutaServidor + "/ListGeneralActivity/ListarTodosArchivosDeActividades", /* es importante poner los .. delante*/
            contentType: "application/json; charset=utf-8",
            dataType: "json",
            data: {
                IdTicket: IdTicketLst,
                RadioFile: ValueRadioFile
            },
            success: function (resultado) {
                /*exitosamente*/
                if (resultado.length > 0) {
                    /* proceso exitoso con datos*/
                    if (resultado[0].ValorConsulta == "1") {


                        divContainerActivitiesAllFiles.innerHTML = "";

                        var GenerateTableFiles;
                        var ContadorInicial = 0;

                        GenerateTableFiles = "";

                        GenerateTableFiles =  "<table class='table table-bordered'>" +
                            "<thead>" +
                            "<tr>" +
                            "<th scope='col'></th>" +
                            "<th scope='col'>Nombre Archivo</th>" +
                            "<th scope='col'>Registrado Por</th>" +
                            "<th scope='col'>Fecha Registro</th>" +
                            "</tr>" +
                            "</thead>" +
                            "<tbody>";

/*                        for (i = 0; i < resultado.length; i++) {*/

                         for (z = 0; z < resultado.length; z++) {

                             var ButtonType = "";

                             /*  if (resultado[i].IdActivity == resultado[z].IdActivityFiles) {*/

                                 if (resultado[z].TipoArchivo == 'ACTV') {

                                     ButtonType = "<td style='width:85px'><button class='btn-grid btn-xs' onClick='DescargarArchivoActividad(\"" + resultado[z].PathFile + "\")' style='margin-left:15px;border:none' type='button' title='Descargar'><i class='fa fa-lg fa-fw fas fa-cloud-download'></i></button></td>";
                                 }
                                 else if (resultado[z].TipoArchivo == 'INF') {

                                     var TituloInforme;
                                     var NameParaQuienInforme;
                                     var AsuntoInforme;
                                     var OperationName;
                                     var StartDate;
                                     var AntecedentesInforme;
                                     var ConclusionesInforme;
                                     var ReportRecommendations;
                                     var ActivityDevelopInforme;

                                     TituloInforme = resultado[z].TituloInforme;
                                     NameParaQuienInforme = resultado[z].NameParaQuienInforme;
                                     AsuntoInforme = resultado[z].AsuntoInforme;
                                     OperationName = resultado[z].OperacionNombre;
                                     StartDate = resultado[z].FechaRegistroInforme;
                                     AntecedentesInforme = resultado[z].AntecedentesInforme;
                                     ConclusionesInforme = resultado[z].ConclusionesInforme;
                                     ReportRecommendations = resultado[z].ReportRecommendations;
                                     ActivityDevelopInforme = resultado[z].ActivityDevelopInforme;

                                     TituloInforme = TituloInforme.replace(/\n/g, " ");
                                     NameParaQuienInforme = NameParaQuienInforme.replace(/\n/g, " ");
                                     AsuntoInforme = AsuntoInforme.replace(/\n/g, " ");
                                     OperationName = OperationName.replace(/\n/g, " ");
                                     StartDate = StartDate.replace(/\n/g, " ");
                                     AntecedentesInforme = AntecedentesInforme.replace(/\n/g, " ");
                                     ConclusionesInforme = ConclusionesInforme.replace(/\n/g, " ");
                                     ReportRecommendations = ReportRecommendations.replace(/\n/g, " ");
                                     ActivityDevelopInforme = ActivityDevelopInforme.replace(/\n/g, " ");

                                     ButtonType = "<td style='width:85px'><button class='btn-grid btn-xs' onClick='DescargarInformeActividad(\"" + TituloInforme + "\", \"" + NameParaQuienInforme + "\", \"" + AsuntoInforme + "\", \"" + OperationName + "\", \"" + StartDate + "\", \"" + AntecedentesInforme + "\", \"" + ConclusionesInforme + "\", \"" + ReportRecommendations + "\", \"" + ActivityDevelopInforme + "\")' style='margin-left:15px;border:none' type='button' title='Descargar'><i class='fa fa-lg fa-fw fas fa-cloud-download'></i></button></td>";

                                 }

                                 GenerateTableFiles += "<tr>" +
                                     ButtonType +
                                     "<td>" + resultado[z].TituloInforme + "</td>" +
                                     "<td>" + resultado[z].NameParaQuienInforme + "</td>" +
                                     "<td>" + resultado[z].RegistrationDateString + "</td>" +
                                     "</tr>";
                             /*  }*/
                         }
/*                        }*/

                        GenerateTableFiles += "</tbody>" +
                            "</table>";
                              /*  "</div>";*/

                        /*-----------------------*/

                         divContainerActivitiesAllFiles.innerHTML = GenerateTableFiles;

                         $("#ContainerActivitiesAllFiles").removeClass("hidden");
                         $("#imgCargaContainerActivitiesAllFiles").addClass("hidden");
                         $("#msjErrorContainerActivitiesAllFiles").addClass("hidden");
                         $("#msjVacioContainerActivitiesAllFiles").addClass("hidden");
                         $("#msjErrorListarContainerActivitiesAllFiles").addClass("hidden");
                         $("#msjSuperaLimiteContainerActivitiesAllFiles").addClass("hidden");

                    }
                    else {
                        //estadoCargarGrafico11 = "0";
                        //estadoCargarGrafico11 = "0";

                        /*Grafico 1*/
                        $("#ContainerActivitiesAllFiles").addClass("hidden");
                        $("#imgCargaContainerActivitiesAllFiles").addClass("hidden");
                        $("#msjErrorContainerActivitiesAllFiles").addClass("hidden");
                        $("#msjVacioContainerActivitiesAllFiles").addClass("hidden");
                        $("#msjErrorListarContainerActivitiesAllFiles").removeClass("hidden");
                        $("#msjSuperaLimiteContainerActivitiesAllFiles").addClass("hidden");

                        /*                  $("#btnBuscarStatusTicket").prop('disabled', true);*/
                        /*  $("#BtnExportarExcel").prop('disabled', true);*/

                    }

                } else {

                    //$("#btnBuscarReporteCotizaciones").prop('disabled', false);
                    //estadoCargarGrafico11 = "0";
                    //estadoCargarGrafico11 = "0";
                    /*Grafico 1*/
                    $("#ContainerActivitiesAllFiles").addClass("hidden");
                    $("#imgCargaContainerActivitiesAllFiles").addClass("hidden");
                    $("#msjErrorContainerActivitiesAllFiles").addClass("hidden");
                    $("#msjVacioContainerActivitiesAllFiles").removeClass("hidden");
                    $("#msjErrorListarContainerActivitiesAllFiles").addClass("hidden");
                    $("#msjSuperaLimiteContainerActivitiesAllFiles").addClass("hidden");

                    /*$("#btnBuscarStatusTicket").prop('disabled', false);*/
                    //$("#BtnExportarExcel").prop('disabled', false);

                }
            },
            error: function (xhr, ajaxOptions, thrownError) {
                //estadoCargarGrafico10 = "0";
                //estadoCargarGrafico11 = "0";
                /*fallo al llamar a la funcion ajax*/
                /*Grafico 1*/
                $("#ContainerActivitiesAllFiles").addClass("hidden");
                $("#imgCargaContainerActivitiesAllFiles").addClass("hidden");
                $("#msjErrorContainerActivitiesAllFiles").removeClass("hidden");
                $("#msjVacioContainerActivitiesAllFiles").addClass("hidden");
                $("#msjErrorListarContainerActivitiesAllFiles").addClass("hidden");
                $("#msjSuperaLimiteContainerActivitiesAllFiles").addClass("hidden");

                /*  $("#btnBuscarStatusTicket").prop('disabled', true);*/
                /*  $("#BtnExportarExcel").prop('disabled', true);*/

                console.log("ERROR AJAX : " + ajaxOptions);
                console.log("ERROR AJAX : " + thrownError);
                console.log(xhr.responseText);
                console.log(xhr);

            }
        });
    }

    function ListadoDetalleActiviadesTicket(ValuesIdTicket) {

        $("#ContainerActivitiesFiles").addClass("hidden");
        $("#imgCargaContainerActivitiesFiles").removeClass("hidden");
        $("#msjErrorContainerActivitiesFiles").addClass("hidden");
        $("#msjVacioContainerActivitiesFiles").addClass("hidden");
        $("#msjErrorListarContainerActivitiesFiles").addClass("hidden");
        $("#msjSuperaLimiteContainerActivitiesFiles").addClass("hidden");

        $.ajax({
            type: "GET", /*Puede ser post*/
            url: tRutaServidor + "/ListGeneralActivity/ListarArchivosDeActividades", /* es importante poner los .. delante*/
            contentType: "application/json; charset=utf-8",
            dataType: "json",
            data: {
                IdTicket: ValuesIdTicket
            },
            success: function (resultado) {
                /*exitosamente*/
                if (resultado.length > 0) {
                    /* proceso exitoso con datos*/
                    if (resultado[0].ValorConsulta == "1") {

                        var ContenedorTexto2 = "";

                        divContainerActivitiesTicket.innerHTML = "";
                        //ContenedorTexto = "<div class='row'>"+
                        //                        "<h2 class='modal-title'>"+
                        //                                "<label style='color:dodgerblue;text-decoration-line: underline;margin-left:15px'>"+
                        //                                    "<strong>Detalle Actividades</strong>"+
                        //                                "</label>"+
                        //                         "</h2>"+
                        //                  "</div>";

                        /*var ValueTextActivity;*/
                        var ValorContenidoVitacora2;
                        var ContadorInicial = 0;

                        for (i = 0; i < resultado.length; i++) {

                            ValorContenidoVitacora2 = "";

                            if (resultado[i].IdActivity != 0) {

                                for (x = 0; x < resultado.length; x++) {

                                    if (resultado[i].IdActivity == resultado[x].IdActivityDetail) {

                                        ValorContenidoVitacora2 += "---- " + resultado[x].RegistrationDateString + " -- " + resultado[x].ResponsibleActivity + " ----" + '\r\n' + resultado[x].DescriptionBoard + '\r\n' + '\r\n';

                                    }
                                }

                                ContadorInicial = ContadorInicial + 1;

                                ContenedorTexto2 += "<div class='content'>" +
                                    "<div class='panel-group' id='accordionFacturacion" + ContadorInicial + "' role='tablist' aria-multiselectable='true'>" +
                                    "<div class='panel panel-default'>" +
                                    "<div class='panel-heading' id='headingFacturacion" + ContadorInicial+"' role='tab'>" +
                                    "<h4 class='panel-title'><a id='acordeonFacturación" + ContadorInicial + "' role='button' class='collapsed no-collapsable' data-toggle='collapse' data-parent='#accordionFacturacion" + ContadorInicial + "' href='#collapseFacturacion" + ContadorInicial + "' aria-expanded='false' aria-controls='collapseFacturacion" + ContadorInicial + "'>Nro. " + ContadorInicial + " - " + resultado[i].ActivityText + "<i class='pull-right fa fa-plus'></i></a></h4>" +
                                    "</div>" +
                                    "<div class='panel-collapse collapse' id='collapseFacturacion" + ContadorInicial + "' role='tabpanel' aria-labelledby='headingFacturacion" + ContadorInicial + "'>" +
                                    "<div class='panel-body' id='divFacturacionArchivos'>" +
                                    "<div class='row form-group'>" +
                                    "<section class='col-xs-12 col-sm-12 col-md-6 col-lg-12 form-group'>" +
                                    "<label style='color: #2F4050'><strong>Sustento de la Actividad: </strong></label>" +
                                    "<div style='width: 100%; display:flex; flex-flow:row nowrap;'>" +
                                    "<textarea style='min-width: 100%' class='form-control' id='' name='' rows='6' disabled>" + ValorContenidoVitacora2 + "</textarea>" +
                                    "</div>" +
                                    "</section>" +
                                    "</div>" +
                                    "</div>" +
                                    "</div>" +
                                    "</div>" +
                                    "</div>";

                                    //ContenedorTexto2 += "<div style='padding:15px 30px 10px 30px'>" +
                                    //    "<div class='row'>" +
                                    //    "<label><strong>Nro. " + ContadorInicial + " - " + resultado[i].ActivityText + "</strong></label>" +
                                    //    "</div>" +
                                    //    "<div class='row' style='margin-top:13px'>" +
                                    //    "<label><strong>Vitacora Actividad</strong></label>" +
                                    //    "<div style='display:flex; flex-flow:row nowrap;'>" +
                                    //    "<textarea style='min-width: 100%' class='form-control' id='' name='' disabled rows='6'>" + ValorContenidoVitacora2 + "</textarea>" +
                                    //    "</div>" +
                                    //     /*GenerateTableFiles +*/
                                    //    "</div>" +
                                    //    "</div>";
                            }

                        }

                        ContenedorTexto2 += "</div>";

                        divContainerActivitiesTicket.innerHTML = ContenedorTexto2;

                        $("#ContainerActivitiesFiles").removeClass("hidden");
                        $("#imgCargaContainerActivitiesFiles").addClass("hidden");
                        $("#msjErrorContainerActivitiesFiles").addClass("hidden");
                        $("#msjVacioContainerActivitiesFiles").addClass("hidden");
                        $("#msjErrorListarContainerActivitiesFiles").addClass("hidden");
                        $("#msjSuperaLimiteContainerActivitiesFiles").addClass("hidden");

                    }
                    else {
                        //estadoCargarGrafico11 = "0";
                        //estadoCargarGrafico11 = "0";

                        /*Grafico 1*/
                        $("#ContainerActivitiesFiles").addClass("hidden");
                        $("#imgCargaContainerActivitiesFiles").addClass("hidden");
                        $("#msjErrorContainerActivitiesFiles").addClass("hidden");
                        $("#msjVacioContainerActivitiesFiles").addClass("hidden");
                        $("#msjErrorListarContainerActivitiesFiles").removeClass("hidden");
                        $("#msjSuperaLimiteContainerActivitiesFiles").addClass("hidden");

                        /*                  $("#btnBuscarStatusTicket").prop('disabled', true);*/
                        /*  $("#BtnExportarExcel").prop('disabled', true);*/

                        }

                } else {

                    //$("#btnBuscarReporteCotizaciones").prop('disabled', false);
                    //estadoCargarGrafico11 = "0";
                    //estadoCargarGrafico11 = "0";
                    /*Grafico 1*/
                    $("#ContainerActivitiesFiles").addClass("hidden");
                    $("#imgCargaContainerActivitiesFiles").addClass("hidden");
                    $("#msjErrorContainerActivitiesFiles").addClass("hidden");
                    $("#msjVacioContainerActivitiesFiles").removeClass("hidden");
                    $("#msjErrorListarContainerActivitiesFiles").addClass("hidden");
                    $("#msjSuperaLimiteContainerActivitiesFiles").addClass("hidden");

                    /*$("#btnBuscarStatusTicket").prop('disabled', false);*/
                    //$("#BtnExportarExcel").prop('disabled', false);

                }
            },
            error: function (xhr, ajaxOptions, thrownError) {
                //estadoCargarGrafico10 = "0";
                //estadoCargarGrafico11 = "0";
                /*fallo al llamar a la funcion ajax*/
                /*Grafico 1*/
                $("#ContainerActivitiesFiles").addClass("hidden");
                $("#imgCargaContainerActivitiesFiles").addClass("hidden");
                $("#msjErrorContainerActivitiesFiles").removeClass("hidden");
                $("#msjVacioContainerActivitiesFiles").addClass("hidden");
                $("#msjErrorListarContainerActivitiesFiles").addClass("hidden");
                $("#msjSuperaLimiteContainerActivitiesFiles").addClass("hidden");

                /*  $("#btnBuscarStatusTicket").prop('disabled', true);*/
                /*  $("#BtnExportarExcel").prop('disabled', true);*/

                console.log("ERROR AJAX : " + ajaxOptions);
                console.log("ERROR AJAX : " + thrownError);
                console.log(xhr.responseText);
                console.log(xhr);

            }
        });
    }

    function DescargarArchivoActividad(ValorFileDescargar) {

        window.open(ValorFileDescargar, '_blank');

    }

    function DescargarInformeActividad(TituloInfo, ParaQuienInfo, AsuntoInfo, OperacionInfo ,FechaRegistroInfo, AntecedenteInfo, ConclusionesInfo, RecomendacionesInfo,ActivityDevelop) {

        DesgarcarPDFInforme(TituloInfo, ParaQuienInfo, AsuntoInfo, OperacionInfo, FechaRegistroInfo, AntecedenteInfo, ConclusionesInfo, RecomendacionesInfo, ActivityDevelop);

    }

    function ListadoTablaActivityByResponsible() {

        var IdsReponsibleTable = "";

        var TextResponsible = "";

        TextResponsible = $("#selectorResponsibleByActividad").val();

        if (TextResponsible == '' || TextResponsible == null) {

            IdsReponsibleTable = '0'

        } else {

            IdsReponsibleTable = TextResponsible;
            IdsReponsibleTable = IdsReponsibleTable.toString();

        }

        $("#ContainerStatusActivitiesByResponsible").addClass("hidden");
        $("#imgCargaContainerStatusActivitiesByResponsible").removeClass("hidden");
        $("#msjErrorContainerStatusActivitiesByResponsible").addClass("hidden");
        $("#msjVacioContainerStatusActivitiesByResponsible").addClass("hidden");
        $("#msjErrorListarContainerStatusActivitiesByResponsible").addClass("hidden");
        $("#msjSuperaLimiteContainerStatusActivitiesByResponsible").addClass("hidden");

        $.ajax({
            type: "GET", /*Puede ser post*/
            url: tRutaServidor + "/Ticket/ListarActivityByreponsible", /* es importante poner los .. delante*/
            contentType: "application/json; charset=utf-8",
            dataType: "json",
            data: {
                StatusValue: StatusValorActRes,
                ReponsibleId: IdsReponsibleTable,
                StatusCategory: ValueFilterTicket
            },
            success: function (resultado) {
                /*exitosamente*/
                if (resultado.length > 0) {
                    /* proceso exitoso con datos*/
                    if (resultado[0].ValorConsulta == "1") {

                        var ContenedorListResponsable = "";
                        var PersonAliasRecord = "";

                        let divContainerActivityByResponsible;
                        divContainerActivityByResponsible = document.getElementById('ContainerStatusActivitiesByResponsible');/**/


                        //var PorcentajeActividad = "";
                        //var StatusBarProgressActividad = "";

                        //PorcentajeActividad = resultado[0].PercentageNumber;
                        //PorcentajeActividad = PorcentajeActividad.trim();

                        //if (PorcentajeActividad >= 0 && PorcentajeActividad <= 35) {

                        //    StatusBarProgressActividad = "#db2444";

                        //} else if (PorcentajeActividad > 35 && PorcentajeActividad <= 65) {

                        //    StatusBarProgressActividad = "#cbc202";

                        //} else if (PorcentajeActividad > 65 && PorcentajeActividad <= 100) {

                        //    StatusBarProgressActividad = "#24ce00";

                        //}

                        var ContenedorDeActividades = "";
                        var CantidadActividades = 0;
                        var CantidadActividadesLineas = 0;
                        var PrimerActivity = "1";
                        var TxtPrimeraActividad = "";
                        var TxtAliasValue = "";
                        var ColorPersonaActividad = "";
                        var ResponsableActividad = "";
                        ContenedorListResponsable = "<table class='tg'>" +
                            "<thead style='background-color:#212529;color:#fff;'>" +
                            "<tr>" +
                            "<th style='font-weight: bold; text-align: center'>Personal</th>" +
                            "<th style='font-weight:bold;text-align:center'>Actividad</th>" +
                            /* "<th style='font-weight:bold;text-align:center'>Barra Progreso</th>" +*/
                            "<th style='font-weight:bold;text-align:center'>Cantidad Actividad</th>" +
                            "</tr>" +
                            "</thead>" +
                            "<tbody>";

                        PersonAliasRecord = "";

                        for (x = 0; x < resultado.length; x++) {

                            if (PersonAliasRecord != resultado[x].PersonAlias) {

                                CantidadActividades = 0;
                                CantidadActividadesLineas = 0;
                                PrimerActivity = "1";
                                TxtPrimeraActividad = "";
                                ContenedorDeActividades = "";

                                for (t = 0; t < resultado.length; t++) {

                                    if (resultado[x].PersonAlias == resultado[t].PersonAlias) {

                                        CantidadActividadesLineas = CantidadActividadesLineas + 1;

                                    }

                                }

                               /* CantidadActividadesLineas = CantidadActividadesLineas + 1;*/

                                for (z = 0; z < resultado.length; z++) {

                                    if (resultado[x].PersonAlias == resultado[z].PersonAlias) {

                                         CantidadActividades = CantidadActividades + 1;

                                        if (PrimerActivity == '1') {

                                            if (CantidadActividadesLineas == CantidadActividades) {
                                                TxtPrimeraActividad = "<td class='tg-0lax' style='border-bottom: 5px solid black;'>" + resultado[z].ActivityText + "</td>";
                                            } else {
                                                TxtPrimeraActividad = "<td class='tg-0lax'>" + resultado[z].ActivityText + "</td>";
                                            }

                                            TxtAliasValue = resultado[x].PersonAlias;
                                            PersonAliasRecord = resultado[x].PersonAlias;
                                            ColorPersonaActividad = resultado[x].CodeColorOperation;
                                            ResponsableActividad = resultado[x].ResponsibleActivity;
                                            PrimerActivity = "2";

                                        } else {

                                            //if (CantidadActividades > CantidadActividadesLineas) {

                                            //    ContenedorDeActividades += "<tr style='border-bottom: 4px solid black;'>" +
                                            //        "<td class='tg-0lax'>" + resultado[z].ActivityText + "</td>" +
                                            //        //"<td class='tg-0lax' style='width:250px'>" +
                                            //        //"<div class='progress' style='margin: 0px 0px 0px 0px;border-radius:10px;border: 3px solid black;height:30px'><div class='progress-bar progress-bar-striped progress-bar-animated active' role='progressbar' style='background-color:" + StatusBarProgressActividad + ";width:" + PorcentajeActividad + "%;' aria-valuenow='25' aria-valuemin='0' aria-valuemax='100'><span>" + PorcentajeActividad+"%</span></div></div>" +
                                            //        //"</td>" +
                                            //        "</tr>";

                                            //} else {
                                            if (CantidadActividadesLineas == CantidadActividades) {

                                                ContenedorDeActividades += "<tr>" +
                                                    "<td class='tg-0lax' style='border-bottom: 5px solid black;'>" + resultado[z].ActivityText + "</td>" +
                                                    //"<td class='tg-0lax' style='width:250px'>" +
                                                    //"<div class='progress' style='margin: 0px 0px 0px 0px;border-radius:10px;border: 3px solid black;height:30px'><div class='progress-bar progress-bar-striped progress-bar-animated active' role='progressbar' style='background-color:" + StatusBarProgressActividad + ";width:" + PorcentajeActividad + "%;' aria-valuenow='25' aria-valuemin='0' aria-valuemax='100'><span>" + PorcentajeActividad+"%</span></div></div>" +
                                                    //"</td>" +
                                                    "</tr>";

                                            } else {

                                                ContenedorDeActividades += "<tr>" +
                                                    "<td class='tg-0lax'>" + resultado[z].ActivityText + "</td>" +
                                                    //"<td class='tg-0lax' style='width:250px'>" +
                                                    //"<div class='progress' style='margin: 0px 0px 0px 0px;border-radius:10px;border: 3px solid black;height:30px'><div class='progress-bar progress-bar-striped progress-bar-animated active' role='progressbar' style='background-color:" + StatusBarProgressActividad + ";width:" + PorcentajeActividad + "%;' aria-valuenow='25' aria-valuemin='0' aria-valuemax='100'><span>" + PorcentajeActividad+"%</span></div></div>" +
                                                    //"</td>" +
                                                    "</tr>";
                                            }


                                          /*  }*/
                                        }
                                    }
                                }

                                ContenedorListResponsable += "<tr>" +
                                    "<td class='tg-0lax' colspan='1' rowspan='" + CantidadActividades + "' style='width:200px;border-bottom: 5px solid black;'>" +
                                    "<div style='margin-left:15px;'>"+
                                    "<button style='background:" + ColorPersonaActividad + ";color:white;font-size:18px;border:3px solid black;height:50px;width:50px;border-radius:40px;margin-left:65px;margin-top:6px;font-weight: bold;' title='" + ResponsableActividad+"'> " + TxtAliasValue + "  </button>" +
                                    "</div>" +
                                    "</td>" +
                                    TxtPrimeraActividad +
                                    //"<td class='tg-0lax ' style='width:250px'>" +
                                    //"<div class='progress' style='margin: 0px 0px 0px 0px; border-radius: 10px; border: 3px solid black; height: 30px'><div class='progress-bar progress-bar-striped progress-bar-animated active' role='progressbar' style='background-color:" + StatusBarProgressActividad + ";width:" + PorcentajeActividad + "%;' aria-valuenow='25' aria-valuemin='0' aria-valuemax='100'><span>" + PorcentajeActividad+"%</span></div></div>" +
                                    //"</td>" +
                                    "<td class='tg-0lax' colspan='1' rowspan='" + CantidadActividades + "' style='width:200px;border-bottom: 5px solid black;'>" +
                                    "<div style='margin-left:15px'>" +
                                    "<button style='border:4px solid " + ColorPersonaActividad + ";background:white;height:45px;width:45px;border-radius:35px;margin-left:65px;margin-top:6px;font-size:16px;font-weight: bold;' title='" + ResponsableActividad + "'>" + CantidadActividades + "</button>" +
                                    "</div>" +
                                    "</td>" +
                                    "</tr>" +
                                    ContenedorDeActividades;

                            }

                        }

                         ContenedorListResponsable += "</tbody></table>";

                         divContainerActivityByResponsible.innerHTML = ContenedorListResponsable;

                        $("#ContainerStatusActivitiesByResponsible").removeClass("hidden");
                        $("#imgCargaContainerStatusActivitiesByResponsible").addClass("hidden");
                        $("#msjErrorContainerStatusActivitiesByResponsible").addClass("hidden");
                        $("#msjVacioContainerStatusActivitiesByResponsible").addClass("hidden");
                        $("#msjErrorListarContainerStatusActivitiesByResponsible").addClass("hidden");
                        $("#msjSuperaLimiteContainerStatusActivitiesByResponsible").addClass("hidden");

                    }
                    else {
                        //estadoCargarGrafico11 = "0";
                        //estadoCargarGrafico11 = "0";

                        /*Grafico 1*/
                        $("#ContainerStatusActivitiesByResponsible").addClass("hidden");
                        $("#imgCargaContainerStatusActivitiesByResponsible").addClass("hidden");
                        $("#msjErrorContainerStatusActivitiesByResponsible").addClass("hidden");
                        $("#msjVacioContainerStatusActivitiesByResponsible").addClass("hidden");
                        $("#msjErrorListarContainerStatusActivitiesByResponsible").removeClass("hidden");
                        $("#msjSuperaLimiteContainerStatusActivitiesByResponsible").addClass("hidden");

                        /*                  $("#btnBuscarStatusTicket").prop('disabled', true);*/
                        /*  $("#BtnExportarExcel").prop('disabled', true);*/

                    }

                } else {

                    //$("#btnBuscarReporteCotizaciones").prop('disabled', false);
                    //estadoCargarGrafico11 = "0";
                    //estadoCargarGrafico11 = "0";
                    /*Grafico 1*/
                    $("#ContainerStatusActivitiesByResponsible").addClass("hidden");
                    $("#imgCargaContainerStatusActivitiesByResponsible").addClass("hidden");
                    $("#msjErrorContainerStatusActivitiesByResponsible").addClass("hidden");
                    $("#msjVacioContainerStatusActivitiesByResponsible").removeClass("hidden");
                    $("#msjErrorListarContainerStatusActivitiesByResponsible").addClass("hidden");
                    $("#msjSuperaLimiteContainerStatusActivitiesByResponsible").addClass("hidden");

                    /*$("#btnBuscarStatusTicket").prop('disabled', false);*/
                    //$("#BtnExportarExcel").prop('disabled', false);

                }
            },
            error: function (xhr, ajaxOptions, thrownError) {
                //estadoCargarGrafico10 = "0";
                //estadoCargarGrafico11 = "0";
                /*fallo al llamar a la funcion ajax*/
                /*Grafico 1*/
                $("#ContainerStatusActivitiesByResponsible").addClass("hidden");
                $("#imgCargaContainerStatusActivitiesByResponsible").addClass("hidden");
                $("#msjErrorContainerStatusActivitiesByResponsible").removeClass("hidden");
                $("#msjVacioContainerStatusActivitiesByResponsible").addClass("hidden");
                $("#msjErrorListarContainerStatusActivitiesByResponsible").addClass("hidden");
                $("#msjSuperaLimiteContainerStatusActivitiesByResponsible").addClass("hidden");

                /*  $("#btnBuscarStatusTicket").prop('disabled', true);*/
                /*  $("#BtnExportarExcel").prop('disabled', true);*/

                console.log("ERROR AJAX : " + ajaxOptions);
                console.log("ERROR AJAX : " + thrownError);
                console.log(xhr.responseText);
                console.log(xhr);

            }
        });
    }

    $("#btnBuscarResponsablebyActividad").click(function () {

        ListadoTablaActivityByResponsible();

    });

    $("#BtnDashboardActivities").click(function () {

        $('html,body').animate({
            scrollTop: $("#widget-grid4").offset().top
        },
            'slow');

    });

    $("#btnVitacoraHistorico").click(function () {

        $('#ModalHistVitacora').modal('show');

    });

    /*------------ GRAFICO TICKET ESTAOD ------------*/

    function listadoValidityStatusTicket(estado) {

        $.ajax({
            type: "GET", /*Puede ser post*/
            url: tRutaServidor + "/Ticket/ListQuantityTicketStatus", /* es importante poner los .. delante*/
            contentType: "application/json; charset=utf-8",
            data: {
                fechaInicio: $("#txtFechaInicioValidityTicket").val(),
                fechaFin: $("#txtFechaFinalValidityTicket").val(),
                ValueTicketFilter: ValueFilterTicket
            },
            dataType: "json",
            success: function (resultado) {

                /*exitosamente*/
                if (resultado.length > 0) {
                    /* proceso exitoso con datos*/
                    if (resultado[0].ValorConsulta == "1") {

                        if (resultado[0].CantidadTicketPendiente == 0 && resultado[0].CantidadTicketCompletado == 0) {

                            $("#grGraficaValidityStatusTicket").addClass("hidden");
                            $("#imgCargaGraficaValidityStatusTicket").addClass("hidden");
                            $("#msjErrorGraficaValidityStatusTicket").addClass("hidden");
                            $("#msjVacioGraficaValidityStatusTicket").removeClass("hidden");
                            $("#msjErrorListarGraficaValidityStatusTicket").addClass("hidden");
                            $("#msjSuperaLimiteGraficaValidityStatusTicket").addClass("hidden");

                        } else {

                            //$("#ContenedorExGrafica1").removeClass("hidden");
                            //$("#btnExGrafica1").prop('disabled', false);

                            estadoCargarGraficoVT1 = "1";
                            //estadoCargarGrafico11 = "1";

                            resultadojsonVT1 = resultado;
                            //listadoEstadosCotizaciones(resultado, estado);

                            llamadaValidityStatusTicket(estado);
                        }

                    }
                    else {
                        //estadoCargarGrafico11 = "0";
                        //estadoCargarGrafico11 = "0";

                        /*Grafico 1*/
                        $("#grGraficaValidityStatusTicket").addClass("hidden");
                        $("#imgCargaGraficaValidityStatusTicket").addClass("hidden");
                        $("#msjErrorGraficaValidityStatusTicket").addClass("hidden");
                        $("#msjVacioGraficaValidityStatusTicket").addClass("hidden");
                        $("#msjErrorListarGraficaValidityStatusTicket").removeClass("hidden");
                        $("#msjSuperaLimiteGraficaValidityStatusTicket").addClass("hidden");

                        //$("#ContenedorExGrafica11").addClass("hidden");
                        //$("#btnExGrafica11").prop('disabled', true);

                        $("#btnBuscarVT1").prop('disabled', true);
                    }

                } else {

                    //$("#btnBuscarReporteCotizaciones").prop('disabled', false);
                    //estadoCargarGrafico11 = "0";
                    //estadoCargarGrafico11 = "0";
                    /*Grafico 1*/
                    $("#grGraficaValidityStatusTicket").addClass("hidden");
                    $("#imgCargaGraficaValidityStatusTicket").addClass("hidden");
                    $("#msjErrorGraficaValidityStatusTicket").addClass("hidden");
                    $("#msjVacioGraficaValidityStatusTicket").removeClass("hidden");
                    $("#msjErrorListarGraficaValidityStatusTicket").addClass("hidden");
                    $("#msjSuperaLimiteGraficaValidityStatusTicket").addClass("hidden");

                    //$("#ContenedorExGrafica11").addClass("hidden");
                    //$("#btnExGrafica11").prop('disabled', true);
                    $("#btnBuscarVT1").prop('disabled', false);

                }

            },
            error: function (xhr, ajaxOptions, thrownError) {
                //estadoCargarGrafico10 = "0";
                //estadoCargarGrafico11 = "0";
                /*fallo al llamar a la funcion ajax*/
                /*Grafico 1*/
                $("#grGraficaValidityStatusTicket").addClass("hidden");
                $("#imgCargaGraficaValidityStatusTicket").addClass("hidden");
                $("#msjErrorGraficaValidityStatusTicket").removeClass("hidden");
                $("#msjVacioGraficaValidityStatusTicket").addClass("hidden");
                $("#msjErrorListarGraficaValidityStatusTicket").addClass("hidden");
                $("#msjSuperaLimiteGraficaValidityStatusTicket").addClass("hidden");

                //$("#ContenedorExGrafica10").addClass("hidden");
                //$("#btnExGrafica10").prop('disabled', true);
                $("#btnBuscarVT1").prop('disabled', true);

                console.log("ERROR AJAX : " + ajaxOptions);
                console.log("ERROR AJAX : " + thrownError);
                console.log(xhr.responseText);
                console.log(xhr);

            }
        });
    }

    function llamadaValidityStatusTicket(estado) {

        if (estado == "1") {

            /**Llamar a la funcion que dibuja el grafico, y en caso se mueva la pantalla redibujar*/
            google.charts.load('visualization', '1.0', { 'packages': ['corechart'] });
            google.charts.setOnLoadCallback(DibujarValidityStatusTicket);

            //Valor1 = '1';

        } else {
            ConvertirValidityStatusTicket(estado);
        }
    }

    function DibujarValidityStatusTicket() {
        ConvertirValidityStatusTicket("1");
    }

    function ConvertirValidityStatusTicket(estado) {


        var dataTableData = new google.visualization.DataTable();
        dataTableData.addColumn('string', 'Cantidad'); // Implicit domain label col.
        dataTableData.addColumn('number', 'Pendiente');
        dataTableData.addColumn({ type: 'string', role: 'annotation' });
        dataTableData.addColumn('number', 'Completado');
        dataTableData.addColumn({ type: 'string', role: 'annotation' });

        var CantidadPendientes;
        var CantidadCompletados;

        for (i = 0; i < resultadojsonVT1.length; i++) { //recorro todas las fechas únicas

            CantidadPendientes = resultadojsonVT1[i].CantidadTicketPendiente;
            CantidadCompletados = resultadojsonVT1[i].CantidadTicketCompletado;

            if (CantidadPendientes == 0) {
                CantidadPendientes = CantidadPendientes.toString();
            } else {
                CantidadPendientes = CantidadPendientes.toString();
            }

            if (CantidadCompletados == 0) {
                CantidadCompletados = CantidadCompletados.toString();
            } else {
                CantidadCompletados = CantidadCompletados.toString();
            }

            dataTableData.addRow([resultadojsonVT1[i].ColumnValue, resultadojsonVT1[i].CantidadTicketPendiente, CantidadPendientes, resultadojsonVT1[i].CantidadTicketCompletado, CantidadCompletados]);
        }

        dataGroupGraficoVT1 = dataTableData;
        GraficaValidityStatusTicket(estado);
    }

    function GraficaValidityStatusTicket(estado) {

        var optionsGrafico1 = {
            title: 'Grafico de Estado Ticket',
            isStacked: false,
            titleTextStyle: {
                //color: '#0288d1',
                color: 'black',
                fontName: 'Arial',
                fontSize: 20,
                bold: true,
                italic: true,
            },
            // focusTarget: 'category',
            vAxis: {
                title: 'CANTIDAD TICKET X ESTADO',
                titleTextStyle: {
                    fontSize: '15px',
                    color: "#439889",
                    bold: true,
                    italic: true,
                },
                //format: '#,### gal',
                format: '0',
                //viewWindowMode: 'explicit',
                // viewWindow: {   // De que rango a que rango se podra visualizar
                //    max: dataGroupGrafico1.getColumnRange(0).max,
                //    min: 0
                //},
                gridlines: {
                    count: 12   // Lineas grises que se desprenderan del eje y de manera horizonatal.
                },
                textStyle: {
                    color: "#0288d1",
                    fontName: 'Arial',
                    fontSize: '15px',
                    bold: true,
                    italic: true
                },
            },
            hAxis: {
                showTextEvery: 1,
                //slantedText: true,
                //slantedTextAngle: 10,
                titleTextStyle: {
                    fontSize: '15px',
                    color: "#439889",
                    bold: true,
                    italic: true,
                },
                textStyle: {
                    color: "#0288d1",
                    fontName: 'Arial',
                    fontSize: '15px',
                    bold: true,
                    italic: true,
                },
                format: '0',
            },
            animation: {
                duration: 600,
                easing: 'linear', //Constant speed.
                //easing: 'in', // Ease in - Start slow and speed up.
                //easing: 'out', // Ease out - Start fast and slow down.
                //easing: 'inAndOut', // Ease in and out - Start slow, speed up, then slow down.
                startup: true,
            },

            /**Opciones para quitar los margenes y padding por defecto*/
            //chartArea: {
            //    width: "100%",
            //    //height: "80%",
            //    left: 60,
            //    right: 20,
            //    //top: 40,
            //    //bottom: 20,
            //},
            lineWidth: 2,
            pointShape: 'point',
            pointSize: 5,
            legend: {
                position: 'bottom',
                textStyle: {
                    bold: true,
                    italic: true,
                },
            },
            crosshair: { trigger: 'both' },
            //crosshair: { trigger: 'focus' }
            //crosshair: { trigger: 'selection' }
            //crosshair: { orientation: 'both' }
            //crosshair: { orientation: 'horizontal' }
            //crosshair: { orientation: 'vertical' }
            //crosshair: { color: "red" } //'red' or '#f00'
            //crosshair: { opacity: opacity_number }
            //crosshair: { focused: { color: color_string } }
            //crosshair: { focused: { opacity: opacity_number } }
            //crosshair: { selected: { color: color_string } }
            //crosshair: { selected: { opacity: opacity_number } }
            tooltip: {
                isHtml: false,
                showColorCode: true,
                textStyle: {
                    //color:  "red",//<string>,
                    //fontName: "",//<string>,
                    fontSize: 10,//<number>,
                    bold: true,//<boolean>,
                    //italic: false//<boolean>

                },
                //trigger: 'focus',// - The tooltip will be displayed when the user hovers over the element.
                //trigger: 'none', //- The tooltip will not be displayed.
                trigger: 'selection',// - The tooltip will be displayed when the user selects the element.
            }

        };

        if (estado == "1") {
            var chartDiv = document.getElementById('grGraficaValidityStatusTicket');
            pchartGVT1 = new google.visualization.ColumnChart(chartDiv);
        }

        $("#grGraficaValidityStatusTicket").removeClass("hidden");
        $("#imgCargaGraficaValidityStatusTicket").addClass("hidden");
        $("#msjErrorGraficaValidityStatusTicket").addClass("hidden");
        $("#msjVacioGraficaValidityStatusTicket").addClass("hidden");
        $("#msjErrorListarGraficaValidityStatusTicket").addClass("hidden");
        $("#msjSuperaLimiteGraficaValidityStatusTicket").addClass("hidden");

        //$("#ContenedorExGrafica12").removeClass("hidden");
        //$("#btnExGrafica12").prop('disabled', false);
        //$("#btnBuscar").prop('disabled', false);

        if (estado == "1") {
            /********************************EVENTO ***READY****************************************/
            google.visualization.events.addListener(pchartGVT1, 'ready', function () {
                //alert(1);
                try {
                    /*Centrar el titulo del grafico */
                    var $container = $('#grGraficaValidityStatusTicket');
                    widthGVT1 = $container.find('svg').width();
                    //heightG10 = $container.find('svg').height();
                    //var $titleElem = $container.find("text:contains(" + optionsGrafico12.title + ")");
                    //var titleWidth = $titleElem.html().length * ($titleElem.attr('font-size') / 2);
                    //var xAxisAlign = (widthG12 - titleWidth) / 2;
                    //$titleElem.attr('x', xAxisAlign);

                } catch (e) {
                    console.log(e);
                }
                /*Setear valor para el exportar*/
                ImageURIVT1 = pchartGVT1.getImageURI();

                /*Redibujar la grafica al cambiar del tamaño de pantalla*/
                 /*reDibujarGrafica1();*/

            });

            /******************************EVENTO ****ERROR*****************************************/
            google.visualization.events.addListener(pchartGVT1, 'error', function (error) {
                /**Para remover el mensaje de error de google del grafico (Tambien hay un atributo para remover todos los errores)*/
                console.log(error);
                google.visualization.errors.removeError(error.id);
            });
        }

        pchartGVT1.draw(dataGroupGraficoVT1, optionsGrafico1);


        var columns = [];
        var series = {};
        for (var i = 0; i < dataGroupGraficoVT1.getNumberOfColumns(); i++) {
            columns.push(i);

            if (i > 0) {
                series[i - 1] = {};

            }
        }

        if (estado == "1") {
            /***********************************EVENTO-SELECT********************************************/
            google.visualization.events.addListener(pchartGVT1, 'select', function () {

                var selection = pchartGVT1.getSelection();

                if (selection.length > 0) {
                    var columnIndex = selection[0].column;
                    var columnLabel = dataGroupGraficoVT1.getColumnLabel(columnIndex);

                    if (columnLabel == 'Pendiente') {

                        ValorStatusTicket = 'P';

                        coloresBarraVigencia = ['#3366cc'];

                        listadoTicketStatusPenCom('1');

                    } else if (columnLabel == 'Completado') {

                        ValorStatusTicket = 'C';

                        coloresBarraVigencia = ['#dc3912'];

                        listadoTicketStatusPenCom('1');

                    }

                }

            });

            /**********************************EVENTO-ONMOUSEOVER*********************************************************************/
            google.visualization.events.addListener(pchartGVT1, 'onmouseover', function () { document.getElementById('grGraficaValidityStatusTicket').style.cursor = 'pointer'; });

            /**********************************EVENTO-ONMOUSEOUT**********************************************************************/
            google.visualization.events.addListener(pchartGVT1, 'onmouseout', function () { document.getElementById('grGraficaValidityStatusTicket').style.cursor = 'default'; });
        }

    }

    /*------------ GRAFICO TICKET PENDIENTE/COMPLETADO ------------*/

    $('#selectorOperacionValidity').on('changed.bs.select', function (e, clickedIndex, isSelected, previousValue) {

        OperationIdValidity = "";

        OperationIdValidity = $("#selectorOperacionValidity").val();

        if (OperationIdValidity == null || OperationIdValidity == undefined) {
            OperationIdValidity = "0";
        } else {
            OperationIdValidity = OperationIdValidity.toString();
        }

    });

    function listadoTicketStatusPenCom(estado) {



        $.ajax({
            type: "GET", /*Puede ser post*/
            url: tRutaServidor + "/Ticket/ListQuantityTickePenCom", /* es importante poner los .. delante*/
            contentType: "application/json; charset=utf-8",
            data: {
                //fechaInicio: $("#txtFechaInicioValidityTicket").val(),
                //fechaFin: $("#txtFechaFinalValidityTicket").val(),
                StatusTicket: 'P',
                StatusTicketCreation: StatusTicketMovil2,
                ValueTicketFilter: ValueFilterTicket,
                OperationId: OperationIdValidity
            },
            dataType: "json",
            success: function (resultado) {

                /*exitosamente*/
                if (resultado.length > 0) {
                    /* proceso exitoso con datos*/
                    if (resultado[0].ValorConsulta == "1") {

                        if (resultado.length > 20) {

                             toastr.options.timeOut = nTiempoMedio;
                             toastr.options.extendedTimeOut = nTiempoMedio;
                             /*success - info - warning - error*/
                             var $toast = toastr["error"]("El maximo de columnas es de 20 registros", tTituloAlerta); $toastlast = $toast;

                             $("#grGraficaTicketAllByStatus").addClass("hidden");
                             $("#imgCargaGraficaTicketAllByStatus").addClass("hidden");
                             $("#msjErrorGraficaTicketAllByStatus").addClass("hidden");
                             $("#msjVacioGraficaTicketAllByStatus").removeClass("hidden");
                             $("#msjErrorListarGraficaTicketAllByStatus").addClass("hidden");
                             $("#msjSuperaLimiteGraficaTicketAllByStatus").addClass("hidden");

                        } else {

                            //$("#ContenedorExGrafica1").removeClass("hidden");
                            //$("#btnExGrafica1").prop('disabled', false);

                            estadoCargarGraficoTABS = "1";
                            //estadoCargarGrafico11 = "1";

                            resultadojsonTABS = resultado;
                            //listadoEstadosCotizaciones(resultado, estado);

                            $("#TitleTicketValidity").val(resultado[0].TitleDescription);
                            $("#NumberTicketValidity").val(resultado[0].NumberTicket);
                            $("#DateCreationValidity").val(resultado[0].StartDate);
                            $("#OperationTicketValidity").val(resultado[0].OperationName);
                            $("#ResponsibleTicketValidity").val(resultado[0].ResponsibleName);

                            llamadaTicketStatusPenCom(estado);
                        }



                    }
                    else {
                        //estadoCargarGrafico11 = "0";
                        //estadoCargarGrafico11 = "0";

                        /*Grafico 1*/
                        $("#grGraficaTicketAllByStatus").addClass("hidden");
                        $("#imgCargaGraficaTicketAllByStatus").addClass("hidden");
                        $("#msjErrorGraficaTicketAllByStatus").addClass("hidden");
                        $("#msjVacioGraficaTicketAllByStatus").addClass("hidden");
                        $("#msjErrorListarGraficaTicketAllByStatus").removeClass("hidden");
                        $("#msjSuperaLimiteGraficaTicketAllByStatus").addClass("hidden");

                        //$("#ContenedorExGrafica11").addClass("hidden");
                        //$("#btnExGrafica11").prop('disabled', true);

                       /* $("#btnBuscarVT1").prop('disabled', true);*/
                    }

                } else {

                    //$("#btnBuscarReporteCotizaciones").prop('disabled', false);
                    //estadoCargarGrafico11 = "0";
                    //estadoCargarGrafico11 = "0";
                    /*Grafico 1*/
                    $("#grGraficaTicketAllByStatus").addClass("hidden");
                    $("#imgCargaGraficaTicketAllByStatus").addClass("hidden");
                    $("#msjErrorGraficaTicketAllByStatus").addClass("hidden");
                    $("#msjVacioGraficaTicketAllByStatus").removeClass("hidden");
                    $("#msjErrorListarGraficaTicketAllByStatus").addClass("hidden");
                    $("#msjSuperaLimiteGraficaTicketAllByStatus").addClass("hidden");

                    //$("#ContenedorExGrafica11").addClass("hidden");
                    //$("#btnExGrafica11").prop('disabled', true);
                 /*   $("#btnBuscarVT1").prop('disabled', false);*/

                }

            },
            error: function (xhr, ajaxOptions, thrownError) {
                //estadoCargarGrafico10 = "0";
                //estadoCargarGrafico11 = "0";
                /*fallo al llamar a la funcion ajax*/
                /*Grafico 1*/
                $("#grGraficaTicketAllByStatus").addClass("hidden");
                $("#imgCargaGraficaTicketAllByStatus").addClass("hidden");
                $("#msjErrorGraficaTicketAllByStatus").removeClass("hidden");
                $("#msjVacioGraficaTicketAllByStatus").addClass("hidden");
                $("#msjErrorListarGraficaTicketAllByStatus").addClass("hidden");
                $("#msjSuperaLimiteGraficaTicketAllByStatus").addClass("hidden");

                //$("#ContenedorExGrafica10").addClass("hidden");
                //$("#btnExGrafica10").prop('disabled', true);
                /*$("#btnBuscarVT1").prop('disabled', true);*/

                console.log("ERROR AJAX : " + ajaxOptions);
                console.log("ERROR AJAX : " + thrownError);
                console.log(xhr.responseText);
                console.log(xhr);

            }
        });
    }

    function llamadaTicketStatusPenCom(estado) {

        if (estado == "1") {

            /**Llamar a la funcion que dibuja el grafico, y en caso se mueva la pantalla redibujar*/
            google.charts.load('visualization', '1.0', { 'packages': ['corechart'] });
            google.charts.setOnLoadCallback(DibujarTicketStatusPenCom);

            //Valor1 = '1';

        } else {
            ConvertirTicketStatusPenCom(estado);
        }
    }

    function DibujarTicketStatusPenCom() {
        ConvertirTicketStatusPenCom("1");
    }

    function ConvertirTicketStatusPenCom(estado) {


        var dataTableData = new google.visualization.DataTable();
        dataTableData.addColumn('string', 'Tickets'); // Implicit domain label col.
        dataTableData.addColumn('number', 'Duracion dias');
        dataTableData.addColumn({ type: 'string', role: 'annotation' });
        //dataTableData.addColumn('number', 'Completado');
        //dataTableData.addColumn({ type: 'string', role: 'annotation' });

        //var CantidadPendientes;
        var CantidadDiasVigencia;

        for (i = 0; i < resultadojsonTABS.length; i++) { //recorro todas las fechas únicas

            CantidadDiasVigencia = resultadojsonTABS[i].DifferenceDays;

            if (CantidadDiasVigencia == 0) {
                CantidadDiasVigencia = CantidadDiasVigencia.toString();
            } else {
                CantidadDiasVigencia = CantidadDiasVigencia.toString();
            }

            dataTableData.addRow([resultadojsonTABS[i].NumberTicket, resultadojsonTABS[i].DifferenceDays, CantidadDiasVigencia]);
        }

        dataGroupGraficoTABS = dataTableData;
        GraficaTicketStatusPenCom(estado);
    }

    function GraficaTicketStatusPenCom(estado) {

        var optionsGrafico1 = {
            title: 'Grafico de Cantidad de Dias X Tickets Pendientes',
            isStacked: false,
            titleTextStyle: {
                //color: '#0288d1',
                color: 'black',
                fontName: 'Arial',
                fontSize: 20,
                bold: true,
                italic: true,
            },
            // focusTarget: 'category',
            vAxis: {
                title: 'CANTIDAD DIAS',
                titleTextStyle: {
                    fontSize: '15px',
                    color: "#439889",
                    bold: true,
                    italic: true,
                },
                //format: '#,### gal',
                format: '0',
                //viewWindowMode: 'explicit',
                // viewWindow: {   // De que rango a que rango se podra visualizar
                //    max: dataGroupGrafico1.getColumnRange(0).max,
                //    min: 0
                //},
                gridlines: {
                    count: 12   // Lineas grises que se desprenderan del eje y de manera horizonatal.
                },
                textStyle: {
                    color: "#0288d1",
                    fontName: 'Arial',
                    fontSize: '16px',
                    bold: true,
                    italic: true
                },
            },
            hAxis: {
                showTextEvery: 1,
                //slantedText: true,
                //slantedTextAngle: 10,
                titleTextStyle: {
                    fontSize: '15px',
                    color: "#439889",
                    bold: true,
                    italic: true,
                },
                textStyle: {
                    color: "#0288d1",
                    fontName: 'Arial',
                    fontSize: '15px',
                    bold: true,
                    italic: true,
                },
                format: '0',
            },
            animation: {
                duration: 600,
                easing: 'linear', //Constant speed.
                //easing: 'in', // Ease in - Start slow and speed up.
                //easing: 'out', // Ease out - Start fast and slow down.
                //easing: 'inAndOut', // Ease in and out - Start slow, speed up, then slow down.
                startup: true,
            },

            /**Opciones para quitar los margenes y padding por defecto*/
            //chartArea: {
            //    width: "100%",
            //    //height: "80%",
            //    left: 60,
            //    right: 20,
            //    //top: 40,
            //    //bottom: 20,
            //},
            lineWidth: 2,
            pointShape: 'point',
            pointSize: 5,
            legend: {
                position: 'bottom',
                textStyle: {
                    bold: true,
                    italic: true,
                },
            },
            crosshair: { trigger: 'both' },
            //crosshair: { trigger: 'focus' }
            //crosshair: { trigger: 'selection' }
            //crosshair: { orientation: 'both' }
            //crosshair: { orientation: 'horizontal' }
            //crosshair: { orientation: 'vertical' }
            //crosshair: { color: "red" } //'red' or '#f00'
            //crosshair: { opacity: opacity_number }
            //crosshair: { focused: { color: color_string } }
            //crosshair: { focused: { opacity: opacity_number } }
            //crosshair: { selected: { color: color_string } }
            //crosshair: { selected: { opacity: opacity_number } }
            tooltip: {
                isHtml: false,
                showColorCode: true,
                textStyle: {
                    //color:  "red",//<string>,
                    //fontName: "",//<string>,
                    fontSize: 16,//<number>,
                    bold: true,//<boolean>,
                    //italic: false//<boolean>

                },
                //trigger: 'focus',// - The tooltip will be displayed when the user hovers over the element.
                //trigger: 'none', //- The tooltip will not be displayed.
                trigger: 'selection',// - The tooltip will be displayed when the user selects the element.
            },
            colors: ['#dc3912'] // Cambia los colores aquí
        };

        if (estado == "1") {
            var chartDiv = document.getElementById('grGraficaTicketAllByStatus');
            pchartGTABS = new google.visualization.ColumnChart(chartDiv);
        }

        $("#grGraficaTicketAllByStatus").removeClass("hidden");
        $("#imgCargaGraficaTicketAllByStatus").addClass("hidden");
        $("#msjErrorGraficaTicketAllByStatus").addClass("hidden");
        $("#msjVacioGraficaTicketAllByStatus").addClass("hidden");
        $("#msjErrorListarGraficaTicketAllByStatus").addClass("hidden");
        $("#msjSuperaLimiteGraficaTicketAllByStatus").addClass("hidden");

        //$("#ContenedorExGrafica12").removeClass("hidden");
        //$("#btnExGrafica12").prop('disabled', false);
        //$("#btnBuscar").prop('disabled', false);

        if (estado == "1") {
            /********************************EVENTO ***READY****************************************/
            google.visualization.events.addListener(pchartGTABS, 'ready', function () {
                //alert(1);
                try {
                    /*Centrar el titulo del grafico */
                    var $container = $('#grGraficaTicketAllByStatus');
                    widthGTABS = $container.find('svg').width();
                    //heightG10 = $container.find('svg').height();
                    //var $titleElem = $container.find("text:contains(" + optionsGrafico12.title + ")");
                    //var titleWidth = $titleElem.html().length * ($titleElem.attr('font-size') / 2);
                    //var xAxisAlign = (widthG12 - titleWidth) / 2;
                    //$titleElem.attr('x', xAxisAlign);

                } catch (e) {
                    console.log(e);
                }
                /*Setear valor para el exportar*/
                ImageURITABS = pchartGTABS.getImageURI();

                /*Redibujar la grafica al cambiar del tamaño de pantalla*/
                /*reDibujarGrafica1();*/

            });

            /******************************EVENTO ****ERROR*****************************************/
            google.visualization.events.addListener(pchartGTABS, 'error', function (error) {
                /**Para remover el mensaje de error de google del grafico (Tambien hay un atributo para remover todos los errores)*/
                console.log(error);
                google.visualization.errors.removeError(error.id);
            });
        }

        pchartGTABS.draw(dataGroupGraficoTABS, optionsGrafico1);


        var columns = [];
        var series = {};
        for (var i = 0; i < dataGroupGraficoTABS.getNumberOfColumns(); i++) {
            columns.push(i);

            if (i > 0) {
                series[i - 1] = {};

            }
        }

        if (estado == "1") {
            /***********************************EVENTO-SELECT********************************************/
            google.visualization.events.addListener(pchartGTABS, 'select', function () {

                var selection = pchartGTABS.getSelection();
                var ValNumberTicket;

                if (selection.length > 0) {

                     var rowIndex = selection[0].row;
                     ValNumberTicket = dataGroupGraficoTABS.getValue(rowIndex, 0); // Obtiene el valor de la columna "Ticket"

                     for (i = 0; i < resultadojsonTABS.length; i++) {

                         if (ValNumberTicket == resultadojsonTABS[i].NumberTicket) {

                             $("#TitleTicketValidity").val(resultadojsonTABS[i].TitleDescription);
                             $("#NumberTicketValidity").val(resultadojsonTABS[i].NumberTicket);
                             $("#DateCreationValidity").val(resultadojsonTABS[i].StartDate);
                             $("#OperationTicketValidity").val(resultadojsonTABS[i].OperationName);
                             $("#ResponsibleTicketValidity").val(resultadojsonTABS[i].ResponsibleName);

                         }

                     }
                }

            });

            /**********************************EVENTO-ONMOUSEOVER*********************************************************************/
            google.visualization.events.addListener(pchartGTABS, 'onmouseover', function () { document.getElementById('grGraficaTicketAllByStatus').style.cursor = 'pointer'; });

            /**********************************EVENTO-ONMOUSEOUT**********************************************************************/
            google.visualization.events.addListener(pchartGTABS, 'onmouseout', function () { document.getElementById('grGraficaTicketAllByStatus').style.cursor = 'default'; });
        }

    }

    /*--------------------------------------------------------*/

    $("#btnBuscarVT1").click(function () {

        listadoTicketStatusPenCom('1');

    });

    $("#btnEnviarProblemSolution").click(function () {

        let Conclusion;
        let Solucion;
        let lstComponents;

        Conclusion = $("#txtProblemticket").val();
        Solucion = $("#txtSolutionticket").val();
        lstComponents = $("#selectorComponente").val();

        Conclusion = Conclusion.trim();
        Solucion = Solucion.trim();

        if (lstComponents == "" || lstComponents == null) {

            toastr.options.timeOut = nTiempoCorto;
            toastr.options.extendedTimeOut = nTiempoCorto;
            /*success - info - warning - error*/
            var $toast = toastr["error"]("Es necesario ingresar algun Componente al ticket", tTituloError); $toastlast = $toast;
            return;

        }

        if (Conclusion == "" || Conclusion == null) {

            toastr.options.timeOut = nTiempoCorto;
            toastr.options.extendedTimeOut = nTiempoCorto;
            /*success - info - warning - error*/
            var $toast = toastr["error"]("Es necesario ingresar la Conclusion del Ticket", tTituloError); $toastlast = $toast;
            return;

        }


        if (Solucion == "" || Solucion == null) {

            toastr.options.timeOut = nTiempoCorto;
            toastr.options.extendedTimeOut = nTiempoCorto;
            /*success - info - warning - error*/
            var $toast = toastr["error"]("Es necesario ingresar la Solucion del Ticket", tTituloError); $toastlast = $toast;
            return;

        }

        RegistrarDatosProblemaSolucion();


    });

    $("#btnEditDetailTicketID").click(function () {

        if (TitleTicketGlobal == "") {

            if ($("#TitleDetalleTicketMovil").val() == "" || $("#TitleDetalleTicketMovil").val() == null || $("#TitleDetalleTicketMovil").val() == undefined) {

                toastr.options.timeOut = nTiempoCorto;
                toastr.options.extendedTimeOut = nTiempoCorto;
                /*success - info - warning - error*/
                var $toast = toastr["error"]("Es necesario ingresar un Titulo de Ticket", tTituloError); $toastlast = $toast;
                return;

            }
        }

        if (LocationTicket == undefined) {

            if ($("#selectorTicketLocationComplete").val() == "" || $("#selectorTicketLocationComplete").val() == null || $("#selectorTicketLocationComplete").val() == undefined) {

                toastr.options.timeOut = nTiempoCorto;
                toastr.options.extendedTimeOut = nTiempoCorto;
                /*success - info - warning - error*/
                var $toast = toastr["error"]("Es necesario ingresar una Locación", tTituloError); $toastlast = $toast;
                return;

            }
        }


        if ($("#lblDetallerTicket").val() == "" || $("#lblDetallerTicket").val() == null || $("#lblDetallerTicket").val() == undefined) {

            toastr.options.timeOut = nTiempoCorto;
            toastr.options.extendedTimeOut = nTiempoCorto;
            /*success - info - warning - error*/
            var $toast = toastr["error"]("Es necesario ingresar Detalle del Ticket", tTituloError); $toastlast = $toast;
            return;

        }

        @*var UserRegister = "@User.Identity.Name.ToUpper().ToString()";
        UserRegister = UserRegister.split(',')[2];

        var UserRegister2 = "@User.Identity.Name.ToUpper().ToString()";
        UserRegister2 = UserRegister2.split(',')[0];

        if (UserRegister2 == 1 || UserRegister2 == UserResponsibleId || UserRegister == 10) {*@

        ActualizarDetalleTicketMovil();

        //} else {

        //     toastr.options.timeOut = nTiempoCorto;
        //     toastr.options.extendedTimeOut = nTiempoCorto;
        //     /*success - info - warning - error*/
        //     var $toast = toastr["error"]("Solo quien genera el ticket y el responsable pueden editar el ticket", tTituloError); $toastlast = $toast;
        //     return;

        //}


    });

    function ActualizarDetalleTicketMovil() {

        $("#CargaTemporal").removeClass("hidden");

        var IdLocationTicketDetail = 0;

        var TitleDetalleX1 = "";

        if (TitleTicketGlobal != "") {
            TitleDetalleX1 = "";
        } else {
            TitleDetalleX1 = $("#TitleDetalleTicketMovil").val().trim();
        }

        if (LocationTicket != "") {
            IdLocationTicketDetail = 0;
        } else {
            IdLocationTicketDetail = $("#selectorTicketLocationComplete").val()[0];
        }

        $.ajax({
            type: "POST",
            url: tRutaServidor + "/Ticket/ActualizarDetalleTicketMovil",
            dataType: "json",
            data: {
                TicketIdMovil: IdTicketLst,
                TitleDetailMovil: TitleDetalleX1,
                IdLocationDetail: IdLocationTicketDetail,
                DetailTicket: $("#lblDetallerTicket").val().trim()
            },
            success: function (resultado) {

                if (resultado.length > 0) {

                    if (resultado[0].ValorConsulta == "1") {

                        if (resultado[0].TitleValue == '1') {

                            var lblTitleTicket;
                            lblTitleTicket = document.getElementById("lblTitleTicket");
                            lblTitleTicket.innerHTML = $("#TitleDetalleTicketMovil").val();

                            $(".ContainerTitlelbl").removeClass("hidden");
                            $(".ContainerTitleComplete").addClass("hidden");

                        }

                        if (resultado[0].LocationValue == '1') {

                            var lblLocacion;
                            lblLocacion = document.getElementById("lblLocationTicket");

                            var selectElement = document.getElementById("selectorTicketLocationComplete");
                            // Obtén el índice de la opción seleccionada
                            var selectedIndex = selectElement.selectedIndex;
                            // Obtén el texto de la opción seleccionada
                            var selectedText = selectElement.options[selectedIndex].text;

                            lblLocacion.innerHTML = selectedText;

                            $(".ContainerLocationlbl").removeClass("hidden");
                            $(".ContainerLocationComplete").addClass("hidden");
                        }

                        if (resultado[0].DetailValue == '1') {

                            $("#lblDetallerTicket").prop('disabled', true);
                        }

                      /*  $(".btnEditDetailTicket").addClass("hidden");*/

                        toastr.options.timeOut = nTiempoMedio;
                        toastr.options.extendedTimeOut = nTiempoMedio;
                        /*success - info - warning - error*/
                        var $toast = toastr["success"](tMensajeActualizadoExito, tTituloExito); $toastlast = $toast;


                        GrillaListadoBusqueda();
                    }

                 } else {

                     toastr.options.timeOut = nTiempoMedio;
                     toastr.options.extendedTimeOut = nTiempoMedio;
                     /*success - info - warning - error*/
                     var $toast = toastr["error"]("Hubo un error", tTituloError); $toastlast = $toast;
                     console.log("Mensaje del error : " + resultado);
                }

                $("#CargaTemporal").addClass("hidden");

            },
            error: function (xhr, ajaxOptions, thrownError) {
                /*fallo al llamar a la funcion ajax*/
                toastr.options.timeOut = nTiempoLargo;
                toastr.options.extendedTimeOut = nTiempoLargo;
                /*success - info - warning - error*/
                var $toast = toastr["error"](tMensajeErrorConexion, tTituloErrorConexion); $toastlast = $toast;
                console.log("ERROR AJAX : " + ajaxOptions);
                console.log("ERROR AJAX : " + thrownError);
                console.log(xhr.responseText);
                console.log(xhr);

            }
        });
    };

    function RegistrarDatosProblemaSolucion() {

        $("#CargaTemporal").removeClass("hidden");

        let ValueTxtProblema;
        let ValueTxtSolucion;
        let ValuelstComponentes;

        ValueTxtProblema = $("#txtProblemticket").val();
        ValueTxtProblema = ValueTxtProblema.trim();

        ValueTxtSolucion = $("#txtSolutionticket").val().trim();
        ValueTxtSolucion = ValueTxtSolucion.trim();

        ValuelstComponentes = $("#selectorComponente").val().toString();

        $.ajax({
            type: "POST",
            url: tRutaServidor + "/Ticket/ActualizarSolutionTicketMovil",
            dataType: "json",
            data: {
                TicketIdMovil: IdTicketLst,
                ValueLstComponent: ValuelstComponentes,
                ValueProblem: ValueTxtProblema,
                ValueSolution: ValueTxtSolucion
            },
            success: function (resultado) {

                if (resultado == "1") {

                    $("#selectorComponente").prop('disabled', true);
                    $("#txtProblemticket").prop('disabled', true);
                    $("#txtSolutionticket").prop('disabled', true);
                    $("#btnEnviarProblemSolution").prop('disabled', true);

                    toastr.options.timeOut = nTiempoMedio;
                    toastr.options.extendedTimeOut = nTiempoMedio;
                    /*success - info - warning - error*/
                    var $toast = toastr["success"](tMensajeActualizadoExito, tTituloExito); $toastlast = $toast;

                    ValidarStatusActividades();
                    GrillaListadoBusqueda();


                } else if (resultado == "2"){

                    toastr.options.timeOut = nTiempoMedio;
                    toastr.options.extendedTimeOut = nTiempoMedio;
                    /*success - info - warning - error*/
                    var $toast = toastr["error"]("Hubo un error al registrar los componentes", tTituloError); $toastlast = $toast;

                } else if (resultado == "3") {

                    toastr.options.timeOut = nTiempoMedio;
                    toastr.options.extendedTimeOut = nTiempoMedio;
                    /*success - info - warning - error*/
                    var $toast = toastr["error"]("Hubo un error al registrar las Conclusiones y Soluciones", tTituloError); $toastlast = $toast;

                }


                $("#CargaTemporal").addClass("hidden");

            },
            error: function (xhr, ajaxOptions, thrownError) {
                /*fallo al llamar a la funcion ajax*/
                toastr.options.timeOut = nTiempoLargo;
                toastr.options.extendedTimeOut = nTiempoLargo;
                /*success - info - warning - error*/
                var $toast = toastr["error"](tMensajeErrorConexion, tTituloErrorConexion); $toastlast = $toast;
                console.log("ERROR AJAX : " + ajaxOptions);
                console.log("ERROR AJAX : " + thrownError);
                console.log(xhr.responseText);
                console.log(xhr);

            }
        });
    };

    function ActualizarSolucionTicketMovil() {

        $("#CargaTemporal").removeClass("hidden");

        $.ajax({
            type: "POST",
            url: tRutaServidor + "/Ticket/ActualizarSolutionTicketMovil",
            dataType: "json",
            data: {
                TicketIdMovil : IdTicketLst,
               /* TitleDetailMovil: $("#TitleDetalleTicketMovil").val(),*/
                TicketProblem: $("#txtProblemticket").val(),
                TicketSolution: $("#txtSolutionticket").val(),
            },
            success: function (resultado) {

                if (resultado == "1") {

                    toastr.options.timeOut = nTiempoMedio;
                    toastr.options.extendedTimeOut = nTiempoMedio;
                    /*success - info - warning - error*/
                    var $toast = toastr["success"](tMensajeActualizadoExito, tTituloExito); $toastlast = $toast;

                    /*$("#txtProblemticket").prop('disabled', true);*/
                    /*$("#txtSolutionticket").prop('disabled', true);*/

                    GrillaListadoBusqueda();

                } else if (resultado == '2') {

                    toastr.options.timeOut = nTiempoMedio;
                    toastr.options.extendedTimeOut = nTiempoMedio;
                    /*success - info - warning - error*/
                    var $toast = toastr["success"]("Hubo un error al editar los datos", tTituloExito); $toastlast = $toast;
                    return;
                }else {
                    toastr.options.timeOut = nTiempoMedio;
                    toastr.options.extendedTimeOut = nTiempoMedio;
                    /*success - info - warning - error*/
                    var $toast = toastr["error"]("Hubo un error", tTituloError); $toastlast = $toast;
                    console.log("Mensaje del error : " + resultado);
                }

                $("#CargaTemporal").addClass("hidden");

            },
            error: function (xhr, ajaxOptions, thrownError) {
                /*fallo al llamar a la funcion ajax*/
                toastr.options.timeOut = nTiempoLargo;
                toastr.options.extendedTimeOut = nTiempoLargo;
                /*success - info - warning - error*/
                var $toast = toastr["error"](tMensajeErrorConexion, tTituloErrorConexion); $toastlast = $toast;
                console.log("ERROR AJAX : " + ajaxOptions);
                console.log("ERROR AJAX : " + thrownError);
                console.log(xhr.responseText);
                console.log(xhr);

            }
        });
    };

    function ValidateOperation() {

        $("#CargaTemporal").removeClass("hidden");

        $.ajax({
            type: "POST",
            url: tRutaServidor + "/Ticket/ValidationByOperation",
            dataType: "json",
            data: {
                IdTicket: IdTicketLst
            },
            success: function (resultado) {

                if (resultado == "1") {

                    toastr.options.timeOut = nTiempoMedio;
                    toastr.options.extendedTimeOut = nTiempoMedio;
                    /*success - info - warning - error*/
                    var $toast = toastr["success"](tMensajeActualizadoExito, tTituloExito); $toastlast = $toast;

                    $("#btnValidateTicket").prop('disabled', true);
                    $("#chkValidationOperation").prop('disabled', true);

                    GrillaListadoBusqueda();

                } else if (resultado == '2') {

                    toastr.options.timeOut = nTiempoMedio;
                    toastr.options.extendedTimeOut = nTiempoMedio;
                    /*success - info - warning - error*/
                    var $toast = toastr["success"]("Hubo un error al editar los datos", tTituloExito); $toastlast = $toast;
                    return;

                } else {
                    toastr.options.timeOut = nTiempoMedio;
                    toastr.options.extendedTimeOut = nTiempoMedio;
                    /*success - info - warning - error*/
                    var $toast = toastr["error"]("Hubo un error", tTituloError); $toastlast = $toast;
                    console.log("Mensaje del error : " + resultado);
                }

                $("#CargaTemporal").addClass("hidden");

            },
            error: function (xhr, ajaxOptions, thrownError) {
                /*fallo al llamar a la funcion ajax*/
                toastr.options.timeOut = nTiempoLargo;
                toastr.options.extendedTimeOut = nTiempoLargo;
                /*success - info - warning - error*/
                var $toast = toastr["error"](tMensajeErrorConexion, tTituloErrorConexion); $toastlast = $toast;
                console.log("ERROR AJAX : " + ajaxOptions);
                console.log("ERROR AJAX : " + thrownError);
                console.log(xhr.responseText);
                console.log(xhr);

            }
        });
    };

    $("#btnSubirInformeTicket").click(function () {

        LimpiarEtiquetasTicketInform();

        $("#btnGenerateInformeTicket").removeClass("hidden");
        $("#btnEditarInformeTicket").addClass("hidden");

        $('#ModalInformeTicket').modal('show');

    });

    $("#btnCerrarInformeTicket").click(function () {

        $('#ModalInformeTicket').modal('hide');

    });

    $("#btnGenerateInformeTicket").click(function () {

        @*var UserRegister = "@User.Identity.Name.ToUpper().ToString()";
        UserRegister = UserRegister.split(',')[2];

        var UserRegister2 = "@User.Identity.Name.ToUpper().ToString()";
        UserRegister2 = UserRegister2.split(',')[0];*@

        IdTicketDetailReport = 0;

        if ($("#txtTitleInformeTicket").val() == "" || $("#txtTitleInformeTicket").val() == null || $("#txtTitleInformeTicket").val() == undefined) {

            toastr.options.timeOut = nTiempoMedio;
            toastr.options.extendedTimeOut = nTiempoMedio;
            /*success - info - warning - error*/
            var $toast = toastr["warning"]("No se puede registrar si no se ha dado un Titulo de Informe", tTituloError); $toastlast = $toast;
            return;

        }

        if ($("#txtParaQuienFormatoTicket").val() == "" || $("#txtParaQuienFormatoTicket").val() == null || $("#txtParaQuienFormatoTicket").val() == undefined) {

            toastr.options.timeOut = nTiempoMedio;
            toastr.options.extendedTimeOut = nTiempoMedio;
            /*success - info - warning - error*/
            var $toast = toastr["warning"]("No se puede registrar el informe si no hay un Destinatario", tTituloError); $toastlast = $toast;
            return;

        }

        if ($("#txtAsuntoInformeTicket").val() == "" || $("#txtAsuntoInformeTicket").val() == null || $("#txtAsuntoInformeTicket").val() == undefined) {

            toastr.options.timeOut = nTiempoMedio;
            toastr.options.extendedTimeOut = nTiempoMedio;
            /*success - info - warning - error*/
            var $toast = toastr["warning"]("No se puede registrar el informe si no hay un Asunto", tTituloError); $toastlast = $toast;
            return;

        }

        if ($("#txtFechaActividadTicket").val() == "" || $("#txtFechaActividadTicket").val() == null || $("#txtFechaActividadTicket").val() == undefined) {

            toastr.options.timeOut = nTiempoMedio;
            toastr.options.extendedTimeOut = nTiempoMedio;
            /*success - info - warning - error*/
            var $toast = toastr["warning"]("No se puede registrar el informe si no hay una Fecha", tTituloError); $toastlast = $toast;
            return;

        }

        Swal.fire({
            title: 'Estas seguro de guardar los datos de este informe?',
            text: "Estar seguro de lo que se registra!",
            icon: 'warning',
            showCancelButton: true,
            confirmButtonColor: '#3085d6',
            cancelButtonColor: '#d33',
            confirmButtonText: 'Si, deseo guardar!'
        }).then((result) => {
            if (result.isConfirmed) {

               /* if (UserRegister2 == 1 || UserRegister2 == UserResponsibleId || UserRegister == 10) {*/

                RegistrarInformeTicketDetalle();

                //} else {

                //    toastr.options.timeOut = nTiempoCorto;
                //    toastr.options.extendedTimeOut = nTiempoCorto;
                //    /*success - info - warning - error*/
                //    var $toast = toastr["error"]("Solo quien genera el ticket y el responsable pueden registrar un informe", tTituloError); $toastlast = $toast;
                //    return;

                //}
            }

        });

    });

    $("#btnEditarInformeTicket").click(function () {

        console.log(IdTicketDetailReport);

        if ($("#txtTitleInformeTicket").val() == "" || $("#txtTitleInformeTicket").val() == null || $("#txtTitleInformeTicket").val() == undefined) {

            toastr.options.timeOut = nTiempoMedio;
            toastr.options.extendedTimeOut = nTiempoMedio;
            /*success - info - warning - error*/
            var $toast = toastr["warning"]("No se puede registrar si no se ha dado un Titulo de Informe", tTituloError); $toastlast = $toast;
            return;

        }

        if ($("#txtParaQuienFormatoTicket").val() == "" || $("#txtParaQuienFormatoTicket").val() == null || $("#txtParaQuienFormatoTicket").val() == undefined) {

            toastr.options.timeOut = nTiempoMedio;
            toastr.options.extendedTimeOut = nTiempoMedio;
            /*success - info - warning - error*/
            var $toast = toastr["warning"]("No se puede registrar el informe si no hay un Destinatario", tTituloError); $toastlast = $toast;
            return;

        }

        if ($("#txtAsuntoInformeTicket").val() == "" || $("#txtAsuntoInformeTicket").val() == null || $("#txtAsuntoInformeTicket").val() == undefined) {

            toastr.options.timeOut = nTiempoMedio;
            toastr.options.extendedTimeOut = nTiempoMedio;
            /*success - info - warning - error*/
            var $toast = toastr["warning"]("No se puede registrar el informe si no hay un Asunto", tTituloError); $toastlast = $toast;
            return;

        }

        if ($("#txtFechaActividadTicket").val() == "" || $("#txtFechaActividadTicket").val() == null || $("#txtFechaActividadTicket").val() == undefined) {

            toastr.options.timeOut = nTiempoMedio;
            toastr.options.extendedTimeOut = nTiempoMedio;
            /*success - info - warning - error*/
            var $toast = toastr["warning"]("No se puede registrar el informe si no hay una Fecha", tTituloError); $toastlast = $toast;
            return;

        }

        Swal.fire({
            title: 'Estas seguro de editar los datos de este informe?',
            text: "Estas seguro de lo que deseas !",
            icon: 'warning',
            showCancelButton: true,
            confirmButtonColor: '#3085d6',
            cancelButtonColor: '#d33',
            confirmButtonText: 'Si, deseo guardar!'
        }).then((result) => {
            if (result.isConfirmed) {

                /*   if (UserRegisterSave == IdResponsibleCritizity || ValidarPerfilAdmi === "10") {*/

                RegistrarInformeTicketDetalle();

                //} else {

                //    Swal.fire({
                //        icon: 'error',
                //        title: 'Esta actividad no te pertenece',
                //        text: 'Solo el responsable de la actividad puede registrar!'
                //        //footer: '<a href="">Comunicarse con ?</a>'
                //    });

                //}

            }

        });

    });

    function RegistrarInformeTicketDetalle() {

        $("#CargaTemporal").removeClass("hidden");

        $.ajax({
            type: "POST",
            url: tRutaServidor + "/Ticket/CrearReportTicketDetail",
            dataType: "json",
            data: {
                IdTicketDetailReports: IdTicketDetailReport,
                IdTicket: IdTicketLst,
                TitleReport: document.getElementById("txtTitleInformeTicket").value,
                ForWhoReport: $('#txtParaQuienFormatoTicket').val()[0],
                ReportMatter: document.getElementById("txtAsuntoInformeTicket").value,
                OperationName: OperacionTicket,
                StartDateReport: document.getElementById("txtFechaActividadTicket").value,
                ReportBackgroundActivity: document.getElementById("txtAntecedentesActividadTicket").value,
                ReportConclusionActivity: document.getElementById("txtConclusionesActividadTicket").value,
                ReportActivityDevelop: document.getElementById("txtActivityDevelopTicket").value,
                ReportRecommendationActivity: document.getElementById("txtRecomendacionesActividadTicket").value,
            },
            success: function (resultado) {

                if (resultado == "1") {

                    toastr.options.timeOut = nTiempoMedio;
                    toastr.options.extendedTimeOut = nTiempoMedio;
                    /*success - info - warning - error*/

                    if (IdTicketDetailReport == 0) {
                        var $toast = toastr["success"](tMensajeCreadoExito, tTituloExito); $toastlast = $toast;
                    } else {
                        var $toast = toastr["success"](tMensajeActualizadoExito, tTituloExito); $toastlast = $toast;
                    }

                    //    LimpiarEtiquetas();

                    ValidarStatusActividades();
                    LimpiarEtiquetasTicketInform();
                    GrillaListadoArchivoTicket();

                    $("#CargaTemporal").addClass("hidden");

                    $('#ModalInformeTicket').modal('hide');

                } else if (resultado == "2") {

                    toastr.options.timeOut = nTiempoMedio;
                    toastr.options.extendedTimeOut = nTiempoMedio;
                    /*success - info - warning - error*/
                    var $toast = toastr["success"](tMensajeActualizadoExito, tTituloExito); $toastlast = $toast;

                    //    LimpiarEtiquetas();
                    LimpiarEtiquetasTicketInform();
                    /*ListadoDetalleActividadInforme();*/

                    //$("#btnSaveInforme").removeClass("hidden");
                    //$("#btnEditarInforme").addClass("hidden");

                    $("#CargaTemporal").addClass("hidden");

                }
                else {
                    toastr.options.timeOut = nTiempoMedio;
                    toastr.options.extendedTimeOut = nTiempoMedio;
                    /*success - info - warning - error*/
                    var $toast = toastr["error"]("No se pudo registrar el informe creado", tTituloError); $toastlast = $toast;
                    console.log("Mensaje del error : " + resultado);
                }

                $("#CargaTemporal").addClass("hidden");

            },
            error: function (xhr, ajaxOptions, thrownError) {
                /*fallo al llamar a la funcion ajax*/
                toastr.options.timeOut = nTiempoLargo;
                toastr.options.extendedTimeOut = nTiempoLargo;
                /*success - info - warning - error*/
                var $toast = toastr["error"](tMensajeErrorConexion, tTituloErrorConexion); $toastlast = $toast;
                console.log("ERROR AJAX : " + ajaxOptions);
                console.log("ERROR AJAX : " + thrownError);
                console.log(xhr.responseText);
                console.log(xhr);

            }
        });

    };

    $("#btnValidateTicket").click(function () {

        @*var UserRegister = "@User.Identity.Name.ToUpper().ToString()";
        UserRegister = UserRegister.split(',')[2];

        var UserRegister2 = "@User.Identity.Name.ToUpper().ToString()";
        UserRegister2 = UserRegister2.split(',')[0];*@

        if (document.getElementById('chkValidationOperation').checked == true) {

            /*if (UserRegister2 == 1 || UserRegister == 10) {*/

                ValidateOperation();

            //} else {

            //    toastr.options.timeOut = nTiempoCorto;
            //    toastr.options.extendedTimeOut = nTiempoCorto;
            //    /*success - info - warning - error*/
            //    var $toast = toastr["error"]("Solo Operaciones puede darle al boton de validación", tTituloError); $toastlast = $toast;
            //    return;

            //}

        } else {

            toastr.options.timeOut = nTiempoMedio;
            toastr.options.extendedTimeOut = nTiempoMedio;
            /*success - info - warning - error*/
            var $toast = toastr["error"]("Es necesario registrar una validacion de un personal de operaciones", tTituloAlerta); $toastlast = $toast;

        }

    });

    $("#btnAgregarComponente").click(function () {

        LimpiarGrabadoComponente();

        $('#ModalCreateComponent').modal('show');

    });

    function LimpiarGrabadoComponente() {

        document.getElementById("txtComponente").value = "";

    }

    /*-------------------------------------------------------------*/

    $("#btnBuscarCycle").click(function () {

        listadoCycleTicketVehicle('1');

    });

    function listadoCycleTicketVehicle(estado) {

        let YearValue = document.getElementById("selectorCycleAño").value;
        let YearMonth = document.getElementById("selectorCycleMes");

        // Obtener todas las opciones del select
        var opciones = YearMonth.options;
        
        // Crear un array para almacenar los valores de las opciones seleccionadas
        var valoresSeleccionados = [];
        
        // Iterar sobre las opciones y verificar si están seleccionadas
        for (var i = 0; i < opciones.length; i++) {
          if (opciones[i].selected) {
            // Si la opción está seleccionada, añadir su valor al array de valores seleccionados
            valoresSeleccionados.push(opciones[i].value);
          }
        }

        YearMonth = valoresSeleccionados.toString();

        console.log(valoresSeleccionados);


        $("#ContainerTickeStatustXCicle").addClass("hidden");
        $("#imgCargaContainerTickeStatustXCicle").removeClass("hidden");
        $("#msjErrorContainerTickeStatustXCicle").addClass("hidden");
        $("#msjVacioContainerTickeStatustXCicle").addClass("hidden");
        $("#msjErrorListarContainerTickeStatustXCicle").addClass("hidden");
        $("#msjSuperaLimiteContainerTickeStatustXCicle").addClass("hidden");

        $.ajax({
            type: "GET", /*Puede ser post*/
            url: tRutaServidor + "/Ticket/ListCycleTicketVehicle", /* es importante poner los .. delante*/
            contentType: "application/json; charset=utf-8",
            dataType: "json",
            data: {
                ValueYear: YearValue,
                ValueMonth: YearMonth
            },
            success: function (resultado) {

                /*exitosamente*/
                if (resultado.length > 0) {
                    /* proceso exitoso con datos*/
                    if (resultado[0].ValorConsulta == "1") {

                       /* $("#btnExGrafica").prop('disabled', false);*/
                        $("#btnBuscarCycle").prop('disabled', false);

                        estadoCargarGraficoZ = "1";
                        //estadoCargarGrafico11 = "1";

                        resultadojsonZ = resultado;
                        //listadoEstadosCotizaciones(resultado, estado);
                        console.log(resultadojsonZ);
                        llamadaCycleTicketVehicle(estado);

                    }
                    else {
                        //estadoCargarGrafico11 = "0";
                        //estadoCargarGrafico11 = "0";

                        /*Grafico 1*/
                        $("#ContainerTickeStatustXCicle").addClass("hidden");
                        $("#imgCargaContainerTickeStatustXCicle").addClass("hidden");
                        $("#msjErrorContainerTickeStatustXCicle").addClass("hidden");
                        $("#msjVacioContainerTickeStatustXCicle").addClass("hidden");
                        $("#msjErrorListarContainerTickeStatustXCicle").removeClass("hidden");
                        $("#msjSuperaLimiteContainerTickeStatustXCicle").addClass("hidden");
                        /* $("#msjSuperaLimiteGraficaConsumeGallonByVehicleType").addClass("hidden");*/

                        /*$("#btnExGrafica").prop('disabled', true);*/
                        $("#btnBuscarCycle").prop('disabled', true);

                    }

                } else {

                    /*Grafico 1*/
                    $("#ContainerTickeStatustXCicle").addClass("hidden");
                    $("#imgCargaContainerTickeStatustXCicle").addClass("hidden");
                    $("#msjErrorContainerTickeStatustXCicle").addClass("hidden");
                    $("#msjVacioContainerTickeStatustXCicle").removeClass("hidden");
                    $("#msjErrorListarContainerTickeStatustXCicle").addClass("hidden");
                    $("#msjSuperaLimiteContainerTickeStatustXCicle").addClass("hidden");
                    /*$("#msjSuperaLimiteGraficaConsumeGallonByVehicleType").addClass("hidden");*/

                    /* $("#ContenedorExGrafica").addClass("hidden");*/
                    //$("#btnExGrafica").prop('disabled', true);
                     $("#btnBuscarCycle").prop('disabled', false);
                }

            },
            error: function (xhr, ajaxOptions, thrownError) {

                /*Grafico 1*/
                $("#ContainerTickeStatustXCicle").addClass("hidden");
                $("#imgCargaContainerTickeStatustXCicle").addClass("hidden");
                $("#msjErrorContainerTickeStatustXCicle").removeClass("hidden");
                $("#msjVacioContainerTickeStatustXCicle").addClass("hidden");
                $("#msjErrorListarContainerTickeStatustXCicle").addClass("hidden");
                $("#msjSuperaLimiteContainerTickeStatustXCicle").addClass("hidden");
                /*$("#msjSuperaLimiteGraficaConsumeGallonByVehicleType").addClass("hidden");*/

                /* $("#ContenedorExGrafica").addClass("hidden");*/
                //$("#btnExGrafica").prop('disabled', true);
                //$("#btnBuscar").prop('disabled', false);


                console.log("ERROR AJAX : " + ajaxOptions);
                console.log("ERROR AJAX : " + thrownError);
                console.log(xhr.responseText);
                console.log(xhr);

            }
        });
    }

    function llamadaCycleTicketVehicle(estado) {

        if (estado == "1") {

            /**Llamar a la funcion que dibuja el grafico, y en caso se mueva la pantalla redibujar*/
            google.charts.load('visualization', '1.0', { 'packages': ['corechart'] });
            google.charts.setOnLoadCallback(DibujarCycleTicketVehicle);

            //Valor2 = 1;

        } else {
            ConvertirDataCycleTicketVehicle(estado);
        }
    }

    function DibujarCycleTicketVehicle() {
        ConvertirDataCycleTicketVehicle("1");
    }

    function ConvertirDataCycleTicketVehicle(estado) {


        dataTableDataZ = new google.visualization.DataTable();
        dataTableDataZ.addColumn('string', 'Ticket');
        dataTableDataZ.addColumn('number', 'Pendiente-Operando');
        dataTableDataZ.addColumn({type: 'string', role: 'annotation'});
        dataTableDataZ.addColumn('number', 'Operando-Completado');
        dataTableDataZ.addColumn({ type: 'string', role: 'annotation' });
        /*dataTableData.addColumn('number', 'Completado');*/



        /*var CantidadAtencionesSumada;*/

        for (i = 0; i < resultadojsonZ.length; i++) { //recorro todas las fechas únicas

            let Difference1String;
            let Difference2String;
            /*CantidadAtencionesSumada = resultadojsonZ[i].NumberPercentage;*/
            if (resultadojsonZ[i].DifferenceFirst !== 0 && resultadojsonZ[i].DifferenceSecond !== 0) {

                if (resultadojsonZ[i].DifferenceFirst != 0) {
                    Difference1String = resultadojsonZ[i].DifferenceFirst;
                    Difference1String = Difference1String.toString();
                } else {
                    Difference1String = null;
                }

                if (resultadojsonZ[i].DifferenceSecond != 0) {
                    Difference2String = resultadojsonZ[i].DifferenceSecond;
                    Difference2String = Difference2String.toString();
                } else {
                    Difference2String = null;
                }
                

                dataTableDataZ.addRow([resultadojsonZ[i].NumberTicket, resultadojsonZ[i].DifferenceFirst, Difference1String, resultadojsonZ[i].DifferenceSecond, Difference2String]);
            }
        }

        //dataTableData = new google.visualization.DataTable();
        ////dataTableData.addColumn('string', 'Reporte de ');
        //dataTableData.addColumn('string', 'StatusTicket');
        ////dataTableData.addColumn('number', resultadojsonBarraReporte[i].ProductName);
        ////dataTableData.addColumn({ type: 'string', role: 'tooltip', 'p': { 'html': true } });

        ////dataTableData.addColumn({ type: 'number', role: 'interval' });  // interval role col.
        ////dataTableData.addColumn({ type: 'number', role: 'interval' });  // interval role col.
        ////dataTableData.addColumn({ type: 'string', role: 'annotation' }); // annotation role col.
        ////dataTableData.addColumn({ type: 'string', role: 'annotationText' }); // annotationText col.
        ////dataTableData.addColumn({ type: 'boolean', role: 'certainty' }); // certainty col.

        //let arrayPeriodosConsumoGeneral = resultadojsonZ.filter((x) => x.DataType == 'V');

        //for (i = 0; i < arrayPeriodosConsumoGeneral.length; i++) {
        //    dataTableData.addRow([arrayPeriodosConsumoGeneral[i].NumberTicket]);
        //}

        //let arrayCabecerasConsumoGeneral = resultadojsonZ.filter((x) => x.DataType == 'M');

        //for (i = 0; i < arrayCabecerasConsumoGeneral.length; i++) {
        //    dataTableData.addColumn('number', arrayCabecerasConsumoGeneral[i].StatusTicket);
        //    dataTableData.addColumn({ type: 'number', role: 'annotation' });
        //}

        ////------4. RECORRER LAS FILAS PARA INSERTAR LAS CANTIDADES SEGUN EL PERIODO Y LOS PRODUCTOS
        //var TotalColdataTableConsumoGeneral = dataTableData.getNumberOfColumns();
        //let arrayDatosConsumoGeneral = [];
        //for (var i = 0; i < dataTableData.getNumberOfRows(); i++) {
        //    arrayDatosConsumoGeneral = [];

        //    arrayDatosConsumoGeneral = resultadojsonZ.filter((x) => x.DataType == 'F' && x.NumberTicket == dataTableData.getValue(i, 0));

        //    //    /*Properties*/
        //    //    //dataGroupGrafico2.getNumberOfColumns() //número de columnas
        //    //    //dataGroupGrafico2.getNumberOfRows() //número de filas
        //    //    //dataGroupGrafico2.getValue(i, 0); //obtener valor donde i = fila, 0= columna
        //    //    //dataGroupGrafico2.getColumnLabel(0) // obtener el nombre de la columna donde 0 es la posición de la columna

        //    for (var p = 1; p < TotalColdataTableConsumoGeneral; p++) {
        //        dataTableData.setCell(i, p, 0);
        //    }

        //    for (j = 0; j < arrayDatosConsumoGeneral.length; j++) {
        //        var producto = arrayDatosConsumoGeneral[j].StatusTicket;
        //        var cantidad = arrayDatosConsumoGeneral[j].QuantityValue;
        //        var nroColumna = 0;

        //        for (var z = 0; z < TotalColdataTableConsumoGeneral; z++) {

        //            if (dataTableData.getColumnLabel(z) == producto) {
        //                nroColumna = z;
        //                break;
        //            }
        //        }

        //        /*if (cantidad !== 0 || cantidad != null) {*/

        //            if (nroColumna > 0) {
        //                dataTableData.setCell(i, nroColumna, cantidad);
        //                dataTableData.setCell(i, nroColumna + 1, cantidad);
        //            }
        //        /*}*/

        //    }

        //}

        dataGroupGraficoZ = dataTableDataZ;
        GraficaCycleTicketVehicle(estado);

    }

    function GraficaCycleTicketVehicle(estado) {

        var optionsGraficoX = {
            title: 'Gráfico de Estado de Tickets por Ciclo',
            isStacked: false,
            titleTextStyle: {
                //color: '#0288d1',
                color: 'black',
                fontName: 'Arial',
                fontSize: 20,
                bold: true,
                italic: true,
            },
            slices: {
                0: { color: '#3366CC' }, //azul
                1: { color: '#FF8000' },
                //1: { color: '#DC3912' }, //rojo
                //2: { color: '#FF9900' }, //amarillo
                //3: { color: '#109618' }, //verde
                //4: { color: '#990099' }, //Morado
                //5: { color: '#0099C6' }, //Celeste
                //6: { color: '#DD4477' }, //Rosado
            },
            // focusTarget: 'category',
            chartArea: {
                top: 108,
                height: '40%'
            },
            legend: { position: 'top' },
            vAxis: {
                title: 'PORCENTUAL ',
                titleTextStyle: {
                    fontSize: '15px',
                    color: "#439889",
                    bold: true,
                    italic: true,
                },
                //format: '#,### gal',
                format: '0',
                //viewWindowMode: 'explicit',
                // viewWindow: {   // De que rango a que rango se podra visualizar
                //    max: dataGroupGrafico1.getColumnRange(0).max,
                //    min: 0
                //},
                gridlines: {
                    count: 12   // Lineas grises que se desprenderan del eje y de manera horizonatal.
                },
                textStyle: {
                    color: "#0288d1",
                    fontName: 'Arial',
                    fontSize: '15px',
                    bold: true,
                    italic: true
                },
                minValue: 0
            },
            hAxis: {
                showTextEvery: 1,
                slantedText: false,
                slantedTextAngle: 10,
                titleTextStyle: {
                    fontSize: '15px',
                    color: "#439889",
                    bold: true,
                    italic: true,
                },
                textStyle: {
                    color: "#0288d1",
                    fontName: 'Arial',
                    fontSize: '15px',
                    bold: true,
                    italic: true,

                },
                count: -1,
                viewWindowMode: 'pretty',
                format: '0',
            },
            animation: {
                duration: 600,
                easing: 'linear', //Constant speed.
                //easing: 'in', // Ease in - Start slow and speed up.
                //easing: 'out', // Ease out - Start fast and slow down.
                //easing: 'inAndOut', // Ease in and out - Start slow, speed up, then slow down.
                startup: true,
            },

            /**Opciones para quitar los margenes y padding por defecto*/
            //chartArea: {
            //    width: "100%",
            //    height: "80%",
            //    left: 60,
            //    right: 20,
            //    //top: 40,
            //    //bottom: 20,
            //},
            lineWidth: 2,
            pointShape: 'point',
            pointSize: 5,
            legend: {
                position: 'bottom',
                textStyle: {
                    bold: true,
                    italic: true,
                },
            },
            crosshair: { trigger: 'both' },
            //crosshair: { trigger: 'focus' }
            //crosshair: { trigger: 'selection' }
            //crosshair: { orientation: 'both' }
            //crosshair: { orientation: 'horizontal' }
            //crosshair: { orientation: 'vertical' }
            //crosshair: { color: "red" } //'red' or '#f00'
            //crosshair: { opacity: opacity_number }
            //crosshair: { focused: { color: color_string } }
            //crosshair: { focused: { opacity: opacity_number } }
            //crosshair: { selected: { color: color_string } }
            //crosshair: { selected: { opacity: opacity_number } }
            tooltip: {
                isHtml: true,
                showColorCode: true,
                textStyle: {
                    //color:  "red",//<string>,
                    //fontName: "",//<string>,
                    fontSize: 14,//<number>,
                    bold: true,//<boolean>,
                    //italic: false//<boolean>

                },
                //trigger: 'focus',// - The tooltip will be displayed when the user hovers over the element.
                trigger: 'none', //- The tooltip will not be displayed.
                //trigger: 'selection',// - The tooltip will be displayed when the user selects the element.
            }

        };

        if (estado == "1") {
            var chartDiv = document.getElementById('ContainerTickeStatustXCicle');
            pchartGZ = new google.visualization.ColumnChart(chartDiv);
        }

        $("#ContainerTickeStatustXCicle").removeClass("hidden");
        $("#imgCargaContainerTickeStatustXCicle").addClass("hidden");
        $("#msjErrorContainerTickeStatustXCicle").addClass("hidden");
        $("#msjVacioContainerTickeStatustXCicle").addClass("hidden");
        $("#msjErrorListarContainerTickeStatustXCicle").addClass("hidden");
        $("#msjSuperaLimiteContainerTickeStatustXCicle").addClass("hidden");

        //$("#ContenedorExGrafica").removeClass("hidden");
        //$("#btnExGrafica").prop('disabled', false);
        //$("#btnBuscar").prop('disabled', false);

        if (estado == "1") {
            /********************************EVENTO ***READY****************************************/
            google.visualization.events.addListener(pchartGZ, 'ready', function () {
                //alert(1);
                try {
                    /*Centrar el titulo del grafico */
                    var $container = $('#ContainerTickeStatustXCicle');
                    widthGZ = $container.find('svg').width();
                    //heightG10 = $container.find('svg').height();
                    //var $titleElem = $container.find("text:contains(" + optionsGrafico12.title + ")");
                    //var titleWidth = $titleElem.html().length * ($titleElem.attr('font-size') / 2);
                    //var xAxisAlign = (widthG12 - titleWidth) / 2;
                    //$titleElem.attr('x', xAxisAlign);

                } catch (e) {
                    console.log(e);
                }
                /*Setear valor para el exportar*/
                ImageURIZ = pchartGZ.getImageURI();

                /*Redibujar la grafica al cambiar del tamaño de pantalla*/
                //reDibujarGrafica11();

            });

            /******************************EVENTO ****ERROR*****************************************/
            google.visualization.events.addListener(pchartGZ, 'error', function (error) {
                /**Para remover el mensaje de error de google del grafico (Tambien hay un atributo para remover todos los errores)*/
                console.log(error);
                google.visualization.errors.removeError(error.id);
            });
        }

        pchartGZ.draw(dataGroupGraficoZ, optionsGraficoX);

        var columns = [];
        var series = {};
        for (var i = 0; i < dataGroupGraficoZ.getNumberOfColumns(); i++) {
            columns.push(i);

            if (i > 0) {
                series[i - 1] = {};

            }
        }

        if (estado == "1") {
            /***********************************EVENTO-SELECT********************************************/
            google.visualization.events.addListener(pchartGZ, 'select', function () {

                var selection = pchartGZ.getSelection();

                if (selection.length > 0) {

                    var item = selection[0];

                    // Verificar si se hizo clic en una parte de la barra de la columna
                    if (item.row !== null) {
                  
                        var ticket = dataTableDataZ.getValue(item.row, 0); // Obtener el número de ticket
                        var valueIndex = item.column; // Restar 1 porque la columna 0 es el nombre del ticket
                        /*console.log(item);*/
                        var value = dataTableDataZ.getValue(item.row, valueIndex); // Obtener el valor (completado o pendiente)

                        var columnLabel = dataTableDataZ.getColumnLabel(item.column); // Obtener la etiqueta de la columna

                        // Determinar si el valor es "Pendiente-Solucionado" o "Solucionado-Completado" basado en la etiqueta de la columna
                        let fecha1;
                        let fecha2;
                        let tooltipContent = "";

                        for (let i = 0; i <= resultadojsonZ.length; i++) {

                            if (columnLabel == 'Pendiente-Operando') {

                                if (resultadojsonZ[i].NumberTicket == ticket) {

                                    fecha1 = resultadojsonZ[i].Pendiente;
                                    fecha2 = resultadojsonZ[i].Operando;

                                    tooltipContent = [
                                        '<div><h5>Número de ticket: </b>' + ticket + '</h5></div>',
                                        '<div><h5>Tiempo Pendiente: </b>' + fecha1 + '</h5></div>',
                                        '<div><h5>Tiempo Operando: </b>' + fecha2 + '</h5></div>',
                                        '<div><h5>Horas diferencia: </b>' + value + '</h5></div>',
                                    ].join('');

                                    break;
                                }

                            } else if (columnLabel == 'Operando-Completado') {

                                if (resultadojsonZ[i].NumberTicket == ticket) {

                                    fecha1 = resultadojsonZ[i].Operando;
                                    fecha2 = resultadojsonZ[i].Completado;

                                    //tooltipContent = '<div><b>Número de ticket:</b> ' + ticket + '</div>' +
                                    //    '<div><b>Tiempo Solucionado:</b> ' + fecha1 + '</div>' +
                                    //    '<div><b>Tiempo Completado:</b> ' + fecha2 + '</div>' +
                                    //    '<div><b>Horas diferencia:</b> ' + value + '</div>';

                                    tooltipContent = [
                                        '<div><h5><b>Número de ticket: </b>' + ticket + '</h5></div>',
                                        '<div><h5><b>Tiempo Operando: </b>' + fecha1 + '</h5> </div>',
                                        '<div><h5><b>Tiempo Completado: </b>' + fecha2 + '</h5></div>',
                                        '<div><h5><b>Horas diferencia: </b>' + value + '</h5></div>',
                                    ].join('');

                                    break;

                                }
                            }
                        }

                        //var tooltipContent = '<div><b>Número de ticket:</b> ' + ticket + '</div>' +
                        //        '<div><b>Estado:</b> ' + (valueIndex === 0 ? 'Pendiente-Solucionado' : 'Solucionado-Completado') + '</div>' +
                        //        '<div><b>Valor:</b> ' + value + '</div>';

                        // Mostrar el tooltip personalizado
                        var tooltip = document.getElementById('customTooltip');
                        console.log(tooltipContent);
                        tooltip.innerHTML = tooltipContent;
                        /*tooltip.style.display = 'block';*/

                    }

                     //// Aquí puedes hacer lo que necesites con el número de ticket y el valor
                     //console.log('Número de ticket:', ticket);
                     //console.log('Estado:', status);
                     //console.log('Valor:', value);
                 }


            });

            /**********************************EVENTO-ONMOUSEOVER*********************************************************************/
            google.visualization.events.addListener(pchartGZ, 'onmouseover', function () { document.getElementById('ContainerTickeStatustXCicle').style.cursor = 'pointer'; });

            /**********************************EVENTO-ONMOUSEOUT**********************************************************************/
            google.visualization.events.addListener(pchartGZ, 'onmouseout', function () { document.getElementById('ContainerTickeStatustXCicle').style.cursor = 'default'; });
        }

    }

    //AlertStatus();
    ComboEncargado2("1");
    ComboEncargadoAll();
    ComboEncargadoAll2();
    CantidadTicketByEvent();
    ComboEncargadoInforme("1");
    ComboTicket();
    FormatoFechas();
    ListadoTablaTicketYResponsable('P', '0');
    //ListarActiviadesTodas();
    //GrillaListadoBuscarUsuario();
    GrillaListadoAltaCACriticidadTicket();
    GrillaListadoMediaCACriticidadTicket();
    GrillaListadoBajaCACriticidadTicket();
    GrillaListadoAltaTicket();
    GrillaListadoMediaTicket();
    GrillaListadoBajaTicket();
    GrillaListadoActividadExpiration();
    GrillaListarActividadesCompletas();
    //listadoActividadesXOperacion("1");
    listadoTicketsXOperacion("1");
    listadoTicketsXMeses("1");
    //listadoActividadesXOperacionBarra("1");
    listadoActividadesXTicket("1");
    listadoActividadesXUsuario("1");
    listadoTicketXActividad("1");
    //listadoActividadesXUsuarioASSAC("1");
    /*GrillaListadoBusqueda();  */
    ListadoTablaActivityByResponsible();
    /*   listadoValidityStatusTicket('1');*/
    listadoTicketStatusPenCom('1');
    listadoCycleTicketVehicle('1');
    /*ListadoTablaMyTicket();*/
    $.validator.addMethod("regx", function (value, element, regexpr) {
            return regexpr.test(value);
    }, "");

</script>
